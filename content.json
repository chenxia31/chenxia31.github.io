{"meta":{"title":"Chenxia's blog","subtitle":"","description":"","author":"chenxia","url":"https://blog.tjdata.site","root":"/"},"pages":[{"title":"","date":"2023-03-02T15:41:44.250Z","updated":"2022-10-17T06:51:03.692Z","comments":false,"path":"baidu_verify_code-C4OM5jwAkw.html","permalink":"https://blog.tjdata.site/baidu_verify_code-C4OM5jwAkw.html","excerpt":"","text":"07ca04d26b4bb28f9b4db5f6f4d416b3"},{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2023-03-02T15:41:44.242Z","updated":"2022-03-20T16:18:46.000Z","comments":false,"path":"/404.html","permalink":"https://blog.tjdata.site/404.html","excerpt":"","text":""},{"title":"ä¹¦å•","date":"2023-03-02T15:41:44.250Z","updated":"2022-03-20T16:18:46.000Z","comments":false,"path":"books/index.html","permalink":"https://blog.tjdata.site/books/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2023-03-02T15:41:44.250Z","updated":"2022-03-20T16:18:46.000Z","comments":false,"path":"categories/index.html","permalink":"https://blog.tjdata.site/categories/index.html","excerpt":"","text":""},{"title":"å…³äº","date":"2023-03-02T15:41:44.250Z","updated":"2022-10-16T15:53:43.064Z","comments":false,"path":"about/index.html","permalink":"https://blog.tjdata.site/about/index.html","excerpt":"å…³äºä¸ºä»€ä¹ˆæˆ‘å¸Œæœ›æ‹¥æœ‰ä¸€ä¸ªè‡ªå·±çš„åšå®¢ï¼Ÿå¹¶æ‰¿è¯ºä¼šå°†è¿™ä»½åšå®¢å†™ä¸‹å»","text":"å…³äºä¸ºä»€ä¹ˆæˆ‘å¸Œæœ›æ‹¥æœ‰ä¸€ä¸ªè‡ªå·±çš„åšå®¢ï¼Ÿå¹¶æ‰¿è¯ºä¼šå°†è¿™ä»½åšå®¢å†™ä¸‹å» 0x01 å…³äºblog åšå®¢æœ¬èº«ä¾¿æœ‰ç€å…¶è‡ªèº«ä½œä¸ºäº’è”ç½‘çš„æµªæ¼«ï¼ï¼ˆè¿™é‡Œä¸è°ˆweb3ï¼‰äº’è”ç½‘ä½œä¸ºå…¶è¯ç”Ÿä¹‹åˆä¾¿æ˜¯è®©æ¯ä¸ªäººéƒ½å¹³ç­‰çš„é“¾æ¥èµ·æ¥å¹¶å¯ä»¥åˆ†äº«å’Œå‘è¡¨è‡ªå·±çš„è§‚ç‚¹ï¼Œä½†æ˜¯éšç€å•†ä¸šå’Œæ”¿åºœçš„èå…¥ï¼Œäº’è”ç½‘é€æ¸æ˜¾ç¤ºå‡ºå…¶å·¥å…·æ€§çš„ç‰¹ç‚¹ï¼Œä¸ªäººåœ¨å…¶ä¸­çš„ä½œç”¨é€æ¸è¢«å„æ–­æ€§çš„äº’è”ç½‘å…¬å¸æ‰€æŠ¹é™¤ï¼Œä»¿ä½›äº’è”ç½‘å…¬å¸ä¾¿æ˜¯äº’è”ç½‘ä¸­çš„å®é™…æ‰§æ³•è€…ã€‚ä½†å›é¡¾åœ¨äº’è”ç½‘æœ€å¼€å§‹çš„æ„¿æ™¯ä¸­ï¼Œæ˜¯å¸Œæœ›æ¯ä¸ªäººå¯ä»¥é€šè¿‡äº’è”ç½‘è¿æ¥åœ¨ä¸€èµ·ï¼Œåšå®¢æœ‰ç€ä¸€å°æœåŠ¡å™¨ã€ä¸€ä¸ªåŸŸåä¾¿å¯ä»¥å‘ä¸å‡ºè‡ªå·±çš„ç”Ÿæ´»ç‚¹æ»´ã€è‡ªç”±æ€æƒ³ç­‰ï¼Œå¯ä»¥è®©è‡ªå·±çš„å£°éŸ³åœ¨äº’è”ç½‘çš„ä¸€è§’ä¸­çš„ç•™æœ‰å›å“ 0x02 å…³äºè‡ªå·± æœ¬äººçš„ä¸“ä¸šæ˜¯äº¤é€šè¿è¾“è¡Œä¸šä¸­çš„äº¤é€šä¿¡æ¯æ–¹å‘çš„å¤§å››å­¦ç”Ÿï¼ˆ2022å¹´ï¼‰ï¼Œä½œä¸ºä¸€åç»¼åˆæ€§çš„åº”ç”¨å­¦ç§‘ï¼Œäº¤é€šæœ¬ç§‘ä¸­å­¦ä¹ çš„æ–¹å‘å¾ˆå¤šï¼Œä½†æ˜¯åŒæ ·ä¹Ÿæœ‰å­¦çš„ä¸ç²¾ç»†çš„ç‰¹ç‚¹ ï¼ˆåŸºç¡€ç±»ï¼‰é«˜ç­‰æ•°å­¦ã€çº¿æ€§ä»£æ•°ã€æ¦‚ç‡è®ºã€å¤å˜å‡½æ•°ã€ç†è®ºåŠ›å­¦ã€C++ ï¼ˆä¸“ä¸šåŸºç¡€ç±»ï¼‰æ¨¡ç”µæ•°ç”µã€ç”µè·¯åˆ†æã€äº¤é€šä¿¡å·åŸºç¡€ã€è‡ªåŠ¨æ§åˆ¶åŸç†ã€ä¿¡å·ä¸ç³»ç»Ÿã€ä¿¡æ¯ä¼ è¾“åŸç† ï¼ˆä¸“ä¸šè¿›é˜¶ï¼‰åµŒå…¥å¼ç³»ç»Ÿã€äº¤é€šä¿¡æ¯æ£€æµ‹ä¸å¤„ç†ã€äº¤é€šæ•°æ®åˆ†æã€è½¦ç«™ä¸åŒºé—´ä¿¡å·æ§åˆ¶ã€åˆ—è½¦è¿è¡Œæ§åˆ¶ç³»ç»Ÿ åœ¨è®¡ç®—æœºæŠ€æœ¯åŠ æŒåœ¨ä¼ ç»Ÿè¡Œä¸šä¸­ï¼Œä»¥æ•°æ®æ¥è¯´è¯çš„æ€æƒ³æ¨åŠ¨ç€æ•°æ®åŒ–ã€ä¿¡æ¯åŒ–ã€æ™ºèƒ½åŒ–ã€è‡ªåŠ¨åŒ–çš„å‘å±•ï¼Œè¿™å¯èƒ½ä¹Ÿæ˜¯æœ¬äººç ”ç©¶ç”Ÿä¹‹åçš„æ–¹å‘ã€‚æ‰€ä»¥ä½œä¸ºä¸€ä¸ªéè®¡ç®—æœºç§‘å­¦ã€éæ•°å­¦ç§‘å­¦å‡ºç”Ÿçš„äººæ¥è¯´ï¼Œäº¤é€šè¡Œä¸šå¯¹äºæ•°æ®å¤„ç†çš„æ–¹å¼å¯èƒ½æœ€å¤šæ˜¯åœ¨äºæ¨¡å‹åº”ç”¨åœºæ™¯çš„äººä¸ºåŒºåˆ†ï¼Œä½†æ˜¯æœ¬äººè¿˜æ˜¯å¸Œæœ›å¯ä»¥å­¦ä¹ ä¸€äº›è®¡ç®—æœºã€æ•°å­¦ã€ç¼–ç¨‹ç­‰æ¯”è¾ƒæœ‰è¶£çš„çŸ¥è¯†æ¥æ­¦è£…è‡ªå·±ï¼Œå¹¶åœ¨æ¥è§¦æ–°é²œäº‹ç‰©ä¸­ä¿æŒç€è‡ªå·±çš„å‰è¿›çš„åŠ¨åŠ›ã€‚ æ­£å¦‚Jobsæ‰€è¿°ï¼šstay hungryï¼Œstay foolishï¼ 0x03 å…³äºè‡ªå·±çš„blog å¯¹äºä¸€ä¸ªç³»ç»Ÿçš„è®¾è®¡è‡ªç„¶è¦ä»éœ€æ±‚çš„è§’åº¦å‡ºå‘ï¼Œè‡ªå·±çš„blogä½“ç³»ä¹Ÿä¸æ„å¤–ï¼Œå› æ­¤å»ºç«‹è‡ªå·±åšå®¢çš„ç›®çš„æ˜¯æˆ‘å¸Œæœ›å°†è‡ªå·±çš„å­¦ä¹ çŸ¥è¯†ç”¨æ¯”è¾ƒä¸ªæ€§åŒ–çš„è¯­è¨€æ€»ç»“å‡ºæ¥å‘å¸ƒåˆ°ç½‘ä¸Š è®°å½•ï¼šå¹¶æ€»ç»“è‡ªå·±çš„æ‰€å­¦ï¼Œå¯èƒ½ä¼šèµ°å¼¯è·¯ï¼Œä½†æ˜¯è¦å°è¯•å»åš ç£ä¿ƒï¼šè‡ªå·±å­¦ä¹ ï¼ŒåŒæ ·æ˜¯ä¸ºäº†è‡ªå·±åç»­çš„è¿›æ­¥ å› æ­¤å¸Œæœ›ä»å¤§å››å¼€å§‹ï¼Œä»ä»Šå¤©å¼€å§‹ï¼Œè‡³å°‘ä¿è¯ä¸€ä¸ªæœˆä¸€ç¯‡ï¼Œæ­£å¸¸å°½å¯èƒ½çš„ä¿æŒä¸€ä¸ªæ˜ŸæœŸä¸€ç¯‡æ¥è®¤çœŸå†™å‡ºä¸€ä»½æ–‡ç« ã€‚ åŒæ—¶postçš„åˆ†ç±»å¯èƒ½ä¼šæœ‰ï¼š baseï¼Œæ¯”å¦‚Linuxçš„ç®€å•ä½¿ç”¨ã€pythonç¯å¢ƒçš„é…ç½®ç­‰ livesï¼Œè‡ªå·±æ‚è°ˆçš„æ‰€æ€æ‰€æƒ³ CSï¼Œæ¯”å¦‚webå¼€å‘ã€æ•°æ®ç»“æ„ä¹‹ç±»çš„çŸ¥è¯† DSï¼Œæ¯”å¦‚ä¸€äº›æ•°æ®çš„ç¬”è®°ã€ç®—æ³•çš„æ¨å¯¼"},{"title":"å‹æƒ…é“¾æ¥","date":"2023-03-02T15:41:44.251Z","updated":"2022-03-20T16:18:46.000Z","comments":false,"path":"links/index.html","permalink":"https://blog.tjdata.site/links/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2023-03-02T15:41:44.251Z","updated":"2022-03-20T16:18:46.000Z","comments":false,"path":"repository/index.html","permalink":"https://blog.tjdata.site/repository/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2023-03-02T15:41:44.251Z","updated":"2022-03-20T16:18:46.000Z","comments":false,"path":"tags/index.html","permalink":"https://blog.tjdata.site/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"çŸ¥è¯†ç®¡ç†çš„ä¸€äº›æƒ³æ³•","slug":"çŸ¥è¯†ç®¡ç†çš„ä¸€äº›æƒ³æ³•","date":"2023-05-17T05:55:36.000Z","updated":"2023-05-17T06:48:17.380Z","comments":true,"path":"posts/d49191c7.html","link":"","permalink":"https://blog.tjdata.site/posts/d49191c7.html","excerpt":"ä½œä¸ºä¸€æšINFJï¼Œç»å¸¸ä¼šå¯¹æ•ˆç‡å·¥å…·è¿›è¡Œåæ€ã€‚ä»Šå¤©çœ‹äº†ä¸€æœ¬å’ŒçŸ¥è¯†ç®¡ç†è”ç³»ä¸å¤§çš„ã€Šå¦‚ä½•æœ‰æ•ˆé˜…è¯»ä¸€æœ¬ä¹¦ã€‹ï¼Œç„¶åå¯¹è‡ªå·±ç°æœ‰çš„çŸ¥è¯†ç®¡ç†ç³»ç»Ÿä¸­å¤‡å¿˜å½•+æ—¥å†+æé†’äº‹é¡¹ï¼Œé…åˆShortCutå¿«é€Ÿè¾“å…¥ã€Cuboxèšé›†ã€Notionæ•´ç†çš„ä¸€å¥—ç³»ç»Ÿè¿›è¡Œæ•´ç†å’Œåæ€ã€‚ç»™å‡ºä¸‰ä¸ªæ ¸å¿ƒçš„è§‚ç‚¹ã€‚","text":"ä½œä¸ºä¸€æšINFJï¼Œç»å¸¸ä¼šå¯¹æ•ˆç‡å·¥å…·è¿›è¡Œåæ€ã€‚ä»Šå¤©çœ‹äº†ä¸€æœ¬å’ŒçŸ¥è¯†ç®¡ç†è”ç³»ä¸å¤§çš„ã€Šå¦‚ä½•æœ‰æ•ˆé˜…è¯»ä¸€æœ¬ä¹¦ã€‹ï¼Œç„¶åå¯¹è‡ªå·±ç°æœ‰çš„çŸ¥è¯†ç®¡ç†ç³»ç»Ÿä¸­å¤‡å¿˜å½•+æ—¥å†+æé†’äº‹é¡¹ï¼Œé…åˆShortCutå¿«é€Ÿè¾“å…¥ã€Cuboxèšé›†ã€Notionæ•´ç†çš„ä¸€å¥—ç³»ç»Ÿè¿›è¡Œæ•´ç†å’Œåæ€ã€‚ç»™å‡ºä¸‰ä¸ªæ ¸å¿ƒçš„è§‚ç‚¹ã€‚ 0x01 ç°æœ‰å·¥å…·ä½¿ç”¨æµç¨‹ å¯¹äºç°ä»£äº’è”ç½‘çš„å·¥å…·çš„æ„Ÿå—æ˜¯ï¼Œå®ƒæ— å¤„ä¸åœ¨ï¼Œä½†æ˜¯åœ¨å…‰é²œäº®ä¸½çš„è¦†ç›–ç‡ä¹‹ä¸‹åè€Œæ›´åŠ æš´éœ²äº†å„ç§ä¿¡æ¯äº¤æ¢ä¸æµç•…çš„é—®é¢˜ã€‚ä½ åœ¨Appleæ—¥å†ä¸­è®¾ç½®çš„äº‹é¡¹å¾ˆéš¾åœ¨å®‰å“æ‰‹æœºä¸Šçœ‹åˆ°ï¼Œä½ åœ¨æ¨ç‰¹å‘çš„æ¨æ–‡å¾ˆéš¾è¢«åŒæ­¥åˆ°ä½ çš„å¤‡å¿˜å½•ï¼Œä½ åœ¨è±†ç“£æ”¶è—çš„ä¹¦ç±ä¹Ÿä¸ä¼šå‡ºç°åœ¨äºšé©¬é€Šçš„è´­ç‰©ä¸­ï¼Œä½ åœ¨PDFä¸­åšå‡ºçš„æ‰¹æ³¨ä¹Ÿéš¾å¯¼å‡ºåˆ°ä½ çš„Notionä¸­â€¦ ä¸ºäº†è§£å†³è¿™äº›ä¿¡æ¯äº¤æµçš„é—®é¢˜ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦ç¡®å®šè‡ªå·±çš„å·¥ä½œæµWorkflowã€‚é€šè¿‡è‡ªèº«çš„æ§åˆ¶æ¥æ›´å¥½çš„ä½¿ç”¨å·¥å…·ã€‚å½“ç„¶å½“ä¸€ä¸ªé«˜æ•ˆçš„å·¥å…·å‡ºç°çš„æ—¶å€™ä½ ä¹Ÿä¼šå¼€å¿ƒçš„ï¼Œæ¯”å¦‚çœ‹åˆ°Warpä»£æ›¿iTermï¼Œæ—¶ä»£æ¯•ç«Ÿæ˜¯åœ¨å‘å±•çš„ã€‚ç”µå­å·¥å…·çš„ç”¨é€”ä¸»è¦æœ‰ä¸‰ä¸ªï¼š1. GTDæ—¥ç¨‹ç®¡ç†ã€2. ä¿¡æ¯æ”¶é›†ã€3. ä¿¡æ¯å¤„ç† graph classDef someclass fill:#f96 A[GTD : Get thing done]:::someclass C(Calendar:Event) R(Reminder:ToDo Schedule) N(Notes) C--&gt;A R--&gt;A N--&gt;A N--&gt;C N--&gt;R B[çŸ¥è¯†æ”¶é›† Cubox]:::someclass W(Wechat Helper) API(Cubox API) ALF(Alfred) S(Short Cut) W--&gt;B API--&gt;B ALF--&gt;B S--&gt;B NO[çŸ¥è¯†æ•´ç† Notion]:::someclass DB(Database) BD(Database2) DB--&gt;NO BD--&gt;NO OUTPUT(Blog):::someclass A--&gt;B--&gt;NO--&gt;OUTPUT æ¥ä¸‹æ¥ä»‹ç»ä¸€äº›åŸåˆ™ï¼š ä¸€å…ƒåŒ–åŸåˆ™ï¼šå¦‚æœåœ¨è¿™ä¸ªåœ°æ–¹æ‰¾ä¸åˆ°ï¼Œé‚£ä¹ˆå…¶ä»–åœ°æ–¹ä¹Ÿæ‰¾ä¸åˆ° é¿å…æ— ç©·åŸåˆ™ï¼šæ”¶è—å¾ˆç®€å•ï¼Œä½†æ˜¯æ¸…ç©ºå¾ˆéš¾ å¤šæ€è€ƒï¼Œå¤šè¾“å‡ºï¼šä¸€ä»¶äº‹æƒ…åªæœ‰æˆ‘ä»¬ç»™åˆ«äººèƒ½å¤Ÿè®²æ¸…æ¥šçš„æ—¶å€™ï¼Œæˆ‘ä»¬è‡ªå·±æ‰èƒ½æ˜ç™½ 0x02 ä¸€å…ƒåŒ–åŸåˆ™ â€“ GTDç³»ç»Ÿçš„å¯é æ€§ GTDæ˜¯åœ¨ä¸€æœ¬ä¹¦ä¸­æå‡ºçš„æ¦‚å¿µï¼Œç”¨äºä¸ªäººçš„ä»»åŠ¡ç®¡ç†çš„ä¸€ç§æ–¹æ³•è®ºã€‚åŒæ ·è¿™é‡Œè¿˜ä¼šæœ‰å…¶ä»–å¾ˆå¤šçš„ä»»åŠ¡ç®¡ç†çš„æ–¹æ³•ã€‚æœ€æ ¸å¿ƒçš„è¦ç´ æ˜¯Get thing doneã€‚é‚£ä¹ˆå¦‚ä½•çŸ¥é“è‡ªå·±åšä»€ä¹ˆï¼Ÿä»€ä¹ˆæ—¶å€™å»åšå‘¢ï¼ŸåŸä¹¦ç»™å‡ºä½œè€…æ€è€ƒçš„è¿‡ç¨‹ï¼Œè¿™é‡Œä»‹ç»æˆ‘ç›®å‰æ‘¸ç´¢çš„å¯¹äºæ—¥å¸¸äº‹åŠ¡çš„åˆ†ç±»æ–¹æ³•å’Œå®è·µè§„åˆ™ã€‚ é¦–å…ˆäº‹é¡¹æ ¹æ®ä¸»è§‚å’Œå®¢è§‚å¯ä»¥åˆ†ä¸ºCalendarå’ŒReminderï¼Œè¿™ä¹Ÿæ˜¯ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ï¼š Calendarï¼šæ—¥å†ä¸­å‘ç”Ÿçš„å¾€å¾€æ˜¯ä¸€ä»¶Eventsï¼ˆè¿™ä¹Ÿæ˜¯macOSä¸­çš„è‹±æ–‡ï¼‰ï¼Œå®ƒåº”è¯¥æ˜¯ä¸€ç§ä¸éšä¸ªäººæ„å¿—å‘ç”Ÿçš„äº‹æƒ…ã€‚æ¯”å¦‚å›½åº†èŠ‚ã€æ¯”å¦‚æœ‹å‹çš„ç”Ÿæ—¥ã€æ¯”å¦‚ä¸Šè¯¾ã€æ¯”å¦‚ä¸Šè¯¾çš„DDLã€‚è¿™äº›äº‹æƒ…çš„æœ€å¤§ç‰¹ç‚¹æ˜¯å‘ç”Ÿå®Œå°±ç»“æŸäº†ï¼Œä¸ä¼šæœ‰ä¸»åŠ¨æ‹–å»¶è¿™ä¸ªæ¦‚å¿µã€‚æ‰€ä»¥è¿™ä¸ªé€šå¸¸éœ€è¦ç¡®å®šä¸€ä¸ªæ—¶é—´ç‚¹ Reminderï¼šè¿™ä¸ªå‘ç”Ÿçš„æ˜¯æˆ‘ä»¬ä¸»è§‚æƒ³å»åšçš„äº‹æƒ…ï¼ˆItemï¼‰ï¼Œè¿™äº›äº‹é¡¹å¯ä»¥æ˜¯â€œå»ä¹°ä¸ªä¾¿åˆ©è´´â€â€œå®ŒæˆæŸä¸€ä»¶ä½œä¸šâ€â€œåœ¨DDLä¹‹å‰åšå®ŒPPTâ€ ä½†æ˜¯å¯¹äºä¸åŒçš„æé†’äº‹é¡¹ä¹Ÿå¯ä»¥è¿›è¡Œåˆ†ç±»ï¼Œç»è¿‡å¯ä»¥ç»éªŒå¯ä»¥åˆ†ä¸º Scheduleï¼šæŒ‰ç…§æ—¶é—´æ’åºã€‚è§„åˆ’å¥½æ—¶é—´çš„äº‹æƒ…ï¼Œæ¯”å¦‚â€œæ˜å¤©æ—©ä¸Š9ç‚¹æ–°å»ºä¸€ä¸ªè®ºæ–‡æ–‡ä»¶å¤¹â€ã€‚åœ¨ä¹‹å‰å»ºç«‹ç³»ç»Ÿçš„æ—¶å€™ï¼Œå‡å¦‚scheduleè®¾ç½®å¤ªå¤šï¼Œå¾€å¾€ä¼šå¯¼è‡´è‡ªå·±å®Œä¸æˆè€Œé€æ¸æ‹–å»¶ï¼Œæ‰€ä»¥è¿™é‡Œå»ºè®®è®¡åˆ’ä¸€ä¸ªæ˜ŸæœŸä¼šæ¯”è¾ƒå¥½ To Do Listï¼šæŒ‰ç…§ä¼˜å…ˆçº§æ’åºã€‚è¿™é‡Œæ˜¯æƒ³åšçš„ï¼Œä½†æ˜¯æ²¡æœ‰è§„åˆ’å¥½æ—¶é—´çš„äº‹æƒ…ï¼Œæ¯”å¦‚è¯´â€œçœ‹ã€Šå¥¥æœ¬æµ·é»˜ã€‹â€ï¼Œè¿™ç±»äº‹æƒ…å¾€å¾€éœ€è¦æ„å»ºä¸€ä¸ªä¼˜å…ˆçº§ï¼Œå½“è‡ªå·±çš„Scheduleåšå®Œçš„æ—¶å€™ï¼Œå¯ä»¥ä»TODOä¸­åšèµ·ä¼˜å…ˆçº§é«˜çš„äº‹æƒ… Deadlineï¼šæŒ‰ç…§æ—¶é—´æ’åºã€‚è¿™é‡Œå¾€å¾€æ˜¯ä¸€ä»¶äº‹æƒ…çš„ç»“æŸã€‚ä»£è¡¨çš„æ˜¯ä¸€ä¸ªè¿‡ç¨‹ã€‚æ¯”å¦‚â€œä¸‹å‘¨ä¸€äº¤ä½œä¸šâ€ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æˆ‘ä»¬åœ¨â€œä¸‹å‘¨ä¸€â€è¿™ä¸ªæ—¶é—´ç‚¹å®Œæˆä½œä¸šï¼Œå¹¶æäº¤ï¼Œæˆ‘ä»¬ä¸å¯èƒ½ç­‰åˆ°ä¸‹å‘¨ä¸€å†å»å®Œæˆä½œä¸šã€‚æ‰€ä»¥è¿™ä¸ªå»ºè®®è®¾ç½®Flag åˆ°æ­¤ä¸ºæ­¢æˆ‘ä»¬çš„GTDç³»ç»Ÿå·²ç»å¯ä»¥å»ºç«‹èµ·æ¥äº†ï¼Œä½†æ˜¯è¿™ä¸ªç³»ç»Ÿå¾€å¾€ä¼šå—åˆ°å†²å‡»ï¼š ä¸å¯é æ€§ï¼Œæ”¶é›†åœ¨Calendarå’ŒReminderä¸­çš„äº‹é¡¹å¹¶ä¸å®Œå…¨ã€‚å¯¼è‡´æˆ‘ä»¬å¯¹ç³»ç»Ÿçš„ä¿¡ä»»åº¦ä¸é«˜ï¼Œç»å¸¸è¿˜ä¼šä¾é è‡ªå·±çš„å¤§è„‘æ¥å›å¿†äº‹æƒ…ã€‚ æ‡’æƒ°æ€§ï¼Œå‡å¦‚Scheduleçš„ä¸œè¥¿å¤ªå¤šï¼Œè€Œè‡ªå·±ä¸å»å®Œæˆï¼Œä¼šå¯¼è‡´ç³»ç»Ÿçš„ä»»åŠ¡è¶Šæ¥è¶Šå¤šè€Œå´©æºƒ ç¼ºä¹æ¿€åŠ±æ€§ï¼Œæ²¡æœ‰åŠæ³•ç»™è‡ªå·±æ­£åé¦ˆï¼Œå¯¼è‡´ç³»ç»Ÿç»´æŠ¤å›°éš¾ã€‚ è¿™é‡Œç»™å‡ºä¸€ä¸ªå»ºè®®ï¼šåœ¨å®è·µä¸­æˆ‘ä»¬è¦åšæŒä¸€å…ƒåŒ–çš„åŸåˆ™ï¼Œä¹Ÿå°±æ˜¯åœ¨å¾®ä¿¡æˆ–è€…å£å¤´ä¸Šè·å–ä¸€ä¸ªäº‹ä»¶ï¼Œå¯ä»¥ç«‹é©¬å°†å…¶æ·»åŠ åˆ°è‡ªå·±çš„inboxï¼Œç„¶åå†å¯¹å…¶åˆ†ç±»æ•´ç†ã€‚æˆ‘ä»¬è¦å……åˆ†ä¿¡ä»»è‡ªå·±çš„ç³»ç»Ÿï¼Œå› ä¸ºGTDä¸ä»…æ˜¯è®°å½•æˆ‘ä»¬åšäº†ä»€ä¹ˆï¼Œè¿˜æ˜¯ä¸€ä¸ªå¸®åŠ©æˆ‘ä»¬å¤§è„‘è®°å¿†çš„ç³»ç»Ÿã€‚å¦‚æœæˆ‘ä»¬é™·å…¥å›å¿†è‡ªå·±éœ€è¦åšä»€ä¹ˆçš„é­”å’’ä¸­ï¼Œå¾€å¾€ä¼šæ¶ˆè€—å¤§é‡çš„ç²¾åŠ›å’Œæ—¶é—´ã€‚ graph cal[Calendar] re[Reminder] E(Event sorted by time) S(Schedule sorted by time) T(To Do List sorted by priority) D(DeadLine sorted by time) cal --&gt; E re--&gt;S re--&gt;T re--&gt;D 0x03 é¿å…æ— ç©·æ”¶è—ï¼šCubox äº’è”ç½‘å°†çŸ¥è¯†ä¸²è”åœ¨ä¸€èµ·çš„åæœæ˜¯æˆ‘ä»¬å¯ä»¥æ— é™çš„æ»‘åŠ¨ï¼Œæˆ‘ä»¬æ°¸è¿œçœ‹ä¸å®ŒGoogleæœç´¢çš„ç»“æœã€çœ‹ä¸å®Œå¾®åšçš„å¸–å­ã€çœ‹ä¸å®Œå•†å“çš„ç®€ä»‹â€¦åœ¨çŸ¥è¯†ç®¡ç†ä¹Ÿæ˜¯è¿™æ ·ã€‚äº’è”ç½‘å¸¦æ¥çš„æœ‰ç”¨çš„çŸ¥è¯†ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œå½“æˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªæœ‰æ„æ€çš„å¾®ä¿¡æ–‡ç« ã€æˆ–è€…è¯±äººçš„åšå®¢ã€æˆ–è€…æ˜¯Bç«™å¤§å­¦çš„è¯¾ç¨‹ï¼Œå¾€å¾€ä¼šä¸¢åˆ°è‡ªå·±çš„æ”¶è—å¤¹ä¸­ï¼Œç„¶åä¸åŒè½¯ä»¶ä¸­çš„æ”¶è—å¤¹å¹¶ä¸ä¼šäº’ç›¸æ²Ÿé€šï¼Œå”¯ä¸€çš„å…±åŒç‚¹æ˜¯é€æ¸å¢åŠ ä½†æ˜¯ä»ä¸æ¸…ç©ºã€‚ æ‰€ä»¥å°†æ”¶é›†ç®±å¡«æ»¡åªæ˜¯èµ·ç‚¹ï¼Œç»ˆç‚¹æ˜¯è®©æ”¶é›†ç®±å›å½’ç©ºçš„çŠ¶æ€ã€‚åŒæ ·ä¸ºäº†éµå¾ªâ€œä¸€å…ƒåŒ–â€åŸåˆ™ï¼Œå¸Œæœ›å¯ä»¥å°†æ‰€æœ‰çš„çŸ¥è¯†å’Œè‡ªå·±çš„æƒ³æ³•æ”¶é›†åˆ°ä¸€ä¸ªåœ°æ–¹ã€‚å¹¶ä¸æƒ³å‘ç”Ÿåœ¨å¾®ä¿¡æ”¶è—çœ‹æ–‡ç« ã€åœ¨Bç«™çœ‹è§†é¢‘ã€åœ¨å¾®ä¿¡è¯»ä¹¦è¯»æƒ³è¯»çš„ä¹¦ã€åœ¨æµè§ˆå™¨çœ‹è‡ªå·±çš„read listï¼Œè¿™æ ·çš„åŠ£åŠ¿æ˜¯ä¸èƒ½æ•´ç†ã€‚ä»¿ä½›çœ‹å®Œä¹‹åå°±ç»“æŸäº†ã€‚ å€ŸåŠ©Cuboxå¯ä»¥é€šè¿‡éšæœºå›é¡¾æ¥çœ‹è‡ªå·±æ›¾ç»åšè¿‡ä»€ä¹ˆæ‰¹æ³¨ï¼Œå¯ä»¥å°†çœ‹å®Œçš„ä¸œè¥¿åˆ†ç±»æ”¾åˆ°æ¶å­ï¼ˆæ–‡ä»¶å¤¹ï¼‰ä¸­æ—¥åæµè§ˆï¼Œä¹Ÿå¯ä»¥å°†æ²¡æœ‰è¥å…»çš„å½’æ¡£æˆ–è€…åˆ é™¤ã€‚Reviewæ‰æ˜¯ç»ˆç‚¹ï¼ 0x04 è¾“å‡ºå’ŒAll in oneï¼šNotion é¦–å…ˆNotionä½œä¸ºçŸ¥è¯†ç®¡ç†çš„ç»ˆç‚¹ç«™åœ¨äºå…¶å¼€æ”¾ï¼Œå®ƒå…·æœ‰å’Œå…¶ä»–ç³»ç»Ÿè”åˆå¹¶å¼€æ”¾APIçš„fa","categories":[{"name":"Memo","slug":"Memo","permalink":"https://blog.tjdata.site/categories/Memo/"}],"tags":[{"name":"çŸ¥è¯†ç®¡ç†","slug":"çŸ¥è¯†ç®¡ç†","permalink":"https://blog.tjdata.site/tags/%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/"}]},{"title":"åŸºäºJSçš„Mermaidä½¿ç”¨æ•™ç¨‹","slug":"Mermaidä½¿ç”¨æ•™ç¨‹","date":"2023-05-16T01:25:31.000Z","updated":"2023-05-16T03:28:41.541Z","comments":true,"path":"posts/3be9bc5f.html","link":"","permalink":"https://blog.tjdata.site/posts/3be9bc5f.html","excerpt":"å…³äºæµç¨‹å›¾çš„ç»˜åˆ¶ä¸­æœ‰å¾ˆå¤šå·¥å…·ï¼Œæ¯”å¦‚å¾®è½¯çš„visio æˆ–è€… PowerPointã€è´å°”çš„Graphvizã€Lucidchartã€OmniGraffleã€Draw.ioã€processOnã€Latexçš„tikZï¼›ä½†æ˜¯è¿™ç§åŸºäºå›¾å½¢ç•Œé¢çš„æ“ä½œå¾€å¾€ä¼šå—é™äºäººæœ¬èº«çš„ä¸ç²¾ç¡®å¯¼è‡´ä¸å¥½çœ‹ã€‚æ‰€ä»¥å¸Œæœ›å€ŸåŠ©ä»£ç ç”Ÿæˆæµç¨‹å›¾æ¥å°½å¯èƒ½ä¿æŒåè°ƒä¸€è‡´çš„ç¾è§‚ã€‚","text":"å…³äºæµç¨‹å›¾çš„ç»˜åˆ¶ä¸­æœ‰å¾ˆå¤šå·¥å…·ï¼Œæ¯”å¦‚å¾®è½¯çš„visio æˆ–è€… PowerPointã€è´å°”çš„Graphvizã€Lucidchartã€OmniGraffleã€Draw.ioã€processOnã€Latexçš„tikZï¼›ä½†æ˜¯è¿™ç§åŸºäºå›¾å½¢ç•Œé¢çš„æ“ä½œå¾€å¾€ä¼šå—é™äºäººæœ¬èº«çš„ä¸ç²¾ç¡®å¯¼è‡´ä¸å¥½çœ‹ã€‚æ‰€ä»¥å¸Œæœ›å€ŸåŠ©ä»£ç ç”Ÿæˆæµç¨‹å›¾æ¥å°½å¯èƒ½ä¿æŒåè°ƒä¸€è‡´çš„ç¾è§‚ã€‚ 0x01 ä½¿ç”¨æ•™ç¨‹ å¯ä»¥ç›´æ¥åœ¨Typoraä¸­ä½¿ç”¨ï¼Œåªéœ€è¦è¾“å…¥å³å¯ 1``` mermaid ä»€ä¹ˆæ˜¯Mermaidï¼ŒæŒ‰ç…§å®˜ç½‘çš„å®šä¹‰æ˜¯åŸºäºJavaScriptçš„å›¾è¡¨å·¥å…·ï¼Œå¯ä»¥æ¸²æŸ“å—markdownå¯å‘çš„æ–‡æœ¬å®šä¹‰ï¼Œç”¨äºåŠ¨æ€åˆ›å»ºå’Œä¿®æ”¹å›¾è¡¨ã€‚å…¶åŸºæœ¬çš„è¯­æ³•ç»“æ„åŒ…æ‹¬ï¼š 1234# Diagrams definitions begin with a declaration of the diagram type # Define the blocks # Link the blocks erDiagram CUSTOMER &#125;|..|&#123; DELIVERY-ADDRESS : has CUSTOMER ||--o&#123; ORDER : places CUSTOMER ||--o&#123; INVOICE : &quot;liable for&quot; DELIVERY-ADDRESS ||--o&#123; ORDER : receives INVOICE ||--|&#123; ORDER : covers ORDER ||--|&#123; ORDER-ITEM : includes PRODUCT-CATEGORY ||--|&#123; PRODUCT : contains PRODUCT ||--o&#123; ORDER-ITEM : &quot;ordered in&quot; å¸¸è§çš„è¡¨æ ¼å¯ä»¥åˆ†ä¸ºï¼šæµç¨‹å›¾Flowchartã€é¡ºåºå›¾Sequence Diagramã€ç±»å›¾Class Diagramã€çŠ¶æ€å›¾State Diagramã€å®ä½“å…³ç³»å›¾Entity Relationship Diagramã€ç”˜ç‰¹å›¾Ganttã€é¥¼å›¾Pie chartã€éœ€æ±‚å›¾Requirement Diagramã€GitGraphã€C4Cå›¾ã€æ€ç»´å¯¼å›¾Mindmapsã€æ—¶é—´çº¿Timelines 0x02 æµç¨‹å›¾ Flowchart æµç¨‹å›¾ç”±èŠ‚ç‚¹ (Nodes)ã€å½¢çŠ¶ (Edges)ã€ç®­å¤´ ï¼ˆArrowsï¼‰å’Œçº¿æ¡ï¼ˆLinesï¼‰ç»„æˆï¼Œåº”ç”¨ç¤ºä¾‹ flowchart id1(This is the text in the node1) id2[This is the text in the node2] db1[(database)] id1 --&gt; id2 db1 --&gt; id1 %% TB : top to bottom,TD %% BT: bottom to top %% RL: right to left %% LR: left to right flowchart LR subgraph BT[Define of the nodes] id1(åœ†è§’) id2([æ›´å¤§çš„åœ†è§’]) id3[é•¿æ–¹å½¢] id4[(æ•°æ®åº“)] id5((åœ†å½¢)) id6&gt;what] id7&#123;æ–¹å½¢&#125; id8&#123;&#123;è§’&#125;&#125; id10[\\æ¢¯å½¢ Trapezoid alt/] end subgraph LR[define of the linkes] id11[node1] id12[node2] id11 --&gt; id12 id11 --- id12 id11 -- Text ---id12 id11 ---|Text|id12 id11--&gt;|Text|id12 id11 -.-&gt; id12 id11 -. text .-&gt; id12 A == text ==&gt; id12 a --&gt;b &amp; c--&gt;d end subgraph LR B[start] C&#123;Is it?&#125; B --&gt;|yes|C C--&gt;D[rethink] D--&gt;B B--&gt;|No|E[End] E[perhaps?] end 0x03 æ—¶åºå›¾ Sequence diagrams æ—¶åºå›¾è¡¨ç¤ºç”¨æˆ·ä¹‹é—´ç›¸äº’äº¤æµçš„è¿‡ç¨‹çš„å›¾è¡¨ï¼Œå…¶ä¸­çš„è¯­æ³•ä¸»è¦åŒ…æ‹¬ï¼šå‚ä¸è€…ï¼ˆParticipantï¼‰ã€æ¼”å‘˜ï¼ˆActorï¼‰ã€åˆ«åï¼ˆAliasï¼‰ã€åˆ†ç»„ï¼ˆGroup and boxï¼‰ã€ä¿¡æ¯ï¼ˆArrows and linesï¼‰ã€æ¿€æ´»ï¼ˆActivateï¼‰ã€å¤‡æ³¨ï¼ˆNotesï¼‰ã€å¾ªç¯ï¼ˆLoopï¼‰ sequenceDiagram participant A as Alice participant B as Bob participant J as John A-&gt;&gt;B:hello John B-&gt;&gt;J:Great! 123456789[Actor][Arrow][Actor]:Message Text-&gt; å®çº¿--&gt; æ²¡æœ‰ç®­å¤´çš„ç‚¹ç”»çº¿-&gt;&gt; ç®­å¤´çº¿--&gt;&gt; ç®­å¤´ç‚¹ç”»çº¿-X corss--X ç‚¹çº¿å¸¦cross-ï¼‰--ï¼‰ sequenceDiagram Alice-&gt;John: Hello John, how are you? activate John loop Every minute John--&gt;Alice: Great! end deactivate John åˆæ¬¡ä¹‹å¤–é¡ºåºå›¾è¿˜éœ€è¦è¡¨ç¤ºä¸€äº›åŸºæœ¬çš„é€»è¾‘æ¦‚å¿µï¼Œæ¯”å¦‚æ¿€æ´»ï¼ˆActivateï¼‰ã€å¾ªç¯ï¼ˆLoopï¼‰ã€æ›¿ä»£ï¼ˆAltï¼‰ã€å¹³è¡Œï¼ˆParï¼‰ã€å…³é”®åŒºåŸŸï¼ˆCriticalï¼‰ã€Breakã€é«˜äº®æ˜¾ç¤ºï¼ˆRectï¼‰ sequenceDiagram participant Alice participant John rect rgb(191, 223, 255) note right of Alice: Alice calls John. Alice-&gt;&gt;+John: Hello John, how are you? rect rgb(200, 150, 255) Alice-&gt;&gt;+John: John, can you hear me? John--&gt;&gt;-Alice: Hi Alice, I can hear you! end John--&gt;&gt;-Alice: I feel great! end Alice -&gt;&gt;+ John: Did you want to go to the game tonight? John --&gt;&gt;- Alice: Yeah! See you there. sequenceDiagram participant C as Client participant S as Server autonumber note left of C: é€‰æ‹©åˆå§‹seq number=x&lt;br/&gt;å‘é€å®¢æˆ·ç«¯çš„TCP SYNæ®µ C-&gt;&gt;S:SYNbit=1,Seq=X note right of S:é€‰æ‹©åˆå§‹seq number=y&lt;br/&gt;å‘é€æœåŠ¡ç«¯TCP SYNä¿¡æ¯&lt;br/&gt;åˆ©ç”¨SYN+1ä½œä¸ºå›å¤ S-&gt;&gt;C:SYNbit=1,Seq=Y&lt;br/&gt;ACKbit=1,ACKnum=x+1 note left of C:æ”¶åˆ°SYNACK(x),ç¡®è®¤æœåŠ¡å™¨å­˜åœ¨&lt;br/&gt;å‘é€ACKå›å¤SYNACK&lt;br/&gt;ä¸åŒ…å«client-to-serveræ•°æ® C-&gt;&gt;S:ACKbit=1,ACKnum=y+1 note right of S:æ”¶åˆ° ACK(y)&lt;br/&gt;ç¡®è®¤ç”¨æˆ·å­˜åœ¨ https://zhuanlan.zhihu.com/p/53374516 0x04 GitGraph gitGraph commit id: &quot;Set up folder&quot; branch release branch development checkout development commit branch feature01 commit id:&quot;feature1 add&quot; commit id:&quot;feature1 add2&quot; checkout development branch feature02 commit id:&quot;fixed feature2&quot; checkout development merge feature02 commit id:&quot;feature1 add3&quot; checkout development merge feature01 commit checkout main merge development tag:&quot;Beta1.0&quot; checkout release merge main tag:&quot;V1.0&quot;","categories":[{"name":"Baseline","slug":"Baseline","permalink":"https://blog.tjdata.site/categories/Baseline/"}],"tags":[{"name":"chart","slug":"chart","permalink":"https://blog.tjdata.site/tags/chart/"}]},{"title":"GITç®¡ç†å’Œå¸¸è§æ“ä½œ","slug":"GITç®¡ç†å’Œå¸¸è§æ“ä½œ","date":"2023-05-09T07:24:09.000Z","updated":"2023-05-13T13:48:46.048Z","comments":true,"path":"posts/cd758988.html","link":"","permalink":"https://blog.tjdata.site/posts/cd758988.html","excerpt":"ä»Git - Branches in a Nutshellä¸­çœ‹Gitçš„ä¸€äº›å¸¸è§æ“ä½œï¼Œä¸»è¦æ˜¯è®¾è®¡ç†å¿µå’Œæœ¬åœ°çš„æ“ä½œã€‚æ›´å¤æ‚çš„è¿œç¨‹åä½œå’Œé¡¹ç›®ç®¡ç†åç»­ç»™å‡ºã€‚","text":"ä»Git - Branches in a Nutshellä¸­çœ‹Gitçš„ä¸€äº›å¸¸è§æ“ä½œï¼Œä¸»è¦æ˜¯è®¾è®¡ç†å¿µå’Œæœ¬åœ°çš„æ“ä½œã€‚æ›´å¤æ‚çš„è¿œç¨‹åä½œå’Œé¡¹ç›®ç®¡ç†åç»­ç»™å‡ºã€‚ Git PRO What is git åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆå…·æœ‰å¾ˆå¤šä¼˜ç‚¹å·´æ‹‰å·´æ‹‰ï¼‰ å‡ ä¸ªæ˜¾è‘—çš„æŠ€æœ¯ä¸Šçš„ç‰¹ç‚¹ï¼š snapshotï¼Œnot differencesï¼Œno delta- based system Git thinks of tis data more like a series of a snapshots of a miniature filesystem every time you commit, or save the state of your project, Git basically takes a picture of what all your files look like at that moment and stores a reference to that snapshot. If the data is not changed , Git doesnâ€™t store the file again. Nearly every operation is local you have the entire history of the project right there on your local disk, most operations seem almost instantaneous commit to local copy util you get to a network connection to upload Git has integrity you will see these hash values all over the place in Git because it uses them so much. In fact, Git stores everything in its database not by file name but 40 cahrs Git generally only adds data When you do actions in Git, nearly all over the place in Git because it uses them so much. It is hard to get the system to do anything that is not undoable or to make it erase in any way three state modified staged committed åŸºæœ¬çš„å·¥ä½œæµç¨‹å¯ä»¥çœ‹ä½œï¼š ä¿®æ”¹working directoryçš„æ–‡ä»¶ å½“æ—¶è§‰å¾—åšçš„å¤Ÿå¥½ä¹‹åï¼Œadd changed to the staging area å°†æ‰€æœ‰æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤ï¼Œstores that snapshot permanently to your Git directory Getting start â€”- First time git setup 1234567# git config å­˜å‚¨çš„ä¸‰ä¸ªåœ°æ–¹[path]/etc/gitconfigï¼šåŒ…å«åº”ç”¨äºç³»ç»Ÿä¸Šæ¯ä¸ªç”¨æˆ·åŠå…¶æ‰€æœ‰å­˜å‚¨åº“çš„å€¼ï¼Œå¦‚æœä½ è®²é€‰é¡¹ systemä¼ é€’ç»™å®ƒä¼šä»ä¸“é—¨çš„æ–‡ä»¶ä¸­è¯»å–å’Œå†™å…¥ ~/.gitconfig æˆ–è€… ï½/.config/git/config ç‰¹å®šç”¨æˆ·ä¸ªäººçš„åº“ config å½“å‰å­˜å‚¨ç›®å½•çš„å‘ƒè®¾ç½® Basic topic 3.1 è·å–Gitä»“åº“ ä¸€ç§æ–¹å¼æ˜¯å°†å½“å‰ä¸å—ç‰ˆæœ¬æ§åˆ¶çš„æœ¬åœ°ç›®å½•è½¬æ¢ä¸ºGitå­˜å‚¨åº“ ç¬¬äºŒç§æ–¹å¼æ˜¯ä»å…¶ä»–åœ°æ–¹cloneç°æœ‰çš„Gitä»“åº“ 3.2 è®°å½•æ›´æ”¹ 12git statusgit status -s # for short å·¥ä½œç›®å½•ä¸­æ¯ä¸ªæ–‡ä»¶éƒ½å­˜åœ¨ tracked or untracked ä»ç”Ÿå‘½å‘¨æœŸæ¥çœ‹ï¼Œæ–‡ä»¶å¯ä»¥åˆ†ä¸ºuntrackedã€unmodifiedã€modifiedã€staged ğŸ’¡ Githubå°†é»˜è®¤è½¬æ¢ä¸ºmainã€ä½†æ˜¯gité»˜è®¤ä¾æ—§æ˜¯master åŒæ—¶å¯ä»¥è®¾ç½®gitignoreæ¥ä¸å¸Œæœ›Gitè‡ªåŠ¨æ·»åŠ ï¼Œç”šè‡³é™åˆ¶æ‚¨æœªè¿½è¸ª 123456# å¸¸è§çš„gitignoreè§„åˆ™1. å¿½ç•¥ç©ºç™½è¡Œæˆ–è€… #2. åœ¨æ•´ä¸ªå·¥ä½œç›®å½•ä¸­é€’å½’3. å¯ä»¥ä½¿ç”¨æ­£æ–œæ  / å¼€å§‹æ¨¡å¼4. å¯ä»¥ä½¿ç”¨æ­£æ–œæ  / ç»“æŸæ¨¡å¼æ¥æŒ‡å®šç›®å½•5. å¯ä»¥é€šè¿‡æ„Ÿå¹å· ï¼ æ¥å¦å®šæ¨¡å¼ GitHubä¸­ç»´æŠ¤äº†ä¸€ä¸ªéå¸¸å¥½çš„ç¤ºä¾‹https://github.com/github/gitignore ä»…ä»…æŸ¥çœ‹æ›´æ”¹è®°å½•ä¸å¤Ÿï¼Œä½ å¸Œæœ›æ£€æŸ¥æ›´æ”¹äº†å“ªäº›ä¸œè¥¿ 12git diff # æŸ¥çœ‹æ›´æ”¹ä½†æ˜¯æœªæš‚å­˜git diff --staged # æŸ¥çœ‹å·²ç»æäº¤ä¸‹ä¸€ä¸ªé˜¶æ®µçš„å†…å®¹ï¼Œæˆ–è€…-- cached æäº¤è®°å½• 1git commit ä»Gitä¸­åˆ é™¤æ–‡ä»¶å¿…é¡»å°†å…¶ä»trackedæ–‡ä»¶ä¸­åˆ é™¤ï¼Œä¹Ÿå°±æ˜¯éœ€è¦ä»æš‚å­˜åŒºä¸­åˆ é™¤ 123git rmgit rm - cached FILENAME # å°†æ–‡ä»¶ä¿å­˜åœ¨ç›®å½•ä¸­ï¼Œä¾æ—§ä¿ç•™åœ¨ç¡¬ç›˜ã€‚ä½†æ˜¯ä»æš‚å­˜åŒºä¸­åˆ é™¤ã€‚git mv # é‡å‘½åæ–‡ä»¶ 3.3 æŸ¥çœ‹æäº¤çš„å†å²è®°å½• ä¸Šè¿°æ“ä½œå¯ä»¥å®ŒæˆåŸºæœ¬çš„å·¥ä½œæµã€‚åœ¨è¿™ä¸ªåŸºç¡€ä¸Šï¼Œåˆ›å»ºå¾ˆå¤šæ¬¡æäº¤ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç°æœ‰æäº¤å†å²è®°å½•çš„å­˜å‚¨åº“ï¼Œå›é¡¾ä¸€ä¸‹å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨git log 12345git log # æŒ‰ç…§åå‘æ—¶é—´é¡ºåºåˆ—å‡ºæäº¤çš„æ›´æ”¹ã€‚åŒæ—¶ä¹Ÿå…·æœ‰å¤§é‡é€‰é¡¹git log -p # æ˜¾ç¤ºæ¯ä¸ªæäº¤ä¸­å¼•å…¥çš„å·®å¼‚git log --stat # ç¼©å†™çš„ç»Ÿè®¡ä¿¡æ¯git log --pretty=oneline # å°†æ—¥å¿—è¾“å‡ºæ›´æ”¹ä¸ºé»˜è®¤æ ¼å¼ä»¥ä¸ºçš„æ ¼å¼git log --pretty=format --graph 3.4 æ’¤é”€æ“ä½œ åœ¨ä»»ä½•stagedï¼Œä½ éƒ½å›°éš¾æƒ³æ’¤é”€ä¸€äº›äº‹æƒ…ï¼Œé€šè¿‡å›é¡¾ä¸€äº›åŸºæœ¬å·¥å…·æ¥ä¿å­˜æ’¤é”€çš„æ›´æ”¹ 1git commit -amend # å¦‚æœä½ æƒ³é‡åšè¯¥æäº¤ï¼Œè¯·ä½ å¿˜è®°é¢å¤–çš„æ›´æ”¹ï¼Œæš‚å­˜ä»–ä»¬ åŠ å…¥åœ¨ä¿®æ”¹ä¸¤ä¸ªæ–‡ä»¶ä¹‹åï¼Œä¸å°å¿ƒadd * åˆ°æš‚å­˜åŒº 1234567$ git add *$ git statusOn branch masterChanges to be committed: (use &quot;git restore --staged &lt;file&gt;...&quot; to unstage) modified: CONTRIBUTING.md renamed: README.md -&gt; README ä½†æ˜¯åªæƒ³commitå…¶ä¸­çš„ä¸€ä¸ªï¼Œé‚£ä¹ˆéœ€è¦ 1git reset HEAD [filename you not to commit] æ³¨æ„resetæ˜¯éå¸¸å±é™©çš„å‘½ä»¤ï¼Œcheckoutä¹Ÿå¯ä»¥å®ç° 1git checkout --&lt;file&gt; # å¯¹æ–‡ä»¶æ‰€åšçš„ä»»ä½•æœ¬åœ°æ›´æ”¹éƒ½å·²ç»æ¶ˆå¤±ï¼Œæ›¿æ¢æˆä¸ºæœ€åä¸€ä¸ªåˆ†é˜¶æ®µæˆ–è€…æäº¤çš„ç‰ˆæœ¬ã€‚ åœ¨ä¹‹åå¸¸ç”¨git restoreè€Œä¸æ˜¯git reset 1git restore --staged &lt;file&gt; # å–æ¶ˆæš‚å­˜ 3.5 è¿œç¨‹æ“ä½œ originæ˜¯Gitèµ‹äºˆæ‚¨å…‹éš†çš„æœåŠ¡å™¨çš„é»˜è®¤åç§° 12345git clone [your-git-url]git remote # show your remote git namegit remote -v # æ˜¾ç¤ºå­˜å‚¨çš„URLgit remote add shortname url # git remote add pb &lt;https://github.com/chenxia31/blog&gt;# common lineä¸­å¯ä»¥ä½¿ç”¨short nameæ¥ä»£æ›¿url ä»è¿œç¨‹ä»“åº“è¿æ¥ 12345git fetch &lt;remote&gt; # ä»è¿œç¨‹ä»“åº“è·å–æ•°æ®git push origin master # æ¨é€æœ¬åœ°çš„masteråˆ†æ”¯git remote show origin # æ˜¾ç¤ºä¸€äº›å¸¸è§çš„ä¿¡æ¯git remote rename [oldname] [newname]git remote remove [url] 3.6 æ ‡ç­¾ å’Œbranchè·Ÿè¸ªæ¯æ¬¡æœ€æ–°çš„commit ç›¸åï¼Œtagæ˜¯è·Ÿè¸ªæŸä¸€ä¸ªç‰¹å®šcommitçš„ä½ç½®ï¼Œå¦‚æœä¸éœ€è¦æ”¹åŠ¨è€Œä»…æŸ¥çœ‹çš„æ—¶å€™å¯ä»¥ç›´æ¥ä½¿ç”¨tagã€‚æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨éœ€è¦æ˜¾å¼çš„è¡¨è¾¾å‡ºtagname 1234567891011121314151617git taggit tag -l &#x27;v1.8.5.*&#x27;# æ ‡ç­¾åˆ†ä¸ºè½»é‡çº§å’Œæ³¨é‡Šgit tag -a v1.4 -m &#x27;my version 1.4&#x27;git tag v1.4git push origin [tagname] # git push origin v1.5git push origin --tags# åˆ é™¤æ ‡ç­¾git tag -d v1.4 # ä½†æ˜¯è¿™æ ·ä¸ä¼šä»ä»»ä½•è¿œç¨‹æœåŠ¡å™¨åˆ é™¤æ ‡ç­¾git push origin --delete &lt;tagname&gt;# æŸ¥çœ‹taggit checkout v2.0 #è¿™ç§ä¼šå¯¼è‡´ä»“åº“å¤„äºâ€œåˆ†ç¦»çš„HEADçŠ¶æ€â€œï¼Œå¦‚æœè¿›è¡Œæ›´æ”¹ã€åˆ›å»ºæäº¤ã€æ ‡ç­¾å°†ä¿æŒä¸å˜ 3.7 åˆ«å alias åˆ›å»ºè‡ªå·±snippets 3.8.1 ï¼ˆéå¸¸é‡è¦ï¼‰åˆ†æ”¯æ¨¡å¼ 1234567891011git add [filename]git commit -m &#x27;message&#x27;#gitçš„é»˜è®¤åˆ†æ”¯åç§°æ˜¯masterï¼Œåªä¸è¿‡å¾ˆå¤šäººæ‡’å¾—æ”¹git branch testinggit log --oneline --decorategit checkout testing # æ›´æ¨ègit switchgit commit -a -m &#x27;new commit&#x27;git checkout mastergit commit -a -m &#x27;new commit2&#x27;git log --oneline -decorate --graph --asll ååºæŸ¥çœ‹ä¸€äº›åŸºæœ¬åˆ†æ”¯å’Œåˆå¹¶çš„å…·ä½“æ“ä½œã€‚æƒ³è±¡ä¸€ä¸ªå·¥ä½œæµç¨‹ï¼Œåœ¨ç½‘ç«™ä¸Šåšä¸€äº›å·¥ä½œï¼Œä¸ºä¸€ä¸ªæ–°çš„æ•…äº‹åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¹‹ååœ¨å¦å¤–åˆ†æ”¯åšä¸€äº›å·¥ä½œã€‚å› æ­¤å¯ä»¥å‚è€ƒä¸€ä¸‹çš„è¿‡ç¨‹ 1234567891011121314151617181920git checkout -b [NewBranchName] # git branch and git checkout ç¼©å†™# æ³¨æ„åœ¨ç­¾å‡ºçš„åˆ†æ”¯å†²çªæœªæäº¤æ›´æ”¹ï¼Œä½†æ˜¯å¯ä»¥å…è®¸ stashing and cleaningä¸­äº†è§£git checkout master # ä¸“æ³¨ä½ çš„ä¸»çº¿ä»»åŠ¡git checkout -b &#x27;newfeature2&#x27;# ~~ newfeature2ç»“æŸgit checkout mastergit merge newfeature2# åˆ é™¤åˆ†æ”¯git branch -d hotfix# å¤„ç†git checkout NewBranchName# å†æ¬¡åˆå¹¶git checkout mastergit merge master# ä¸¤ä¸ªåˆå¹¶å‡ºç°å†²çªgit status #æŸ¥çœ‹# æ‰‹åŠ¨æ‰“å¼€æ–‡ä»¶ï¼Œå¤„ç†å†²çªgit mergetool ä¸Šè¿°å¯¼è‡´å·²ç»ä¼šåˆ›å»ºã€åˆå¹¶ã€åˆ é™¤ä¸€äº›åˆ†æ”¯ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€äº›åˆ†æ”¯ç®¡ç†å·¥å…· 1234git branch -V # æŸ¥çœ‹æ¯ä¸ªåˆ†æ”¯çš„æœ€åä¸€æ¬¡æäº¤git branch --merged or --no-merged# è¿‡æ»¤æ‚¨å·²ç»æˆ–å°šæœªåˆå¹¶åˆ°æ‚¨å½“å‰ä½¿ç”¨çš„åˆ†æ”¯ä¸­çš„åˆ†æ”¯git brach --move # æœ¬åœ°é‡å‘½ååˆ†æ”¯git push --set-upstream origin main 3.8.2 åˆ†æ”¯å·¥ä½œæµç¨‹ å·²ç»æœ‰branchå’Œmergeçš„åŸºç¡€çŸ¥è¯†ï¼Œåº”è¯¥ç”¨æ­¤åšäº›ä»€ä¹ˆï¼Ÿè¿™é‡Œå°†è½»é‡çº§åˆ†æ”¯çš„å¸¸è§çš„å·¥ä½œæµç¨‹å±•ç¤ºï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦å°†å…¶çº³å…¥è‡ªå·±çš„å¼€å‘å‘¨æœŸ Git - Branching Workflows å¸¸è§çš„åˆ†ç±»åŒ…æ‹¬ master åˆ†æ”¯ä¸­å®Œå…¨ç¨³å®šçš„ä»£ç  developæˆ–next å·¥ä½œä¸­ç”¨äºæµ‹è¯•ç¨³å®šæ€§ï¼Œä¸ä¸€å®šæ€»æ˜¯ç¨³å®šçš„ã€‚å½“å®ƒç¨³å®šä¹‹åå¯ä»¥åˆå¹¶åˆ°master proposed åè®®æ›´æ–° topic çŸ­ç”Ÿå‘½å‘¨æœŸçš„åˆ†æ”¯ï¼Œç”¨äºå¤„ç†ä¸€äº›ç®€å•çš„feature add 3.8.3 è¿œç¨‹åˆ†æ”¯ [ ] å¾…å®š Git - Remote Branches 3.8.4 åˆ†æ”¯ç®¡ç† 3.9 Git æœåŠ¡å™¨ 3.10 åˆ†å¸ƒå¼å·¥ä½œæµ","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"git","slug":"git","permalink":"https://blog.tjdata.site/tags/git/"}]},{"title":"å®˜æ–¹æ–‡æ¡£_Pandasé˜…è¯»å’Œæ„Ÿæ‚Ÿ","slug":"å®˜æ–¹æ–‡æ¡£_Pandasé˜…è¯»å’Œæ„Ÿæ‚Ÿ","date":"2023-05-07T05:42:41.000Z","updated":"2023-05-13T13:52:06.562Z","comments":true,"path":"posts/9f94980a.html","link":"","permalink":"https://blog.tjdata.site/posts/9f94980a.html","excerpt":"å®˜æ–¹æ–‡æ¡£æ˜¯å¼€å‘è€…å¯¹è‡ªå·±ä»£ç çš„è§£é‡Šã€‚å¯¹äºæˆç†Ÿçš„æ¡†æ¶ï¼Œå®˜æ–¹æ–‡æ¡£å¯ä»¥æœ€å‡†ç¡®ã€æƒå¨çš„èµ„æ–™ã€‚å¦‚ä½•é˜…è¯»è‹±æ–‡çš„å®˜æ–¹æ–‡æ¡£ä¸€ç›´æ˜¯ä½œä¸ºCoder weakerå’ŒEnglish weakerçš„å¿ƒé­”ï¼Œè¿™é‡Œä»¥Pandasæ–‡æ¡£ä¸ºä¾‹å­ï¼Œå°è¯•ç»™å‡ºè‡ªå·±å¯¹äºé˜…è¯»å®˜æ–¹æ–‡æ¡£ã€å®˜æ–¹æ–‡æ¡£çš„æŸ¥è¯¢å·¥å…·ã€ä»£ç æ³¨é‡Šå’ŒPandasæ–‡æ¡£çš„æ€»ç»“ã€‚","text":"å®˜æ–¹æ–‡æ¡£æ˜¯å¼€å‘è€…å¯¹è‡ªå·±ä»£ç çš„è§£é‡Šã€‚å¯¹äºæˆç†Ÿçš„æ¡†æ¶ï¼Œå®˜æ–¹æ–‡æ¡£å¯ä»¥æœ€å‡†ç¡®ã€æƒå¨çš„èµ„æ–™ã€‚å¦‚ä½•é˜…è¯»è‹±æ–‡çš„å®˜æ–¹æ–‡æ¡£ä¸€ç›´æ˜¯ä½œä¸ºCoder weakerå’ŒEnglish weakerçš„å¿ƒé­”ï¼Œè¿™é‡Œä»¥Pandasæ–‡æ¡£ä¸ºä¾‹å­ï¼Œå°è¯•ç»™å‡ºè‡ªå·±å¯¹äºé˜…è¯»å®˜æ–¹æ–‡æ¡£ã€å®˜æ–¹æ–‡æ¡£çš„æŸ¥è¯¢å·¥å…·ã€ä»£ç æ³¨é‡Šå’ŒPandasæ–‡æ¡£çš„æ€»ç»“ã€‚ 0x01 Why é˜…è¯»å®˜æ–¹æ–‡æ¡£ å¯¹äºè´¨é‡æ¯”è¾ƒé«˜çš„é¡¹ç›®ï¼Œå…¶å®˜æ–¹æ–‡æ¡£å¾€å¾€èƒ½åæ˜ å¼€å‘è€…çš„æœ€ç›´æ¥çš„æ€æƒ³ï¼Œè€Œäº’è”ç½‘ä¸Šç»è¿‡è®¸å¤šäººçš„ç¼–ç å’Œè§£ç ï¼Œå¯¼è‡´æœ€åçš„æ„æ€å¯èƒ½å’Œæœ¬æ„ç›¸å·®å·¨å¤§ã€‚è™½ç„¶å¯èƒ½å­˜åœ¨å…¶ä»–æ›´å¥½çš„æ•™ç¨‹ï¼Œä½†æ˜¯å®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„æ€æƒ³ä¸€å®šæ˜¯æœ€å‡†ç¡®ã€æƒå¨çš„ã€‚ ä¹‹å‰ä¸€ç›´ä¸çŸ¥é“GitHubåœ¨å›½å†…ä¸ºä»€ä¹ˆè®¿é—®è¿™ä¹ˆæ…¢ã€‚ åœ¨ç½‘ä¸Šæ‰¾åˆ°å¾ˆå¤šç­”æ¡ˆï¼Œæ¯”å¦‚ä¿®æ”¹DNSçš„ã€ä¿®æ”¹Hostsçš„ã€ä¿®æ”¹é•œåƒæºæˆ–è€…å¢åŠ ä»£ç†çš„ï¼Œä½†å…¶å®æœ¬è´¨çš„é—®é¢˜æ˜¯GitHub.comçš„åŸŸåè§£æåœ¨å›½å†…å¾€å¾€éœ€è¦å¤šå±‚ä¸­è½¬è¿›è€Œå› ä¸ºæ±¡æŸ“ç­‰åŸå› é€ æˆé€Ÿåº¦è¾ƒæ…¢ï¼Œå› æ­¤ä¸Šè¿°æ–¹æ³•å¯¹åº”çš„æ˜¯ä¿®æ”¹DNSã€æœ¬æœºè§£æã€è®¾ç½®é•œåƒã€èµ°ä»£ç†ç­‰å¤šç§æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•éƒ½æ²¡æœ‰é”™ã€‚ä½†æ˜¯åªæ˜¯ç»™å‡ºè¿™äº›æ–¹æ³•ä¼šè®©äººä¸èƒ½ä¸€è§ˆèƒŒåçš„æ€æƒ³è€Œå›°æƒ‘ã€‚ 0x02 What å®˜æ–¹æ–‡æ¡£ ä»¥Pandasä¸ºä¾‹å­ï¼Œæ–‡æ¡£é€šå¸¸å¯ä»¥åˆ†ä¸º Getting startï¼šæ–°æ‰‹æ•™ç¨‹ï¼Œä¸€èˆ¬ä¼šæ•™ä½ å¦‚ä½•æ­å»ºä¸€ä¸ªç®€å•çš„åº”ç”¨ç¤ºä¾‹ã€‚ User guideï¼šä½¿ç”¨æ•™ç¨‹ï¼Œä»‹ç»æŠ€æœ¯çš„å…³é”®çŸ¥è¯†ã€æ€æƒ³å’Œæ¦‚å¿µã€‚ API referenceï¼šAPIæ–‡æ¡£ï¼ŒåŒ…æ‹¬å…·ä½“çš„APIä½¿ç”¨ç»†èŠ‚ä»¥åŠæœºåˆ¶ Developer guideï¼šå¼€å‘æ–‡æ¡£ æ¨èä½¿ç”¨ Dash gives your Mac instant offline access to 200+ API documentation sets. æ¥è¿›è¡Œå®˜æ–¹APIæ–‡æ¡£çš„ç®¡ç†ã€‚ä½œä¸ºä¸€ä¸ªAPIæ–‡æ¡£æµè§ˆå™¨(API documentation brower)å’Œä»£ç ç‰‡æ®µç®¡ç†ï¼ˆCode snippet managerï¼‰ï¼Œå¯ä»¥æä¾›çš„å¸®åŠ©æœ‰ è¿…é€Ÿ ç›´æ¥ æœ¬åœ° Alfredåä½œ å½“ç„¶å¸¸è§çš„å‡½æ•°ç”¨æ³•å¯ä»¥ç›´æ¥é€šè¿‡å‘½ä»¤æ¥è·å– 12345import module_name #such as import mathhelp(module_name) #æ¨¡å—å¸®åŠ©æŸ¥è¯¢dir(module_name) # æŸ¥è¯¢æ¨¡å—ä¸‹æ‰€æœ‰çš„å‡½æ•°help(module_name.func_name) #æŸ¥è¯¢å…·ä½“å‡½æ•°çš„ç”¨æ³•print(func_name.__doc__) # æ‰“å°å‡½æ•°çš„ç”¨æ³• 0x03 Pandas æ–°æ‰‹æ•™ç¨‹ é¦–å…ˆä»‹ç»pandasæ˜¯ä»€ä¹ˆï¼š Pandas is a Python package providing fast, flexible, and expressive data structures designed to make working with â€œrelationalâ€ or â€œlabeledâ€ data both easy and intuitive. It aims to be the fundamental high-level building block for doing practical, real-world data analysis in Python. å…¶ä¸­åŸºæœ¬çš„æ•°æ®ç±»å‹å¯ä»¥åˆ†ä¸ºSerieså’ŒDataFrameä¸¤ç§ï¼ŒåŸºäºNumPyæ„å»ºã€‚æ–°æ‰‹æ•™ç¨‹ç»™å‡ºå¸¸è§çš„Pandasä½¿ç”¨çš„Topicã€‚åŒ…æ‹¬ 3.1 åˆ›å»ºæ•°æ®ã€æŸ¥çœ‹æ•°æ®ã€ç´¢å¼•æ•°æ® 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667# Series ä¸€ç»´æ ‡è®°æ•°ç»„ï¼Œå¯ä»¥å®¹çº³å„ç§æ•°æ®ç±»å‹(intã€floatã€stringã€chatã€python object)# Pandas äºŒç»´æ ‡è®°æ•°æ®æ¡†æ¶ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€å¼ æ•°æ®è¡¨æ ¼ï¼Œæˆ–è€…æ˜¯SQLè¡¨æ ¼# Insight01ï¼šPandasä¸­çš„æ•°æ®ç»“æ„å¯ä»¥çœ‹ä½œæ˜¯ndarrayæ–¹å¼çš„æ ‡é‡ï¼ˆé€šè¿‡indexç´¢å¼•ï¼‰ï¼Œä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯dictæ–¹å¼çš„å­—å…¸ï¼ˆå¯ä»¥é€šè¿‡keyç´¢å¼•ï¼‰# Attention01:Pandasæ•°æ®ä¹‹é—´çš„è¿ç®—é€šå¸¸æ˜¯æŒ‰ç…§å…ƒç´ çš„ï¼Œå¹¶ä¸”æ˜¯broadcastingçš„ã€‚å¯¹äºç¼ºå¤±å€¼é€šå¸¸ä½¿ç”¨numpy.nanå¡«è¡¥# åˆ›å»ºæ•°æ®ï¼Œå¯ä»¥æ¥è‡ªäº 1. ndarrayã€2. dictã€3. scalarã€4. tuple of dictd = &#123; &quot;one&quot;: pd.Series([1.0, 2.0, 3.0], index=[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]), &quot;two&quot;: pd.Series([1.0, 2.0, 3.0, 4.0], index=[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]),&#125;d = &#123;&quot;one&quot;: [1.0, 2.0, 3.0, 4.0], &quot;two&quot;: [4.0, 3.0, 2.0, 1.0]&#125;pd.DataFrame(d, index=[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;])data2 = [&#123;&quot;a&quot;: 1, &quot;b&quot;: 2&#125;, &#123;&quot;a&quot;: 5, &quot;b&quot;: 10, &quot;c&quot;: 20&#125;]pd.DataFrame(data2, index=[&quot;first&quot;, &quot;second&quot;])data3= &#123; (&quot;a&quot;, &quot;b&quot;): &#123;(&quot;A&quot;, &quot;B&quot;): 1, (&quot;A&quot;, &quot;C&quot;): 2&#125;, (&quot;a&quot;, &quot;a&quot;): &#123;(&quot;A&quot;, &quot;C&quot;): 3, (&quot;A&quot;, &quot;B&quot;): 4&#125;, (&quot;a&quot;, &quot;c&quot;): &#123;(&quot;A&quot;, &quot;B&quot;): 5, (&quot;A&quot;, &quot;C&quot;): 6&#125;, (&quot;b&quot;, &quot;a&quot;): &#123;(&quot;A&quot;, &quot;C&quot;): 7, (&quot;A&quot;, &quot;B&quot;): 8&#125;, (&quot;b&quot;, &quot;b&quot;): &#123;(&quot;A&quot;, &quot;D&quot;): 9, (&quot;A&quot;, &quot;B&quot;): 10&#125;, &#125;pd.DataFrame(data3)# æŸ¥çœ‹æ•°æ®.head() #æŸ¥çœ‹dataframeçš„é¡¶éƒ¨.tail() #æŸ¥çœ‹dataframeçš„åº•éƒ¨.columns().index().to_numpy() #æ³¨æ„è¿™ä¸ªå¯èƒ½æ˜¯ä¸€ä¸ªæ˜‚è´µçš„æ“ä½œ.describe() # æ˜¾ç¤ºæ•°æ®çš„å¿«é€Ÿæ‘˜è¦.T # è½¬ç½®df.sort_index(axis=1, ascending=False) #æŒ‰ç…§è½´è¿›è¡Œæ’åºdf.sort_values(by=&quot;B&quot;)# æ›´æ”¹æ§åˆ¶å°æ˜¾ç¤ºinfo() # ç”¨äºå¿«é€Ÿæ˜¾ç¤ºdataframeä¿¡æ¯baseball.info()to_string() # ä»¥è¡¨æ ¼çš„å½¢å¼è¿”å›dataframeçš„å­—ç¬¦ä¸²è¡¨ç¤ºprint(baseball.iloc[-20:, :12].to_string())display.width # æ›´æ”¹å•è¡Œçš„æ‰“å°é‡pd.set_option(&quot;display.width&quot;, 40) # default is 80pd.set_option(&quot;display.max_colwidth&quot;, 30)pd.DataFrame(np.random.randn(3, 12))# ç´¢å¼•æ•°æ®# ç»§æ‰¿seriesçš„ç´¢å¼•df[&quot;one&quot;]df[&quot;three&quot;] = df[&quot;one&quot;] * df[&quot;two&quot;]df[&quot;flag&quot;] = df[&quot;one&quot;] &gt; 2del df[&quot;two&quot;]three = df.pop(&quot;three&quot;)df[&quot;foo&quot;] = &quot;bar&quot; #è‡ªåŠ¨broadcastingdf[&quot;one_trunc&quot;] = df[&quot;one&quot;][:2] # è‡ªåŠ¨ç¬¦åˆindexdf.insert(1, &quot;bar&quot;, df[&quot;one&quot;])# assign() å§‹ç»ˆè¿”å›æ•°æ®çš„å‰¯æœ¬ï¼Œä½†æ˜¯åŸå§‹çš„dataframeå¹¶ä¸ä¼šä¿®æ”¹iris.assign(sepal_ratio=lambda x: (x[&quot;SepalWidth&quot;] / x[&quot;SepalLength&quot;])).head()df.loc #æ ¹æ®æ ‡ç­¾é€‰æ‹©df.iloc #æ ¹æ®ä¸‹æ ‡é€‰æ‹©df[5:10] # åˆ‡ç‰‡è¡Œdf[bool] # åˆ‡ç‰‡è¡Œ 3.2 æ•°æ®ç¼ºå¤±å¤„ç†ã€è¿ç®—å‡½æ•° 12345678910111213141516171819np.nan #è¡¨ç¤ºä¸¢å¤±çš„æ•°æ®ç±»å‹df.reindex() # å…è®¸æ›´æ”¹ã€æ·»åŠ å’Œåˆ é™¤æŒ‡å®šè½´ä¸Šçš„ç´¢å¼•ï¼ŒåŒæ—¶è¿”å›æ•°æ®å‰¯æœ¬df1 = df.reindex(index=dates[0:4], columns=list(df.columns) + [&quot;E&quot;])df1.loc[dates[0] : dates[1], &quot;E&quot;] = 1df.dropna() # åˆ é™¤ä»»ä½•ç¼ºå°‘æ•°æ®çš„è¡Œdf.fillna() # å¡«å……ç¡®å®çš„æ•°æ®isna() #è·å–å€¼æ˜¯å¦ä¸ºnané»˜è®¤æŒ‰ç…§broadcastingè¿›è¡Œè®¡ç®—df.mean() # è®¡ç®—å¹³å‡å€¼df.mean(1) # å¦å¤–ä¸€ä¸ªæ–¹å‘df.apply() # å°†ç”¨æˆ·è‡ªå®šä¹‰çš„å‡½æ•°åº”ç”¨äºæ•°æ®df.apply(np.cumsum)df.apply(lambda x: x.max() - x.min())values_count()df.str.ufunc() # åœ¨strå±æ€§ä¸‹ï¼Œå¯ä»¥è°ƒç”¨éœ€è¦å…¶ä»–çš„å­—ç¬¦ä¸² 3.3 é›†åˆä¹‹é—´çš„å¤„ç†ï¼šåˆå¹¶ã€åˆ†ç»„ã€é‡å¡‘å’Œå¤šç´¢å¼• 1234567pd.concat([df1,df2,df3]) # æŒ‰ç…§axisè¿›è¡Œåˆå¹¶ï¼Œjoinå‚æ•°ä¸ºouteræˆ–è€…innerï¼Œignore_indeé‡å»ºç´¢å¼•pd.merge(df1,df2,key) # ç±»ä¼¼SQLä¸­çš„è¿æ¥ï¼Œå¯ä»¥æ ¹æ®ä¸€ä¸ªæˆ–è€…å¤šä¸ªé”®å°†ä¸åŒçš„dataframeè¿æ¥èµ·æ¥pd.join() # ç”¨äºkeyçš„åˆå¹¶df.groupby(&quot;A&quot;)[[&quot;C&quot;, &quot;D&quot;]].sum() # ç±»ä¼¼SQLä¸­çš„group by# é‡å¡‘å’Œå¤šç´¢å¼•çœ‹ä¸æ‡‚ï½ 3.4æ—¶é—´åºåˆ—å¤„ç†å‡½æ•°ä¸“é¢˜ 12345resample() #å°†ç¬¬äºŒåˆ—æ•°æ®è½¬æ¢æˆ5minï¼Œæœ‰ç‚¹æ„æ€series.tz_localize() # å°†æ—¶é—´åºåˆ—è½¬æ¢æˆä¸ºæœ¬åœ°æ—¶åŒºseries.tz_convert() # å°†æ—¶åŒºæ„ŸçŸ¥æ—¶é—´åºåˆ—è½¬æ¢æˆä¸ºå¦ä¸€ä¸ªæ—¶åŒº.to_period() # è½¬æ¢æˆä¸ºæ—¶é—´è·¨åº¦.to_timestamp() # è½¬æ¢æˆä¸ºæ—¶é—´æˆ³ 0x04 Pandas ç”¨æˆ·æ•™ç¨‹ åœ¨ç”¨æˆ·æ•™ç¨‹ä¸­ï¼ŒPandasæä¾›äº†ä¸€äº›æ›´åŠ ç»†è‡´çš„ä¸“é¢˜ã€‚è¿™é‡Œåªç»™å‡ºæœ‰è¶£çš„è¯é¢˜ 4.1 æ•°æ®ç»“æ„ç®€ä»‹ intro to data structure å’Œç¬¬ä¸‰ç« çš„ç±»ä¼¼ 4.2 å…³é”®åŸºç¡€å‡½æ•° essential basic functionality Attention02:å¯¹äºdataframeçš„æ“ä½œå¯ä»¥ä¸‰ä¸ªç»´åº¦ï¼šå…ƒç´ çš„ç»´åº¦ã€è¡Œæˆ–è€…åˆ—çš„ç»´åº¦ã€æ•´ä¸ªDataFrameçš„ç»´åº¦ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687# æŸ¥çœ‹.head().tail().shape.index.columns.to_numpy().array()# Attention03:æ›´åŠ æ¨èä½¿ç”¨è¿™ä¸¤ä¸ªï¼Œè€Œä¸æ˜¯ä½¿ç”¨valuesæ¥ç´¢å¼•ã€‚å› ä¸ºdataframeä¸­å¸¸è§çš„æ“ä½œåŒ…æ‹¬æ‰©å±•ç±»å‹ï¼Œæˆ–è€…ä¸åŒç±»å‹ï¼Œä½¿ç”¨valueså¯èƒ½ä¼šå‡ºç°æ€§èƒ½ä¸Šçš„é—®é¢˜# è¿ç®—ï¼ˆelementLevelï¼‰df1 &gt; df2df1*df2df1+df2# äºŒç»´è¿ç®—ï¼Œè¿™é‡Œéœ€è¦é‡è§† 1.é«˜ç»´å’Œä½ç»´ä¹‹é—´å­˜åœ¨broadcasting 2.è®¡ç®—ä¸­æ•°æ®ä¸¢å¤±çš„æƒ…å†µ.add() # ç›¸åŠ ï¼Œå¯ä»¥è®¾ç½®axiså‡½æ•°.sub() # ç›¸å‡ï¼Œå¯ä»¥è®¾ç½®axis.mul() # ç›¸ä¹˜ï¼Œå¯ä»¥è®¾ç½®axis.div() # ç›¸é™¤ï¼Œå¯ä»¥è®¾ç½®axis.radd().rsub().divmod() # å•†ï¼Œå’Œä½™# ç¼ºå¤±å€¼æ“ä½œfill_value=0 #å¯é€‰å‚æ•°.fill_na() #åˆ©ç”¨å‡½æ•°å¡«è¡¥# äºŒè¿›åˆ¶æ¯”è¾ƒæ–¹æ³• eq ne lt qt le ge# å¸ƒå°”è¿ç®—ç¬¦å·.empty() # æµ‹è¯•å¯¹è±¡æ˜¯å¦ä¸ºç©º.all() # æµ‹è¯•å¹¶.any() # æµ‹è¯•æˆ–.bool() # æµ‹è¯•å•ä¸ªå…ƒç´ #Attention 04ï¼šä¸å¯ä»¥ä½¿ç”¨ if df:...ï¼Œè¿™æ ·ä¸ç¬¦åˆå¸ƒå°”é€»è¾‘# æè¿°æ€§åˆ†æsum()mean()quantile()cumsum()cumprod()describe()idxmin() # å¯»æ‰¾æœ€å°å€¼ä¸‹æ ‡ argminidxmax() # å¯»æ‰¾æœ€å¤§å€¼ä¸‹æ ‡ argmaxres=df.value_counts()mode()# discretization and quantilingcut() #åŸºäºå€¼çš„binqcut() #åŸºäºåˆ†ä½æ•°çš„bin# å‡½æ•°åº”ç”¨ï¼špipeline(),apply(),applymap(); èšåˆå‡½æ•°agg() and transform()# å°è¯•æƒ³è±¡ä¸€ä¸‹å¦‚ä½•æ–°å¢ä¸¤ä¸ªåˆ—def extractCityName(df): df[&#x27;cityName&#x27;]=df[&#x27;cityAndCode&#x27;].str.aplit(&quot;,&quot;).str.get(0) return dfdef addCountryName(df,countryName=None): col=&#x27;cityName&#x27; df[&#x27;cityAndCounty&#x27;]=df[col]+countryNamedf_p=pd.Dataframe(&#123;&#x27;cityAndCode&#x27;:[&#x27;chicago&#x27;,&#x27;IL&#x27;]&#125;)# ç°åœ¨å¯ä»¥æœ‰ä¸¤ç§æ–¹å¼æ¥æ–°å¢å¿ƒå¾—countryNameaddCounryName(extractCityName(df_p),country_name=&#x27;US&#x27;)#æ³•1df_p.pipeline(extractCityName).pipe(addCountryName,countryName=&#x27;US&#x27;)#æ³•2:æˆ–è€…ä½¿ç”¨pipeline# é‡ç´¢å¼• reindex# è¿­ä»£ iterationfor label,ser in df.items(): print(label) print(ser)for row_index,row in df.iterrows(): print(row)for row in df.itertuples(): print(row)# æ’åºè®¿é—®.sort_index().sort_values() 4.5 ç´¢å¼•å’Œé€‰æ‹©æ•°æ® Indexing and selecting data å’Œæ–°æ‰‹æ•™ç¨‹å·®ä¸å¤š 4.6 å¤šé‡ä¸‹æ ‡å’Œé«˜çº§ç´¢å¼• MultiIndex and advanced indexing å’Œæ–°æ‰‹æ•™ç¨‹å·®ä¸å¤š 4.6.5 Mergeã€joinã€concatenateã€compare å’ŒSQLæ•™ç¨‹å·®ä¸å¤š 4.7 é‡å¡‘å’Œæ•°æ®é€è§†è¡¨ 12345678910111213141516# pivot() æ¥æŒ‰ç…§å…ƒç´ è¿›è¡Œå †å ,å¯ä»¥é€‰æ‹©stackæˆ–è€…unstack date variable value0 2000-01-03 A 0.4691121 2000-01-04 A -0.2828632 2000-01-05 A -1.5090593 2000-01-03 B -1.1356324 2000-01-04 B 1.2121125 2000-01-05 B -0.1732156 2000-01-03 C 0.1192097 2000-01-04 C -1.0442368 2000-01-05 C -0.8618499 2000-01-03 D -2.10456910 2000-01-04 D -0.49492911 2000-01-05 D 1.071804pivoted = df.pivot(index=&quot;date&quot;, columns=&quot;variable&quot;, values=&quot;value&quot;) å‰©ä½™çš„å¤ªç†è®ºäº†ï½ 0x05 å¿ƒå¾— æ–‡æ¡£å¾ˆå¤šï¼Œä½†æ˜¯å…¶ä¸­ç»™å‡ºå¼€å‘è€…çš„defaultçš„é€‰é¡¹ï¼Œå¯ä»¥æé«˜å¯¹å…¶çš„ç†è§£ã€‚","categories":[{"name":"Baseline","slug":"Baseline","permalink":"https://blog.tjdata.site/categories/Baseline/"}],"tags":[{"name":"pandas","slug":"pandas","permalink":"https://blog.tjdata.site/tags/pandas/"}]},{"title":"macOSä½¿ç”¨æŠ€å·§_é¢„è§ˆPreview","slug":"macOSä½¿ç”¨æŠ€å·§_é¢„è§ˆPreview","date":"2023-05-04T05:39:12.000Z","updated":"2023-05-13T13:49:54.370Z","comments":true,"path":"posts/de0c5bf1.html","link":"","permalink":"https://blog.tjdata.site/posts/de0c5bf1.html","excerpt":"é¢„è§ˆPreview","text":"é¢„è§ˆPreview åœ¨Mç³»åˆ—çš„macä¸Šï¼Œé¢„è§ˆçš„å¯ä»¥å°†æ‰«æçš„PDFä¸­çš„æ–‡å­—è½¬æ¢æˆä¸ºå¯ç¼–è¾‘çŠ¶æ€ã€‚è½¬æ¢æ—¶é—´å¤§æ¦‚200é¡µçš„PDFéœ€è¦5åˆ†é’Ÿï½ exportå°±ä¼šæœ‰ä¸‹åˆ—é€‰é¡¹","categories":[{"name":"Memo","slug":"Memo","permalink":"https://blog.tjdata.site/categories/Memo/"}],"tags":[{"name":"ä½¿ç”¨æŠ€å·§","slug":"ä½¿ç”¨æŠ€å·§","permalink":"https://blog.tjdata.site/tags/%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"}]},{"title":"CS229-10-problemSet01","slug":"CS229-10-problemSet01","date":"2023-01-10T01:03:17.000Z","updated":"2023-05-13T13:47:47.454Z","comments":true,"path":"posts/7b309918.html","link":"","permalink":"https://blog.tjdata.site/posts/7b309918.html","excerpt":"Problem set00 æ˜¯å…³äºçº¿æ€§ä»£æ•°å’Œå¤šå…ƒå¾®ç§¯åˆ†å­¦çš„åŸºæœ¬çŸ¥è¯†ï¼ŒProblem set 01ä¸»è¦æ˜¯ç›‘ç£å­¦ä¹ ã€‚ä½œä¸šè¦æ±‚æœ€å¥½ä½¿ç”¨LaTexè¿›è¡Œç¼–å†™ï¼ŒåŒæ—¶éœ€è¦å°†libraryä¿å­˜åˆ°environment.ymlæ–‡ä»¶ä¸­ï¼Œå¹¶ä¿è¯run.pyè„šæœ¬å¯ä»¥æ­£å¸¸è¿è¡Œã€‚","text":"Problem set00 æ˜¯å…³äºçº¿æ€§ä»£æ•°å’Œå¤šå…ƒå¾®ç§¯åˆ†å­¦çš„åŸºæœ¬çŸ¥è¯†ï¼ŒProblem set 01ä¸»è¦æ˜¯ç›‘ç£å­¦ä¹ ã€‚ä½œä¸šè¦æ±‚æœ€å¥½ä½¿ç”¨LaTexè¿›è¡Œç¼–å†™ï¼ŒåŒæ—¶éœ€è¦å°†libraryä¿å­˜åˆ°environment.ymlæ–‡ä»¶ä¸­ï¼Œå¹¶ä¿è¯run.pyè„šæœ¬å¯ä»¥æ­£å¸¸è¿è¡Œã€‚ 0x01 çº¿æ€§åˆ†ç±»ï¼ˆé€»è¾‘å›å½’å’Œå¹¿ä¹‰çº¿æ€§æ¨¡å‹ï¼‰ 1.1 é—®é¢˜å›é¡¾ Linear classifiers ( logistic regression and GDA) åœ¨æœ¬æ¬¡ä½œä¸šä¸­å°†å›é¡¾ä¹‹å‰çš„æ¦‚ç‡çº¿æ€§åˆ†ç±»å™¨ï¼Œ åˆ¤åˆ«çº¿æ€§åˆ†ç±» (discriminative linear classifier) ï¼šé€»è¾‘å›å½’ ç”Ÿæˆçº¿æ€§åˆ†ç±» ï¼ˆgenerative linear classifierï¼‰ï¼šé«˜æ–¯åˆ¤åˆ«æ¨¡å‹ ä¸¤è€…å‡å¯ä»¥å°†ä¸€ä¸ªæ•°æ®é›†åˆ†æˆä¸¤ç±»ï¼Œä½†æ˜¯åŸºäºä¸åŒçš„å‡è®¾ï¼Œæœ¬æ¬¡é—®é¢˜çš„ç›®çš„æ˜¯æ‰¾åˆ°ä¸¤è€…çš„ç›¸åŒç‚¹å’Œå·®å¼‚ã€‚ 1.2 å®é™…é—®é¢˜ æ³¨æ„HessiançŸ©é˜µä¸ºPSDï¼Œåˆ™è¯´æ˜æŸå¤±å‡½æ•°æ˜¯å‡¸ï¼ˆconvexï¼‰çš„ï¼Œä¹Ÿå°±æ˜¯å­˜åœ¨æå€¼ç‚¹ p(yâˆ£x,theta)=p(y,x,theta)/p(x,theta)=p(x,thetaâˆ£y)p(y)/p(x,theta)p(y|x,theta)=p(y,x,theta)/p(x,theta)=p(x,theta|y)p(y)/p(x,theta) p(yâˆ£x,theta)=p(y,x,theta)/p(x,theta)=p(x,thetaâˆ£y)p(y)/p(x,theta) 1.3 é—®é¢˜æ±‚è§£ ç”±äºå…¬å¼è¾ƒå¤šï¼Œåªèƒ½ç»™å‡ºæ€è·¯ ï¼ˆ1ï¼‰ å±•å¼€æ±‚å¯¼å°±èƒ½å‘ç°æ˜¯å¤§äº0 ï¼ˆ2ï¼‰codingå°±å®Œäº‹äº†ï¼Œnumpyçš„MATLABçš„çŸ©é˜µè®¡ç®—æ–¹å¼ ï¼ˆ3ï¼‰GDAæŒ‰ç…§è´å¶æ–¯å±•å¼€å°±è¡Œäº† ï¼ˆ4ï¼‰ å‘ç°æ˜¯ç›¸åŒçš„ ï¼ˆ5ï¼‰ï¼ˆ6ï¼‰ï¼ˆ7ï¼‰ï¼ˆ8ï¼‰æ˜¯ä¸€äº›å¯è§†åŒ–çš„ä¸œè¥¿ 0x02 ä¸å®Œæ•´ã€åªæœ‰æ­£æ ‡ç­¾ï¼šIncompleteï¼ŒPositive- only labels 2.1 é—®é¢˜å›é¡¾ å‡è®¾åœ¨æˆ‘ä»¬æ²¡æœ‰å¾—åˆ°å®Œæ•´çš„æ ‡ç­¾çš„æƒ…å†µä¸‹çš„ï¼Œåªèƒ½ç¡®å®šæ€§å¾—åˆ°éƒ¨åˆ†çš„æ­£æ ·æœ¬ï¼Œè€Œä¸èƒ½å¾—åˆ°å…¶ä»–æ ·æœ¬çš„æ ‡ç­¾ã€‚ä¹Ÿå°±æ˜¯æ‰€æœ‰è´Ÿæ ·æœ¬å’Œå‰©ä½™çš„æ­£æ ·æœ¬æ˜¯æ²¡æœ‰æ ‡ç­¾çš„ã€‚ è¿™é“é¢˜çš„é—®é¢˜è®¾ç½®æ›´åƒæ˜¯ä¸€ç§å¼•å¯¼ï¼Œå¦‚ä½•ç†è§£è¿™ç§æƒ…å†µä¸‹å¦‚ä½•æ„å»ºæ¨¡å‹ 2.2 é—®é¢˜ åç»­æ˜¯é‚£ä¸ªcoding problem 2.3 é—®é¢˜è§£ç­” ï¼ˆ1ï¼‰ ç®€å•éšæœºæ ·æœ¬æŠ½æ · 0x03 æ³Šæ¾åˆ†å¸ƒçš„æ‹Ÿåˆ é‡æ–°å›å½’GLMä¸­çš„ä¸‰ä¸ªåŸºæœ¬å‡è®¾ï¼š æœ¬é‡æ–°è®¤è¯†åˆ°ï¼š ç¬¬ä¸€ä¸ªassumptionç»™å‡ºäº†yçš„åˆ†å¸ƒï¼è¿™å¯ä»¥ç”¨æ¥è®¡ç®—ä¼¼ç„¶å‡½æ•° ç¬¬äºŒä¸ªassumptionç»™å‡ºå¦‚ä½•ç¡®å®šhypothesisï¼Œä¹Ÿå°±æ˜¯æ¨¡å‹ ç¬¬ä¸‰ä¸ªassumptionä¼¼ä¹æ˜¯äººä»¬è®¾è®¡å¥½çš„ï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½å¯¹ä¸€äº›çº¿æ€§æ¨¡å‹åšå‡è®¾ 0x04 å¹¿ä¹‰çº¿æ€§æ¨¡å‹çš„convexç›¸å…³çš„ç ”ç©¶ å¤ªç†è®ºäº†çœ‹ä¸ä¸‹å»ï½ 0x05 åŠ æƒçº¿æ€§å›å½’ é™¤äº† åˆ©ç”¨gradient descentæ±‚è§£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨normal equationæ¥è¿›è¡Œå‚æ•°çš„æ±‚è§£ï¼›éå¸¸çš„å¥‡å¦™ï¼ æ³¨æ„è¿™éƒ¨åˆ†å’Œåé¢çš„attentionæœ‰å…³ç³» åé¢çš„å…¬å¼å¤ªå¤šäº†ä¸æƒ³æ‰“ï¼Œ 0x06 æ„Ÿæ‚Ÿ åŠ¨æ‰‹æ‰èƒ½å‘ç°å­¦ä¹ çš„é—®é¢˜æ‰€åœ¨ï¼ŒåŠ¨æ‰‹æ‰èƒ½çŸ¥é“ä»£ç åº”è¯¥å¦‚ä½•å®è·µï¼ å¯¹äºç°å®ä¸–ç•Œçš„æŠ½è±¡å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿›ä¸€æ­¥å­¦ä¹ å’Œç ”ç©¶ï¼Œè™½ç„¶çŸ©é˜µçš„å®šä¹‰å¾ˆç®€å•ï¼Œä½†æ˜¯åªæœ‰åœ¨è¿™ä¸ªæŠ½è±¡å®šä¹‰çš„åŸºç¡€ä¸Šæ‰èƒ½å‘å±•å‡ºçº¿æ€§ä»£æ•°è¿™é—¨å­¦ç§‘ï¼Œæ‰èƒ½ç”¨æ­¤è§£å†³é—®é¢˜ã€‚","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"CS229","slug":"CS229","permalink":"https://blog.tjdata.site/tags/CS229/"}]},{"title":"CS229-10-problemSet00","slug":"CS229-10-problemSet00","date":"2023-01-09T02:11:12.000Z","updated":"2023-05-13T13:47:43.837Z","comments":true,"path":"posts/c37a98e.html","link":"","permalink":"https://blog.tjdata.site/posts/c37a98e.html","excerpt":"CS229çš„homeworkä¹‹å‰ä¸€ç›´æ²¡æœ‰å†™ï¼Œè¶è¿™ä¸ªå¯’å‡ç»“æŸæ‰å®ƒï¼å¦‚æœ‰é”™è¯¯æ¬¢è¿æŒ‡æ­£ï¼","text":"CS229çš„homeworkä¹‹å‰ä¸€ç›´æ²¡æœ‰å†™ï¼Œè¶è¿™ä¸ªå¯’å‡ç»“æŸæ‰å®ƒï¼å¦‚æœ‰é”™è¯¯æ¬¢è¿æŒ‡æ­£ï¼ 0x01 Gradients and Hessiansï¼šæ±‚å¯¼å’Œæµ·æ£®çŸ©é˜µ 1.1 å®šä¹‰å›é¡¾ Symmetric: å¯¹ç§°çŸ©é˜µ 1.2 é—®é¢˜ 1.3 è§£ç­” (1)âˆ‡f(x)=Ax+b(1)\\nabla f(x)=Ax+b (1)âˆ‡f(x)=Ax+b (2)âˆ‡f(x)=gâ€²(h(x))âˆ‡h(x)(2)\\nabla f(x)=g&#x27;(h(x)) \\nabla h(x) (2)âˆ‡f(x)=gâ€‹â€²â€‹â€‹(h(x))âˆ‡h(x) (3)âˆ‡2f(x)=AT=A(3)\\nabla^2f(x)=A^T=A (3)âˆ‡â€‹2â€‹â€‹f(x)=Aâ€‹Tâ€‹â€‹=A (4)âˆ‡2f(x)=gâ€²â€²(aTx)aTa(4) \\nabla^2 f(x)=g&#x27;&#x27;(a^Tx)a^Ta (4)âˆ‡â€‹2â€‹â€‹f(x)=gâ€‹â€²â€²â€‹â€‹(aâ€‹Tâ€‹â€‹x)aâ€‹Tâ€‹â€‹a 0x02 Positive definite matrices : æ­£å®šçŸ©é˜µ 2.1 å®šä¹‰å›é¡¾ positive semi-definite(PSD): åŠæ­£å®šçŸ©é˜µ positive definite: æ­£å®šçŸ©é˜µï¼Œegï¼šå•ä½é˜µ Null-space: æ ¸ï¼Œè¡¨ç¤ºä¸€ä¸ªç®—å­çš„é›¶ç©ºé—´æ˜¯æ–¹ç¨‹AV=0AV=0AV=0çš„æ‰€æœ‰è§£vvvçš„é›†åˆ Rank: çŸ©é˜µAçš„åˆ—ç§©æ˜¯Açº¿æ€§æ— å…³çš„çºµåˆ—çš„æå¤§æ•°ç›®ï¼›å¯ä»¥ç”¨äºè®¡ç®—çº¿æ€§æ–¹ç¨‹ç»„è§£çš„æ ‘æœ¨ã€ä¹Ÿå¯ä»¥ç”¨æ¥ç¡®å®šçº¿æ€§ç³»ç»Ÿæ˜¯å¦ä¸ºå¯æ§åˆ¶çš„ã€å¯è§‚å¯Ÿçš„ 2.2 é—®é¢˜ 2.3 è§£ç­” (a) A^T=(zz^T)=z^Tz=zz^T=A\\\\x^Tzz^Tx=(x^Tz)(x^Tz)^T \\geq0 (b) Nullï¼ˆAï¼‰=\\{x \\in Z;Ax=0\\} ä¸¤è¾¹åŒæ—¶ä¹˜xTx^Txâ€‹Tâ€‹â€‹ xTzzTx=(zTx)T(zTx)=0x^Tzz^Tx=(z^Tx)^T(z^Tx)=0 xâ€‹Tâ€‹â€‹zzâ€‹Tâ€‹â€‹x=(zâ€‹Tâ€‹â€‹x)â€‹Tâ€‹â€‹(zâ€‹Tâ€‹â€‹x)=0 å¯ä»¥åŒ–ç®€ä¸º Null(A)=Null(z)=xâˆˆz,zx=0Null(A)=Null(z)={x \\in z, z^x=0} Null(A)=Null(z)=xâˆˆz,zâ€‹xâ€‹â€‹=0 å› ä¸ºRank(z)â‰¤1Rank(z) \\leq 1Rank(z)â‰¤1,ä½†æ˜¯zéé›¶;ç»“åˆNull(A)=Null(z)Null(A)=Null(z)Null(A)=Null(z) R(A)=R(z)=1R(A)=R(z)=1 R(A)=R(z)=1 (c)(c) (c) ç»“åˆAçš„PSDç‰¹ç‚¹å¯ä»¥è¯æ˜ï¼Œç•¥ 0x03 Eigenvectorsï¼Œeigenvaluesï¼Œspectral theoremï¼šç‰¹å¾å‘é‡ã€ç‰¹å¾å€¼ã€è°±å®šç† 3.1 å®šä¹‰å›é¡¾ Eigenvectors &amp; Eigenvaluesï¼šç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ æ±‚è§£pA(Î»)=det(Î»Iâˆ’A)p_A(\\lambda)=det(\\lambda I-A)pâ€‹Aâ€‹â€‹(Î»)=det(Î»Iâˆ’A)æˆ–è€…Ax=Î»xAx=\\lambda xAx=Î»xä¹‹é—´çš„å…³ç³» Diagonal matrixï¼šå¯¹è§’çŸ©é˜µï¼Œå¯ä»¥ç”¨det(d1,d2,...)det(d1,d2,...)det(d1,d2,...)è¡¨ç¤º Orthogonalï¼šæ­£äº¤çŸ©é˜µ Spectral theoremï¼šè°±å®šç† 3.2 é—®é¢˜ 3.3 è§£è¯» (a)(a) (a) ä¸¤è¾¹åŒä¹˜é€† AT=TÎ›AT=T\\Lambda AT=TÎ› åˆÎ›=diag(Î»1,...,Î»n)\\Lambda=diag(\\lambda_1,...,\\lambda_n)Î›=diag(Î»â€‹1â€‹â€‹,...,Î»â€‹nâ€‹â€‹) At(i)=Î»it(i)At^{(i)}=\\lambda_it^{(i)} Atâ€‹(i)â€‹â€‹=Î»â€‹iâ€‹â€‹tâ€‹(i)â€‹â€‹ æ‰€ä»¥ç‰¹å¾å€¼å¯¹åº”çš„å‘é‡ä¸º(Î»i,t(i))(\\lambda_i,t^{(i)})(Î»â€‹iâ€‹â€‹,tâ€‹(i)â€‹â€‹) (b)(b) (b) å› ä¸ºAæ˜¯å¯¹ç§°çŸ©é˜µï¼ŒUä¸ºæ­£äº¤çŸ©é˜µï¼ŒåŒæ—¶ AU=Î›UAU=\\Lambda U AU=Î›U æ‰€ä»¥åŒä¸Š $$Au{(i)}=\\lambda_iu{(i)}$$ (c)$$ æ ¹æ®è°±å®šç†å¯ä»¥å¾—åˆ° $$\\Lambda=U^TAU \\geq 0 å› æ­¤å¤§äºç­‰äº0","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"CS229","slug":"CS229","permalink":"https://blog.tjdata.site/tags/CS229/"}]},{"title":"Paper04_Combining_Reinforcement_Learning_and Constraint_Programming_for_Combinatorial Optimization","slug":"Paper04_Combining_Reinforcement_Learning_and   Constraint_Programming_for_Combinatorial Optimization","date":"2022-12-18T07:49:13.000Z","updated":"2023-05-13T13:50:37.602Z","comments":true,"path":"posts/bbefc8de.html","link":"","permalink":"https://blog.tjdata.site/posts/bbefc8de.html","excerpt":"æ‘˜è¦","text":"æ‘˜è¦ https://arxiv.org/abs/2006.01610 Abstract Combinatorial Optimization åº”ç”¨å¹¿æ³›ï¼šä»èˆªç©ºé¢†åŸŸã€äº¤é€šè§„åˆ’ç”šè‡³åˆ°ç»æµå­¦ä¸­ï¼Œå®ƒçš„ç›®æ ‡æ˜¯åœ¨æœ‰é™çš„è§£ç©ºé—´ä¸­æ‰¾åˆ°æœ€ä¼˜è§£ï¼ˆfind an optimal solution among a finite set of possibilitiesï¼‰ï¼Œå…¶é¢ä¸´çš„æœ€ä¸¥é‡çš„æŒ‘æˆ˜ä¸ºQ-state-actionæ–¹æ³• ä¸­æåˆ°çš„ çŠ¶æ€ç©ºé—´çˆ†ç‚¸ï¼ˆState- space explosion problemï¼‰ï¼šé—®é¢˜çš„è§£ç©ºé—´å²é—®é¢˜è§„æ¨¡å¢å¤§æˆæŒ‡æ•°å‹çš„å¢å¤§ï¼Œå¯¼è‡´å¯¹äºä¸€äº›å¤§å‹çš„é—®é¢˜éš¾ä»¥æ±‚è§£ï¼›å¦ä¸€æ–¹é¢DRLï¼ˆdeep reinforcement learningï¼‰åœ¨æ±‚è§£NP-hard ç»„åˆä¼˜åŒ–é—®é¢˜è¿‡ç¨‹å¯¹è®¾è®¡å¥½çš„å¯å‘å¼æ±‚è§£ç®—æ³•å…·æœ‰æ¯”è¾ƒå¥½çš„è´¡çŒ®ï¼Œä½†æ˜¯ç°æœ‰çš„æ–¹æ³•å…·æœ‰ä¸¤ä¸ªç¼ºç‚¹ ä»–ä»¬ä»…ä»…ä¸“æ³¨äºæ ‡å‡†çš„TSPé—®é¢˜ï¼Œä¸å®¹æ˜“æ‹“å±•åˆ°å…¶ä»–é—®é¢˜ é€šå¸¸åªç»™å‡ºä¸€ç§è¿‘ä¼¼è§£ï¼ˆapproximate solutionï¼‰ï¼Œè€Œæ²¡æœ‰ç»™å‡ºä¸€ç§ç³»ç»Ÿçš„æ–¹æ³•æ¥æé«˜æˆ–è€…è¯æ˜å®ƒçš„æœ€ä¼˜æ€§ï¼ˆOptimalityï¼‰ åœ¨å¦å¤–ä¸€ç§æƒ…å†µä¸‹ï¼ŒConstraint programming æ˜¯è§£å†³ç»„åˆä¼˜åŒ–é—®é¢˜çš„é€šç”¨å·¥å…·ï¼ŒåŸºäºä¸€ä¸ªå®Œæ•´çš„æœç´¢è¿‡ç¨‹ï¼Œé€šå¸¸å¯ä»¥åœ¨æ¯”è¾ƒå¤§çš„è¿è¡Œæ—¶é—´ä¸­æ‰¾åˆ°æœ€ä¼˜è§£ã€‚å…¶ä¸­å†³å®šæ€§çš„ç¡®å®šæœç´¢çš„æ–¹å‘ï¼Œæˆ–è€…è¯´åˆ†æç­–ç•¥ï¼Œæˆ–è€…è¯´æ˜¯æ¢ç´¢ç­–ç•¥ã€‚ åœ¨æœ¬æ–‡ä¸­æˆ‘ä»¬æå‡ºä¸€ç§é€šç”¨å’Œæ··åˆçš„æ–¹æ³•ï¼ˆlï¼‰çš„æ–¹æ³•ï¼Œç»“åˆCPå’ŒDRLæ¥æ±‚è§£COPï¼Œä¸»è¦æ˜¯åŸºäºè¿ç­¹å­¦Part01â€“dynamic programming ä½œä¸ºä¸¤è€…ä¹‹é—´çš„æ¡¥æ¢ï¼Œå¹¶é€šè¿‡å®éªŒæ¥è¯æ˜æ±‚è§£å™¨åœ¨ä¸¤ä¸ªæœ‰æŒ‘æˆ˜æ€§çš„é—®é¢˜ä¸Šè¿›è¡Œæ±‚è§£ï¼šTSPTW the traveling salesman problem with time windows å’Œ 4POP 4-moments portfolio optimization problem,å®æ—¶è¯æ˜æ¯”ä¸€äº›å•ç‹¬çš„RLæˆ–è€…åˆ©ç”¨é€šç”¨æ±‚è§£å™¨æ•ˆæœæ›´å¥½ Brief Conclusion Pï¼šå…·æœ‰å¤šé¡¹å¼æ—¶é—´ç®—æ³•ï¼Œç®—å¾—å¾ˆå¿«çš„é—®é¢˜ NPï¼šä¸ç¡®å®šéœ€è¦å¤šé•¿æ—¶é—´ï¼Œä½†æ˜¯æˆ‘ä»¬éªŒè¯å®ƒåªéœ€è¦å¤šé¡¹å¼æ—¶é—´ NP- completeï¼šå±äºNPé—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿå±äºNP-hardé—®é¢˜ NP-hardï¼šæ¯”NPé—®é¢˜éƒ½è¦éš¾çš„é—®é¢˜ NPé—®é¢˜ æŒ‡çš„æ˜¯éç¡®å®šæ€§å¤šé¡¹å¼é—®é¢˜ï¼ˆnon- deterministic polynomial NPï¼‰ï¼Œéç¡®å®šæ€§æŒ‡çš„æ˜¯å¯ç”¨ä¸€å®šæ•°é‡çš„è¿ç®—å»è§£å†³å¤šé¡¹å¼æ—¶é—´å†…å¯è§£å†³çš„é—®é¢˜ï¼Œé€šå¸¸è§£å†³é—®é¢˜åŒ…æ‹¬ï¼šTSPã€Hamiltonå›è·¯é—®é¢˜ã€æœ€å¤§å›¢é—®é¢˜ï¼›ä½†æ˜¯å…¶å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…å¯ä»¥è¢«éªŒè¯å…¶æ­£ç¡®å®šçš„é—®é¢˜ NP-hardé—®é¢˜ æŒ‡çš„æ˜¯non- deterministic polynomial time hardnessï¼Œå¦‚æœæ‰€æœ‰çš„NPé—®é¢˜éƒ½å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´è§„çº¦åˆ°æŸä¸ªé—®é¢˜ï¼Œåˆ™ç§°è¿™ä¸ªé—®é¢˜ä¸ºNPå›°éš¾ Introduction åœ¨ç»„åˆä¼˜åŒ–ä¸­å¤§å¤šæ•°é—®é¢˜ä¸ºNP-hardé—®é¢˜ï¼Œå¯¹å…¶é«˜æ•ˆçš„ä¼˜åŒ–ç®—æ³•çš„æ¢ç´¢ç”±æ¥å·²ä¹…ã€‚å¹¿æ³›çš„å¯ä»¥å°†å…¶åˆ†ä¸ºä¸¤ç§æ–¹æ³• ç²¾ç¡®ç®—æ³• exact algorithm æ˜¯åŸºäºå¯¹æ±‚è§£ç©ºé—´çš„å®Œæ•´å¹¶ä¸”å·§å¦™çš„æšä¸¾ï¼Œå®ƒçš„ä¼˜ç‚¹æ˜¯å¯ä»¥é€‰æ‹›åˆ°æœ€ä¼˜è§£ï¼Œä½†æ˜¯åœ¨å¯¹äºä¸€äº›å¤§å‹çš„æ¡ˆä¾‹ä¸­å¾€å¾€ä¼šå‡ºç°æ±‚è§£æ—¶é—´æ‰©å¤§ã€‚ä½†ä¹Ÿæœ‰å¦å¤–çš„è¯´æ³•å¯ä»¥è®©ç²¾ç¡®ç®—æ³•åœ¨æ‰¾åˆ°æœ€ä¼˜è§£ä¹‹å‰å°±ç»ˆæ­¢çš„æ–¹å¼æ¥æ¢ç´¢å¾—åˆ°æ¬¡ä¼˜è§£ã€‚è¿™ç§çµæ´»æ€§è®©ç²¾ç¡®æ±‚è§£ç®—æ³•æ›´åŠ appealingå¹¶ä¸”practicalï¼Œä¹Ÿæ­£æ˜¯å¦‚æ­¤æ„æˆäº†ç°ä»£æ±‚è§£å™¨çš„æ ¸å¿ƒ CPLEXã€Gurobiã€Gecodeç­‰ç­‰ã€‚è¿™æ˜¯ä¸€ä¸ªCPçš„ä»‹ç»ï¼Œé€šè¿‡additional asset ç”¨æ¥æ±‚è§£éå¸¸å¤§çš„å¤æ‚æ€§çš„COPé—®é¢˜ï¼Œé€šå¸¸æ··åˆæ•´æ•°è§„åˆ’mixed integer programming MIP æ±‚è§£å™¨å¾€å¾€åªèƒ½æ±‚è§£çº¿æ€§é—®é¢˜æˆ–è€…æœ‰é™çš„éçº¿å½¢é—®é¢˜ã€‚ Handbook of Constraint Programming è€Œåœ¨åˆ©ç”¨CPè¿›è¡Œæ±‚è§£çš„è¿‡ç¨‹ä¸­é‡è¦çš„æ˜¯branching strategyï¼Œéå¸¸è‡ªç„¶çš„ï¼Œå¥½çš„è®¾è®¡çš„å¯å‘å¼çš„æ¢ç´¢æ–¹æ³•å¯ä»¥å¾ˆå¥½çš„å‘ç°æ±‚è§£ï¼Œä½†æ˜¯å·®çš„å¯å‘å¼åˆ†æç­–ç•¥å¾€å¾€ä¼šå¯¼è‡´è¿›å…¥æ²¡æœ‰è§£çš„å­ç©ºé—´ã€‚æ‰€ä»¥åœ¨CPæ±‚è§£é—®é¢˜ä¸­bråˆ†æç­–ç•¥çš„ç ”ç©¶æ˜¯éå¸¸çƒ­é—¨çš„è¯é¢˜ å¯å‘å¼ç®—æ³• heuristic algorithm æ˜¯ä¸€ç§éå®Œå…¨çš„æ‰‹æ®µæ¥æ±‚è§£å¾—åˆ°æœ€ç»ˆè§£ï¼Œä½†æ˜¯ä¸èƒ½è¯æ˜è§£çš„æœ€ä¼˜æ€§ã€‚ä»–ä»¬é€šå¸¸éœ€è¦ç‰¹å®šå­é—®é¢˜çš„çŸ¥è¯†æ‰èƒ½æ„å»ºä»–ä»¬ã€‚åœ¨è¿‘å‡ å¹´ï¼ŒLecture01 Deep Reinforcement Learning, Decision Making,and Control åœ¨å¯¹ä¸€äº›NP-hardçš„COPé—®é¢˜çš„è¿‘ä¼¼æ±‚è§£ä¸­å–å¾—äº†éå¸¸å¥½çš„æˆæœã€‚åªè¦ä¸€ä¸ªæ¨¡å‹è®­ç»ƒå¥½ï¼Œåœ¨å®è·µä¸­çš„è¿è¡Œæ—¶é—´æ˜¯å¯ä»¥å¿½ç•¥ä¸è®¡çš„ï¼Œåˆ©ç”¨DRLæ±‚è§£é—®é¢˜çš„å‰ææ˜¯ æˆ‘ä»¬çŸ¥é“å®é™…é—®é¢˜çš„ä¾‹å­åˆ†å¸ƒ æˆ‘ä»¬æœ‰è¶³å¤Ÿå¤šçš„æ ·æœ¬ï¼Œå¹¶å¯ä»¥ä»ä¸­é‡‡æ ·æ¥è®­ç»ƒæ¨¡å‹ ä½†æ˜¯ç°æœ‰çš„DRLåœ¨COPåº”ç”¨ä¸­å­˜åœ¨çš„ä¸€äº›é—®é¢˜è¡¨é˜” ä»…é™äºæ±‚è§£ç‰¹å®šçš„é—®é¢˜ï¼Œæ¯”å¦‚TSP å…¶æ¬¡ï¼Œå®ƒä»¬ä»…æ—¨åœ¨å……å½“å»ºè®¾æ€§çš„å¯å‘å¼æ–¹æ³•ï¼Œå¹¶ä¸”ä¸å®Œæ•´çš„æ–¹æ³•ï¼ˆä¾‹å¦‚CPï¼‰ä¸åŒï¼Œæ²¡æœ‰ç³»ç»Ÿçš„æ–¹æ³•æ¥æ”¹è¿›æ‰€è·å¾—çš„è§£å†³æ–¹æ¡ˆã€‚ ä¸Šè¿°çš„ç²¾ç¡®ç®—æ³• exact algorithm å’ŒåŸºäºå­¦ä¹ çš„å¯å‘å¼ç®—æ³• heuristic algorithm éƒ½å…·æœ‰å¥½å¤„å’Œåå¤„ï¼Œå¾ˆè‡ªç„¶çš„å°±æœ‰ä¸€ä¸ªé—®é¢˜ æˆ‘ä»¬æ˜¯å¦å¯ä»¥å°†ä»–ä»¬çš„ä¼˜ç‚¹è”åˆèµ·æ¥æ¥æ±‚è§£COP åœ¨æœ¬æ–‡ä¸­æˆ‘ä»¬æˆæœå°†RLä¸CPåˆ©ç”¨è¿ç­¹å­¦Part01â€“dynamic programming ç»“åˆèµ·æ¥ï¼ŒåŠ¨æ€è§„åˆ’åœ¨å¾ˆå¤šåœºåˆä¸­éƒ½å…·æœ‰å¾ˆæˆæœçš„ä½œç”¨ï¼Œæ˜¯ä¸€ç§éå¸¸å…³é”®çš„å»ºæ¨¡COPé—®é¢˜çš„æ–¹æ³•ï¼Œç®€å•æ¥è¯´DPé—®é¢˜å°†ä¸€ä¸ªé—®é¢˜åˆ†è§£æˆä¸ºå­é—®é¢˜å¹¶é€šè¿‡é€’å½’å…¬å¼ï¼ˆrecursive formulationï¼Œæ¯”å¦‚å¸¸è§çš„bellman equationç»“åˆèµ·æ¥ï¼‰ï¼Œå…¶ä¸­DPé¢ä¸´çš„è‹¦éš¾å¸¸å¸¸æ˜¯ ç»´åº¦ç¾éš¾é—®é¢˜ï¼šç”Ÿæˆçš„å­é—®é¢˜çš„æ•°é‡å‘ˆæŒ‡æ•°çº§å¢é•¿ï¼Œä»¥è‡³äºå°†å®ƒä»¬å…¨éƒ¨å­˜å‚¨åœ¨å†…å­˜ä¸­å˜å¾—ä¸å¯è¡Œã€‚ æ®æˆ‘ä»¬æ‰€çŸ¥æ˜¯ç¬¬ä¸€æ¬¡åœ¨CPæ±‚è§£å™¨ä¸­å†…ç½®å¯å­¦ä¹ çš„å¯å‘å¼æ¢ç´¢ï¼Œè¯¦ç»†çš„è´¡çŒ®å¦‚ä¸‹ï¼š å¯¹äºCOPé—®é¢˜æ–°çš„DPç¼–ç æ–¹å¼æ¥åˆ©ç”¨RLæ±‚è§£å’ŒCPæ¨¡å‹ åˆ©ç”¨ä¸¤ç§å¸¸è§çš„RLæ¨¡å‹ï¼ŒDQLã€PPOï¼Œè®­ç»ƒæ•°æ®é›†æ˜¯ä»é—®é¢˜ä¸­éšæœºæŠ½æ ·å¾—åˆ°çš„ ä¸ç°æœ‰çš„CPæ±‚è§£è¿‡ç¨‹ä¸­åˆ†æç­–ç»“åˆï¼Œå½¢æˆä¸‰ç§ brand and bound \\ iterative limited discrpancy search and restart based searchä¸‰ç§ ç»™å‡ºæœ‰æ„ä¹‰çš„ç»“æœ ä»£ç å¼€æºï¼Œä¸ºäº†ç®€åŒ–åç»­ç ”ç©¶çš„è¿›ç¨‹ é€šå¸¸å¦‚æœæ²¡æœ‰å†…åœ¨çš„å‡è®¾ï¼Œæ¯”å¦‚çº¿å½¢å’Œå‡¸æ€§ï¼ŒDPä¸èƒ½ç®€å•çš„ç¼–ç ç„¶ååˆ©ç”¨æ ‡å‡†çš„MIPæ–¹æ³•æ±‚è§£ï¼Œè¿™ä¹Ÿæ˜¯é©±åŠ¨æˆ‘ä»¬æ€è€ƒå°è¯•ä½¿ç”¨CPè¿›è¡Œç¼–ç çš„åŸå› ä¹‹ä¸€ ä¸‹ä¸€ç« ç»™å‡ºæ··åˆæ•´æ•°æ±‚è§£å™¨æ±‚è§£çš„è¿‡ç¨‹ å¯¹ä¸¤ä¸ªæ¡ˆä¾‹è¿›è¡Œå®éªŒåˆ†æ æœ€åç»™å‡ºæ€»ç»“ 2 æ•°æ®è¡¨å¾ è¿™ä¸€éƒ¨åˆ†æ€»ç»“æˆ‘ä»¬æå‡ºçš„å®Œæ•´çš„æ¡†æ¶ï¼Œä¸€ä¸ªæ¦‚æ‹¬æ€§çš„æ¡†æ¶å›¾åœ¨å›¾ä¸€ä¸­å±•ç¤ºï¼Œåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š å­¦ä¹ éƒ¨åˆ†ï¼Œåˆ©ç”¨éšæœºç”Ÿæˆçš„ä¾‹å­é€šè¿‡unifying representationä½œä¸ºRLçš„ç¯å¢ƒè¿›è¡Œè®­ç»ƒï¼Œæœ€ç»ˆè®­ç»ƒçš„æ™ºèƒ½ä½“æ˜¯å¯¹æ±‚è§£è¿‡ç¨‹ä¸­searchçš„å¯å‘å¼åˆ†æç­–ç•¥è¿›è¡ŒåŸºäºä»·å€¼çš„é€‰æ‹©ï¼ˆæˆ–è€…è¯´æ˜¯å¼ºåŒ–å­¦ä¹ çš„æ¢ç´¢ï¼‰ æ±‚è§£éƒ¨åˆ†ï¼Œåˆ©ç”¨CPå¯¹æ¨¡å‹è¿›è¡Œæ±‚è§£ï¼ŒåŒæ—¶å¯¹æ±‚è§£çš„æ¡ˆä¾‹è¿›è¡Œè¯„ä¼° è”åˆè¡¨ç¤ºé˜¶æ®µï¼Œè®²è¾“å…¥çš„COPé—®é¢˜ï¼Œç»“åˆDominance pruning ruleså‰ªæç­–ç•¥å¾—åˆ°åŠ¨æ€è§„åˆ’æ¨¡å‹çš„å»ºæ¨¡ï¼Œè¿™æ ·å¯ä»¥ä½œä¸ºå­¦ä¹ é˜¶æ®µçš„ç¯å¢ƒï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ±‚è§£èŠ‚ç‚¹çš„è¾“å…¥æ¨¡å‹ ç»¿è‰²è¡¨ç¤ºæˆ‘ä»¬çš„åŸåˆ›å…±äº«ï¼Œè“è‰²è¡¨ç¤ºå·²ç»æœ‰çš„æ¡†æ¶ 2.1 åŠ¨æ€è§„åˆ’æ¨¡å‹ åŠ¨æ€è§„åˆ’æ¨¡å‹æ˜¯ä¸€ç§å°†æ•°å­¦å»ºæ¨¡ä¸è®¡ç®—æœºç¼–ç¨‹è”ç³»èµ·æ¥æ±‚è§£å¤æ‚ä¼˜åŒ–é—®é¢˜çš„æ‰‹æ®µï¼Œç®€å•æ¥è¯´æ˜¯å°†ä¸€ä¸ªå¤§çš„é—®é¢˜è½¬æ¢æˆå¾ˆå¤šå°çš„å­é—®é¢˜ç„¶åå°†ä»–ä»¬åˆ©ç”¨recursive formulationçš„æ–¹å¼è”ç³»èµ·æ¥æœ€ç»ˆæ±‚è§£ï¼Œå…¶ä¸­åŒ…æ‹¬çš„ä¸€äº›å…³é”®çš„å½±å“å› ç´  Q COPé—®é¢˜ controls C domain D transition T states S stage reward R validity conditions V dominance rules P å…¶ä¸­validity conditions å’Œdominance rulesä¹‹é—´çš„åŒºåˆ«åœ¨äºä¸¤è€…ä¹‹é—´çš„åŒºåˆ«åœ¨äºï¼Œæœ‰æ•ˆæ€§æ¡ä»¶æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œä»¥ç¡®ä¿DPæ¨¡å‹çš„æ­£ç¡®æ€§ï¼ˆV ï¼ˆsï¼Œ xï¼‰ = 0 â‡” Tï¼ˆsï¼Œ xï¼‰ = âŠ¥ï¼‰ï¼Œè€Œä¼˜åŠ¿è§„åˆ™ä»…ç”¨äºæ•ˆç‡ç›®çš„ï¼ˆPï¼ˆsï¼Œ xï¼‰ = 0 â‡’ Tï¼ˆsï¼Œ xï¼‰ = âŠ¥ï¼‰ï¼Œå…¶ä¸­â‡”ã€â‡’å’ŒâŠ¥è¡¨ç¤ºç­‰ä»·æ€§ã€å«ä¹‰ã€ å’Œä¸å¯è¡Œçš„çŠ¶æ€ï¼Œåˆ†åˆ«ã€‚å…¶ä¸­DPå»ºæ¨¡å¯ä»¥åŒ…æ‹¬ Sï¼ŒXï¼ŒTï¼ŒRï¼ŒVï¼ŒPï¼›æ ¹æ®è´å°”æ›¼æ–¹ç¨‹æˆ‘ä»¬å¯ä»¥ä¸€ç›´è®¡ç®—åˆ°å¼€å¤´çš„çŠ¶æ€çš„ä»·å€¼ã€‚ ä½†æ˜¯DPæ”¶åˆ°curse of dimensionalityçš„å½±å“ï¼Œåœ¨è§£å†³å¤§çš„çŠ¶æ€æˆ–è€…åŠ¨ä½œç©ºé—´ä¸‹éœ€è¦çš„å†…å­˜å¾ˆå¤šï¼Œä¸€ç§æ–¹æ³•æ˜¯å¯¹å…¶è¿›è¡Œå‰ªæå¤„ç†ï¼Œå…¶ä¸­éœ€è¦è¯„ä¼° æ­¤é—®é¢˜çš„éƒ¨åˆ†è§£å†³æ–¹æ¡ˆæ˜¯ä¿®å‰ªä¸»å¯¼æ“ä½œ ï¼ˆPï¼ˆsï¼Œ xï¼‰ = 0ï¼‰ã€‚å¦‚æœä¸€ä¸ªåŠ¨ä½œæ ¹æ®é€’å½’å…¬å¼æ˜¯æœ‰æ•ˆçš„ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸»å¯¼çš„ï¼Œä½†ï¼ˆ1ï¼‰è¦ä¹ˆä¸¥æ ¼åœ°æ¯”å¦ä¸€ä¸ªåŠ¨ä½œå·®ï¼Œè¦ä¹ˆï¼ˆ2ï¼‰å®ƒä¸èƒ½å¯¼è‡´å¯è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚åœ¨å®è·µä¸­ï¼Œä¿®å‰ªè¿™äº›ä¸»å¯¼æ“ä½œä¼šå¯¹æœç´¢ç©ºé—´çš„å¤§å°äº§ç”Ÿå·¨å¤§å½±å“ï¼Œä½†æ˜¯åœ¨å®è·µè¿‡ç¨‹ä¸­æ‰¾åˆ°è¿™æ ·çš„æ±‚è§£æ–¹æ¡ˆå¹¶ä¸æ˜¯å®¹æ˜“çš„ è€Œä¸”å°±ç®—åœ¨DPè¿‡ç¨‹ä¸­å¯¹ä¸Šè¿°çš„å­é—®é¢˜è¿›è¡Œä¿®å»ºä¹‹åä»ä¸èƒ½ç¡®ä¿è§£ç©ºé—´è¶³å¤Ÿå° 2.2 å¼ºåŒ–å­¦ä¹ ç¼–ç  ä»DPé—®é¢˜ä¸­ï¼Œç»“åˆä¸€ä¸ªå®é™…COPé—®é¢˜å¯ä»¥å®šä¹‰ä¸€ä¸ªå¼ºåŒ–å­¦ä¹ è¿‡ç¨‹ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå…³äºå¼ºåŒ–å­¦ä¹ çš„æ¦‚è¿° ä»‹ç»å¼ºåŒ–å­¦ä¹ çš„ä½œç”¨ï¼š ä»‹ç»ä¸€ä¸ªåŸºæœ¬çš„è¿‡ç¨‹ 2.2.1 State å¯¹äºDPé—®é¢˜ä¸­ä¸åŒçš„é˜¶æ®µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ï¼ˆQï¼Œs_iï¼‰ä½œä¸ºå½“å‰çŠ¶æ€çš„å®šä¹‰ï¼Œé€šå¸¸çŠ¶æ€è¢«embedä¸€ç§å¼ é‡ä½œä¸ºç¥ç»ç½‘ç»œçš„è¾“å…¥ï¼Œä¹ŸåŒ…æ‹¬actionï¼Œæœ€ç»ˆè¾“å‡ºæ˜¯æœ€ä¼˜çš„åŠ¨ä½œ 2.2.2 Action ç»™å®šä¸€ä¸ªDPé—®é¢˜ä¸­çš„stateï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€ç§ä¸€å¯¹ä¸€å…³ç³»çš„ï¼Œaia_iaâ€‹iâ€‹â€‹å¯ä»¥è¢«é‡‡ç”¨é™¤éxix_ixâ€‹iâ€‹â€‹æ˜¯æœ‰æ•ˆçš„ï¼Œé€šå¸¸å¯è¡Œçš„åŠ¨ä½œå¯ä»¥ç”±domainå’Œvalidè¿›è¡Œåˆ¤æ–­ 2.2.3 Transition è¾“å…¥å½“å‰çŠ¶æ€å’Œä¾—æ—å“¦ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨DPé—®é¢˜æ¥è¿›è¡Œè½¬æ¢å°±è¡Œ 2.2.4 Reward æœ€åˆçš„æƒ³æ³•æ˜¯ä½¿ç”¨DPé—®é¢˜ä¸­å­˜åœ¨çš„å¥–åŠ±ï¼Œä½†æ˜¯è¿™æ ·å¯èƒ½ä¼šå­˜åœ¨æ²¡æœ‰è§£çš„è½¨è¿¹å¥–åŠ±è¦é«˜äºæœ‰è§£æ–¹æ¡ˆçš„å¥–åŠ±ï¼Œå› æ­¤åœ¨è®¾è®¡å¥–åŠ±çš„éœ€è¦è€ƒè™‘COPé—®é¢˜ä¸­å­˜åœ¨çš„ä¸¤ä¸ªåŸåˆ™ 1ï¼Œ å¦‚æœe1æ¯”e2æ›´åï¼Œæˆ‘ä»¬éœ€è¦e1çš„å¥–åŠ±å°äºe2çš„å¥–åŠ± æ‰€æœ‰æ‰¾åˆ°å¯è¡Œè§£çš„è½¨è¿¹éœ€è¦æ¯”æ²¡æœ‰æ‰¾åˆ°å¯è¡Œè§£çš„è½¨è¿¹é«˜ R(s,a)=Ï•(1+âˆ£UB(Qp)âˆ£+r(s,a)R(s,a)=\\phi(1+|UB(Q_p)|+r(s,a) R(s,a)=Ï•(1+âˆ£UB(Qâ€‹pâ€‹â€‹)âˆ£+r(s,a) UBå¯¹åº”è§„åˆ’é—®é¢˜å¯èƒ½åˆ°è¾¾çš„ä¸Šé™ï¼Œç¬¬äºŒä¸ªé—®é¢˜å¼ºè¿«æ™ºèƒ½ä½“å»å¯»æ‰¾åˆ°æœ€ä½³çš„å¯è¡Œè§£ï¼Œæœ€ç»ˆçš„scaling factor é˜²æ­¢æœ€ç»ˆå¥–åŠ±è½å…¥é›¶å€¼å‘¨è¾¹ 2.3 å­¦ä¹ æ–¹æ³• DQN PPO æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„å‡è®¾ï¼Œåˆ©ç”¨ç”Ÿæˆå™¨å¾—åˆ°instanceçš„æ—¶å€™ï¼Œå¾—åˆ°çš„åˆ†å¸ƒä¸å®é™…é—®é¢˜ä¸­çš„é—®é¢˜æƒ³ç­‰ï¼Œè¿™ä¹Ÿæ˜¯åœ¨RLè§£å†³å…¶ä»–é—®é¢˜ä¸­å¸¸è§çš„å‡è®¾ï¼Œå¼ºåŒ–å­¦ä¹ çš„è¿‡ç¨‹æ˜¯å¸Œæœ›å­¦ä¹ å‡ºä¸åŒçŠ¶æ€å’ŒåŠ¨ä½œä¸‹å¾—åˆ°ä¸åŒçš„Qï¼Œæˆ‘ä»¬çš„ç­–ç•¥å¾€å¾€æ˜¯é‡‡ç”¨æœ€å¤§Qå€¼çš„ä¸œè¥¿ï¼Œåˆ©ç”¨DQNå¾—åˆ°Qå€¼çš„è®­ç»ƒè¿‡ç¨‹æœ‰ 12345# Trainerâ€”â€”DQNï¼ˆï¼‰# class Envï¼Œ# class BrainDQN# class TSPTW# class state å±•ç°ä»£ç çš„è°ƒç”¨è¿‡ç¨‹ è¿™ä¸€æ­¥ä»…ä»…æ˜¯å¸Œæœ›è®­ç»ƒå‡ºDQNçš„brainï¼Œè€Œæ²¡æœ‰å…¶ä»–çš„ä¸œè¥¿ é‡ç‚¹åœ¨ç¯å¢ƒç”Ÿæˆï¼Œä»¥åŠè®­ç»ƒçš„æ•´ä¸ªè¿‡ç¨‹ é¦–å…ˆç¡®ä¿å¦‚ä½•ç”Ÿæˆä¸€ä¸ªTSPTWé—®é¢˜ ä¹‹åç”Ÿæˆå¤šä¸ªä½œä¸ºè®­ç»ƒçš„é›†åˆ åŒæ—¶åœ¨æ¯æ¬¡è®­ç»ƒä¸­æé«˜ 2.4 ç½‘ç»œæ¡†æ¶ ä¸ºäº†ç¡®ä¿æ¡†æ¶çš„é€šç”¨å‹å’Œæœ‰æ•ˆæ€§ï¼Œå¯¹äºç½‘ç»œæ¡†æ¶æˆ‘ä»¬éœ€è¦ç¡®ä¿ä¸¤ä»¶äº‹æƒ… å¯¹äºç›¸åŒçš„COPé—®é¢˜ï¼Œå¯ä»¥æœ‰ä¸åŒçš„è¾“å…¥å°ºå¯¸ å¯¹è¾“å…¥çš„æ’åˆ—ä¿æŒä¸å˜ ä¸ºäº†ä¿è¯è¿™æ ·çš„æ¶æ„æˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨ä¸€ç§Transformeræ¶æ„ï¼Œå¯¹äºTSPé—®é¢˜å¤©ç„¶çš„æˆ‘ä»¬å¯ä»¥é‡‡ç”¨GATçš„æ–¹å¼æ¥å®ç°åºåˆ—åˆ°åºåˆ—çš„è½¬æ¢ å¯¹äºDQNç½‘ç»œä¸­æœ€åä¸€å±‚çš„è¾“å…¥æ˜¯ä¸åŒåŠ¨ä½œå¯¹åº”çš„Q- value 2.5 CP Encoding ç°åœ¨ä»‹ç»å¦‚ä½•å°†DPè¿‡ç¨‹ç¼–ç æ”¾å…¥Constraint model CP DP variable and domains X- decision variablesï¼Œset of the variablesï¼Œè¡¨ç¤ºåŠ¨ä½œ X X-auxiliary variablesï¼Œè¡¨ç¤ºstate S Dï¼Œset of the domain V Cï¼Œset of the constraints P Oï¼Œobjective function åœ¨åé¢Né˜¶æ®µä¸­çš„æœ€å¤§å€¼ï¼Œè¿™é‡Œçš„åŠ¨æ€è§„åˆ’æ–¹å‘ä»…ä»…å’Œx_aæœ‰å…³ 2.6 æœç´¢ç­–ç•¥ ä¸DPæ–¹å¼ç›¸åŒï¼Œæˆ‘ä»¬ç”¨æ­¤æ¥æ„å»ºRLçš„ç¯å¢ƒï¼ˆå¹¶å›ºå®šCOé—®é¢˜ï¼‰æ¥å¾—åˆ°åŠ¨ä½œçš„è¾“å‡ºï¼Œæ¡†æ¶çš„ç»Ÿä¸€æ€§æ˜¯é—®é¢˜çš„æ ¸å¿ƒï¼Œè¿™ä¸€éƒ¨åˆ†å±•ç¤ºæˆ‘ä»¬å¦‚ä½•å°†å­¦ä¹ çš„æ¨¡å‹åµŒå…¥åˆ°CPæœç´¢ä¸­ï¼Œæˆ‘ä»¬è€ƒè™‘å‡ ç§å¸¸è§çš„æœç´¢æ–¹å¼ Depth-first branch-and-bound search iterative limited discrepancy search restart based search è¿™é‡Œä»…ä»‹ç»ç¬¬ä¸€ç§æœç´¢ç­–ç•¥ä¸DQNçš„ç»“åˆï¼ŒDFSç¡®ä¿äº†å½“ä¸€ä¸ªå¯è¡Œè§£æ‰¾åˆ°ä¹‹åï¼Œä¸‹ä¸€ä¸ªè§£éœ€è¦å¥½ä¸å½“å‰çš„ï¼Œå½“é‡åˆ°æ²¡æœ‰å¯è¡Œçš„åˆ†æ”¯ä¼šå›æº¯åˆ°ä¹‹å‰çš„åˆ†æ”¯ï¼Œç”±æ­¤æ¥ç¡®ä¿æ•´ä¸ªè§£ç©ºé—´éƒ½å¾—åˆ°éå†ï¼ŒåŒæ—¶æœ€ç»ˆå¾—åˆ°çš„è§£å¯ä»¥è¢«è¯æ˜æ˜¯æœ€ä¼˜çš„optimalï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éœ€è¦éå¸¸å¥½çš„value- selection åœ¨å­¦ä¹ ä¹‹åï¼ŒDQNçš„ä½œç”¨æ˜¯è¾“å…¥å½“å‰çš„çŠ¶æ€ï¼Œä»¥åŠå¯è¡Œçš„åŠ¨ä½œï¼Œè¾“å…¥ä¸åŒåŠ¨ä½œçš„æœ€å¤§å€¼ï¼Œè¿™é‡Œå¯ä»¥è´ªå¿ƒæœç´¢çš„æ–¹å¼è¿›è¡Œä¸‹å»ï¼Œå°½ç®¡å¯èƒ½ä¸æ˜¯æœ€ä¼˜çš„ï¼Œéœ€è¦ä¿è¯å’ŒDPé—®é¢˜ä¸­å­˜åœ¨çš„ä¸€è‡´æ€§ï¼Œé€šå¸¸è¿™é‡Œä¼šæœ‰ä¸€äº›è¿‘ä¼¼å˜é‡æ¥ä½œä¸ºå¯¹DPé—®é¢˜çš„å…³é”®å½±å“ï¼Œä½†æ˜¯è¿™é‡Œä¸æ˜¯é‡ç‚¹ æ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹è¡¨æ‰€ç¤ºâ¬‡ï¸ 3 Experimental result TSPTWæ˜¯ä»ä¼ ç»Ÿçš„TSPé—®é¢˜ä¸­å¾—åˆ°çš„ï¼Œåªæ˜¯ç»™æ‰€æœ‰çš„salesmanå¢åŠ ä¸€ä¸ªæ—¶é—´çª—çš„æ¦‚å¿µï¼Œæœ€ç»ˆè§„å®šéœ€è¦åœ¨è§„å®šæ—¶é—´å†…æ²¿ç€æ‰€æœ‰çš„èŠ‚ç‚¹èµ°ä¸€åœˆã€‚ Vehicle Routing Problem with Time Windows | OR-Tools | Google Developers æœ€ç»ˆè¯æ˜äº†ç»“æœ 4 Discussion and Limitation é¦–å…ˆæœ¬æ–‡å¹¶ä¸æ˜¯ç¬¬ä¸€ä¸ªå°è¯•ä½¿ç”¨MLæ¥å¼•å¯¼ä¼˜åŒ–æ±‚è§£å™¨çš„åˆ†æ”¯ï¼Œä½†æ˜¯ä»–ä»¬çš„æ–¹æ³•ä¸“æ³¨äºç›‘ç£å­¦ä¹ å¹¶ä¸”ä»…é™äºçº¿æ€§é—®é¢˜ï¼Œè¿™é‡Œæœ¬æ–‡çš„å…±äº« å…³æ³¨ä¸å°†COPé—®é¢˜å»ºæ¨¡æˆä¸ºDP å®Œå…¨åˆ©ç”¨RLè¿›è¡Œè®­ç»ƒ åŒæ—¶ç»“åˆCPé—®é¢˜çš„å®Œæ•´æ€§ï¼Œå¯ä»¥æ›´å¥½çš„æ±‚è§£ä¸€ç³»åˆ—é—®é¢˜åŒ…æ‹¬éçº¿æ€§çº¦æŸæˆ–è€…éçº¿æ€§çº¦æŸå‡½æ•° åŒæ—¶æˆ‘ä»¬ä¹Ÿä¸éœ€è¦ä¸€äº›å†å²æ•°æ®æˆ–è€…ä»¿çœŸç”Ÿæˆå™¨ï¼ŒåŒæ—¶æ˜¯ä¸€ç§ç«¯åˆ°ç«¯çš„æ±‚è§£å™¨ï¼Œå¹¶ä¸”å¯ä»¥è¯æ˜æ±‚è§£ç»“æœçš„æœ€ä¼˜æ€§ 5 Conclusion è¿™äº›ç»“æœè¡¨æ˜ï¼Œè¯¥æ¡†æ¶å¯èƒ½æ˜¯è§£å†³å…·æœ‰æŒ‘æˆ˜æ€§çš„ç»„åˆä¼˜åŒ–é—®é¢˜çš„ä¸€ç§æœ‰å‰é€”çš„æ–°é€”å¾„ã€‚ 1 æ€»ç»“çš„ppt","categories":[{"name":"RL","slug":"RL","permalink":"https://blog.tjdata.site/categories/RL/"}],"tags":[{"name":"paper","slug":"paper","permalink":"https://blog.tjdata.site/tags/paper/"}]},{"title":"Paper03_Rainbow_Combining_Improvements_in_Deep_Reinforcement_Learning","slug":"Paper03_Rainbow_Combining_Improvements_in_Deep_Reinforcement_Learning","date":"2022-11-06T10:38:36.000Z","updated":"2023-05-13T13:50:20.683Z","comments":true,"path":"posts/d590ba5e.html","link":"","permalink":"https://blog.tjdata.site/posts/d590ba5e.html","excerpt":"ä½œè€…ï¼šHessel, M., Modayil, J., Van Hasselt, H., Schaul, T., Ostrovski, G., Dabney, W., â€¦ &amp; Silver, D. å®éªŒå®¤ï¼šGoogle DeepMind è®ºæ–‡åœ°å€ï¼šhttps://arxiv.org/pdf/1710.02298 å‘è¡¨ï¼š In Thirty-second AAAI conference on artificial intelligence.","text":"ä½œè€…ï¼šHessel, M., Modayil, J., Van Hasselt, H., Schaul, T., Ostrovski, G., Dabney, W., â€¦ &amp; Silver, D. å®éªŒå®¤ï¼šGoogle DeepMind è®ºæ–‡åœ°å€ï¼šhttps://arxiv.org/pdf/1710.02298 å‘è¡¨ï¼š In Thirty-second AAAI conference on artificial intelligence. 0x01 æ‘˜è¦ 1.1 æ‘˜è¦â€“èƒŒæ™¯åŠé—®é¢˜ ä»DQN1æ¨å¯¼è¿‡ç¨‹ä¸­å‘ç°ä¾æ—§å­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼Œå¸¸è§çš„æ”¹è¿›æªæ–½Double DQN2ã€Dueling DQN3ã€Prioritized replay4ã€Multi-step5ã€Distributional RL6ã€Noisy Net7ç­‰æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å¹¶ä¸æ˜¯å®Œå…¨ç‹¬ç«‹ï¼Œæ¯”å¦‚åœ¨Duelingä¸­å…¶å®å·²ç»å°†Double DQNå’ŒPrioritized replayç»“åˆèµ·æ¥ã€‚ 1.2 æ‘˜è¦â€“æ–¹æ³• æœ¬æ–‡å¸Œæœ›å°†ä¸Šè¿°å…­ç§DQNæ–¹æ³•ç»“åˆç»éªŒèåˆåœ¨ä¸€èµ·ï¼Œæ¥å¾—åˆ°ä¸€ä¸ªæ›´å¥½çš„ç½‘ç»œã€‚ 1.3 æ‘˜è¦â€“è´¡çŒ® æˆä¸ºAtari 2600ä¸­SOTA æˆ‘ä»¬è¿˜æä¾›è¯¦ç»†çš„æ¶ˆèç ”ç©¶çš„ç»“æœï¼Œè¯¥ç ”ç©¶ç»“æœæ˜¾ç¤ºäº†æ¯ä¸ªç»„ä»¶å¯¹æ•´ä½“æ€§èƒ½çš„è´¡çŒ®ã€‚ 0x02 é—®é¢˜èƒŒæ™¯ 2.1 RL problem &amp; è®°å· å¼ºåŒ–å­¦ä¹ å¸Œæœ›ä¸€ä¸ªå…·æœ‰è¡Œä¸ºï¼ˆaction)çš„æ™ºèƒ½ä½“(agent) åœ¨ä¸ç¯å¢ƒ(environment)äº¤äº’çš„è¿‡ç¨‹å¯ä»¥æœ€å¤§åŒ–å¥–åŠ±(reward),åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¹¶ä¸ä¼šç›´æ¥ç›‘ç£å¼çš„å­¦ä¹ ã€‚è¿™é‡Œåˆ†äº«å¦å¤–ä¸€ç§å®šä¹‰: ä¸€ã€Mathematical formalism for learning- based decision making äºŒã€Approach for learning decision making and control form experience **MDP (Markov Decision Process) {S,A,T,r,Î³}\\{S,A,T,r,\\gamma\\}{S,A,T,r,Î³} ** åœ¨ä¸åŒçš„æ—¶é—´æ­¥ä¸‹t=0,1,2,..t=0,1,2,..t=0,1,2,..ï¼Œç¯å¢ƒçŠ¶æ€StS_tSâ€‹tâ€‹â€‹æä¾›ç»™æ™ºèƒ½ä½“ä¸€ä¸ªè§‚æµ‹ä¿¡æ¯OtO_tOâ€‹tâ€‹â€‹,é€šå¸¸æˆ‘ä»¬ä¼šè®¤ä¸ºæ˜¯å®Œå…¨è§‚æµ‹(å³St=OtS_t=O_tSâ€‹tâ€‹â€‹=Oâ€‹tâ€‹â€‹)ï¼ŒåŒæ—¶æ™ºèƒ½ä½“æ ¹æ®è§‚æµ‹ä¿¡æ¯åšå‡ºåŠ¨ä½œAtA_tAâ€‹tâ€‹â€‹, ä¹‹åç¯å¢ƒç»™å‡ºä¸‹ä¸€ä¸ªå¥–åŠ±Rt+1R_{t+1}Râ€‹t+1â€‹â€‹,å¥–åŠ±çš„æŠ˜æ‰£Î³t+1\\gamma_{t+1}Î³â€‹t+1â€‹â€‹ä»¥åŠæ›´æ–°çŠ¶æ€ä¸ºSt+1S_{t+1}Sâ€‹t+1â€‹â€‹ åœ¨è¿™ä¸ªè¿‡ç¨‹é€šå¸¸S,AS,AS,Aæ˜¯æœ‰é™çš„æƒ…å†µ,å¯¹äºç¯å¢ƒæ¥è¯´çŠ¶æ€è½¬ç§»ï¼ˆstochastic transition function)ï¼›å¥–åŠ±æ–¹ç¨‹åŒ…æ‹¬ T(s,a,sâ€²)=P[St+1=sâ€²âˆ£St=s,At=a]T(s,a,s&#x27;)=P[S_{t+1=s&#x27;}|S_t=s,A_t=a] T(s,a,sâ€‹â€²â€‹â€‹)=P[Sâ€‹t+1=sâ€‹â€²â€‹â€‹â€‹â€‹âˆ£Sâ€‹tâ€‹â€‹=s,Aâ€‹tâ€‹â€‹=a] r(s,a)=E[Rt+1âˆ£St=s,At=a]r(s,a)=E[R_{t+1}|S_t=s,A_t=a] r(s,a)=E[Râ€‹t+1â€‹â€‹âˆ£Sâ€‹tâ€‹â€‹=s,Aâ€‹tâ€‹â€‹=a] å¯¹äºæ™ºèƒ½ä½“æ¥è¯´ï¼Œæ ¹æ®çŠ¶æ€StS_tSâ€‹tâ€‹â€‹ï¼ˆæˆ–è€…å®Œå…¨è§‚æµ‹ä¸‹çš„è§‚æµ‹OtO_tOâ€‹tâ€‹â€‹)å¾—åˆ°å¾—åˆ°åŠ¨ä½œAtA_tAâ€‹tâ€‹â€‹æ¥è‡ªäºç­–ç•¥Ï€\\piÏ€ï¼ˆpolicy),åœ¨åºåˆ—å†³ç­–ä¸­æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æœ€å¤§åŒ–æŸä¸ªçŠ¶æ€é‡‡å–æŸä¸ªåŠ¨ä½œçš„æŠ˜æ‰£å¥–åŠ±ä¹‹å’Œ P(At=a)=Ï€Î¸[At=aâˆ£St=s]P(A_t=a)=\\pi_{\\theta}[A_t=a|S_t=s] P(Aâ€‹tâ€‹â€‹=a)=Ï€â€‹Î¸â€‹â€‹[Aâ€‹tâ€‹â€‹=aâˆ£Sâ€‹tâ€‹â€‹=s] maxGt=Î£k=0âˆrtkRt+k+1max G_t=\\Sigma_{k=0}^{\\infty}r_t^{k}R_{t+k+1} maxGâ€‹tâ€‹â€‹=Î£â€‹k=0â€‹âˆâ€‹â€‹râ€‹tâ€‹kâ€‹â€‹Râ€‹t+k+1â€‹â€‹ æˆ‘ä»¬åœ¨åˆ©ç”¨ç®—æ³•è¿›è¡Œæ¢¯åº¦æå‡é€šå¸¸ä¼šç»è¿‡ä¸‰ä¸ªæ­¥éª¤ ç”Ÿæˆæ ·æœ¬ è¯„ä¼°æ¨¡å‹æˆ–è€…æ˜¯è®¡ç®—return æå‡ç­–ç•¥ 2.2 Policy Gradientï¼šç›´æ¥æå‡policy ä¸ºäº†æœ€å¤§åŒ–ç­–ç•¥çš„å›æŠ¥ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¯¹GtG_tGâ€‹tâ€‹â€‹æœ€å¤§åŒ–ï¼ˆREINFRORCEMENTï¼‰ï¼Œæ¨å¯¼è¿‡ç¨‹ç•¥ æˆ‘ä»¬å¯ä»¥åˆ©ç”¨baselineã€n-stepsã€discountã€import samplingçš„æ–¹æ³•å¯¹ä»–è¿›è¡Œæ”¹è¿›ã€‚ 2.3 Actor-Crticæ–¹æ³•ï¼šReturnä¸Policyåˆ†å¼€ ä¹Ÿå¯ä»¥å¼•å…¥æ–°çš„çŠ¶æ€ä»·å€¼å‡½æ•°VÏ€(s)V^{\\pi}(s)Vâ€‹Ï€â€‹â€‹(s)æ¥ç»“åˆæ‹Ÿåˆçš„æ–¹å¼è®¡ç®—GtG_tGâ€‹tâ€‹â€‹ä¹‹åæœ€å¤§åŒ–(A3C),ä¹Ÿå¯ä»¥ç›´æ¥åˆ©ç”¨ VÏ€(s)V^{\\pi}(s)Vâ€‹Ï€â€‹â€‹(s)å’ŒåŠ¨ä½œçŠ¶æ€ä»·å€¼å‡½æ•°QÏ€(s,a)Q^{\\pi}(s,a)Qâ€‹Ï€â€‹â€‹(s,a)æ¥è¿›è¡ŒåŸºäºä»·å€¼å‡½æ•°çš„å­¦ä¹ æ–¹æ³•ã€‚ VÏ€(s)=EÏ€[Gtâˆ£St=s]V^{\\pi}(s)=E_{\\pi}[G_t|S_t=s] Vâ€‹Ï€â€‹â€‹(s)=Eâ€‹Ï€â€‹â€‹[Gâ€‹tâ€‹â€‹âˆ£Sâ€‹tâ€‹â€‹=s] QÏ€(s,a)=EÏ€[Gtâˆ£St=s,At=a]Q^{\\pi}(s,a)=E_\\pi[G_t|S_t=s,A_t=a] Qâ€‹Ï€â€‹â€‹(s,a)=Eâ€‹Ï€â€‹â€‹[Gâ€‹tâ€‹â€‹âˆ£Sâ€‹tâ€‹â€‹=s,Aâ€‹tâ€‹â€‹=a] æˆ‘ä»¬å¯ä»¥åˆ©ç”¨replay bufferã€ç¥ç»ç½‘ç»œæ¥å­¦ä¹ é™ä½policy gradientä¸­çš„æ–¹å·®ã€‚ 2.4 Value- based method æŠ›å¼ƒpolicy Policy iteration-&gt;Value iteration-&gt;Q learning é¦–å…ˆä»policy iterationä¸value iterationè¯´èµ·ï¼Œå‚è€ƒé“¾æ¥å¯ä»¥çœ‹ä½œæ˜¯åˆ©ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹å¼ååº”å¼ºåŒ–å­¦ä¹ çš„è¿‡ç¨‹ï¼Œä¸¤è€…çš„åŒºåˆ«åœ¨äºååº”çš„æ˜¯è´å°”æ›¼æœŸæœ›è¿˜æ˜¯è´å°”æ›¼æœ€ä¼˜ã€‚ åœ¨åŸºäºä»·å€¼å­¦ä¹ ç®—æ³•çš„è¿‡ç¨‹ä¸­ï¼Œä¼˜ç‚¹æ˜¯æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªç»éªŒå›æ”¾æ± ï¼Œåªéœ€è¦(s,a,sâ€²,r)(s,a,s&#x27;,r)(s,a,sâ€‹â€²â€‹â€‹,r)è€Œä¸æ˜¯éœ€è¦å®Œæ•´çš„å†³ç­–åºåˆ—ã€‚æˆ‘ä»¬é€šå¸¸ä¼šå¼•å…¥éšæœºæ¢ç´¢ï¼ˆexplorationï¼‰çš„æ¦‚å¿µï¼Œå¸¸è§çš„åŒ…æ‹¬Ïµâˆ’Greedy\\epsilon-GreedyÏµâˆ’Greedyçš„æ–¹æ³•ï¼Œåœ¨ä¸€å®šæ¦‚ç‡ä¸‹é€‰æ‹©éç­–ç•¥äº§ç”Ÿçš„åŠ¨ä½œã€‚ åœ¨ value iterationçš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æŠ›å¼ƒå¯¹V(s)V(s)V(s)çš„å­¦ä¹ ï¼Œè€Œåªæ˜¯è®°å½•Q(s,a)Q(s,a)Q(s,a);Q- iteration algorithm(æˆ–è€…Qâˆ’learningQ- learningQâˆ’learningï¼‰çœ‹è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º 2.2 DQNæ¨å¯¼ åœ¨ä¸Šè¿°æˆ‘ä»¬è®¤è¯†å¯¹äºMDPç›®æ ‡ï¼Œä»æ˜¾å¼è¡¨è¾¾Policyï¼Œåˆ°ç»“åˆValue functionå†åˆ°ä¹‹åçš„å®Œå…¨ä½¿ç”¨Value functionæ¥ä½¿ç”¨Q- learningçš„æ–¹æ³•ï¼Œæˆ‘ä»¬æ²¡æœ‰è§£å†³çš„é—®é¢˜åŒ…æ‹¬ çŠ¶æ€-åŠ¨ä½œç©ºé—´çš„è¿ç»­æ€§ åœ¨çŠ¶æ€ç©ºé—´å’ŒåŠ¨ä½œç©ºé—´çº¬åº¦å¤§çš„æ—¶å€™æ— æ³•å‡†ç¡®åˆ»ç”» çŠ¶æ€-åŠ¨ä½œä»·å€¼ éšç€ç¥ç»ç½‘ç»œçš„å‘å±•ï¼Œæˆ‘ä»¬å¸Œæœ›åˆ©ç”¨ç½‘ç»œæ‹Ÿåˆçš„æ–¹å¼æ¥è§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒåŒæ—¶æ¯ä¸€æ­¥åˆ©ç”¨Ïµâˆ’Greedy\\epsilon-GreedyÏµâˆ’Greedyçš„æ–¹å¼æ¥æ¢ç´¢å›æ”¾æ± ä¸­çš„ç»éªŒï¼Œå¹¶åˆ©ç”¨æ¢¯åº¦ä¸‹é™ç­‰æ–¹æ³•æœ€å°åŒ–ä»·å€¼å‡½æ•°è¡¨è¾¾çš„å›æŠ¥ min(Rt+1+Î³t+1maxaâ€²(St+1,aâ€²)âˆ’qÎ¸(St,At))2min (R_{t+1}+\\gamma_{t+1}max_{a&#x27;}(S_{t+1},a&#x27;)-q_{\\theta}(S_t,A_t))^2 min(Râ€‹t+1â€‹â€‹+Î³â€‹t+1â€‹â€‹maxâ€‹aâ€‹â€²â€‹â€‹â€‹â€‹(Sâ€‹t+1â€‹â€‹,aâ€‹â€²â€‹â€‹)âˆ’qâ€‹Î¸â€‹â€‹(Sâ€‹tâ€‹â€‹,Aâ€‹tâ€‹â€‹))â€‹2â€‹â€‹ 1 åˆå§‹åŒ–å¤§å°ä¸ºNNNçš„ç»éªŒå›æ”¾æ± (PSï¼šæ³¨æ„æœ‰å¤§å°é™åˆ¶) 2 ç”¨ç›¸åŒéšæœºçš„ç½‘ç»œå‚æ•°åˆå§‹åŒ–QÎ¸(s,a)Q_{\\theta}(s,a)Qâ€‹Î¸â€‹â€‹(s,a)ä¸ç›®æ ‡ç½‘ç»œQÎ¸â€²(s,a)Q_{\\theta&#x27;}(s,a)Qâ€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹(s,a) 3 for å›åˆepisode=1ï¼ŒN doï¼š 4 è·å–ç¯å¢ƒåˆå§‹çŠ¶æ€s1s_1sâ€‹1â€‹â€‹ 5 for æ—¶é—´æ­¥numstep=1ï¼ŒT doï¼š 6 æ ¹æ®å½“å‰ç½‘ç»œat=maxaQÎ¸(s,a)a_t=max_a Q_{\\theta}(s,a)aâ€‹tâ€‹â€‹=maxâ€‹aâ€‹â€‹Qâ€‹Î¸â€‹â€‹(s,a)ç»“åˆÏµâˆ’Greedy\\epsilon-GreedyÏµâˆ’Greedyæ–¹æ³•æ¥å¾—åˆ°ata_taâ€‹tâ€‹â€‹ï¼ˆPSï¼šæ³¨æ„è¿™ä¸€æ­¥åŠ¨ä½œçš„ç¡®å®šéšå«ä¹‹åDQNå›æŠ¥åå¤§çš„ç‰¹ç‚¹ï¼‰ 7 æ‰§è¡ŒåŠ¨ä½œata_taâ€‹tâ€‹â€‹,è·å–rtr_trâ€‹tâ€‹â€‹,ç¯å¢ƒçŠ¶æ€å˜ä¸ºst+1s_{t+1}sâ€‹t+1â€‹â€‹ 8 å­˜å‚¨ä¸Šè¿°é‡‡æ ·ä¿¡æ¯åˆ°ç»éªŒå›æ”¾æ±  9 if ç»éªŒå›æ”¾æ± æ•°ç›®è¶³å¤Ÿï¼š 10 é‡‡æ ·batchsizeæ ·æœ¬{sti,ati,rti,st+1i}\\{s_t^i,a_t^i,r_t^i,s_{t+1}^i\\}{sâ€‹tâ€‹iâ€‹â€‹,aâ€‹tâ€‹iâ€‹â€‹,râ€‹tâ€‹iâ€‹â€‹,sâ€‹t+1â€‹iâ€‹â€‹} 11 è®¡ç®—ç›®æ ‡å€¼yti=rti+Î³âˆ—maxaQÎ¸^(st+1i,ati)y^i_t=r^i_t+\\gamma*max_aQ_{\\hat \\theta}(s^i_{t+1},a^i_t)yâ€‹tâ€‹iâ€‹â€‹=râ€‹tâ€‹iâ€‹â€‹+Î³âˆ—maxâ€‹aâ€‹â€‹Qâ€‹â€‹Î¸â€‹^â€‹â€‹â€‹â€‹(sâ€‹t+1â€‹iâ€‹â€‹,aâ€‹tâ€‹iâ€‹â€‹) 12 æœ€å°åŒ–æŸå¤±å‡½æ•°L=1N(ytiâˆ’QÎ¸(sti,ati))2L=\\frac{1}{N}(y_t^i-Q_{\\theta}(s_t^i,a_t^i))^2L=â€‹Nâ€‹â€‹1â€‹â€‹(yâ€‹tâ€‹iâ€‹â€‹âˆ’Qâ€‹Î¸â€‹â€‹(sâ€‹tâ€‹iâ€‹â€‹,aâ€‹tâ€‹iâ€‹â€‹))â€‹2â€‹â€‹ 13 æ›´æ–°ç½‘ç»œå‚æ•° 14 END FOR 15 æ›´æ–°ç›®æ ‡ç½‘ç»œå‚æ•° 16 END FOR å…¶ä¸­éå¸¸æœ‰è¶£çš„æŠ€å·§åŒ…æ‹¬ï¼š ç»éªŒå›æ”¾(Experience Replay )ä¸éšæœºæ¢ç´¢;è¿™ä¸€éƒ¨åˆ†ä¸»è¦æ˜¯ä¸ºäº†æé«˜æ ·æœ¬é‡‡æ ·æ•ˆç‡ï¼ŒåŒæ—¶é™ä½åç»­æ¢¯åº¦ä¸‹é™ä¸­æ ·æœ¬çš„ç›¸å…³æ€§ã€‚ ç›®æ ‡ç½‘ç»œ(Target Network)ï¼Œç”±äºTDè¯¯å·®åœ¨ç­–ç•¥æ”¹å˜è¿‡ç¨‹ä¸­ä¹Ÿä¼šæ”¹å˜ï¼Œå› æ­¤é€ æˆç¥ç»ç½‘ç»œæ‹Ÿåˆè¿‡ç¨‹çš„ä¸ç¨³å®šæ€§ï¼Œå› æ­¤æ„å»ºæ–°çš„ç›®æ ‡ç½‘ç»œï¼Œåœ¨æ¯æ¬¡è¿­ä»£è¿‡ç¨‹ä¸­æš‚æ—¶å›ºå®šï¼Œåœ¨å›åˆç»“åˆåæ›´æ–°å‚æ•°ï¼Œè¿™æ ·éœ€è¦ä¸¤å±‚Qç½‘ç»œ ç›¸å…³ä»£ç å®ç° 0x03 DQNæ”¹è¿› è™½ç„¶DQNæˆåŠŸè®©å¼ºåŒ–å­¦ä¹ åœ¨æŸäº›æ–¹é¢è¶…è¿‡äººç±»ï¼Œä½†æ˜¯ä¾æ—§æœ‰è¿™è®¸å¤šé™åˆ¶ã€‚ 3.1 æ”¹è¿›1â€“Double Q- Learning åœ¨DQNä¸­ä¼šæœ‰ä¼°è®¡å€¼è¿‡é«˜çš„æƒ…å†µï¼Œè¯æ˜å¦‚ä¸‹ï¼š targetâˆ’value:yti=rti+Î³maxat+1iQÎ¸^(St+1i,at+1i)target-value:y^i_t=r^i_t+\\gamma max_{a_{t+1}^i}Q_{\\hat \\theta}(S^i_{t+1},a^i_{t+1}) targetâˆ’value:yâ€‹tâ€‹iâ€‹â€‹=râ€‹tâ€‹iâ€‹â€‹+Î³maxâ€‹aâ€‹t+1â€‹iâ€‹â€‹â€‹â€‹Qâ€‹â€‹Î¸â€‹^â€‹â€‹â€‹â€‹(Sâ€‹t+1â€‹iâ€‹â€‹,aâ€‹t+1â€‹iâ€‹â€‹) maxat+1iQÎ¸^(St+1i,at+1i)=QÎ¸^(st+1i,argmaxat+1iQÎ¸^(st+1i,at+1i))max_{a_{t+1}^i}Q_{\\hat \\theta}(S^i_{t+1},a^i_{t+1})=Q_{\\hat \\theta}(s_{t+1}^i,argmax_{a_{t+1}^i}Q_{\\hat \\theta}(s_{t+1}^i,a_{t+1}^i)) maxâ€‹aâ€‹t+1â€‹iâ€‹â€‹â€‹â€‹Qâ€‹â€‹Î¸â€‹^â€‹â€‹â€‹â€‹(Sâ€‹t+1â€‹iâ€‹â€‹,aâ€‹t+1â€‹iâ€‹â€‹)=Qâ€‹â€‹Î¸â€‹^â€‹â€‹â€‹â€‹(sâ€‹t+1â€‹iâ€‹â€‹,argmaxâ€‹aâ€‹t+1â€‹iâ€‹â€‹â€‹â€‹Qâ€‹â€‹Î¸â€‹^â€‹â€‹â€‹â€‹(sâ€‹t+1â€‹iâ€‹â€‹,aâ€‹t+1â€‹iâ€‹â€‹)) æ ¹æ®æœŸæœ›å…¬å¼ E[max(X1,X2)]&gt;max(E(X1),E(X2))E[max(X1,X2)]&gt;max(E(X1),E(X2)) E[max(X1,X2)]&gt;max(E(X1),E(X2)) æˆ‘ä»¬é€šè¿‡è¯æ˜å‘ç°ä¼°è®¡å€¼è¾ƒå¤§çš„åŸå› æ˜¯å› ä¸ºæˆ‘åœ¨æ¨¡å‹é€‰æ‹©è¡Œä¸ºå’Œè®¡ç®—Qå€¼ä½¿ç”¨åŒä¸€ä¸ªç½‘ç»œï¼Œå¦‚æœé™ä½è¡Œä¸ºé€‰æ‹©å’ŒQå€¼è®¡ç®—çš„ç›¸å…³æ€§å°±å¯ä»¥é™ä½é«˜ä¼°ï¼Œå› æ­¤ç›´è§‰çš„æˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸¤ä¸ªç½‘ç»œ QÎ¸A(s,a)=r+Î³QÎ¸b(sâ€²,aâ€²)Q_{\\theta_A}(s,a)=r+\\gamma Q_{\\theta_b}(s&#x27;,a&#x27;) Qâ€‹Î¸â€‹Aâ€‹â€‹â€‹â€‹(s,a)=r+Î³Qâ€‹Î¸â€‹bâ€‹â€‹â€‹â€‹(sâ€‹â€²â€‹â€‹,aâ€‹â€²â€‹â€‹) QÎ¸B(s,a)=r+Î³QÎ¸a(sâ€²,aâ€²)Q_{\\theta_B}(s,a)=r+\\gamma Q_{\\theta_a}(s&#x27;,a&#x27;) Qâ€‹Î¸â€‹Bâ€‹â€‹â€‹â€‹(s,a)=r+Î³Qâ€‹Î¸â€‹aâ€‹â€‹â€‹â€‹(sâ€‹â€²â€‹â€‹,aâ€‹â€²â€‹â€‹) æˆ‘ä»¬çš„ç¡®å¯ä»¥æ–°åŠ ä¸€ä¸ªç½‘ç»œï¼Œä½†æ˜¯ä¼šå¢åŠ å­¦ä¹ éš¾åº¦ï¼Œéœ€è¦é‡æ–°è®¾è®¡æ¶æ„ã€‚æ‰€ä»¥ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨QÎ¸(s,a)Q_{\\theta}(s,a)Qâ€‹Î¸â€‹â€‹(s,a)ä½œä¸ºè¡Œä¸ºçš„ä¼°è®¡ï¼Ÿ (targetâˆ’valueâˆ’doubleâˆ’Qâˆ’learning):yti=rti+Î³QÎ¸^(st+1i,argmaxrt+1iQÎ¸(st+1i,at+1i))(target-value-double-Q-learning):y^i_t=r^i_t+\\gamma Q_{\\hat \\theta}(s^i_{t+1},argmax_{r^i_{t+1}Q_{\\theta}}(s^i_{t+1},a^i_{t+1})) (targetâˆ’valueâˆ’doubleâˆ’Qâˆ’learning):yâ€‹tâ€‹iâ€‹â€‹=râ€‹tâ€‹iâ€‹â€‹+Î³Qâ€‹â€‹Î¸â€‹^â€‹â€‹â€‹â€‹(sâ€‹t+1â€‹iâ€‹â€‹,argmaxâ€‹râ€‹t+1â€‹iâ€‹â€‹Qâ€‹Î¸â€‹â€‹â€‹â€‹(sâ€‹t+1â€‹iâ€‹â€‹,aâ€‹t+1â€‹iâ€‹â€‹)) 3.2 æ”¹è¿›2ï¼šPrioritized replay åœ¨DQNå­¦ä¹ ä¸­ä¸ºé«˜æ•ˆåˆ©ç”¨ï¼ˆsï¼Œaï¼Œrï¼Œsï¼‰æ ·æœ¬ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ç»éªŒå›æ”¾çš„æ–¹å¼æ¥å­˜å‚¨ä¸€å®šè§„æ¨¡çš„æ ·æœ¬ï¼Œåœ¨æ¢¯åº¦ä¸‹é™çš„æ—¶å€™é€šå¸¸æ˜¯ä»ç»éªŒå›æ”¾ä¸­å‡åŒ€é‡‡æ ·ï¼ˆuniformly samplingï¼‰æ¥è¿›è¡Œå­¦ä¹ ï¼Œä½†æ˜¯æˆ‘ä»¬ä¾æ—§ä¼šå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š ä¾æ—§æ²¡æœ‰å®Œå…¨è§£å†³æ•°æ®ä¹‹é—´ç‹¬ç«‹åŒåˆ†å¸ƒçš„å‡è®¾ å®¹æ˜“å¿˜è®°ä¸€äº›ç½•è§çš„ã€é‡è¦çš„ç»éªŒæ•°æ® åœ¨è¯¥è®ºæ–‡ä¸­ä½œè€…é¦–å…ˆåˆ¶å®šæŒ‡æ ‡â€œTD-errorâ€ä½œä¸ºè¡¡é‡(sti,ati,rti,st+1i)(s_t^i,a_t^i,r_t^i,s^i_{t+1})(sâ€‹tâ€‹iâ€‹â€‹,aâ€‹tâ€‹iâ€‹â€‹,râ€‹tâ€‹iâ€‹â€‹,sâ€‹t+1â€‹iâ€‹â€‹)çš„ä¿¡æ¯é‡å¤§å°ï¼Œä½œä¸ºé‡‡æ ·çš„ä¼˜å…ˆçº§ï¼ŒåŒæ—¶åˆ©ç”¨éšæœºä¼˜å…ˆçº§é‡‡æ ·ã€åç½®å’Œé‡è¦æ€§é‡‡æ ·ç­‰æ–¹å¼æ¥é¿å…è´ªå¿ƒçš„é—®é¢˜ã€‚ä¼˜å…ˆçº§çš„è·å–æœ‰3.2.1å’Œ3.2.2ä¸¤ç§æ–¹å¼ (éšæœºé‡‡æ ·)P(i)=\\frac{p_i^\\alpha}{\\Sigma_kP_k^\\alpha} 3.2.1 æ¯”ä¾‹ä¼˜å…ˆçº§ï¼ˆProportional prioritizationï¼‰ Pi=âˆ£Ïƒiâˆ£+ÏµP_i=|\\sigma_i|+\\epsilon Pâ€‹iâ€‹â€‹=âˆ£Ïƒâ€‹iâ€‹â€‹âˆ£+Ïµ 3.2.2 åŸºäºæ’åçš„ä¼˜å…ˆçº§(Rank-based prioritization) P_i=\\frac{1}{rank(i)}$$ï¼›ä¼˜ç‚¹å¯ä»¥ä¿è¯çº¿æ€§æ€§è´¨ï¼Œå¯¹å¼‚å¸¸å€¼ä¸æ•æ„Ÿã€‚ ä¸Šè¿°ä¸¤ç§æ˜¯ä¸åŒå¾—åˆ°é‡è¦æ€§çš„æ–¹å¼ï¼›åœ¨å®ç°æ—¶å€™é‡‡ç”¨sum-treeçš„æ•°æ®ç»“æ„é™ä½ç®—æ³•å¤æ‚ç¨‹åº¦ã€‚åœ¨é‡‡æ ·ä¸­è€ƒè™‘é‡è¦æ€§é‡‡æ ·ï¼ˆimportance samplingï¼‰ï¼Œå¹¶ç”±æ­¤æ¥è¿›è¡Œçƒ­åç½®ï¼ˆAnnealing the biasï¼‰æ¥ä¿®æ­£è¯¯å·® $$w_j=(\\frac{1}{N}*\\frac{1}{P(i)})^\\beta 3.3 æ”¹è¿›3: Dueling networks Dueling DQNæ˜¯ä¸€ç§é’ˆå¯¹åŸºäºä»·å€¼å‡½æ•°çš„å¼ºåŒ–å­¦ä¹ çš„ç½‘ç»œç»“æ„è®¾è®¡ï¼Œå…¶å¹¶ä¸ç›´æ¥è¾“å‡ºQ(s,a)Q(s,a)Q(s,a)ï¼Œè€Œæ˜¯è¾“å‡ºV(s)V(s)V(s)ä¸A(s,a)A(s,a)A(s,a),é€šå¸¸ä¼šå…±ç”¨å‰å‡ å±‚çš„å·ç§¯å‚æ•°ï¼Œåœ¨åé¢åˆ™æ˜¯çŠ¶æ€ä»·å€¼å‡½æ•°ä¸ä¼˜åŠ¿å‡½æ•°å„è‡ªçš„å‚æ•°ã€‚ 3.4 æ”¹è¿›4:Multi-step learning åœ¨å¯¹çŠ¶æ€åŠ¨ä½œå‡½æ•°çš„ä¼˜åŠ¿ä¼°è®¡æ—¶å€™ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šåˆ†ä¸ºè’™ç‰¹å¡æ´›æ–¹æ³•ä¸Bootstrap(æˆ–è€…æ˜¯Actor- criticå†…çš„C)çš„æ–¹æ³• (MC-sampling)A_t=\\Sigma_{k=0}^{\\infty}\\gamma_t^{k}ï¼ˆR_{t+k+1}-b) (bootstrapâˆ’sampling)Gt=rt+Î³âˆ—V(st+1)âˆ’V(st)(bootstrap-sampling)G_t=r_{t}+\\gamma*V(s_{t+1})-V(s_t) (bootstrapâˆ’sampling)Gâ€‹tâ€‹â€‹=râ€‹tâ€‹â€‹+Î³âˆ—V(sâ€‹t+1â€‹â€‹)âˆ’V(sâ€‹tâ€‹â€‹) å‰è€…æ–¹æ³•åå·®ä½ä½†æ˜¯æ–¹å·®è¾ƒå¤§ï¼›åè€…æ–¹å·®ä½ä½†æ˜¯æœ‰åã€‚å› æ­¤ç»“åˆä¸¤è€…æˆ‘ä»¬é€šå¸¸ä¼šæœ‰Multi-step targetçš„æ–¹æ³•ã€‚ åŒæ ·çš„ä¹Ÿå¯ä»¥ç”¨åœ¨DQNä¸­å¯¹äºçŠ¶æ€åŠ¨ä½œä»·å€¼å‡½æ•°çš„ä¼°è®¡ï¼š Rtn=Î£k=0nâˆ’1Î³tkRt+k+1R_t^{n}=\\Sigma_{k=0}^{n-1}\\gamma_t^{k}R_{t+k+1} Râ€‹tâ€‹nâ€‹â€‹=Î£â€‹k=0â€‹nâˆ’1â€‹â€‹Î³â€‹tâ€‹kâ€‹â€‹Râ€‹t+k+1â€‹â€‹ æ›´æ–°ä¹‹åçš„æŸå¤±å‡½æ•°ä¸º (Rtn+Î³tnmaxaâ€²QÎ¸^(St+n,aâ€²)âˆ’QÎ¸(St,At))2(R_t^{n}+\\gamma_t^nmax_{a&#x27;}Q_{\\hat \\theta}(S_{t+n},a&#x27;)-Q_\\theta(S_t,A_t))^2 (Râ€‹tâ€‹nâ€‹â€‹+Î³â€‹tâ€‹nâ€‹â€‹maxâ€‹aâ€‹â€²â€‹â€‹â€‹â€‹Qâ€‹â€‹Î¸â€‹^â€‹â€‹â€‹â€‹(Sâ€‹t+nâ€‹â€‹,aâ€‹â€²â€‹â€‹)âˆ’Qâ€‹Î¸â€‹â€‹(Sâ€‹tâ€‹â€‹,Aâ€‹tâ€‹â€‹))â€‹2â€‹â€‹ 3.5 æ”¹è¿›5:Distributional RL åœ¨åŸºäºä»·å€¼å‡½æ•°çš„å­¦ä¹ ä¸­æˆ‘ä»¬é€šå¸¸æ˜¯è¿”å›ä¸€ä¸ªæœŸæœ›æˆ–è€…æœ€å¤§å€¼è€Œä¸¢å¤±å¾ˆå¤šå…¶ä»–ä¿¡æ¯ï¼Œå› æ­¤Distributional RLå°è¯•åˆ©ç”¨å…¶åˆ†å¸ƒè€Œä¸æ˜¯å•ä¸ªå€¼æ¥è¿›è¡Œå¼ºåŒ–å­¦ä¹ ã€‚é¦–å…ˆæœ¬æ–‡å°è¯•å°†ä»·å€¼å‡½æ•°èŒƒå›´[Vmin,Vmax][V_{min},V_{max}][Vâ€‹minâ€‹â€‹,Vâ€‹maxâ€‹â€‹]åˆ’åˆ†ä¸ºNä¸ªå„è‡ªæ¥ä¼°è®¡ä»·å€¼å‡½æ•°ï¼Œåˆ©ç”¨Boltzmannåˆ†å¸ƒè¡¨ç¤ºä»·å€¼å‡½æ•°çš„åˆ†å¸ƒï¼ŒåŒæ—¶åˆ©ç”¨æŠ•å½±çš„æ“ä½œ ç”±æ­¤å¯¹äºåˆ†å¸ƒæ‹Ÿåˆå¯ä»¥åˆ’åˆ†ä¸ºäº¤å‰ç†µçš„å½¢å¼ï¼Œç®—æ³•æµç¨‹ 3.6 æ”¹è¿›6ï¼šNoisy Nets åœ¨Q- learningæˆ–è€…æ˜¯DQNä¸­ï¼Œæˆ‘ä»¬çš„è½¨è¿¹å¹¶ä¸æ˜¯å®Œå…¨é‡‡æ ·çš„ï¼Œè€Œæ˜¯ä¸æˆ‘ä»¬çš„æ¢ç´¢ç­–ç•¥ç›¸å…³ï¼Œæœ€åŸæœ¬çš„æ˜¯Ïµâˆ’Greedy\\epsilon-GreedyÏµâˆ’Greedyç­–ç•¥ï¼Œè¿™é‡Œæå‡ºä¸€ç§NoisyNetæ¥å¯¹å‚æ•°å¢åŠ å™ªå£°æ¥å¢åŠ æ¨¡å‹çš„æ¢ç´¢èƒ½åŠ› y=(Wx+b)+(bnoisyâŠ™Ïµb+WnoisyâŠ™Ïµw)xy=(Wx+b)+(b_{noisy}\\odot\\epsilon^b+W_{noisy}\\odot\\epsilon^w)x y=(Wx+b)+(bâ€‹noisyâ€‹â€‹âŠ™Ïµâ€‹bâ€‹â€‹+Wâ€‹noisyâ€‹â€‹âŠ™Ïµâ€‹wâ€‹â€‹)x å™ªå£°çš„ç”Ÿæˆå¯ä»¥åˆ†ä¸ºIndependent Gaussian noiseï¼›Factorised Gaussian noiseä¸¤ç§æ–¹å¼ã€‚ 3.7 èåˆä¸Šè¿°ç­–ç•¥ é¦–å…ˆå°†ï¼ˆæ”¹è¿›5:Distributional RLï¼‰ä¸­çš„æŸå¤±å‡½æ•°æ›´æ¢ç§°ä¸ºï¼ˆæ”¹è¿›4:Multi-step learningï¼‰ï¼Œå¹¶åˆ©ç”¨ï¼ˆæ”¹è¿›1â€“Double Q- Learningï¼‰è®¡ç®—æ–°çš„ç›®æ ‡å€¼ d_t^n=(R_t^n+r_t^nz,p_\\hat\\theta(S_{t+n},a^*_{t+n})) æŸå¤±å‡½æ•°ä¸º DKL(Î¦zdtnâˆ£âˆ£dt)D_{KL}(\\Phi_zd_t^n||d_t) Dâ€‹KLâ€‹â€‹(Î¦â€‹zâ€‹â€‹dâ€‹tâ€‹nâ€‹â€‹âˆ£âˆ£dâ€‹tâ€‹â€‹) åŒæ—¶åœ¨é‡‡æ ·è¿‡ç¨‹ä¸­æˆ‘ä»¬é€šå¸¸ä¼šå‡å°‘TD-errorï¼Œè€Œåœ¨æœ¬æ–‡ä¸­æˆ‘ä»¬çš„æŸå¤±å‡½æ•°ä¸ºKLæŸå¤±ï¼Œå› æ­¤æˆ‘ä»¬çš„ï¼ˆæ”¹è¿›2ï¼šPrioritized replayï¼‰ä¸­çš„ä¼˜å…ˆçº§å®šä¹‰ä¸º ptâˆ(DKL(Î¦zdtnâˆ£âˆ£dt))wp_t\\propto (D_{KL}(\\Phi_zd_t^n||d_t))^w pâ€‹tâ€‹â€‹âˆ(Dâ€‹KLâ€‹â€‹(Î¦â€‹zâ€‹â€‹dâ€‹tâ€‹nâ€‹â€‹âˆ£âˆ£dâ€‹tâ€‹â€‹))â€‹wâ€‹â€‹ åŒæ—¶æ”¹å˜ï¼ˆæ”¹è¿›3: Dueling networksï¼‰ç”±æ¥å—æœŸæœ›è½¬å‘æ¥å—ä»·å€¼å‡½æ•°åˆ†å¸ƒï¼Œæœ€åæ›´æ”¹æ‰€æœ‰çš„çº¿æ€§å±‚æ›´æ¢ä¸ºï¼ˆæ”¹è¿›6ï¼šNoisy Netsï¼‰ pÎ¸(s,a)i=exp(vÎ·i(Ï•)+aÏˆi(Ï•,a)âˆ’a^Ïˆi(s))Î£jexp(vÎ·j(Ï•)+aÏˆj(Ï•,a)âˆ’a^Ïˆj(s))p_\\theta(s,a)^i=\\frac{exp(v^i_\\eta(\\phi)+a^i_\\psi(\\phi,a)-\\hat a_\\psi^i(s))}{\\Sigma_j exp(v^j_\\eta(\\phi)+a^j_\\psi(\\phi,a)-\\hat a_\\psi^j(s)) } pâ€‹Î¸â€‹â€‹(s,a)â€‹iâ€‹â€‹=â€‹Î£â€‹jâ€‹â€‹exp(vâ€‹Î·â€‹jâ€‹â€‹(Ï•)+aâ€‹Ïˆâ€‹jâ€‹â€‹(Ï•,a)âˆ’â€‹aâ€‹^â€‹â€‹â€‹Ïˆâ€‹jâ€‹â€‹(s))â€‹â€‹exp(vâ€‹Î·â€‹iâ€‹â€‹(Ï•)+aâ€‹Ïˆâ€‹iâ€‹â€‹(Ï•,a)âˆ’â€‹aâ€‹^â€‹â€‹â€‹Ïˆâ€‹iâ€‹â€‹(s))â€‹â€‹ 0x04 å®éªŒ 0x05 æ€»ç»“ 5.1 ç»“è®º rainbowæƒ³æ¯”è¾ƒå…¶ä»–ç°æœ‰çš„ç®—æ³•è¦æ›´å¥½ï¼Œé€Ÿåº¦ä¹Ÿä¼šæ›´å¿« åœ¨æ¶ˆèå®ç°ä¸­ï¼›æˆ‘ä»¬ä¼šå‘ç°ï¼ˆæ”¹è¿›2ï¼šPrioritized replayï¼‰ä¸ï¼ˆæ”¹è¿›4:Multi-step learningï¼‰ä¼šé€ æˆç»“æœä¸­ä½æ•°å¤§å¹…åº¦ä¸‹é™;(æ”¹è¿›5:Distributional RL)åœ¨æœ€å¼€å§‹è¡¨ç°è‰¯å¥½ï¼Œä½†æ˜¯æœ€ç»ˆç»“æœè¡¨ç°è¾ƒå·®ï¼›åŒæ—¶ï¼ˆæ”¹è¿›6ï¼šNoisy Netsï¼‰é€šå¸¸ä¼šæœ‰æ›´å¥½çš„ä¸­ä½æ•°è¡¨ç°ï¼ŒåŒæ—¶ç”±äºæœ¬æ¬¡çŠ¶æ€ä¸­é€šå¸¸æ˜¯underestimateçš„ï¼Œæ‰€ä»¥ï¼ˆæ”¹è¿›1â€“Double Q- Learningï¼‰æ•ˆæœå¹¶ä¸æ˜¾è‘—ï¼Œï¼ˆæ”¹è¿›3: Dueling networksï¼‰æå‡å¹…åº¦ä¸å¤§ã€‚ 5.2 è®¨è®º ä½œè€…åœ¨æœ€åæ€»ç»“ä»–ä»¬çš„å·¥ä½œï¼Œä¸»è¦æ˜¯ä»value- basedçš„Q-learningæ–¹æ³•é›†åˆä¸­å¯»æ‰¾ï¼Œè€Œæ²¡æœ‰è€ƒè™‘purely policy- basedçš„ç®—æ³•ï¼ˆæ¯”å¦‚TRPO),æœ¬æ–‡ä»ç½‘ç»œæ¢ç´¢ã€ç½‘ç»œåˆå§‹åŒ–ã€æ•°æ®ä½¿ç”¨ã€æŸå¤±æˆ–å‡½æ•°ç­‰æ–¹é¢è¿›è¡Œé›†åˆï¼Œä¸ä¹‹ç›¸å¯¹åº”çš„åŒæ ·æœ‰å¾ˆå¤šå·¥ä½œï¼Œæœªæ¥è¿˜å¯ä»¥ç”¨å¾ˆå¤šå…¶ä»–çš„æ–¹æ³•ã€‚ä½†æ˜¯æˆ‘ä»¬ç›¸ä¿¡ In general, we believe that exposing the real game to the agent is a promising direction for future research. 5.3 ä¸ªäººæ„Ÿæ‚Ÿ è¿™ç¯‡è®ºæ–‡çœ‹ä¸Šå»å¾ˆæ°´ï¼Œä½†å…¶å®ä½œè€…åšäº†å¾ˆå¤šdirty workå¹¶æœ€ç»ˆæœ‰æ•ˆï¼Œå·¥ä½œé‡éå¸¸å¤§ï¼ ã€1ã€‘Mnih, V., Kavukcuoglu, K., Silver, D., Graves, A., Antonoglou, I., Wierstra, D., &amp; Riedmiller, M. (2013). Playing atari with deep reinforcement learning. arXiv preprint arXiv:1312.5602. ã€2ã€‘Van Hasselt, H., Guez, A., &amp; Silver, D. (2016, March). Deep reinforcement learning with double q-learning. In Proceedings of the AAAI conference on artificial intelligence (Vol. 30, No. 1). ã€3ã€‘ Schaul, T., Quan, J., Antonoglou, I., &amp; Silver, D. (2015). Prioritized experience replay. arXiv preprint arXiv:1511.05952. ã€4ã€‘Multi Step Learning ã€5ã€‘Wang, Z., Schaul, T., Hessel, M., Hasselt, H., Lanctot, M., &amp; Freitas, N. (2016, June). Dueling network architectures for deep reinforcement learning. In International conference on machine learning (pp. 1995-2003). PMLR. ã€6ã€‘Bellemare, M. G., Dabney, W., &amp; Munos, R. (2017, July). A distributional perspective on reinforcement learning. In International Conference on Machine Learning (pp. 449-458). PMLR. ã€7ã€‘Fortunato, M., Azar, M. G., Piot, B., Menick, J., Osband, I., Graves, A., â€¦ &amp; Legg, S. (2017). Noisy networks for exploration. arXiv preprint arXiv:1706.10295. è‡ªæˆ‘ä»‹ç» 50ï½100å­—","categories":[{"name":"RL","slug":"RL","permalink":"https://blog.tjdata.site/categories/RL/"}],"tags":[{"name":"paper","slug":"paper","permalink":"https://blog.tjdata.site/tags/paper/"}]},{"title":"CS285_Lecture08_Deep_RL_with_QFunctions","slug":"CS285_Lecture08_Deep_RL_with_QFunctions","date":"2022-11-02T14:31:42.000Z","updated":"2023-05-13T13:48:32.952Z","comments":true,"path":"posts/81031871.html","link":"","permalink":"https://blog.tjdata.site/posts/81031871.html","excerpt":"ä»Policy gradientï¼Œåˆ°Actor- criticï¼Œæˆ‘ä»¬å°è¯•ä¸¢å¼ƒpolicyï¼Œä»ACåˆ°Q- iterationæˆ–è€…Q- learningæˆ‘ä»¬å½»åº•ä¸¢å¼ƒPolicyï¼Œä½†æ˜¯é‡åˆ°ä¸èƒ½æ”¶æ•›çš„é—®é¢˜ã€‚ç°åœ¨æˆ‘ä»¬å°è¯•æ”¹è¿›Q- learningæ¥å®ç°æƒ³è¦çš„åŠŸèƒ½","text":"ä»Policy gradientï¼Œåˆ°Actor- criticï¼Œæˆ‘ä»¬å°è¯•ä¸¢å¼ƒpolicyï¼Œä»ACåˆ°Q- iterationæˆ–è€…Q- learningæˆ‘ä»¬å½»åº•ä¸¢å¼ƒPolicyï¼Œä½†æ˜¯é‡åˆ°ä¸èƒ½æ”¶æ•›çš„é—®é¢˜ã€‚ç°åœ¨æˆ‘ä»¬å°è¯•æ”¹è¿›Q- learningæ¥å®ç°æƒ³è¦çš„åŠŸèƒ½ 0x01 Q- learningä¸­çš„é—®é¢˜ ä¸Šæ¬¡ä»ç†è®ºçš„è§’åº¦çœ‹å‡ºonline Q iterationå¾ˆéš¾æ”¶æ•›ï¼Œæ›´ç›´è§‚çš„çœ‹å¾…é—®é¢˜æˆ‘ä»¬ä¼šå‘ç°æœ‰ä»¥ä¸‹å‡ ç‚¹çš„åŸå› ï¼š Q- learningä¸­é€šå¸¸ä½¿ç”¨çš„æ˜¯å•ä¸ªæ ·æœ¬ï¼Œè¿™æ ·å¯¹äºæ›´æ–°è¿­ä»£å¹¶ä¸å‹å¥½ åœ¨ç¬¬ä¸‰æ­¥ä¸­çš„æœ‰ä¸€ä¸ªç±»ä¼¼gradient descentçš„å…¬å¼ä½†æ˜¯å…¶å®åœ¨åŒä¸€ä¸ªè½¨è¿¹ä¸­ä¸¤è€…ä¹‹é—´å…·æœ‰å¼ºçƒˆç›¸å…³æ€§ ä¸æ»¡è¶³iidå‡è®¾æ ·æœ¬ä¸­çš„æ•ˆæœå¹¶ä¸å¥½ è§£å†³æ€è·¯ ä¿®æ­£æ ·æœ¬ï¼ŒåŒæ ·å€Ÿé‰´ACä¸­çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨synchronized parallel Q- learningæˆ–è€…asynchronous parallel Q- learningæ¥å®ç°ã€‚ ä½¿ç”¨replay buffersï¼Œå› ä¸ºQ- learningåªéœ€è¦ï¼ˆstateï¼Œactionï¼Œnext- stateï¼Œrewardï¼‰å°±è¡Œ 0x02 Q-learning with replay- bufferçš„é—®é¢˜ æŒ‰ç…§å‚é‡Œåé¢çš„ä¸€éƒ¨ä»½åº”è¯¥æ˜¯æ²¡æœ‰æ¢¯åº¦çš„ï¼Œä½†æ˜¯å› ä¸ºä¸¤è€…å…·æœ‰ç›¸å…³æ€§æˆ‘ä»¬çš„æ•ˆæœä¼šå¾ˆå·®ï¼Œèµ·ä¸åˆ°æ¢¯åº¦ä¸‹é™çš„æ•ˆæœã€‚ å› æ­¤æˆ‘ä»¬ä¼šè®¾ç½®ä¸€ä¸ªtarget networkï¼Œåœ¨æ¯æ¬¡æ›´æ–°çš„æ—¶å€™ï¼Œtargetä¹Ÿä¸ä¼šæ”¹å˜ï¼ŒåŒæ—¶è¿™ä¸ªè¿‡ç¨‹ä¸­ä¸¤è€…æ˜¯æŸç§æ„ä¹‰ä¸Šçš„ä¸æƒ³å…³çš„ã€‚èƒŒåçš„æ–¹å¼æ˜¯å¯å‘å¼çš„ï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯ä¸€ç§ç»éªŒå¾ˆå¥½çš„å®è·µæ–¹æ³•ã€‚é€šå¸¸æ›´æ–°çš„æ—¶å€™å¯ä»¥ç”¨æŒ‡æ•°å¹³å‡çš„æ–¹æ³• Ï„=pÏ„0+(1âˆ’p)âˆ—Ï„\\tau=p\\tau_0+(1-p)*\\tau Ï„=pÏ„â€‹0â€‹â€‹+(1âˆ’p)âˆ—Ï„ æ›´é«˜çš„è§†è§’ 0x03 æé«˜Q-learning åé¢ç»“åˆä¸€ç¯‡è®ºæ–‡æ¥ä»‹ç»ï¼Œä¹Ÿå°±æ˜¯Rainbowï½","categories":[{"name":"RL","slug":"RL","permalink":"https://blog.tjdata.site/categories/RL/"}],"tags":[{"name":"CS285","slug":"CS285","permalink":"https://blog.tjdata.site/tags/CS285/"}]},{"title":"CS285_Lecture07_Value_Function_Methods","slug":"CS285_Lecture07_Value_Function_Methods","date":"2022-11-02T13:40:33.000Z","updated":"2023-05-13T13:48:26.166Z","comments":true,"path":"posts/1e3ff77f.html","link":"","permalink":"https://blog.tjdata.site/posts/1e3ff77f.html","excerpt":"åœ¨ç»è¿‡Lecture04ä»‹ç»RLçš„åŸºæœ¬æ¦‚å¿µä¹‹åï¼ŒLecture05ä»‹ç»åŸºäºpolicyçš„æ–¹æ³•ï¼Œæˆ‘ä»¬ç›´æ¥åˆ©ç”¨returnçš„æ¢¯åº¦è¿›è¡Œç­–ç•¥å­¦ä¹ ï¼Œä¹‹åæˆ‘ä»¬å°è¯•åˆ©ç”¨Qæˆ–è€…Væ¥æ”¹è¿›policy evaluationæ­¥éª¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥ç›´æ¥æŠ›å¼ƒå‚æ•°åŒ–çš„æ¢¯åº¦ï¼ˆparameterized policiesï¼‰ï¼Œè½¬å‘ä»…ä»…åˆ©ç”¨Qæˆ–è€…Vè¿›è¡ŒRL","text":"åœ¨ç»è¿‡Lecture04ä»‹ç»RLçš„åŸºæœ¬æ¦‚å¿µä¹‹åï¼ŒLecture05ä»‹ç»åŸºäºpolicyçš„æ–¹æ³•ï¼Œæˆ‘ä»¬ç›´æ¥åˆ©ç”¨returnçš„æ¢¯åº¦è¿›è¡Œç­–ç•¥å­¦ä¹ ï¼Œä¹‹åæˆ‘ä»¬å°è¯•åˆ©ç”¨Qæˆ–è€…Væ¥æ”¹è¿›policy evaluationæ­¥éª¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥ç›´æ¥æŠ›å¼ƒå‚æ•°åŒ–çš„æ¢¯åº¦ï¼ˆparameterized policiesï¼‰ï¼Œè½¬å‘ä»…ä»…åˆ©ç”¨Qæˆ–è€…Vè¿›è¡ŒRL 0x01 æŠ›å¼ƒActor- criticä¸­çš„Actor 1.1 å›é¡¾Actor- critic ç¬¬ä¸€æ­¥ï¼šæˆ‘ä»¬åˆ©ç”¨ç°æœ‰çš„policyå¾—åˆ°å¤šä¸ªé‡‡æ ·è½¨è¿¹Ï„i\\tau_iÏ„â€‹iâ€‹â€‹ ç¬¬äºŒæ­¥ï¼šåˆ©ç”¨æ•°æ®æ‹ŸåˆV^Ï•Ï€(s)\\hat V_\\phi^\\pi(s)â€‹Vâ€‹^â€‹â€‹â€‹Ï•â€‹Ï€â€‹â€‹(s)ï¼ˆå¸¸è§ç”¨è’™ç‰¹å¡æ´›æ–¹æ³•ã€bootstrappedã€n-stepç­‰æ–¹æ³•ï¼‰ ç¬¬ä¸‰æ­¥ï¼šè¯„ä¼°ä¼˜åŠ¿ç­–ç•¥A ç¬¬å››æ­¥ï¼šæ ¹æ®ä¼˜åŠ¿ç­–ç•¥å¾—åˆ°Actorçš„æ¢¯åº¦ ç¬¬äº”æ­¥ï¼šæ›´æ–°Actorçš„æ¢¯åº¦ ä½†æ˜¯è¿™æ ·å­˜åœ¨çš„æ½œåœ¨é—®é¢˜æ˜¯æ–¹å·®å¤ªå¤§ï¼Œå› ä¸ºæˆ‘ä»¬æ‹Ÿåˆå‡ºæ¥çš„state- value- functionæ–¹å·®å¤ªå¤§ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šåšç»éªŒé‡æ”¾ç­‰æ–¹æ³•ï¼Œä½†æ˜¯å¹¶ä¸èƒ½å®Œå…¨è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ æ‰€ä»¥ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ç›´æ¥ä¸¢åˆ°æœ‰å‚çš„policyï¼Œè½¬å‘ç”Ÿæˆä¸€ä¸ªÏ€âˆ—\\pi*Ï€âˆ— Ï€âˆ—=argmaxatAÏ€(st,at)\\pi*=argmax_{a_t}A^\\pi(s_t,a_t) Ï€âˆ—=argmaxâ€‹aâ€‹tâ€‹â€‹â€‹â€‹Aâ€‹Ï€â€‹â€‹(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹) 1.2 Policy Evaluation åœ¨æ¢è®¨ä¸Šè¿°å¯èƒ½æ€§æˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹policy evaluationçš„æ¦‚å¿µï¼›ä¹Ÿå°±æ˜¯ä»Dynamic programmingçš„æ¥çœ‹æˆ‘ä»¬ä¼šå¦‚ä½•æ±‚è§£é—®é¢˜ï¼›åŒæ—¶ä»policy evaluationæˆ‘ä»¬ä¼šé€æ¸èµ°å‘value evaluationã€‚ ç¬¬ä¸€æ­¥ï¼šé¦–å…ˆçŠ¶æ€è½¬ç§»æ¦‚ç‡Tæ˜¯å‡åŒ€çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨Policy evaluation()ä¸­å¾—åˆ°æ¯ä¸ªçŠ¶æ€ä¸‹çš„Q-state-action-listï¼›æ±‚å¹³å‡æ¥å¾—åˆ°V-state-listã€‚å½“ç„¶ä¸€æ¬¡è®¡ç®—ä¸å¤Ÿï¼Œæˆ‘ä»¬ä¼šè®¾ç½®ä¸€ä¸ªepsilonï¼Œå½“V- stateå˜åŒ–çš„æœ€å¤§å€¼éƒ½å°äºè¿™ä¸ªepsilonçš„æ—¶å€™åœæ­¢æ›´æ–°ã€‚è¯´æ˜æˆ‘ä»¬å¾—åˆ°æ‰€æœ‰çŠ¶æ€ä¸‹çš„V- state ç¬¬äºŒæ­¥ï¼šåœ¨å¾—åˆ°V- stateä¸‹æˆ‘ä»¬ä¾¿èƒ½åˆ¤æ–­ä»€ä¹ˆactionæ˜¯å¥½çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åˆ©ç”¨Q- state- actionä¸V- stateä¹‹é—´çš„å…³ç³»æ¥é€‰æ‹©ä¸åŒstateä¸‹çš„æœ€ä¼˜actionï¼Œé‡æ–°åˆ†é…æ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯policy evaluation ç¬¬ä¸‰æ­¥ï¼šç”±äºpolicy evaluationä¼šé‡æ–°æ”¹å˜ç©ºé—´ã€‚V- stateä¹Ÿä¼šæ”¹å˜ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°è®¡ç®—Policy evaluationï¼Œç›´åˆ°æ”¶æ•›ã€‚ Policy evaluationä¸Value evaluationä¹‹é—´çš„åŒºåˆ«åœ¨äºPolicy evaluationä¸­æ ¹æ®Q- state- value-listå¾—åˆ°V- state-listæ˜¯æ±‚æœŸæœ›ï¼Œè¿˜æ˜¯æ±‚æœ€å¤§å€¼çš„æ–¹å¼ã€‚ (policyâˆ’iteration)VÏ€(s)=Eaâˆ’Ï€(aâˆ£s)[r(s,Ï€(s))+Î³Esâ€²âˆ’p(sâ€²âˆ£s,Ï€(s))[VÏ€(sâ€²)]](policy-iteration)V^\\pi(s)=E_{a-\\pi(a|s)}[r(s,\\pi(s))+\\gamma E_{s&#x27;-p(s&#x27;|s,\\pi(s))}[V^\\pi(s&#x27;)]] (policyâˆ’iteration)Vâ€‹Ï€â€‹â€‹(s)=Eâ€‹aâˆ’Ï€(aâˆ£s)â€‹â€‹[r(s,Ï€(s))+Î³Eâ€‹sâ€‹â€²â€‹â€‹âˆ’p(sâ€‹â€²â€‹â€‹âˆ£s,Ï€(s))â€‹â€‹[Vâ€‹Ï€â€‹â€‹(sâ€‹â€²â€‹â€‹)]] (valueâˆ’iteration)VÏ€(s)=maxaQ(s,a)=maxa(r(s,a)+Î³Esâ€²âˆ’p(sâ€²âˆ£s,a)[VÏ€(sâ€²)])(value-iteration)V^\\pi(s)=max_aQ(s,a)=max_a(r(s,a)+\\gamma E_{s&#x27;-p(s&#x27;|s,a)}[V^\\pi(s&#x27;)]) (valueâˆ’iteration)Vâ€‹Ï€â€‹â€‹(s)=maxâ€‹aâ€‹â€‹Q(s,a)=maxâ€‹aâ€‹â€‹(r(s,a)+Î³Eâ€‹sâ€‹â€²â€‹â€‹âˆ’p(sâ€‹â€²â€‹â€‹âˆ£s,a)â€‹â€‹[Vâ€‹Ï€â€‹â€‹(sâ€‹â€²â€‹â€‹)]) è¿™é‡Œå‚è€ƒï¼Œå¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹å‡ºpolicy evaluationï¼Œä»¥åŠvalue evaluationå¯¹å…¶åšäº†ä»€ä¹ˆç®€åŒ– åŠ¨æ‰‹å­¦å¼ºåŒ–å­¦ä¹ - Dynamic Programming 0x02 Fitted value iteration and Q- iteration 2.1 æˆ‘ä»¬å¦‚ä½•è¡¨ç¤ºstate- value- function V(s) åœ¨æ•°é‡è¾ƒå°‘çš„ç¦»æ•£ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¡¨æ ¼æˆ–è€…ä»€ä¹ˆæ¥è®°å½•ï¼Œä½†æ˜¯å¯¹äºè¿ç»­ç©ºé—´æˆ‘ä»¬å¯èƒ½æ— èƒ½ä¸ºåŠ›ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¥ç»ç½‘ç»œæ¥å®ç°ä¸¤è€…çš„è¿‘ä¼¼ï¼Œä¹Ÿå°±æ˜¯è½¬æ¢ä¸º 2.2 ä»ç„¶æœ‰é—®é¢˜ å› ä¸ºåœ¨ç¦»æ•£çŠ¶æ€ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“çŠ¶æ€æ¦‚ç‡è½¬ç§»æ–¹å¼ã€‚æˆ‘ä»¬ä¼šå‡è®¾ä¸€ä¸ªå¹³å‡æ¦‚ç‡å†é‡æ–°åˆ†é…çš„æ–¹å¼æ¥æ›´æ–°è½¬ç§»æ¦‚ç‡ã€‚ä½†æ˜¯åœ¨è¿ç»­æƒ…å†µä¸‹è™½ç„¶æˆ‘ä»¬çŸ¥é“æ‹Ÿåˆæ‹Ÿåˆå‡ºstate- value- functionï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜ä¸çŸ¥é“çŠ¶æ€è½¬ç§»æ¦‚ç‡ï¼Œæ‰€ä»¥æˆ‘ä»¬æ±‚è§£ä¸å‡ºstate- value- function ä½†æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦state- functionï¼Ÿç›´æ¥åˆ©ç”¨state- action- functionæ¥å–æœ€å¤§å€¼å°±è¡Œ QÏ€(s,a)=r(s,a)+Î³âˆ—maxaâ€²QÏ•(siâ€²,aiâ€²)Q^\\pi(s,a)=r(s,a)+\\gamma *max_{a&#x27;}Q_\\phi(s_i&#x27;,a_i&#x27;) Qâ€‹Ï€â€‹â€‹(s,a)=r(s,a)+Î³âˆ—maxâ€‹aâ€‹â€²â€‹â€‹â€‹â€‹Qâ€‹Ï•â€‹â€‹(sâ€‹iâ€‹â€²â€‹â€‹,aâ€‹iâ€‹â€²â€‹â€‹) ä½†æ˜¯è¿™æ ·æˆ‘ä»¬å¹¶ä¸èƒ½ä¿è¯æ”¶æ•›æ€§ 0x03 Q- learning method 3.1 Q-iteration çš„ä¸€äº›æ€§è´¨ å®ƒæ˜¯off- policyçš„ ç­‰ä»·ä¼˜åŒ–bellman error 3.2 Online Q- learning é€šå¸¸ä¼šéœ€è¦ä¸€äº›exploration Ïµâˆ’greedy\\epsilon-greedyÏµâˆ’greedy Boltzman exploration 0x04 Value Functions in Theory æˆ‘ä»¬éœ€è¦å°è¯•è§£é‡Šä¹‹å‰å–æœ€å¤§å€¼çš„æ–¹å¼æ˜¯å¦å¯ä»¥æ”¶æ•›ï¼ˆconvergeï¼‰ MDPä¸­çš„bellmanä¸€å®šæ˜¯æ”¶æ•›çš„ åœ¨åˆ©ç”¨è¿‘ä¼¼ç½‘ç»œï¼ˆfunction approximationï¼‰çš„æ–¹å¼ä¸‹å¹¶ä¸æ”¶æ•› æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªéå¸¸sad corollaryï¼Œä½†æ˜¯åœ¨ä¸‹ä¸€å¼ çš„DQNä¸­å¯ä»¥è®©å®ƒå˜çš„æ›´å¥½","categories":[{"name":"RL","slug":"RL","permalink":"https://blog.tjdata.site/categories/RL/"}],"tags":[{"name":"CS285","slug":"CS285","permalink":"https://blog.tjdata.site/tags/CS285/"}]},{"title":"CS285_Lecture06_Actor_Critic_Algorithms","slug":"CS285_Lecture06_Actor_Critic_Algorithms","date":"2022-10-30T02:58:38.000Z","updated":"2023-05-13T13:48:19.233Z","comments":true,"path":"posts/d30aca79.html","link":"","permalink":"https://blog.tjdata.site/posts/d30aca79.html","excerpt":"ä¸»è¦ä»‹ç»æ¼”å‘˜è¯„è®ºå®¶è¿‡ç¨‹,ä»æœ€åŸºç¡€çš„Policy Gradientä¸­å‰–æå¦‚ä½•æ‹ŸåˆPolicy Evaluationçš„éƒ¨åˆ†ï¼Œå¹¶æ¨å¯¼å¾—åˆ°Actor- Criticç®—æ³•ã€‚å¯ä»¥çœ‹å‡ºä»ä¹‹å‰ç›´è§‚çš„Policyï¼Œåˆ°åˆ©ç”¨state- valueæˆ–è€…action- state- valueè¿›è¡Œè¿‘ä¼¼ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­é‡‡æ ·ç»“æœä¸ç†è®ºæ¨å¯¼çš„æƒè¡¡è´¯ç©¿ç†è®ºæ¨å¯¼è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªåŸºç¡€ä¸Šä¹Ÿä¼šå¼•æ¥ä¸‹ä¸€èŠ‚Lecture07å…³äºvalue functionæ–¹æ³•ã€‚åŒæ—¶çªç„¶æœ‰ä¸ªæ–°çš„æƒ³æ³•ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ä»£ç éƒ½éœ€è¦æ‰‹æ’•ï¼Œbaseline is always thereï¼","text":"ä¸»è¦ä»‹ç»æ¼”å‘˜è¯„è®ºå®¶è¿‡ç¨‹,ä»æœ€åŸºç¡€çš„Policy Gradientä¸­å‰–æå¦‚ä½•æ‹ŸåˆPolicy Evaluationçš„éƒ¨åˆ†ï¼Œå¹¶æ¨å¯¼å¾—åˆ°Actor- Criticç®—æ³•ã€‚å¯ä»¥çœ‹å‡ºä»ä¹‹å‰ç›´è§‚çš„Policyï¼Œåˆ°åˆ©ç”¨state- valueæˆ–è€…action- state- valueè¿›è¡Œè¿‘ä¼¼ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­é‡‡æ ·ç»“æœä¸ç†è®ºæ¨å¯¼çš„æƒè¡¡è´¯ç©¿ç†è®ºæ¨å¯¼è¿‡ç¨‹ã€‚åœ¨è¿™ä¸ªåŸºç¡€ä¸Šä¹Ÿä¼šå¼•æ¥ä¸‹ä¸€èŠ‚Lecture07å…³äºvalue functionæ–¹æ³•ã€‚åŒæ—¶çªç„¶æœ‰ä¸ªæ–°çš„æƒ³æ³•ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ä»£ç éƒ½éœ€è¦æ‰‹æ’•ï¼Œbaseline is always thereï¼ 0x01 ä»ç­–ç•¥æ¢¯åº¦ï¼ˆPolicy Gradientï¼‰åˆ°è¯„åˆ¤å®¶ï¼ˆCriticï¼‰ 1.1 å›é¡¾REINFORCEç®—æ³• ä»å¼ºåŒ–å­¦ä¹ çš„ä¸‰æ­¥èŒƒå¼å‡ºå‘ï¼š ç¬¬ä¸€æ­¥ï¼šé€šè¿‡è¿è¡Œç­–ç•¥Î Î¸(atâˆ£st)\\Pi_\\theta(a_t|s_t)Î â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹)å¾—åˆ°å¤šä¸ªæ ·æœ¬{Ï„i}\\{\\tau_i\\}{Ï„â€‹iâ€‹â€‹} ç¬¬äºŒæ­¥ï¼šæ ¹æ®é‡‡æ ·æ ·æœ¬ï¼ˆSampleï¼‰å¾—åˆ°ç­–ç•¥çš„æ¢¯åº¦ âˆ‡Î¸J(Î¸)=1NÎ£i=1NÎ£t=1T[âˆ‡Î¸logÏ€Î¸(ai,tâˆ£si,t)][Î£tâ€²=tTr(stâ€²i,atâ€²i)]\\nabla_\\theta J(\\theta)=\\frac{1}{N}\\Sigma_{i=1}^N\\Sigma_{t=1}^T [\\nabla_\\theta log \\pi_\\theta(a_{i,t}|s_{i,t})][\\Sigma_{t&#x27;=t}^Tr(s_{t&#x27;}^i,a_{t&#x27;}^i)] âˆ‡â€‹Î¸â€‹â€‹J(Î¸)=â€‹Nâ€‹â€‹1â€‹â€‹Î£â€‹i=1â€‹Nâ€‹â€‹Î£â€‹t=1â€‹Tâ€‹â€‹[âˆ‡â€‹Î¸â€‹â€‹logÏ€â€‹Î¸â€‹â€‹(aâ€‹i,tâ€‹â€‹âˆ£sâ€‹i,tâ€‹â€‹)][Î£â€‹tâ€‹â€²â€‹â€‹=tâ€‹Tâ€‹â€‹r(sâ€‹tâ€‹â€²â€‹â€‹â€‹iâ€‹â€‹,aâ€‹tâ€‹â€²â€‹â€‹â€‹iâ€‹â€‹)] =âˆ‡Î¸J(Î¸)=1NÎ£i=1NÎ£t=1T[âˆ‡Î¸logÏ€Î¸(ai,tâˆ£si,t)][Q^i,t]=\\nabla_\\theta J(\\theta)=\\frac{1}{N}\\Sigma_{i=1}^N\\Sigma_{t=1}^T [\\nabla_\\theta log \\pi_\\theta(a_{i,t}|s_{i,t})][\\hat Q_{i,t}] =âˆ‡â€‹Î¸â€‹â€‹J(Î¸)=â€‹Nâ€‹â€‹1â€‹â€‹Î£â€‹i=1â€‹Nâ€‹â€‹Î£â€‹t=1â€‹Tâ€‹â€‹[âˆ‡â€‹Î¸â€‹â€‹logÏ€â€‹Î¸â€‹â€‹(aâ€‹i,tâ€‹â€‹âˆ£sâ€‹i,tâ€‹â€‹)][â€‹Qâ€‹^â€‹â€‹â€‹i,tâ€‹â€‹] ç¬¬ä¸‰æ­¥ï¼šæ¢¯åº¦ä¸Šå‡ 1.2 å›é¡¾æ¢¯åº¦å…¬å¼ æ¢¯åº¦å…¬å¼ä¸­çš„logé¡¹ç›®åœ¨REINFORCEMENTä¸­å·²ç»è¯¦ç»†æ¨å¯¼è¿‡ï¼Œç›¸å½“äºæ˜¯LIkelihoodçš„ä¸€ç§åŠ æƒï¼›è€Œåé¢çš„Q^i,t\\hat Q_{i,t}â€‹Qâ€‹^â€‹â€‹â€‹i,tâ€‹â€‹ä»£è¡¨çš„æ˜¯æˆ‘ä»¬åœ¨è½¨è¿¹Ï„i\\tau_iÏ„â€‹iâ€‹â€‹ä¸­æ—¶é—´tä¸­çŠ¶æ€si,ts_{i,t}sâ€‹i,tâ€‹â€‹é‡‡å–ai,ta_{i,t}aâ€‹i,tâ€‹â€‹æ‰€å¾—åˆ°çš„åç»­state- actionæœŸæœ›å¥–åŠ±ï¼ˆexcepted rewardï¼‰ï¼›ä¸‹é¢æ˜¯çœŸå®çš„reward to goï¼Œæ³¨æ„å’Œé‡‡æ ·æ—¶å€™çš„åŒºåˆ« ï¼ˆç†è®ºstate- action-valueï¼‰Q(s_t,a_t)=\\Sigma_{t'=t}^TE\\pi_\\theta[r(s_{t'},a_{t'})|s_t,a_t] ä¸è¦å¿˜è®°æˆ‘ä»¬çš„baselineï¼Œå®ƒå¯ä»¥èµ·åˆ°é™ä½æ–¹å·®çš„ä½œç”¨ã€‚æˆ‘ä»¬å¯ä»¥å°†baselineåŠ åˆ°REINFORCEMENTç®—æ³•ä¸­ã€‚åŒæ—¶å¯ä»¥è®¾ç½®æˆä¸ºä¸€ä¸ªä¸çŠ¶æ€æœ‰å…³çš„å€¼ï¼Œè¯¦ç»†è§ä¸Šä¸€ä¸ªLecture ï¼ˆç†è®ºstate- valueï¼‰V(s_t)=E_{a_t-\\pi_\\theta(a_t|s_t)}Q(s_t,a_t) ä»¥ä¸Šæ˜¯ç†è®ºçš„æ¨å¯¼ æˆ‘ä»¬åœ¨å®é™…é‡‡æ ·ä¸­å¾€å¾€åªèƒ½ä»æœ‰é™çš„æ ·æœ¬ä¸­å¾—åˆ°ï¼Œæ‰€ä»¥å¯¹äºæŸä¸ªé‡‡æ ·è½¨è¿¹å¾—åˆ°çš„æ¢¯åº¦å¯ä»¥è®¡ç®—ä¸ºï¼š ï¼ˆé‡‡æ ·æ¢¯åº¦ï¼‰\\nabla_\\theta J(\\theta)=\\frac{1}{N}\\Sigma_{i=1}^N\\Sigma_{t=1}^T \\nabla_\\theta log \\pi_\\theta(a_{i,t}|s_{i,t})[Q(s_{i,t},a_{i,t})-V(S_{i,t})] æ³¨æ„è¿™é‡Œçš„Nä»£è¡¨çš„æ˜¯æ€»å…±æœ‰iä¸ªè½¨è¿¹ï¼Œé‡‡æ ·å’Œç†è®ºä¹‹é—´çš„åŒºåˆ«ï¼Œæ›´è¿‘ä¸€æ­¥æˆ‘ä»¬å¯ä»¥å°†ï¼šã€æŸä¸ªçŠ¶æ€ä¸‹çš„åŠ¨ä½œæ€»å¥–åŠ±ã€‘å‡å»ã€æŸä¸ªçŠ¶æ€ä¸‹çš„æ‰€æœ‰åŠ¨ä½œæœŸæœ›ã€‘å¯ä»¥å®šä¹‰ä¸ºè¿™ä¸ªã€ç‰¹å®šåŠ¨ä½œåœ¨è¯¥çŠ¶æ€ä¸‹çš„ä¼˜åŠ¿ã€‘ ï¼ˆç†è®ºaction- stateä¼˜åŠ¿ï¼‰A^\\pi(s_t,a_t)=Q^\\pi(s_t,a_t)-V^\\pi(s_t) åŒæ ·çš„å’Œæˆ‘ä»¬ä¸çŸ¥é“Qå’ŒVä¸€æ ·ï¼Œæˆ‘ä»¬é€šå¸¸ä¹Ÿä¸çŸ¥é“Açš„å®é™…ä»·å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨è¿‘ä¼¼ï¼ˆapproximateï¼‰çš„æ–¹æ³•æ¥è¿‘ä¼¼å®ƒï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„estimate returnã€‚é€šå¸¸å¦‚æœæˆ‘ä»¬çš„é‡‡æ ·æ–¹å¼åªæ˜¯å•çº¯çš„è’™ç‰¹å¡æ´›é‡‡æ ·ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ç»“æœå¾€å¾€æ˜¯ï¼šæ— åå·®ä½†æ˜¯é«˜æ–¹å·®çš„ç®€å•é‡‡æ ·ä¼°è®¡ã€‚ 0x02 æ¢¯åº¦è¯„ä¼°ï¼ˆPolicy Evaluationï¼‰ åœ¨ä¸Šè¿°æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨REINFORCEMENTé‡Œé¢å¯¹äºpolicy gradientæˆ‘ä»¬é€šå¸¸æ˜¯ä½¿ç”¨ã€æ ·æœ¬ä¸­ç‰¹å®šçš„å¥–åŠ±æ±‚å’Œã€‘ï¼Œè¿™æ ·å¸¦æ¥çš„ç»“æœæ˜¯å› ä¸ºæˆ‘ä»¬é‡‡æ ·çš„è¯¯å·®æ€§å¯¼è‡´æœ€ç»ˆç»“æœå…·æœ‰high varianceï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯èƒ½å¸Œæœ›ï¼š ä¸ºä»€ä¹ˆä¸æŠŠè¿™ä¸ªå‡½æ•°æ‹Ÿåˆå‡ºæ¥ï¼Ÿ------&gt; value function fitting å¦‚æœæˆ‘ä»¬å¸Œæœ›æ‹Ÿåˆå‡½æ•°ï¼Œä¸Šè¿°çš„Q(s,a),V(s),A(a,s)Q(s,a),V(s),A(a,s)Q(s,a),V(s),A(a,s)ä¸­ä¼šé€‰æ‹©å“ªä¸ªå‡½æ•°ï¼Œå¯ä»¥çœ‹åˆ° QÏ€(s,a)=Î£tâ€²=tTEÏ€Î¸[r(stâ€²,atâ€²)âˆ£s,a]Q^\\pi(s,a)=\\Sigma_{t&#x27;=t}^TE_{\\pi_\\theta}[r(s_{t&#x27;},a_{t&#x27;})|s,a] Qâ€‹Ï€â€‹â€‹(s,a)=Î£â€‹tâ€‹â€²â€‹â€‹=tâ€‹Tâ€‹â€‹Eâ€‹Ï€â€‹Î¸â€‹â€‹â€‹â€‹[r(sâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹,aâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹)âˆ£s,a] ä½†æ˜¯ç”±äºå½“å‰çš„çŠ¶æ€æˆ‘ä»¬çŸ¥é“ï¼Œæ‰€ä»¥å¯ä»¥å†™æˆ QÏ€(s,a)=r(s,a)+Î£tâ€²=t+1TEÏ€Î¸[r(stâ€²,atâ€²)âˆ£s,a]Q^\\pi(s,a)=r(s,a)+\\Sigma_{t&#x27;=t+1}^TE_{\\pi_\\theta}[r(s_{t&#x27;},a_{t&#x27;})|s,a] Qâ€‹Ï€â€‹â€‹(s,a)=r(s,a)+Î£â€‹tâ€‹â€²â€‹â€‹=t+1â€‹Tâ€‹â€‹Eâ€‹Ï€â€‹Î¸â€‹â€‹â€‹â€‹[r(sâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹,aâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹)âˆ£s,a] QÏ€(s,a)=r(s,a)+Est+1âˆ’p(st+1âˆ£st,at)VÏ€(st+1)Q^\\pi(s,a)=r(s,a)+E_{s_{t+1}-p(s_{t+1}|s_t,a_t)V^\\pi(s_{t+1})} Qâ€‹Ï€â€‹â€‹(s,a)=r(s,a)+Eâ€‹sâ€‹t+1â€‹â€‹âˆ’p(sâ€‹t+1â€‹â€‹âˆ£sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)Vâ€‹Ï€â€‹â€‹(sâ€‹t+1â€‹â€‹)â€‹â€‹ å› æ­¤æˆ‘ä»¬å¯ä»¥å¾—åˆ°åœ¨ç†è®ºæƒ…å†µä¸‹åŸæ¥çš„policy gradientä¸º ï¼ˆç†è®ºä¼˜åŠ¿ï¼‰A^\\pi(s_t,a_t)=r(s,a)+E_{s_{t+1}-p(s_{t+1}|s_t,a_t)V^\\pi(s_{t+1})}-V^\\pi(s_t) åœ¨é‡‡æ ·æƒ…å†µä¸‹ ï¼ˆé‡‡æ ·ä¼˜åŠ¿ï¼‰A^\\pi(s_t,a_t)=r(s,a)+V^\\pi(s_{t+1})-V^\\pi(s_t) 2.1 Policy evaluation based on Monte Carlo sampling æˆ‘ä»¬çŸ¥é“ ï¼ˆç†è®ºstate- valueï¼‰V(s_t)=E_{a_t-\\pi_\\theta(a_t|s_t)}Q(s_t,a_t) æ‰€ä»¥æˆ‘ä»¬çš„policyè¯„ä»·å°±æ˜¯ (stateâˆ’action(policy))J(Î¸)=Es1âˆ’pÎ¸(s)[VÏ€(s1)](state-action(policy))J(\\theta)=E_{s_1-p_\\theta(s)}[V^\\pi(s_1)] (stateâˆ’action(policy))J(Î¸)=Eâ€‹sâ€‹1â€‹â€‹âˆ’pâ€‹Î¸â€‹â€‹(s)â€‹â€‹[Vâ€‹Ï€â€‹â€‹(sâ€‹1â€‹â€‹)] å¦‚æœæˆ‘ä»¬åªæ˜¯ä»é‡‡æ ·çš„æ–¹å¼æ¥å¾—åˆ°æˆ‘ä»¬çš„ä¼°è®¡ï¼Œé‚£ä¹ˆ ï¼ˆé‡‡æ ·ï¼‰V^\\pi(s_t)=\\Sigma_{t'=t}^Tr(s_{t'},a_{t'}) è™½ç„¶ä¸æƒ³ç†è®ºæ¨å¯¼é‚£æ ·çš„ä¼˜ç§€ï¼Œä½†æ˜¯åŒæ ·æ˜¯æœ‰æ•ˆçš„ã€‚æ³¨æ„è¿™é‡Œçš„è¿‡ç¨‹æ˜¯æˆ‘ä»¬ä»REINFORCEMENTé‡Œé¢å•çº¯çš„ä½¿ç”¨é‡‡æ ·ç»“æœï¼Œè½¬å‘æ„å»ºä¸€ä¸ªstate- based- functionï¼Œæˆ‘ä»¬éœ€è¦åšçš„æ˜¯æ ¹æ®æ ·æœ¬æ‹Ÿåˆè¿™æ ·çš„å‡½æ•°ã€‚ä½†æ˜¯æ³¨æ„è¿™é‡Œï¼ï¼æˆ‘ä»¬æœ‰äº†datasetï¼ˆinputï¼Œoutputï¼‰ï¼Œæˆ–è®¸æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç›‘ç£å­¦ä¹ ï¼ˆsupervised learningï¼‰æ¥ä½¿ç”¨ä¸€ç§ç¥ç»ç½‘ç»œçš„æ–¹æ³•æ¥å­¦ä¹ ä¸€ç§å‡½æ•°å…³ç³»ã€‚æ‰€ä»¥æ¥ä¸‹æ¥é—®é¢˜æ˜¯ã€æˆ‘ä»¬å¦‚ä½•ä»å°‘é‡çš„æ ·æœ¬ä¸­å¾—åˆ°è¶³å¤Ÿå¥½çš„æ•°æ®ã€‘ trainâˆ’data:(si,t,Î£tâ€²=tTr(si,tâ€²,ai,tâ€²))train-data:{(s_{i,t},\\Sigma_{t&#x27;=t}^T r(s_{i,t&#x27;},a_{i,t&#x27;}))} trainâˆ’data:(sâ€‹i,tâ€‹â€‹,Î£â€‹tâ€‹â€²â€‹â€‹=tâ€‹Tâ€‹â€‹r(sâ€‹i,tâ€‹â€²â€‹â€‹â€‹â€‹,aâ€‹i,tâ€‹â€²â€‹â€‹â€‹â€‹)) (bootstrappedâˆ’estimate)V^Ï•(si,t)=Î£tâ€²=tTr(si,tâ€²,ai,tâ€²))=r(si,tâ€²,ai,tâ€²)+V^Ï•(si,t+1)(bootstrapped-estimate)\\hat V_\\phi(s_{i,t})=\\Sigma_{t&#x27;=t}^T r(s_{i,t&#x27;},a_{i,t&#x27;}))=r(s_{i,t&#x27;},a_{i,t&#x27;})+\\hat V_\\phi(s_{i,t+1}) (bootstrappedâˆ’estimate)â€‹Vâ€‹^â€‹â€‹â€‹Ï•â€‹â€‹(sâ€‹i,tâ€‹â€‹)=Î£â€‹tâ€‹â€²â€‹â€‹=tâ€‹Tâ€‹â€‹r(sâ€‹i,tâ€‹â€²â€‹â€‹â€‹â€‹,aâ€‹i,tâ€‹â€²â€‹â€‹â€‹â€‹))=r(sâ€‹i,tâ€‹â€²â€‹â€‹â€‹â€‹,aâ€‹i,tâ€‹â€²â€‹â€‹â€‹â€‹)+â€‹Vâ€‹^â€‹â€‹â€‹Ï•â€‹â€‹(sâ€‹i,t+1â€‹â€‹) supervisedâˆ’regression:L(Ï•)=12Î£i=1Nâˆ£âˆ£V^Ï•Ï€(si)âˆ’yiâˆ£âˆ£2supervised-regression:L(\\phi)=\\frac{1}{2}\\Sigma_{i=1}^N||\\hat V_\\phi^\\pi(s_i)-y_i||^2 supervisedâˆ’regression:L(Ï•)=â€‹2â€‹â€‹1â€‹â€‹Î£â€‹i=1â€‹Nâ€‹â€‹âˆ£âˆ£â€‹Vâ€‹^â€‹â€‹â€‹Ï•â€‹Ï€â€‹â€‹(sâ€‹iâ€‹â€‹)âˆ’yâ€‹iâ€‹â€‹âˆ£âˆ£â€‹2â€‹â€‹ 0x03 ä»Evaluationåˆ°Actor- Critic 3.1 æ‰¹é‡ACç®—æ³•ï¼ˆactor- critic algorithmï¼‰ å¦‚æœæˆ‘ä»¬ä½¿ç”¨è¿™æ ·çš„ç®—æ³•ï¼Œæˆ‘ä»¬ä¼šå‘ç°å…¶å®åœ¨è½¨è¿¹ä¹‹é—´éƒ½å¯ä»¥å¯¹state- valueè¿›è¡Œè¯„ä¼°ï¼Œä½†æ˜¯è¿™æ ·æ±‚è§£å¾—åˆ°çš„yæ˜¯ä¸ä¸€æ ·çš„ï¼Œåœ¨ä¸åŒè½¨è¿¹ä¸­å› ä¸ºçŠ¶æ€å˜æ¢ä¸ä¸€æ ·ï¼Œå¦‚æœæœ€åéƒ½è¾¾åˆ°stationçŠ¶æ€æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯å¯¹äºä¸å¹³ç¨³æ˜¯ä¸OKçš„ï¼Œå› ä¸ºæˆ‘ä»¬çš„labelä¸å‡†ç¡®ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¢åŠ ä¸€ä¸ªdiscount factor ï¼ˆé‡‡æ ·ä¼˜åŠ¿ï¼‰A^\\pi(s_t,a_t)=r(s,a)+\\gamma V^\\pi(s_{t+1})-V^\\pi(s_t) åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬é‡‡æ ·Monte Carloé‡‡æ ·ï¼Œè®¡ç®—æ¢¯åº¦ï¼Œå“ªä¸€ä¸ªæ˜¯å¯¹çš„ï¼Ÿ (option1é‡‡æ ·ï¼‰\\nabla_\\theta J(\\theta)=\\frac{1}{N}\\Sigma\\Sigma \\nabla_\\theta \\pi_\\theta(a_{i,t}|s_{i,t})(\\Sigma_{t'=t}^T\\gamma^{t'-t}r(s_{i,t'},a_{i,t'})) (option2é‡‡æ ·ï¼‰\\nabla_\\theta J(\\theta)=\\frac{1}{N}\\Sigma\\Sigma \\nabla_\\theta \\pi_\\theta(a_{i,t}|s_{i,t})(\\Sigma_{t'=t}^T\\gamma^{t'-1}r(s_{i,t'},a_{i,t'})) å¦‚æœåªæ˜¯ä»option1é‡‡æ ·ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ç»“æœæ˜¯ä»æ¯ä¸€æ­¥é‡æ–°å¼€å§‹åšdiscountï¼Œè¿™ä¸ªæ˜¯ç¬¦åˆç›´è§‰çš„ å¦‚æœæ˜¯ä»option2é‡‡æ ·ä¹Ÿä¸æ˜¯æ²¡æœ‰ç»“æœçš„ï¼Œå¦‚æœæˆ‘ä»¬é’ˆå¯¹æœªæ¥ææƒ§æ‰€ä»¥ä¼šæœ‰å¾ˆå¤šçš„discountã€‚ exampleï¼šè¿™é‡ŒSergey Levineå°è¯•ä½¿ç”¨deadæ¥è§£é‡Šoption1å’Œoption2çš„åŒºåˆ«ï¼Œä¸¤è€…éƒ½æ˜¯å¯¹çš„ã€‚ æ‰€ä»¥æ€»ç»“æˆ‘ä»¬çš„ç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†ä¸ºbatcc ACä¸online ACä¸¤ç§æ–¹æ³• 0x04 æ¼”å‘˜è¯„è®ºç®—æ³• Actor- Critics Algorithmç»†èŠ‚ 4.1 æ‹Ÿåˆå‡½æ•°è®­ç»ƒ æˆ‘ä»¬å¯ä»¥é€‰æ‹©ç”¨ä¸¤ä¸ªnetworkæ¥åˆ†åˆ«æ‹Ÿåˆstate- value functionä¸policy- state- actionç½‘ç»œï¼›ä½†æ˜¯åœ¨æ¯”è¾ƒå¤æ‚çš„è¾“å…¥ï¼Œæ¯”å¦‚æ¸¸æˆå›¾ç‰‡ä¸­æˆ‘ä»¬å¾€å¾€éœ€è¦ä½¿ç”¨convolution layerå…±äº«å‚æ•°æ¥å‡å°‘ç½‘ç»œçš„å‚æ•° 4.2 åœ¨çº¿ACè®­ç»ƒ å¦‚æœåªæ˜¯è¿™æ ·è®­ç»ƒï¼Œç›¸å½“äºæˆ‘ä»¬æ¯æ¬¡æ›´æ–°æ¢¯åº¦ä½¿ç”¨æ‰¹é‡batchsize=1ï¼Œæ‰€ä»¥éå¸¸å·®ã€‚æˆ‘ä»¬ä»é‡‡æ ·çš„è§’åº¦å‡ºå‘ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒæ­¥å¹¶è¡Œ(synchronized parallel actor-critic) æˆ–è€…å¼‚æ­¥å¹³è¡Œï¼ˆasynchronous parallel actor- criticï¼‰æ¥å¤šæ¬¡é‡‡æ ·ï¼Œä½†æ˜¯è¿™æ ·çš„æŸè€—å¤ªå¤§äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨replay bufferæ¥å­˜å‚¨ä¹‹å‰é‡‡æ ·çš„æ•°æ®ã€‚ ä½†æ˜¯å¦‚æœæˆ‘ä»¬åªæ˜¯ç®€å•çš„ä»replay bufferä¸­å¾—åˆ°train-dataï¼Œä½†æ˜¯è¿™æ ·æ˜¯æ²¡æœ‰æ•ˆæœçš„ï¼Œå› ä¸ºä¸æ˜¯åŒä¸€ä¸ªè½¨è¿¹æ„æˆçš„policy gradientæ˜¯æ²¡æœ‰æ•ˆæœçš„ï¼Œæ‰€ä»¥è¿™æ ·çš„ç®—æ³•æ˜¯ä¸å¯¹çš„ã€‚æ‰€ä»¥æˆ‘ä»¬ä¼šå°è¯•å°†ä¹‹é—´çš„æŠ½æ ·å¾—åˆ°çš„state- valueè½¬æ¢æˆä¸ºåŒ…æ‹¬Q(s,a)çš„å€¼ æ‰€ä»¥åœ¨è¿™é‡Œæˆ‘ä»¬ä¸å†ä½¿ç”¨state- valueï¼Œè€Œæ˜¯ä½¿ç”¨action- state- value 4.3 Baselineè®¾ç½® æˆ‘ä»¬åœ¨Policy gradientå¼•å…¥ä¸€ä¸ªå¸¸æ•°ï¼Œå¾—åˆ°æ— åå·®ã€ä½†æ˜¯é«˜æ–¹å·®çš„æ¢¯åº¦ï¼›åœ¨ACä¸­æˆ‘ä»¬ä½¿ç”¨ r+Vï¼ˆt+1ï¼‰- Vï¼ˆtï¼‰æ¥å¾—åˆ°è¯„ä¼°ï¼Œè¿™æ ·ä¼šæœ‰ä¸€ä¸ªä½æ–¹å·®ä½†æ˜¯æœ‰åçš„æ–¹ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¦‚ä½•åœ¨æ‹Ÿåˆä»·å€¼å‡½æ•°è¿‡ç¨‹ä¸­å¾—åˆ°æˆ‘ä»¬çš„æ¢¯åº¦ï¼Œä¹Ÿå°±æ˜¯ç”¨Q-Væ¥è¯„ä¼°ï¼ˆç§°ä¸ºè’™ç‰¹å¡æ´›æ–¹æ³•ï¼‰ï¼Œä½†æ˜¯è¿™æ ·å¯¹é‡‡æ ·æ•°é‡è¦æ±‚é«˜ã€‚ A^CÏ€(st,at)=r(st,at)+Î³V^Ï•Ï€(st+1)âˆ’V^Ï•Ï€(st)\\hat A^\\pi_C(s_t,a_t)=r(s_t,a_t)+\\gamma \\hat V^\\pi_\\phi(s_{t+1})-\\hat V^\\pi_\\phi(s_{t}) â€‹Aâ€‹^â€‹â€‹â€‹Câ€‹Ï€â€‹â€‹(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)=r(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)+Î³â€‹Vâ€‹^â€‹â€‹â€‹Ï•â€‹Ï€â€‹â€‹(sâ€‹t+1â€‹â€‹)âˆ’â€‹Vâ€‹^â€‹â€‹â€‹Ï•â€‹Ï€â€‹â€‹(sâ€‹tâ€‹â€‹) A^MCÏ€(st,at)=Î£tâ€²=tÎ³tâ€²âˆ’tr(stâ€²,atâ€²)âˆ’V^Ï•Ï€(stâ€²)\\hat A^\\pi_{MC}(s_t,a_t)=\\Sigma_{t&#x27;=t}\\gamma^{t&#x27;-t}r(s_{t&#x27;},a_{t&#x27;})-\\hat V^\\pi_\\phi(s_{t&#x27;}) â€‹Aâ€‹^â€‹â€‹â€‹MCâ€‹Ï€â€‹â€‹(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)=Î£â€‹tâ€‹â€²â€‹â€‹=tâ€‹â€‹Î³â€‹tâ€‹â€²â€‹â€‹âˆ’tâ€‹â€‹r(sâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹,aâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹)âˆ’â€‹Vâ€‹^â€‹â€‹â€‹Ï•â€‹Ï€â€‹â€‹(sâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹) æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨æŸç§æ–¹å¼æ¥ç»“åˆä¸¤è€…ï¼Œä¹Ÿå°±æ˜¯é‡‡æ ·N-step returns A^nÏ€(st,at)=Î£tâ€²=tt+nÎ³tâ€²âˆ’tr(stâ€²,atâ€²)âˆ’V^Ï•Ï€(stâ€²)+Î³nV^Ï•Ï€(st+n)\\hat A^\\pi_{n}(s_t,a_t)=\\Sigma_{t&#x27;=t}^{t+n}\\gamma^{t&#x27;-t}r(s_{t&#x27;},a_{t&#x27;})-\\hat V^\\pi_\\phi(s_{t&#x27;})+\\gamma^n\\hat V^\\pi_\\phi(s_{t+n}) â€‹Aâ€‹^â€‹â€‹â€‹nâ€‹Ï€â€‹â€‹(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)=Î£â€‹tâ€‹â€²â€‹â€‹=tâ€‹t+nâ€‹â€‹Î³â€‹tâ€‹â€²â€‹â€‹âˆ’tâ€‹â€‹r(sâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹,aâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹)âˆ’â€‹Vâ€‹^â€‹â€‹â€‹Ï•â€‹Ï€â€‹â€‹(sâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹)+Î³â€‹nâ€‹â€‹â€‹Vâ€‹^â€‹â€‹â€‹Ï•â€‹Ï€â€‹â€‹(sâ€‹t+nâ€‹â€‹) ä¹‹ååŒ…æ‹¬generalized advantage estimationæ¨å¯¼å¯ä»¥å‘ç°Î³\\gammaÎ³å¯ä»¥æœ‰æ•ˆçš„é™ä½æ–¹å·® 0x05 review 0x06 code å‚è€ƒåŠ¨æ‰‹å­¦å¼ºåŒ–å­¦ä¹  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586import gymimport torchimport torch.nn.functional as Fimport numpy as npimport matplotlib.pyplot as pltimport rl_utilsclass ActorCritic: def __init__(self, state_dim, hidden_dim, action_dim, actor_lr, critic_lr, gamma, device): # ç­–ç•¥ç½‘ç»œ self.actor = PolicyNet(state_dim, hidden_dim, action_dim).to(device) self.critic = ValueNet(state_dim, hidden_dim).to(device) # ä»·å€¼ç½‘ç»œ # ç­–ç•¥ç½‘ç»œä¼˜åŒ–å™¨ self.actor_optimizer = torch.optim.Adam(self.actor.parameters(), lr=actor_lr) self.critic_optimizer = torch.optim.Adam(self.critic.parameters(), lr=critic_lr) # ä»·å€¼ç½‘ç»œä¼˜åŒ–å™¨ self.gamma = gamma self.device = device def take_action(self, state): state = torch.tensor([state], dtype=torch.float).to(self.device) probs = self.actor(state) action_dist = torch.distributions.Categorical(probs) action = action_dist.sample() return action.item() def update(self, transition_dict): states = torch.tensor(transition_dict[&#x27;states&#x27;], dtype=torch.float).to(self.device) actions = torch.tensor(transition_dict[&#x27;actions&#x27;]).view(-1, 1).to( self.device) rewards = torch.tensor(transition_dict[&#x27;rewards&#x27;], dtype=torch.float).view(-1, 1).to(self.device) next_states = torch.tensor(transition_dict[&#x27;next_states&#x27;], dtype=torch.float).to(self.device) dones = torch.tensor(transition_dict[&#x27;dones&#x27;], dtype=torch.float).view(-1, 1).to(self.device) # æ—¶åºå·®åˆ†ç›®æ ‡ td_target = rewards + self.gamma * self.critic(next_states) * (1 - dones) td_delta = td_target - self.critic(states) # æ—¶åºå·®åˆ†è¯¯å·® log_probs = torch.log(self.actor(states).gather(1, actions)) actor_loss = torch.mean(-log_probs * td_delta.detach()) # å‡æ–¹è¯¯å·®æŸå¤±å‡½æ•° critic_loss = torch.mean( F.mse_loss(self.critic(states), td_target.detach())) self.actor_optimizer.zero_grad() self.critic_optimizer.zero_grad() actor_loss.backward() # è®¡ç®—ç­–ç•¥ç½‘ç»œçš„æ¢¯åº¦ critic_loss.backward() # è®¡ç®—ä»·å€¼ç½‘ç»œçš„æ¢¯åº¦ self.actor_optimizer.step() # æ›´æ–°ç­–ç•¥ç½‘ç»œçš„å‚æ•° self.critic_optimizer.step() # æ›´æ–°ä»·å€¼ç½‘ç»œçš„å‚æ•° actor_lr = 1e-3critic_lr = 1e-2num_episodes = 1000hidden_dim = 128gamma = 0.98device = torch.device(&quot;cuda&quot;) if torch.cuda.is_available() else torch.device( &quot;cpu&quot;)env_name = &#x27;CartPole-v0&#x27;env_name=&#x27;MountainCar-v0&#x27;env = gym.make(env_name)env.seed(0)torch.manual_seed(0)state_dim = env.observation_space.shape[0]action_dim = env.action_space.nagent = ActorCritic(state_dim, hidden_dim, action_dim, actor_lr, critic_lr, gamma, device)return_list = rl_utils.train_on_policy_agent(env, agent, num_episodes)episodes_list = list(range(len(return_list)))plt.plot(episodes_list, return_list)plt.xlabel(&#x27;Episodes&#x27;)plt.ylabel(&#x27;Returns&#x27;)plt.title(&#x27;Actor-Critic on &#123;&#125;&#x27;.format(env_name))plt.show()mv_return = rl_utils.moving_average(return_list, 9)plt.plot(episodes_list, mv_return)plt.xlabel(&#x27;Episodes&#x27;)plt.ylabel(&#x27;Returns&#x27;)plt.title(&#x27;Actor-Critic on &#123;&#125;&#x27;.format(env_name))plt.show()","categories":[{"name":"RL","slug":"RL","permalink":"https://blog.tjdata.site/categories/RL/"}],"tags":[{"name":"CS285","slug":"CS285","permalink":"https://blog.tjdata.site/tags/CS285/"}]},{"title":"CS285_Lecture05_Policy_Gradient","slug":"CS285_Lecture05_Policy_Gradien","date":"2022-10-23T12:01:56.000Z","updated":"2023-05-13T13:48:12.179Z","comments":true,"path":"posts/ed4cf7b5.html","link":"","permalink":"https://blog.tjdata.site/posts/ed4cf7b5.html","excerpt":"æœ¬èŠ‚è¯¾çš„ç›®æ ‡æ˜¯ææ˜ç™½Policy gradientä¸€ç±»çš„REINFORCEMENTæ–¹æ³•ï¼Œå¹¶ä¸”ç†è§£èƒŒåçš„å±€é™æ€§ï¼Œç„¶åçŸ¥é“ä¸ºä»€ä¹ˆtextbookå¾ˆå®¹æ˜“è®²æ¸…æ¥šï¼Œä½†æ˜¯åœ¨å®è·µä¸­ä¸è¡Œçš„åŸå› ã€‚ä¹‹åä»Causalityå’ŒBaselineä¸¤ç§æ–¹æ³•æ¥é™ä½On- policy PGçš„æ–¹å·®ã€‚å¹¶ç»™å‡ºç»“åˆISï¼ˆimportant samplingï¼‰çš„Off policyçš„æ¢¯åº¦æ–¹æ³•ã€‚æœ€ååˆ©ç”¨ä»£ç å®ç°RLé‡Œé¢çš„hello worldâ€”CartPole-v0æ¥å®ç°ã€‚","text":"æœ¬èŠ‚è¯¾çš„ç›®æ ‡æ˜¯ææ˜ç™½Policy gradientä¸€ç±»çš„REINFORCEMENTæ–¹æ³•ï¼Œå¹¶ä¸”ç†è§£èƒŒåçš„å±€é™æ€§ï¼Œç„¶åçŸ¥é“ä¸ºä»€ä¹ˆtextbookå¾ˆå®¹æ˜“è®²æ¸…æ¥šï¼Œä½†æ˜¯åœ¨å®è·µä¸­ä¸è¡Œçš„åŸå› ã€‚ä¹‹åä»Causalityå’ŒBaselineä¸¤ç§æ–¹æ³•æ¥é™ä½On- policy PGçš„æ–¹å·®ã€‚å¹¶ç»™å‡ºç»“åˆISï¼ˆimportant samplingï¼‰çš„Off policyçš„æ¢¯åº¦æ–¹æ³•ã€‚æœ€ååˆ©ç”¨ä»£ç å®ç°RLé‡Œé¢çš„hello worldâ€”CartPole-v0æ¥å®ç°ã€‚ 01 ä»€ä¹ˆæ˜¯Policy gradients 1.1 PGçš„æ¢¯åº¦å‡½æ•°çš„ä¸‹è½½ å›é¡¾DRLçš„ç›®æ ‡ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯å¢åŠ ç´¯ç§¯å¥–åŠ±çš„æœŸæœ›ï¼š ï¼ˆç›®æ ‡å‡½æ•°ï¼‰max\\ E_{\\tau-p_\\theta(\\tau)}[\\Sigma_tr(s_t,a_t)] æ ¹æ®(st,at)(s_t,a_t)(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹) å¯¹çš„é©¬å°”å¯å¤«æ€§è´¨ï¼Œ(åœ¨æœ‰é™çš„æƒ…å†µä¸‹finite horizon caseï¼‰ä¸‹ç®€åŒ–æˆä¸º max Î£t=1TE(st,at)âˆ’pÎ¸(st,at)[r(st,at)]max\\ \\Sigma_{t=1}^TE_{(s_t,a_t)-p_\\theta(s_t,a_t)}[r(s_t,a_t)] max Î£â€‹t=1â€‹Tâ€‹â€‹Eâ€‹(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)âˆ’pâ€‹Î¸â€‹â€‹(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)â€‹â€‹[r(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)] å› æ­¤æˆ‘ä»¬å¯ä»¥æ ¹æ®Ï€Î¸\\pi_\\thetaÏ€â€‹Î¸â€‹â€‹é‡‡æ ·Nä¸ªÏ„\\tauÏ„,ç„¶åæ±‚å¾—æœŸæœ›ä¸º ï¼ˆé‡‡æ ·åçš„ç›®æ ‡å‡½æ•°ï¼‰J(\\theta)=\\frac{1}{N}\\Sigma_i\\Sigma_tr(s_{i,t},a_{i,t}) è¿™ä¸ªå¼å­çš„é‡è¦æ„ä¹‰åœ¨äºå®ƒç›´æ¥ç»™æˆ‘ä»¬ååº”å½“å‰policyçš„ä¼˜åŠ£ï¼Œä¹ŸæŒ‡æ˜äº†æˆ‘ä»¬éœ€è¦å‰è¿›çš„æ–¹å‘ï¼Œå°±æ˜¯æœ€å¤§åŒ–è¿™ä¸ªæœŸæœ›ï¼Œè™½ç„¶æœ‰çš„æ—¶å€™è¿™ä¸ªå¼å­å¹¶ä¸æ˜¯å®¹æ˜“è®¡ç®—ã€‚ä½†æ˜¯è¯·æŠŠå“ªäº›é—®é¢˜å…ˆæ”¾æ”¾ï¼Œç›´è§‚çš„æœ€å¤§åŒ–è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ç”¨æ¢¯åº¦æå‡çš„æ–¹æ³•ï¼š J(\\theta)=\\int p_\\theta(\\tau)r(\\tau)d\\tauï¼ˆä¸Šå¼ç®€å†™ï¼‰ é‚£ä¹ˆå¯¹å‚æ•°æ±‚å¯¼çš„ç»“æœå°±æ˜¯ï¼›åŒæ—¶ç”±äºæˆ‘ä»¬æ— æ³•ç›´æ¥å–å€¼å‡½æ•°ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦è½¬æ¢ä¸ºæœŸæœ›çš„æ–¹å¼æ¥åˆ©ç”¨samplingâ€”expectationçš„æ–¹å¼æ¥æ±‚æœŸæœ› ï¼ˆç›®æ ‡å‡½æ•°æ¢¯åº¦ï¼‰\\nabla_\\theta J(\\theta)=\\int \\nabla_\\theta p_\\theta(\\tau)*r(\\tau)d\\tau)\\\\=\\int p_\\theta(\\tau)*\\nabla_\\theta logp_\\theta(\\tau)*r(\\tau)d\\tau\\\\=E_{\\tau-p_\\theta(\\tau)}[\\nabla_\\theta logp_\\theta(\\tau)*r(\\tau)] æˆ‘ä»¬å¯¹ä¸Šé¢çš„ç›®æ ‡å‡½æ•°æ›´è¿›ä¸€æ­¥çš„æ¢è®¨ï¼›é¦–å…ˆç–‘é—®å°±æ˜¯ä»€ä¹ˆæ˜¯pÎ¸(Ï„)p_\\theta(\\tau)pâ€‹Î¸â€‹â€‹(Ï„),åœ¨MDPçš„state- observation-action- stateè½¬ç§»ä¸­æˆ‘ä»¬å¯ä»¥è®¤è¯†åˆ° pÎ¸(Ï„)=p(s1)âˆÏ€Î¸(atâˆ£st)p(st+1âˆ£st,at)p_\\theta(\\tau)=p(s_1)\\prod \\pi_\\theta(a_t|s_t)p(s_{t+1}|s_t,a_t) pâ€‹Î¸â€‹â€‹(Ï„)=p(sâ€‹1â€‹â€‹)âˆÏ€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹)p(sâ€‹t+1â€‹â€‹âˆ£sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹) æ‰€ä»¥å¯ä»¥å¾ˆè½»æ¾çš„æ›¿æ¢æ‰ä¸Šè¿° logpÎ¸(Ï„)=logp(s1)+Î£logÏ€Î¸(atâˆ£st)+logp(st+1âˆ£st,at)logp_\\theta(\\tau)=logp(s_1)+\\Sigma log\\pi_\\theta(a_t|s_t)+logp(s_{t+1}|s_t,a_t) logpâ€‹Î¸â€‹â€‹(Ï„)=logp(sâ€‹1â€‹â€‹)+Î£logÏ€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹)+logp(sâ€‹t+1â€‹â€‹âˆ£sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹) å‡è®¾æˆ‘ä»¬æ±‚å¯¼çš„åŒ–ï¼Œé‚£ä¹ˆç›®æ ‡å‡½æ•°æ¢¯åº¦å°±ä¼šå˜æˆ âˆ‡Î¸J(Î¸)=EÏ„âˆ’pÎ¸(Ï„)[(Î£t=1Tâˆ‡Î¸logÏ€Î¸(atâˆ£st))(Î£t=1Tr(st,at))]\\nabla_\\theta J(\\theta)=E_{\\tau-p_\\theta(\\tau)}[(\\Sigma_{t=1}^T \\nabla_\\theta log \\pi_\\theta(a_t|s_t))(\\Sigma_{t=1}^T r(s_t,a_t))] âˆ‡â€‹Î¸â€‹â€‹J(Î¸)=Eâ€‹Ï„âˆ’pâ€‹Î¸â€‹â€‹(Ï„)â€‹â€‹[(Î£â€‹t=1â€‹Tâ€‹â€‹âˆ‡â€‹Î¸â€‹â€‹logÏ€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹))(Î£â€‹t=1â€‹Tâ€‹â€‹r(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹))] Stop to think : just like before we evaluated our reinforcement learning objective by generating samples by actually running our policy in the world to get an estimate of an exception è¿™æ ·æƒ…å†µä¸‹æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°é‡‡æ ·çš„åçš„æ¢¯åº¦è®¡ç®—ï¼š âˆ‡Î¸J(Î¸)=1NÎ£i=1N[Î£t=1Tâˆ‡Î¸logÏ€Î¸(ai,tâˆ£si,t)][Î£t=1Tr(si,t,ai,t)]\\nabla_\\theta J(\\theta)=\\frac{1}{N}\\Sigma_{i=1}^N[\\Sigma_{t=1}^T \\nabla_\\theta log \\pi_\\theta(a_{i,t}|s_{i,t})][\\Sigma_{t=1}^T r(s_{i,t},a_{i,t})] âˆ‡â€‹Î¸â€‹â€‹J(Î¸)=â€‹Nâ€‹â€‹1â€‹â€‹Î£â€‹i=1â€‹Nâ€‹â€‹[Î£â€‹t=1â€‹Tâ€‹â€‹âˆ‡â€‹Î¸â€‹â€‹logÏ€â€‹Î¸â€‹â€‹(aâ€‹i,tâ€‹â€‹âˆ£sâ€‹i,tâ€‹â€‹)][Î£â€‹t=1â€‹Tâ€‹â€‹r(sâ€‹i,tâ€‹â€‹,aâ€‹i,tâ€‹â€‹)] è™½ç„¶æˆ‘ä»¬æˆåŠŸå¾—åˆ°äº†ï¼Œæˆ‘ä»¬å¦‚ä½•ä»é‡‡æ ·ç»“æœä¸­å¾—åˆ°å¦‚ä½•è®¡ç®—æ¢¯åº¦ï¼›ä½†æ˜¯æˆ‘ä»¬éœ€è¦å¯¹åˆ†æå®ƒå…·ä½“çš„å«ä¹‰ã€‚ 1.2 ç†è§£PGå«ä¹‰ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æŸå¤±å‡½æ•°å†…éƒ¨ä¸»è¦æœ‰ä¸¤éƒ¨åˆ†ç»„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯æœ‰æ¢¯åº¦çš„ä¸œè¥¿ï¼Œç¬¬äºŒéƒ¨ä»½æ˜¯å¥–åŠ±çš„æ±‚å’Œï¼›é‚£ä¹ˆå¯¹äºä¸¤é¡¹åˆ†åˆ«åˆ†æï¼Œå¯ä»¥å‘ç°ç¬¬ä¸€éƒ¨åˆ†æ¢¯åº¦ä¸ç®€å•çš„MLEç±»ä¼¼ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥çš„æ¢¯åº¦ä¸‹é™ï¼Œä½†æ˜¯ç”±äºæœ‰å¥–åŠ±çš„åŠ æƒï¼Œå¯¼è‡´æˆ‘ä»¬çš„ç»“æœæ˜¯ï¼š good stuff is made more likely;bad stuff is made less likelyï¼ˆå¢åŠ å¥½çš„å¯èƒ½æ€§ï¼Œé™ä½åçš„å¯èƒ½æ€§ï¼‰ï¼Œä¹Ÿæ ‡è®°ä¸ºâ€œtrial and errorâ€ å¯¹äºä¸­é—´çš„ä¸€é¡¹ï¼Œâˆ‡Î¸logÏ€Î¸(ai,tâˆ£si,t)\\nabla_\\theta log \\pi_\\theta(a_{i,t}|s_{i,t})âˆ‡â€‹Î¸â€‹â€‹logÏ€â€‹Î¸â€‹â€‹(aâ€‹i,tâ€‹â€‹âˆ£sâ€‹i,tâ€‹â€‹),å‡è®¾æˆ‘ä»¬ç”¨ä¸€ä¸ªç¥ç»ç½‘ç»œæ¥è¿›è¡Œæ‹Ÿåˆï¼Œå‡å¦‚é‡‡ç”¨Gaussian policiesï¼›ä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„æ¨¡å‹å‡è®¾æ˜¯ logÏ€Î¸(atâˆ£st)=N(model(st);Î£)log\\pi_\\theta(a_t|s_t)=N(model(s_t);\\Sigma) logÏ€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹)=N(model(sâ€‹tâ€‹â€‹);Î£) é‚£ä¹ˆæˆ‘ä»¬çš„æŸå¤±å‡½æ•°ï¼Œæ ¹æ®MLEè‡ªç„¶è€Œç„¶å°±å¯ä»¥å¾—åˆ°(å‚è€ƒlinear regressionï¼‰ âˆ‡Î¸J(Î¸)=âˆ’12Î£âˆ’1(model(st)âˆ’at)dfdÎ¸\\nabla_\\theta J(\\theta)=-\\frac{1}{2}\\Sigma^{-1}(model(s_t)-a_t)\\frac{df}{d\\theta} âˆ‡â€‹Î¸â€‹â€‹J(Î¸)=âˆ’â€‹2â€‹â€‹1â€‹â€‹Î£â€‹âˆ’1â€‹â€‹(model(sâ€‹tâ€‹â€‹)âˆ’aâ€‹tâ€‹â€‹)â€‹dÎ¸â€‹â€‹dfâ€‹â€‹ è¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°æˆ‘ä»¬çš„REINFORCEMENT algorithmï¼›è¿™é‡Œç¼©å†™æ˜¯é’ˆå¯¹ï¼šREward Increments=nonnegative FactorOffset Reinforcement Characteristic+Eligibility ä½†æ˜¯PGçš„é—®é¢˜åœ¨äºï¼š æˆ‘ä»¬æ˜¯å¦å¯ä»¥åœ¨partial observationï¼Œä¹Ÿå°±æ˜¯oä¸ç­‰äºsæƒ…å†µä¸‹ä½¿ç”¨ï¼Ÿ å…·æœ‰å¾ˆå¤§çš„æ–¹å·®ï¼Œå¯¹äºä¸åŒçš„rewardå–å€¼ç»“æœå¤§ä¸ç›¸åŒã€‚ exampleï¼šå‡è®¾N=3ï¼›å…¶ä¸­æ€»çš„å¥–åŠ±åˆ†ä¸ºä¸ï¼ˆä¸€è´Ÿï¼Œä¸¤æ­£ï¼‰ï¼Œé‚£ä¹ˆæ›´æ–°åçš„ç­–ç•¥ä¼šåå‘äºå³è¾¹ï¼Œå‡å¦‚æ˜¯åŠ ä¸Šconstantï¼ˆä¸‰æ­£ï¼‰ï¼Œé‚£ä¹ˆæ›´æ–°çš„ç­–ç•¥ä¼šæ¯”åå‘ä¸­é—´ã€‚è¿™ç§ä¸ç¡®å®šæ€§å¯¼è‡´æœ€ç»ˆç»“æœçš„æ–¹å·®åå¤§ 0x02 å¦‚ä½•é™ä½æ–¹å·®ä¸€ï¼šCausality åœ¨æœªæ¥å‘ç”Ÿçš„äº‹æƒ…å¹¶ä¸ä¼šå¯¹ç°åœ¨çš„äº‹æƒ…é€ æˆå½±å“ï¼ˆpolicy at time b cannot affect reward at time a when a&lt;bï¼‰,å› æ­¤åœ¨tä¹‹å‰çš„æ¢¯åº¦ä¸ä¼šå¯¹åé¢é€ æˆå½±å“ æ‰€ä»¥æˆ‘ä»¬çš„æ¢¯åº¦éœ€è¦ï¼š âˆ‡Î¸J(Î¸)=1NÎ£i=1N[Î£t=1Tâˆ‡Î¸logÏ€Î¸(ai,tâˆ£si,t)][Î£i=1Tr(si,t,ai,t)]\\nabla_\\theta J(\\theta)=\\frac{1}{N}\\Sigma_{i=1}^N[\\Sigma_{t=1}^T \\nabla_\\theta log \\pi_\\theta(a_{i,t}|s_{i,t})][\\Sigma_{i=1}^T r(s_{i,t},a_{i,t})] âˆ‡â€‹Î¸â€‹â€‹J(Î¸)=â€‹Nâ€‹â€‹1â€‹â€‹Î£â€‹i=1â€‹Nâ€‹â€‹[Î£â€‹t=1â€‹Tâ€‹â€‹âˆ‡â€‹Î¸â€‹â€‹logÏ€â€‹Î¸â€‹â€‹(aâ€‹i,tâ€‹â€‹âˆ£sâ€‹i,tâ€‹â€‹)][Î£â€‹i=1â€‹Tâ€‹â€‹r(sâ€‹i,tâ€‹â€‹,aâ€‹i,tâ€‹â€‹)] å˜æˆï¼›æ³¨æ„åé¢è®¡ç®—å¥–åŠ±çš„ä¸‹æ ‡ï¼æœ‰æ•ˆçš„è¯æ˜è¿‡ç¨‹å¯èƒ½éœ€è¦åœ¨paperä¸­æ‰èƒ½çœ‹åˆ° âˆ‡Î¸J(Î¸)=1NÎ£i=1N[Î£t=1Tâˆ‡Î¸logÏ€Î¸(ai,tâˆ£si,t)][Î£tâ€²=tTr(si,tâ€²,ai,tâ€²)]\\nabla_\\theta J(\\theta)=\\frac{1}{N}\\Sigma_{i=1}^N[\\Sigma_{t=1}^T \\nabla_\\theta log \\pi_\\theta(a_{i,t}|s_{i,t})][\\Sigma_{t&#x27;=t}^T r(s_{i,t&#x27;},a_{i,t&#x27;})] âˆ‡â€‹Î¸â€‹â€‹J(Î¸)=â€‹Nâ€‹â€‹1â€‹â€‹Î£â€‹i=1â€‹Nâ€‹â€‹[Î£â€‹t=1â€‹Tâ€‹â€‹âˆ‡â€‹Î¸â€‹â€‹logÏ€â€‹Î¸â€‹â€‹(aâ€‹i,tâ€‹â€‹âˆ£sâ€‹i,tâ€‹â€‹)][Î£â€‹tâ€‹â€²â€‹â€‹=tâ€‹Tâ€‹â€‹r(sâ€‹i,tâ€‹â€²â€‹â€‹â€‹â€‹,aâ€‹i,tâ€‹â€²â€‹â€‹â€‹â€‹)] é€šå¸¸çš„æˆ‘ä»¬ä¼šå°†åé¢çš„è®°ä¸ºï¼šreward to goï¼š ï¼ˆreward\\ to\\ go) \\hat Q_{i,t}=\\Sigma_{t'=t}^Tr(s_{i,t'},a_{i,t'}) 0x03 å¦‚ä½•é™ä½å‘å·®äºŒï¼šBaselines é¦–å…ˆç›´è§‰çš„æ„Ÿå—ä¸åŒrewardçš„å½±å“ï¼Œè¿˜æ˜¯ä¹‹å‰çš„ä¾‹å­ï¼Œå¦‚æœreward=(-1,2,2)å’Œï¼ˆ1ï¼Œ4ï¼Œ4ï¼‰æˆ–è€…æ˜¯ï¼ˆ10000ï¼Œ10005ï¼Œ10005ï¼‰è¿™æ ·è®¡ç®—çš„ç»“æœé€šå¸¸æ˜¯ä¸ä¸€æ ·çš„ã€‚æˆ‘ä»¬éœ€è¦åœ¨å…¶ä¸­å‡å»ä¸€ä¸ªbaselineï¼Œç›¸å½“äºunbiased in expectationï¼Œå¾ˆç›´è§‚çš„æˆ‘ä»¬æ˜¯å‡å»å¥–åŠ±çš„å¹³å‡å€¼ï¼Œæ³¨æ„ï¼ï¼å¹³å‡å€¼ä¸ä¸€å®šæ˜¯æœ€å¥½çš„ \\nabla_\\theta J(\\theta)=\\int p_\\theta(\\tau)*\\nabla_\\theta logp_\\theta(\\tau)*(r(\\tau)-b)d\\tau\\\\ å¯ä»¥ç®€å•çš„è¯æ˜å‡å»ä¸€ä¸ªbaselineä¸ä¼šå¯¹æ¢¯åº¦é€ æˆå½±å“ï¼Œä½†æ˜¯ä¼šå¯¹æ¢¯åº¦å˜åŒ–ç¨‹åº¦é€ æˆå½±å“ E[âˆ‡Î¸logpÎ¸(Ï„)b]=bâˆ‡Î¸âˆ«pÎ¸(Ï„)dÏ„=bâˆ‡Î¸âˆ—1=0E[\\nabla_\\theta logp_\\theta(\\tau)b]=b\\nabla_\\theta \\int p_\\theta(\\tau)d \\tau=b\\nabla_\\theta*1=0 E[âˆ‡â€‹Î¸â€‹â€‹logpâ€‹Î¸â€‹â€‹(Ï„)b]=bâˆ‡â€‹Î¸â€‹â€‹âˆ«pâ€‹Î¸â€‹â€‹(Ï„)dÏ„=bâˆ‡â€‹Î¸â€‹â€‹âˆ—1=0 é™¤å»å¹³å‡å€¼ï¼Œæˆ‘ä»¬ä¼šé‡‡å–ä»€ä¹ˆbaselineæ¥è®¡ç®—ï¼Ÿæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é™ä½æ¨¡å‹çš„æ–¹å·®ï¼Œé‚£ä¹ˆæœ€å¥½çš„baselineå°±æ˜¯è®©æ¨¡å‹æ–¹å·®æœ€ä½çš„ï¼Œæ ¹æ®æ–¹å·®è®¡ç®— Var[X]=E[X2]âˆ’E[X]2Var[X]=E[X^2]-E[X]^2 Var[X]=E[Xâ€‹2â€‹â€‹]âˆ’E[X]â€‹2â€‹â€‹ é‚£ä¹ˆ Var=E[(âˆ‡Î¸logpÎ¸(Ï„)âˆ—(r(Ï„)âˆ’b))2]âˆ’E2[âˆ‡Î¸logpÎ¸(Ï„)âˆ—(r(Ï„)âˆ’b)]Var=E[(\\nabla_\\theta logp_\\theta(\\tau)*(r(\\tau)-b))^2]-E^2[\\nabla_\\theta logp_\\theta(\\tau)*(r(\\tau)-b)] Var=E[(âˆ‡â€‹Î¸â€‹â€‹logpâ€‹Î¸â€‹â€‹(Ï„)âˆ—(r(Ï„)âˆ’b))â€‹2â€‹â€‹]âˆ’Eâ€‹2â€‹â€‹[âˆ‡â€‹Î¸â€‹â€‹logpâ€‹Î¸â€‹â€‹(Ï„)âˆ—(r(Ï„)âˆ’b)] ç›´æ¥å¯¹æ–¹å·®Varçš„biasæ±‚å¯¼ dVardb=âˆ’2E[âˆ‡Î¸logpÎ¸(Ï„)2âˆ—r(Ï„)]+2bE[âˆ‡Î¸logpÎ¸(Ï„)2]\\frac{dVar}{db}=-2E[\\nabla_\\theta logp_\\theta(\\tau)^2*r(\\tau)]+2bE[\\nabla_\\theta logp_\\theta(\\tau)^2] â€‹dbâ€‹â€‹dVarâ€‹â€‹=âˆ’2E[âˆ‡â€‹Î¸â€‹â€‹logpâ€‹Î¸â€‹â€‹(Ï„)â€‹2â€‹â€‹âˆ—r(Ï„)]+2bE[âˆ‡â€‹Î¸â€‹â€‹logpâ€‹Î¸â€‹â€‹(Ï„)â€‹2â€‹â€‹] è¿™æ ·å°±å¯ä»¥å¾—åˆ°æœ€å¥½çš„bå€¼ï¼Œä½†æ˜¯é€šå¸¸åœ¨å®è·µä¸­å¾ˆéš¾è®¡ç®—ï¼Œæ‰€ä»¥è¿˜å›ä¹‹å¥½ç”¨ b=E[âˆ‡Î¸logpÎ¸(Ï„)2âˆ—r(Ï„)]E[âˆ‡Î¸logpÎ¸(Ï„)2]b=\\frac{E[\\nabla_\\theta logp_\\theta(\\tau)^2*r(\\tau)]}{E[\\nabla_\\theta logp_\\theta(\\tau)^2]} b=â€‹E[âˆ‡â€‹Î¸â€‹â€‹logpâ€‹Î¸â€‹â€‹(Ï„)â€‹2â€‹â€‹]â€‹â€‹E[âˆ‡â€‹Î¸â€‹â€‹logpâ€‹Î¸â€‹â€‹(Ï„)â€‹2â€‹â€‹âˆ—r(Ï„)]â€‹â€‹ 0x04 Off-policy Policy gradient æˆ‘ä»¬åœ¨ä¹‹å‰çš„è®¨è®ºä¸­å¾—åˆ°æœ€ç»ˆçš„æ¢¯åº¦ç†è®ºå…¬å¼å’Œé‡‡æ ·å…¬å¼ï¼Œä½†æ˜¯æˆ‘ä»¬ä»”ç»†æ€è€ƒè¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦ç¬¬iæ¬¡é‡‡æ ·å¾—åˆ°å®Œæ•´Ï„i\\tau_iÏ„â€‹iâ€‹â€‹ä¹‹åæ‰èƒ½åˆ©ç”¨æ¢¯åº¦æå‡æ›´æ–°policyï¼Œè¿™æ ·å¯¹äºæ¯æ¬¡policyåªæ˜¯ç®€å•çš„æ›´æ–°ä¸€æ¬¡æ¢¯åº¦ï¼›è¿™æ ·çš„ç»“æœå°±æ˜¯é‡‡æ ·æ•ˆç‡éå¸¸ä½ã€‚ å¯ä»¥ç®€å•çš„å¼•å…¥ important samplingï¼›æ¥å°è¯•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå…¶ç†è®ºè¿‡ç¨‹æ˜¯è¿™æ ·çš„ Exâˆ’p(x)[f(x)]=âˆ«p(x)f(x)dx=Exâˆ’q(x)[p(x)q(x)f(x)]E_{x-p(x)}[f(x)]=\\int p(x)f(x)dx=E_{x-q(x)}[\\frac{p(x)}{q(x)}f(x)] Eâ€‹xâˆ’p(x)â€‹â€‹[f(x)]=âˆ«p(x)f(x)dx=Eâ€‹xâˆ’q(x)â€‹â€‹[â€‹q(x)â€‹â€‹p(x)â€‹â€‹f(x)] è¿™æ ·çš„å¥½å¤„æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ™ºèƒ½ä½“æ—§ç­–ç•¥pÎ¸(Ï„)p_\\theta(\\tau)pâ€‹Î¸â€‹â€‹(Ï„) æ¥æ›´æ–°ç­–ç•¥æ¢¯åº¦çš„å€¼,å¾—åˆ°pÎ¸â€²(Ï„)p_{\\theta&#x27;}(\\tau)pâ€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹(Ï„),ä¹Ÿå°±æ˜¯ç›®æ ‡å‡½æ•°ä¼šå˜æˆ J(Î¸â€²)=EÏ„âˆ’pÎ¸(Ï„)[pÎ¸â€²(Ï„)pÎ¸(Ï„)(r(Ï„)âˆ’b)]J(\\theta&#x27;)=E_{\\tau-p_\\theta(\\tau)}[\\frac{p_{\\theta&#x27;}(\\tau)}{p_\\theta(\\tau)}(r(\\tau)-b)] J(Î¸â€‹â€²â€‹â€‹)=Eâ€‹Ï„âˆ’pâ€‹Î¸â€‹â€‹(Ï„)â€‹â€‹[â€‹pâ€‹Î¸â€‹â€‹(Ï„)â€‹â€‹pâ€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹(Ï„)â€‹â€‹(r(Ï„)âˆ’b)] ä¹‹é—´çš„æ¯”å€¼å¯ä»¥å±•å¼€å¾—åˆ° pÎ¸â€²(Ï„)pÎ¸(Ï„)=p(s1)âˆÏ€Î¸(atâˆ£st)p(st+1âˆ£st,at)p(s1)âˆÏ€Î¸â€²(atâˆ£st)p(st+1âˆ£st,at)=âˆÏ€Î¸(atâˆ£st)âˆÏ€Î¸â€²(atâˆ£st)\\frac{p_{\\theta&#x27;}(\\tau)}{p_\\theta(\\tau)}=\\frac{p(s_1)\\prod\\pi_\\theta(a_t|s_t)p(s_{t+1}|s_t,a_t)}{p(s_1)\\prod \\pi_{\\theta&#x27;}(a_t|s_t)p(s_{t+1}|s_t,a_t)}=\\frac{\\prod \\pi_\\theta(a_t|s_t)}{\\prod\\pi_{\\theta&#x27;}(a_t|s_t)} â€‹pâ€‹Î¸â€‹â€‹(Ï„)â€‹â€‹pâ€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹(Ï„)â€‹â€‹=â€‹p(sâ€‹1â€‹â€‹)âˆÏ€â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹)p(sâ€‹t+1â€‹â€‹âˆ£sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)â€‹â€‹p(sâ€‹1â€‹â€‹)âˆÏ€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹)p(sâ€‹t+1â€‹â€‹âˆ£sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)â€‹â€‹=â€‹âˆÏ€â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹)â€‹â€‹âˆÏ€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹)â€‹â€‹ å› æ­¤å¯ä»¥å¾—åˆ° Important samplingä¸‹çš„ç›®æ ‡å‡½æ•°çš„æœŸæœ› âˆ‡Î¸â€²J(Î¸â€²)=EÏ„âˆ’pÎ¸(Ï„)[pÎ¸â€²(Ï„)pÎ¸(Ï„)âˆ‡Î¸â€²logÏ€Î¸â€²(Ï„)(r(Ï„)âˆ’b)]\\nabla_{\\theta&#x27;} J(\\theta&#x27;)=E_{\\tau-p_\\theta(\\tau)}[\\frac{p_{\\theta&#x27;}(\\tau)}{p_\\theta(\\tau)}\\nabla_{\\theta&#x27;}log\\pi_{\\theta&#x27;}(\\tau)(r(\\tau)-b)] âˆ‡â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹J(Î¸â€‹â€²â€‹â€‹)=Eâ€‹Ï„âˆ’pâ€‹Î¸â€‹â€‹(Ï„)â€‹â€‹[â€‹pâ€‹Î¸â€‹â€‹(Ï„)â€‹â€‹pâ€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹(Ï„)â€‹â€‹âˆ‡â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹logÏ€â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹(Ï„)(r(Ï„)âˆ’b)] âˆ‡Î¸â€²J(Î¸â€²)=EÏ„âˆ’pÎ¸(Ï„)[âˆÏ€Î¸â€²âˆ£(atâˆ£st)âˆÏ€Î¸(atâˆ£st)âˆ‡Î¸â€²logÏ€Î¸â€²(Ï„)(r(Ï„)âˆ’b)]\\nabla_{\\theta&#x27;} J(\\theta&#x27;)=E_{\\tau-p_\\theta(\\tau)}[\\frac{\\prod \\pi_{\\theta&#x27;}|(a_t|s_t)}{\\prod\\pi_{\\theta}(a_t|s_t)}\\nabla_{\\theta&#x27;}log\\pi_{\\theta&#x27;}(\\tau)(r(\\tau)-b)] âˆ‡â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹J(Î¸â€‹â€²â€‹â€‹)=Eâ€‹Ï„âˆ’pâ€‹Î¸â€‹â€‹(Ï„)â€‹â€‹[â€‹âˆÏ€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹)â€‹â€‹âˆÏ€â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹âˆ£(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹)â€‹â€‹âˆ‡â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹logÏ€â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹(Ï„)(r(Ï„)âˆ’b)] ç»§ç»­æˆ‘ä»¬ä¹‹å‰çš„causalityçš„è¯´æ˜ï¼Œæ‰€ä»¥é‡‡æ ·æƒ…å†µä¸‹ä¸Šé¢å±•å¼€å¾—åˆ° âˆ‡Î¸â€²J(Î¸â€²)=EÏ„âˆ’pÎ¸(Ï„)[Î£t=1Tâˆ‡Î¸â€²logÏ€Î¸â€²(atâˆ£st)(âˆâˆ—tâ€²=1TÏ€âˆ—Î¸â€²(atâ€²âˆ£stâ€²)Ï€Î¸(atâ€²âˆ£stâ€²))(Î£tâ€²=tT(r(stâ€²,atâ€²âˆ’b)(Î£tâ€²â€²=ttâ€²âˆâˆ—tâ€²=1TÏ€âˆ—Î¸â€²(atâ€²â€²âˆ£stâ€²â€²)Ï€Î¸(atâ€²â€²âˆ£stâ€²â€²)))]\\nabla_{\\theta&#x27;} J(\\theta&#x27;)=E_{\\tau-p_\\theta(\\tau)}[\\Sigma_{t=1}^T \\nabla_{\\theta&#x27;}log\\pi_{\\theta&#x27;}(a_t|s_t)(\\prod *{t&#x27;=1}^T\\frac{\\pi*{\\theta&#x27;}(a_t&#x27;|s_t&#x27;)}{\\pi_{\\theta}(a_t&#x27;|s_t&#x27;)})(\\Sigma_{t&#x27;=t}^T(r(s_{t&#x27;},a_{t&#x27;}-b)(\\Sigma_{t&#x27;&#x27;=t}^{t&#x27;}\\prod *{t&#x27;=1}^T\\frac{\\pi*{\\theta&#x27;}(a_t&#x27;&#x27;|s_t&#x27;&#x27;)}{\\pi_{\\theta}(a_t&#x27;&#x27;|s_t&#x27;&#x27;)}))] âˆ‡â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹J(Î¸â€‹â€²â€‹â€‹)=Eâ€‹Ï„âˆ’pâ€‹Î¸â€‹â€‹(Ï„)â€‹â€‹[Î£â€‹t=1â€‹Tâ€‹â€‹âˆ‡â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹logÏ€â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹)(âˆâˆ—tâ€‹â€²â€‹â€‹=1â€‹Tâ€‹â€‹â€‹Ï€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€²â€‹â€‹âˆ£sâ€‹tâ€‹â€²â€‹â€‹)â€‹â€‹Ï€âˆ—Î¸â€‹â€²â€‹â€‹(aâ€‹tâ€‹â€²â€‹â€‹âˆ£sâ€‹tâ€‹â€²â€‹â€‹)â€‹â€‹)(Î£â€‹tâ€‹â€²â€‹â€‹=tâ€‹Tâ€‹â€‹(r(sâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹,aâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹âˆ’b)(Î£â€‹tâ€‹â€²â€²â€‹â€‹=tâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹âˆâˆ—tâ€‹â€²â€‹â€‹=1â€‹Tâ€‹â€‹â€‹Ï€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€²â€²â€‹â€‹âˆ£sâ€‹tâ€‹â€²â€²â€‹â€‹)â€‹â€‹Ï€âˆ—Î¸â€‹â€²â€‹â€‹(aâ€‹tâ€‹â€²â€²â€‹â€‹âˆ£sâ€‹tâ€‹â€²â€²â€‹â€‹)â€‹â€‹))] é€šå¸¸reward to goé‡Œçš„åˆ†å¸ƒä¼šåˆ æ‰ï¼Œå› æ­¤ä¸å½±å“ç»“æœï¼ˆpaperä¸­æœ‰ï¼‰ (Î£tâ€²â€²=ttâ€²âˆâˆ—tâ€²=1TÏ€âˆ—Î¸â€²(atâ€²â€²âˆ£stâ€²â€²)Ï€Î¸(atâ€²â€²âˆ£stâ€²â€²))(\\Sigma_{t&#x27;&#x27;=t}^{t&#x27;}\\prod *{t&#x27;=1}^T\\frac{\\pi*{\\theta&#x27;}(a_t&#x27;&#x27;|s_t&#x27;&#x27;)}{\\pi_{\\theta}(a_t&#x27;&#x27;|s_t&#x27;&#x27;)}) (Î£â€‹tâ€‹â€²â€²â€‹â€‹=tâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹âˆâˆ—tâ€‹â€²â€‹â€‹=1â€‹Tâ€‹â€‹â€‹Ï€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€²â€²â€‹â€‹âˆ£sâ€‹tâ€‹â€²â€²â€‹â€‹)â€‹â€‹Ï€âˆ—Î¸â€‹â€²â€‹â€‹(aâ€‹tâ€‹â€²â€²â€‹â€‹âˆ£sâ€‹tâ€‹â€²â€²â€‹â€‹)â€‹â€‹) åŒæ—¶å¯ä»¥æ”¹å˜ç­–ç•¥çš„æ¯”å€¼ï¼Œè¿™ä¸ªåœ¨ä¹‹åè¯¾ç¨‹ä¸­ä¼šè®²åˆ°,è¿™é‡Œé‡‡ç”¨first- order approximationï¼Œ âˆâˆ—tâ€²=1TÏ€âˆ—Î¸â€²(si,t)Ï€Î¸(si,t)Ï€Î¸â€²(atâ€²âˆ£stâ€²)Ï€Î¸(atâ€²âˆ£stâ€²)=âˆâˆ—tâ€²=1TÏ€âˆ—Î¸â€²(atâ€²,stâ€²)Ï€Î¸(atâ€²,stâ€²)\\prod *{t&#x27;=1}^T\\frac{\\pi*{\\theta&#x27;}(s_{i,t})}{\\pi_\\theta(s_{i,t})}\\frac{\\pi_{\\theta&#x27;}(a_t&#x27;|s_t&#x27;)}{\\pi_{\\theta}(a_t&#x27;|s_t&#x27;)}=\\prod *{t&#x27;=1}^T\\frac{\\pi*{\\theta&#x27;}(a_{t&#x27;},s_t&#x27;)}{\\pi_{\\theta}(a_t&#x27;,s_t&#x27;)} âˆâˆ—tâ€‹â€²â€‹â€‹=1â€‹Tâ€‹â€‹â€‹Ï€â€‹Î¸â€‹â€‹(sâ€‹i,tâ€‹â€‹)â€‹â€‹Ï€âˆ—Î¸â€‹â€²â€‹â€‹(sâ€‹i,tâ€‹â€‹)â€‹â€‹â€‹Ï€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€²â€‹â€‹âˆ£sâ€‹tâ€‹â€²â€‹â€‹)â€‹â€‹Ï€â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹(aâ€‹tâ€‹â€²â€‹â€‹âˆ£sâ€‹tâ€‹â€²â€‹â€‹)â€‹â€‹=âˆâˆ—tâ€‹â€²â€‹â€‹=1â€‹Tâ€‹â€‹â€‹Ï€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€²â€‹â€‹,sâ€‹tâ€‹â€²â€‹â€‹)â€‹â€‹Ï€âˆ—Î¸â€‹â€²â€‹â€‹(aâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹,sâ€‹tâ€‹â€²â€‹â€‹)â€‹â€‹ å› æ­¤å¾—åˆ°Off-Policy Policy gradient with important samplingçš„ç›®æ ‡å‡½æ•°æ¢¯åº¦ï¼š âˆ‡Î¸â€²J(Î¸â€²)=1NÎ£i=1N[Î£t=1Tâˆ‡Î¸â€²logÏ€Î¸â€²(atâˆ£st)(âˆâˆ—tâ€²=1TÏ€âˆ—Î¸â€²(atâ€²,stâ€²)Ï€Î¸(atâ€²,stâ€²))Q^i,t]\\nabla_{\\theta&#x27;} J(\\theta&#x27;)=\\frac{1}{N}\\Sigma_{i=1}^N[\\Sigma_{t=1}^T \\nabla_{\\theta&#x27;}log\\pi_{\\theta&#x27;}(a_t|s_t)(\\prod *{t&#x27;=1}^T\\frac{\\pi*{\\theta&#x27;}(a_{t&#x27;},s_t&#x27;)}{\\pi_{\\theta}(a_t&#x27;,s_t&#x27;)}) \\hat Q_{i,t}] âˆ‡â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹J(Î¸â€‹â€²â€‹â€‹)=â€‹Nâ€‹â€‹1â€‹â€‹Î£â€‹i=1â€‹Nâ€‹â€‹[Î£â€‹t=1â€‹Tâ€‹â€‹âˆ‡â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹logÏ€â€‹Î¸â€‹â€²â€‹â€‹â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£sâ€‹tâ€‹â€‹)(âˆâˆ—tâ€‹â€²â€‹â€‹=1â€‹Tâ€‹â€‹â€‹Ï€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€²â€‹â€‹,sâ€‹tâ€‹â€²â€‹â€‹)â€‹â€‹Ï€âˆ—Î¸â€‹â€²â€‹â€‹(aâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹,sâ€‹tâ€‹â€²â€‹â€‹)â€‹â€‹)â€‹Qâ€‹^â€‹â€‹â€‹i,tâ€‹â€‹] ä½œä¸ºå¯¹æ¯”ä¹‹å‰çš„on- policy gradientæ˜¯ï¼š âˆ‡Î¸J(Î¸)=1NÎ£i=1N[Î£t=1Tâˆ‡Î¸logÏ€Î¸(ai,tâˆ£si,t)]Q^i,t\\nabla_\\theta J(\\theta)=\\frac{1}{N}\\Sigma_{i=1}^N[\\Sigma_{t=1}^T \\nabla_\\theta log \\pi_\\theta(a_{i,t}|s_{i,t})]\\hat Q_{i,t} âˆ‡â€‹Î¸â€‹â€‹J(Î¸)=â€‹Nâ€‹â€‹1â€‹â€‹Î£â€‹i=1â€‹Nâ€‹â€‹[Î£â€‹t=1â€‹Tâ€‹â€‹âˆ‡â€‹Î¸â€‹â€‹logÏ€â€‹Î¸â€‹â€‹(aâ€‹i,tâ€‹â€‹âˆ£sâ€‹i,tâ€‹â€‹)]â€‹Qâ€‹^â€‹â€‹â€‹i,tâ€‹â€‹ 0x05 ä»£ç å®ç° å‚è€ƒã€ŠåŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ ã€‹ é¦–å…ˆå‡ ä¸ªæœ‰è¶£çš„å‘ç° åœ¨CartPole-v0æˆåŠŸçš„ä¸ä¸€å®šèƒ½åœ¨MountainCar-v0ä¸­å®ç°ï¼Œè¿™ä¸ªä¸å¥–åŠ±å‡½æ•°çš„è®¾ç½®å…³ç³»å¾ˆå¤§ï¼ˆå°è½¦æ²¡æœ‰ä¸Šå±±ä¹‹å‰éƒ½æ˜¯-1ï¼Œè¢«æ‰“å‡»åˆ°äº†ï¼‰ ä¸åŒçš„è¶…å‚æ•°å¯¹æœ€ç»ˆç»“æœå½±å“å¾ˆå¤§ æ¨èä½¿ç”¨GYM 0.21ç‰ˆæœ¬ï¼›æœ€æ–°ç‰ˆæœ¬æ€»ä¼šå‡ºé—®é¢˜ 5.1 ç¯å¢ƒæ­å»º 1234567891011121314151617181920## ç¯å¢ƒè¯´æ˜ï¼šCartpole-v0 æˆ‘ä»¬é‡‡ç”¨çš„æµ‹è¯•ç¯å¢ƒæ˜¯ CartPole-v0ï¼Œå…¶çŠ¶æ€ç©ºé—´ç›¸å¯¹ç®€å•ï¼Œåªæœ‰ 4 ä¸ªå˜é‡ï¼Œå› æ­¤ç½‘ç»œç»“æ„çš„è®¾è®¡ä¹Ÿç›¸å¯¹ç®€å•ï¼šé‡‡ç”¨ä¸€å±‚ 128 ä¸ªç¥ç»å…ƒçš„å…¨è¿æ¥å¹¶ä»¥ ReLU ä½œä¸ºæ¿€æ´»å‡½æ•°ã€‚å½“é‡åˆ°æ›´å¤æ‚çš„è¯¸å¦‚ä»¥å›¾åƒä½œä¸ºè¾“å…¥çš„ç¯å¢ƒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘é‡‡ç”¨æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œã€‚# å¼•å…¥ä¸€äº›åŒ…from pyvirtualdisplay import Displaydisplay = Display(visible=0, size=(1400, 900))display.start()import matplotlib.pyplot as pltfrom IPython import displayimport timefrom IPython import displayfrom PIL import Imageimport gymimport torchimport torch.nn.functional as Fimport numpy as npimport matplotlib.pyplot as pltfrom tqdm import tqdm 5.2 å®šä¹‰Policy net è¾“å…¥æ˜¯stateï¼Œè¾“å‡ºæ˜¯actionã€‚éšä¾¿ä¸€ä¸ªæµ…å±‚MLPå°±å¤Ÿäº† 123456789101112class PolicyNet(torch.nn.Module): def __init__(self,state_dim,hidden_dim,action_dim): super(PolicyNet,self).__init__() self.fc1=torch.nn.Linear(state_dim,hidden_dim) self.fc2=torch.nn.Linear(hidden_dim,action_dim) for m in self.modules(): if isinstance(m, torch.nn.Linear): torch.nn.init.normal_(m.weight, std=0.01) def forward(self,x): x=F.relu(self.fc1(x)) return F.softmax(self.fc2(x),dim=1) 5.3 å®šä¹‰ç®—æ³• ä¸‰æ­¥ï¼Œé¦–å…ˆsample generationã€ç„¶åpolicy evaluateï¼Œä¹‹åæ˜¯improve policy 12345678910111213141516171819202122232425262728293031323334from traitlets import observeclass REINFORCE: def __init__(self,state_dim,hidden_dim,action_dim,learning_rate,gamma,device): self.policy_net=PolicyNet(state_dim,hidden_dim,action_dim).to(device) self.optimizer=torch.optim.Adam(self.policy_net.parameters(),lr=learning_rate) self.gamma=gamma self.device=device def take_action(self,state): # æ ¹æ®åŠ¨ä½œæ¦‚ç‡åˆ†å¸ƒéšæœºé‡‡æ · state=torch.tensor([state],dtype=torch.float).to(self.device) probs=self.policy_net(state) action_dist=torch.distributions.Categorical(probs) action=action_dist.sample() return action.item() def update(self,transition_dict): reward_list=transition_dict[&#x27;rewards&#x27;] state_list=transition_dict[&#x27;states&#x27;] action_list=transition_dict[&#x27;actions&#x27;] G=0 self.optimizer.zero_grad() for i in reversed(range(len(reward_list))): # ä»æœ€åä¸€æ­¥å¼€å§‹ state=torch.tensor([state_list[i]],dtype=torch.float).to(self.device) reward=reward_list[i] action=torch.tensor([action_list[i]]).view(-1,1).to(self.device) log_prob=torch.log(self.policy_net(state).gather(1,action)) G=self.gamma*G+reward loss=-log_prob*G loss.backward() self.optimizer.step() 5.3 å¼€å§‹å®éªŒ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859learning_rate=0.001num_episodes=1000hidden_dim=128gamma=0.98device=torch.device(&#x27;cuda&#x27; if torch.cuda.is_available() else &#x27;cpu&#x27;)env_name=&#x27;CartPole-v0&#x27;# env_name=&#x27;MountainCar-v0&#x27;# env_name=&#x27;LunarLander-v2&#x27;## è§‚å¯Ÿç¯å¢ƒenv=gym.make(env_name)env.seed(0)print(&#x27;state:&#123;&#125;&#x27;.format(env.observation_space.dtype))print(&#x27;action:&#123;&#125;&#x27;.format(env.action_space))print(&#x27;state shape:&#123;&#125;~&#123;&#125;&#x27;.format(env.observation_space.low,env.observation_space.high))torch.manual_seed(0)state_dim=env.observation_space.shape[0]action_dim=env.action_space.nagent=REINFORCE(state_dim,hidden_dim,action_dim,learning_rate,gamma,device)return_list = []for i in range(10): with tqdm(total=int(num_episodes / 10), desc=&#x27;Iteration %d&#x27; % i) as pbar: for i_episode in range(int(num_episodes / 10)): episode_return = 0 transition_dict = &#123; &#x27;states&#x27;: [], &#x27;actions&#x27;: [], &#x27;next_states&#x27;: [], &#x27;rewards&#x27;: [], &#x27;dones&#x27;: [] &#125; state = env.reset() # æ¸…é™¤å½“å‰ Cell çš„è¾“å‡º done = False while not done: action = agent.take_action(state) next_state, reward, done, _ = env.step(action) transition_dict[&#x27;states&#x27;].append(state) transition_dict[&#x27;actions&#x27;].append(action) transition_dict[&#x27;next_states&#x27;].append(next_state) # special for Mountain # reward=(next_state[0]+1)**5 # if abs(next_state[1])&gt;0.04: # reward+=1 transition_dict[&#x27;rewards&#x27;].append(reward) transition_dict[&#x27;dones&#x27;].append(done) state = next_state episode_return += reward return_list.append(episode_return) agent.update(transition_dict) if (i_episode + 1) % 10 == 0: pbar.set_postfix(&#123; &#x27;episode&#x27;: &#x27;%d&#x27; % (num_episodes / 10 * i + i_episode + 1), &#x27;return&#x27;: &#x27;%.3f&#x27; % np.mean(return_list[-10:]) &#125;) pbar.update(1) å‡å¦‚è®¾ç½®ä¸‰å±‚ç½‘ç»œç»“æœæœ‰ç‚¹å¥‡æ€ªï¼Œä½†æ˜¯policyæ˜¯å¥½çš„ 5.4 è§‚å¯Ÿ 123456789101112131415161718done = Falsestate = env.reset()flag=1 # é˜²æ­¢åˆ·æ–°è¿‡å¿«while flag&lt;100: action = agent.take_action(state) next_state, reward, done, _ = env.step(action) state=next_state # æ¸…é™¤å½“å‰ Cell çš„è¾“å‡º display.clear_output(wait=True) # æ¸²æŸ“ç”»é¢ï¼Œå¾—åˆ°ç”»é¢çš„åƒç´ æ•°ç»„ rgb_array = env.render(mode=&#x27;rgb_array&#x27;) # ä½¿ç”¨åƒç´ æ•°ç»„ç”Ÿæˆå›¾ç‰‡ img = Image.fromarray(rgb_array) # å½“å‰ Cell ä¸­å±•ç¤ºå›¾ç‰‡ display.display(img) time.sleep(1/24) flag+=1 ç¬¬ä¸€ä¸ªæ˜¯2å±‚ï¼Œç¬¬äºŒæ˜¯3å±‚ è§†é¢‘å¯ä»¥çœ‹https://www.notion.so/clouddirty/Lecture-05-Policy-Gradients-9384f9b7ad1f49d5aa326f66b97f05eb#3d9149bbd9b642ce926f0df2f0bf62f0","categories":[{"name":"RL","slug":"RL","permalink":"https://blog.tjdata.site/categories/RL/"}],"tags":[{"name":"CS285","slug":"CS285","permalink":"https://blog.tjdata.site/tags/CS285/"}]},{"title":"CS285_Lecture04_Introduction_to_Reinforcement_Learning","slug":"CS285_Lecture04_Introduction_to_Reinforcement_Learning","date":"2022-10-23T11:01:56.000Z","updated":"2023-05-13T13:48:05.659Z","comments":true,"path":"posts/e1096304.html","link":"","permalink":"https://blog.tjdata.site/posts/e1096304.html","excerpt":"Sergev Levineçš„è¯¾è®²å¼ºåŒ–å­¦ä¹ æˆ‘å”¯ä¸€å¬å¾—æ‡‚ä¸åŒå¼ºåŒ–å­¦ä¹ ç©¶ç«Ÿæœ‰å“ªäº›åˆ†ç±»ï¼ŒåŒæ—¶æ˜¯å¦‚ä½•è¿›è¡Œåˆ†ç±»çš„ã€‚æœ¬æ¬¡Lectureçš„ç›®æ ‡æ˜¯å®Œå–„å®šä¹‰Definitionä¸è®°å·notationï¼Œå¹¶è®¤æ¸…æ¥šRL objectiveï¼Œå¹¶ç»™å‡ºå…·ä½“å¼ºåŒ–å­¦ä¹ ç®—æ³•çš„æ€»ç»“ã€‚","text":"Sergev Levineçš„è¯¾è®²å¼ºåŒ–å­¦ä¹ æˆ‘å”¯ä¸€å¬å¾—æ‡‚ä¸åŒå¼ºåŒ–å­¦ä¹ ç©¶ç«Ÿæœ‰å“ªäº›åˆ†ç±»ï¼ŒåŒæ—¶æ˜¯å¦‚ä½•è¿›è¡Œåˆ†ç±»çš„ã€‚æœ¬æ¬¡Lectureçš„ç›®æ ‡æ˜¯å®Œå–„å®šä¹‰Definitionä¸è®°å·notationï¼Œå¹¶è®¤æ¸…æ¥šRL objectiveï¼Œå¹¶ç»™å‡ºå…·ä½“å¼ºåŒ–å­¦ä¹ ç®—æ³•çš„æ€»ç»“ã€‚ 0x01 Definition of a MDP 1.1 Recap RL with imitation learning æˆ‘ä»¬åœ¨ä¹‹å‰çš„Lecture02-*Supervised_Learning_of_Behavior*ä¸­è®¤è¯†äº†Notationï¼Œä»¥åŠimitation learningçš„å±€é™æ€§ï¼Œå…¶ä¸­æœ€é‡è¦çš„æ˜¯éœ€è¦ä¸€ä¸ªä¸“å®¶æ™ºèƒ½ä½“æˆ–è€…äººå·¥æ¥æä¾›æ•°æ®ã€‚ä½†æ˜¯æ˜¾ç„¶è¿™æ˜¯ä¸å¯è¡Œçš„ã€‚æ‰€ä»¥é¦–å…ˆæˆ‘ä»¬éœ€è¦è®¤è¯†åˆ°æˆ‘ä»¬çš„ä»»åŠ¡åº”è¯¥æ˜¯ä»€ä¹ˆï¼Ÿæˆ–è®¸æˆ‘ä»¬ä¸çŸ¥é“ä»»åŠ¡å…·ä½“æ ·å­ï¼Œä½†æˆ‘ä»¬çŸ¥é“å®ƒå’Œæˆ‘ä»¬çŠ¶æ€è½¬å˜åºåˆ—ä¸­çš„æ¯ä¸€æ­¥çš„rewardæœ‰å…³ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨æˆ‘ä»¬observation=çœ‹åˆ°çº¢ç¯çš„æƒ…å†µä¸‹ï¼Œaction=åœè½¦å¾€å¾€ä»£è¡¨æ›´é«˜çš„rewardï¼Œå¦‚æœaction=å¼€è½¦é—¯è¿‡äº¤å‰å£å¾€å¾€ä»£è¡¨è´Ÿçš„rewardã€‚ 0x02 Definition of Reinforcement learning problem åœ¨ä¹‹å‰çš„å¼ºåŒ–å­¦ä¹ -åŸºæœ¬æ¦‚å¿µä¸­å·²ç»ç»™å‡ºMPã€MDPã€MRPçš„å®šä¹‰ï¼Œè¿™é‡Œç»™å‡ºCS285å®˜æ–¹å¯¹äºMDPå’ŒPOMDPï¼ˆPartial observation MDPï¼Œæš‚æ—¶ä¸è®¨è®ºï¼‰çš„è®°å· åœ¨å¼ºåŒ–å­¦ä¹ è¿‡ç¨‹ä¸­ state-observation- action- stateè½¬å˜ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†ï¼ˆs_1,a_1,...,s_T,a_Tï¼‰æ ‡è®°ä¸ºä¸€ä¸ªtrajectoryï¼Œä¸åŒè½¨è¿¹çš„æ¦‚ç‡å¯ä»¥ç”±ä¸‹å›¾è¡¨ç¤ºï¼›ç”±äºçŠ¶æ€s1æ˜¯éšæœºå˜é‡ï¼Œç­–ç•¥ä¹Ÿä¼šè¾“å‡ºä¸åŒçš„å€¼ï¼Œå› æ­¤è¿™é‡Œé€šå¸¸æ˜¯å…·æœ‰æŒ‡æ•°çš„trajectoryï¼Œå› æ­¤é€šå¸¸åªèƒ½ç”¨é‡‡æ ·çš„æ–¹æ³•æ¥è¿‘ä¼¼çš„æè¿°æ€»ä½“ã€‚ p_{\\theta}(\\Tau=\\tau)=p(s_1)\\prod \\limits_{i=0}^T\\pi_{\\theta}(a_t|s_t)p(s_{t+1}|s_t,a_t) å¦‚æœæˆ‘ä»¬çŸ¥é“æ‰€æœ‰å¯èƒ½çš„è½¨è¿¹çš„æ¦‚ç‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½æ±‚è§£å‡ºæˆ‘ä»¬ç­–ç•¥å¯¹åº”çš„æœŸæœ›;å¾ˆ EÏ„âˆ’pÎ¸(Ï„)[Î£i=0Tr(st,at)]E_{\\tau-p_{\\theta}(\\tau)}[\\Sigma _{i=0}^Tr(s_t,a_t)] Eâ€‹Ï„âˆ’pâ€‹Î¸â€‹â€‹(Ï„)â€‹â€‹[Î£â€‹i=0â€‹Tâ€‹â€‹r(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)] å¾ˆä¸å¹¸çš„æ˜¯ï¼Œåœ¨Ï„\\tauÏ„çš„æ¦‚ç‡åˆ†å¸ƒä¸­ï¼Œæˆ‘ä»¬ä¸çŸ¥é“s1s_1sâ€‹1â€‹â€‹çš„åˆ†å¸ƒï¼Œä¹Ÿä¸çŸ¥é“çŠ¶æ€è½¬ç§»p(st+1âˆ£st,at)p(s_{t+1}|s_t,a_t)p(sâ€‹t+1â€‹â€‹âˆ£sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹);ä½†æ˜¯æˆ‘ä»¬æƒ³ç¡®å®šçš„æ˜¯Ï€Î¸\\pi_{\\theta}Ï€â€‹Î¸â€‹â€‹ï¼›æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€äº›çŸ¥è¯†æ¥åšæ¼”åŒ–ï¼Œæ¯”å¦‚æˆ‘ä»¬çŸ¥é“(st,at)(s_t,a_t)(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)æ˜¯å…·æœ‰MPæ€§è´¨çš„ï¼Œä¹Ÿå°±æ˜¯ p((st+1,at+1)âˆ£(st,at))=p(st+1âˆ£st,at)Ï€Î¸(at+1âˆ£st+1))p((s_{t+1},a_{t+1})|(s_t,a_t))=p(s_{t+1}|s_t,a_t)\\pi_{\\theta}(a_{t+1}|s_{t+1})) p((sâ€‹t+1â€‹â€‹,aâ€‹t+1â€‹â€‹)âˆ£(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹))=p(sâ€‹t+1â€‹â€‹âˆ£sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)Ï€â€‹Î¸â€‹â€‹(aâ€‹t+1â€‹â€‹âˆ£sâ€‹t+1â€‹â€‹)) é‚£ä¹ˆæˆ‘ä»¬çš„å¥–åŠ±æœŸæœ›å°±å¯ä»¥ç­‰ä»· Î£t=1TE(st,at)âˆ’pÎ¸(st,at)[r(st,at)]\\Sigma_{t=1}^TE_{(s_t,a_t)-p_{\\theta}(s_t,a_t)}[r(s_t,a_t)] Î£â€‹t=1â€‹Tâ€‹â€‹Eâ€‹(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)âˆ’pâ€‹Î¸â€‹â€‹(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)â€‹â€‹[r(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)] å…¶ä¸­çš„pÎ¸(st,at)p_\\theta(s_t,a_t)pâ€‹Î¸â€‹â€‹(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)è¡¨ç¤ºä¸ºçŠ¶æ€åŠ¨ä½œçš„è¾¹ç¼˜æ¦‚ç‡åˆ†å¸ƒã€‚ æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯æ‰¾åˆ°å®ƒå…¶ä¸­çš„æœ€å¤§å€¼ï¼ŒåŒæ ·çš„å¯¹äºåœºæ™¯ä¸­æˆ‘ä»¬ä¼šç®€å•çš„åŒºåˆ†ä¸ºæœ‰é™åœºæ™¯ä¸æ— é™åœºæ™¯ infinite horizon caseï¼Œæˆ‘ä»¬éœ€è¦æœ€ç»ˆè¾¾åˆ°ç¨³å®šåˆ†å¸ƒï¼ˆstationary distributionï¼‰ï¼Œä¹Ÿå°±æ˜¯çŠ¶æ€çŠ¶æ€ä¸å‘ç”Ÿæ”¹å˜ï¼ŒÎ¼=TÎ¼\\mu=T\\muÎ¼=TÎ¼,è¿™æ—¶å€™å®šä¹‰å¹³å‡å›æŠ¥å…¬å¼ï¼ˆæ— æŠ˜æ‰£ï¼‰çš„ç›®æ ‡å‡½æ•°ä¸º 1. finite horizon case ,æˆ‘ä»¬ä¾æ—§éœ€è¦ state- action marginalæ¥æ±‚è§£ Questionï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦æœŸæœ›ï¼Ÿ è¯¾ç¨‹ä¸­ç»™å‡ºçš„è§£ç­”æ˜¯åœ¨ç°å®ä¸–ç•Œä¸­çš„æœŸæœ›ä¸è¿ç»­çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡éšæœºæ€§å’ŒæœŸæœ›æˆ‘ä»¬å¯ä»¥å°†å…¶è½¬å˜ç§°ä¸ºè¿ç»­ï¼ˆsmoothï¼‰çš„é—®é¢˜ PSï¼šä¸ªäººçœ‹æ³•é™¤äº†ä¸Šè¿°ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªåŸå› æ˜¯RLä¸­æˆ‘ä»¬é€šå¸¸å¸Œæœ›ä½¿ç”¨é‡‡æ ·Samplingçš„æ–¹æ³•æ¥è¿›è¡Œæ±‚è§£ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å¯èƒ½ç½—åˆ—å‡ºæ‰€æœ‰çš„å¯èƒ½æ€§ï¼Œè€Œé‡‡æ ·æ–¹æ³•å¾—åˆ°çš„å¾€å¾€æ˜¯æœŸæœ›è€Œä¸æ˜¯ç§¯åˆ†å¼ã€‚å› æ­¤åœ¨RLå¥½çš„samplingæ–¹æ³•ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ã€‚å¸¸è§çš„æœ‰åŸºäºé©¬å°”å¯å¤«è’™ç‰¹å¡æ´›MCMCæ–¹æ³•ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šè’™åœ°å¡ç½—ã€é‡è¦æ€§é‡‡æ ·ã€åŸºäºèƒ½é‡é‡‡æ ·ã€Gibbsé‡‡æ ·ç­‰ç­‰å¥‡å¥‡æ€ªæ€ªçš„é‡‡æ ·æ–¹å¼ã€‚ 0x03 Anatomy of a RL algorithm æˆ‘ä»¬å¯ä»¥å›é¡¾ä¸€ä¸‹ç›‘ç£å­¦ä¹ çš„èŒƒå¼ï¼Œå¯¹äºdatasetï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸€ä¸ªå‡è®¾hypothesisï¼Œä¹‹åæˆ‘ä»¬å¯ä»¥åœ¨datasetä¸­åˆ©ç”¨learning modelæ¥é€šè¿‡lossæ¥optimå‡è®¾ä¸­çš„paramï¼Œç„¶åå¾—åˆ°æˆ‘ä»¬çš„modelï¼Œå¹¶å¯ä»¥evaluateã€‚ å¼ºåŒ–å­¦ä¹ ä¸­çš„æ–¹å¼åŒ…æ‹¬ generate sampleï¼Œä¸ç¯å¢ƒäº¤äº’æˆ–è€…æ”¶é›†æ ·æœ¬æ¥å¾—åˆ°åŸºç¡€æ•°æ® fit a modelæˆ–è€…estimate the returnï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‹Ÿåˆä¸€ä¸ªç­–ç•¥ï¼ˆç”¨ç¥ç»ç½‘ç»œï¼‰ï¼›æˆ–è€…è®¡ç®—è½¨è¿¹çš„å¥–åŠ±å€¼ï¼ˆrewardï¼ŸQï¼Ÿvalueï¼Ÿï¼‰æ¥é—´æ¥ååº”å¥½çš„ç­–ç•¥ improve the policyï¼Œæ— è®ºç¬¬äºŒæ­¥æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯ä»€ä¹ˆæ–¹æ³•ï¼Œæˆ‘ä»¬çš„æœ€ç»ˆç›®çš„æ˜¯éœ€è¦æå‡æˆ‘ä»¬çš„policy 0x04 Brief overview of RL algorithm types åœ¨step2ä¸­ï¼Œæˆ‘ä»¬å¤©ç„¶çš„å¯ä»¥å°†RLç®—æ³•åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯æ˜¯ç›´æ¥æ‹Ÿåˆpolicyçš„ï¼Œä¸€ç±»æ˜¯æ ¹æ®rewardæ¥é—´æ¥åæ˜ policyçš„å¥½åã€‚ä½†æ˜¯rewardå¹¶ä¸æ˜¯å®¹æ˜“è®¡ç®—çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šæœ‰rewardã€Q- functionæˆ–è€…value - function 4.1 å…³äºè¯„ä»·Policyçš„å¥½å æœ€ç›´æ¥çš„æˆ‘ä»¬åœ¨0x02ä¸­å·²ç»å®šä¹‰å¥½äº†ï¼Œæˆ‘ä»¬æ¥å±•å¼€è®¡ç®—å®ƒï¼š EÏ„âˆ’pÎ¸(Ï„)[Î£t=1t=Tr(st,at)]E_{\\tau-p_\\theta(\\tau)}[\\Sigma_{t=1}^{t=T}r(s_t,a_t)] Eâ€‹Ï„âˆ’pâ€‹Î¸â€‹â€‹(Ï„)â€‹â€‹[Î£â€‹t=1â€‹t=Tâ€‹â€‹r(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)] =E_{s_1-p_\\theta(s_1)}[E_{a_1-\\pi(a_1|s_1)}[r(s_1,a_1)+å¾…å®š]ï½œs_1,a_1] å¦‚æœç»§ç»­å†™ä¸‹å»ï¼Œæˆ‘ä»¬ä¼šå‘ç°å…¶ä¸­çš„â€œå¾…å®šâ€œæ˜¯å¯ä»¥é€’å½’çš„å†™ä¸‹å»çš„ï¼Œç›´åˆ°è½¨è¿¹çš„æœ€åï¼Œå‡è®¾æˆ‘ä»¬å®šä¹‰ä¸€ç§å‡½æ•°ï¼Œåç§°ä¸ºQ- function Qï¼ˆs_1,a_1ï¼‰=r(s_1,a_1)+å¾…å®š é‚£ä¹ˆæˆ‘ä»¬çš„æœŸæœ›å¥–åŠ±å°±æˆä¸º E_{\\tau-p_\\theta(\\tau)}[\\Sigma_{t=1}^{t=T}r(s_t,a_t)]=E_{s_1-p_\\theta(s_1)}[E_{a_1-\\pi(a_1|s_1)}[Q(s_1,t_1)]ï½œs_1,a_1] æ›´è¯¦ç»†çš„å®šä¹‰Q- functionï¼š QÏ€(st,at)=Î£tâ€²=tTEÏ€Î¸[r(stâ€²,atâ€²)âˆ£st,at]Q^\\pi(s_t,a_t)=\\Sigma_{t&#x27;=t}^TE_{\\pi_\\theta}[r(s_{t&#x27;},a_{t&#x27;})|s_t,a_t] Qâ€‹Ï€â€‹â€‹(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)=Î£â€‹tâ€‹â€²â€‹â€‹=tâ€‹Tâ€‹â€‹Eâ€‹Ï€â€‹Î¸â€‹â€‹â€‹â€‹[r(sâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹,aâ€‹tâ€‹â€²â€‹â€‹â€‹â€‹)âˆ£sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹] åœ¨MRPé—®é¢˜ä¸­æˆ‘ä»¬ä¼šæœ‰ä¸€ä¸ªçŠ¶æ€ä»·å€¼çš„æ¦‚å¿µï¼ŒåŒæ ·æˆ‘ä»¬è¿™é‡Œå¯ä»¥ç”±state-value- functionï¼Œç”¨æ¥ååº”æ‰€æœ‰è¡Œä¸ºä¸‹çš„æœŸæœ› VÏ€(s)=E[QÏ€(s,a)] under Ï€(aâˆ£s)V^\\pi(s)=E[Q^\\pi(s,a)]\\ under\\ \\pi(a|s) Vâ€‹Ï€â€‹â€‹(s)=E[Qâ€‹Ï€â€‹â€‹(s,a)] under Ï€(aâˆ£s) ä½†æ˜¯è¿™æ ·å¾—åˆ°çš„Qæœ‰ç”¨å—ï¼Ÿ ï¼ˆQ- learningï¼‰è¿™æ ·æˆ‘ä»¬å¯ä»¥é€šè¿‡æ”¹å˜Ï€Î¸\\pi_\\thetaÏ€â€‹Î¸â€‹â€‹æ¥æ”¹å˜æ€»æœŸæœ›å—ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å¯¹åº”æ›´å¤§Qå€¼çš„è¡Œä¸ºï¼Œè™½ç„¶è¿™ä¸æ˜¯æ•°å­¦ä¸Šçš„æè¿°ï¼Œä½†æ˜¯å¯ä»¥ç»™æˆ‘ä»¬ç›´è§‰ä¸Šçš„å¯èƒ½æ€§ã€‚ ï¼ˆActor- criticï¼‰å°½å¯èƒ½é€‰æ‹©Q&gt;Vçš„è¡Œä¸ºï¼Œå› ä¸ºVååº”è¿™ä¸ªçŠ¶æ€ä¸‹æ‰€æœ‰actionçš„å¹³å‡å€¼ PSï¼šè¿™ä¸€æ®µçœŸæ˜¯å¤ªæ£’äº†ï¼ï¼ï¼ 4.2 Types of RL algorithm æ ¹æ®ç¬¬äºŒæ­¥fit modelæˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ˜¯model- based RLï¼Œé€šå¸¸åŒ…æ‹¬ planingï¼›trajectory optimizationã€optimal controlã€MCTS improve a policyï¼Œback propagate gradients into the policy with tricks something elseï¼Œdynamic programmingï¼Œsimulated experience for model-free leaner åé¢å†è¯´ å¦‚æœæ˜¯evaluate returnï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ˜¯model- free RLï¼Œé€šå¸¸åŒ…æ‹¬ policy gradientsï¼Œç›´æ¥è®¡ç®—Objectiveå’Œgradient value- basedï¼Œé€šè¿‡å¹³å±€value- functionå’ŒQ- functionæ¥å¯»æ‰¾æ¯”è¾ƒå¥½çš„æ–¹æ³• actor- criticï¼Œé€šè¿‡è¯„ä¼°ç°åœ¨çš„value functionå’ŒQ- functionï¼Œç»“åˆPGçš„æƒ³æ³•æ¥æå‡ç­–ç•¥ 4.3 why so many algorithmsï¼Ÿ æ¨¡å‹æœ¬èº«æœ‰efficiency- stabilityï¼›ä¸åŒçš„assumptionï¼›ä»¥åŠä¸åŒé—®é¢˜çš„ä½¿ç”¨åœºæ™¯ï¼›æ­£å¦‚MLä¸­çš„variance-bias tradeoffï¼ŒRLä¸­é€šå¸¸æ˜¯efficiency- stability trade-off åŒæ—¶ä¸åŒæ¨¡å‹ä¹Ÿä¼šæœ‰ä¸åŒçš„assumptionï¼Œæ¯”å¦‚æ˜¯å¦å…¨è§‚æµ‹ï¼Œæ˜¯å¦è¿ç»­ç­‰ 4.4 example of algorithm model- based Dyna Guided policy search model - free Policy gradient REINFORCEï¼ˆREward Increments=nonnegative FactorOffset ReinforcementCharacteristic+Eligibilityï¼‰ Natural Policy gradient Trust region policy optimization Value function fitting methods Q- learningï¼ŒDQN Temporal difference learning Fitted value iteration Actor- critic algorithms Asynchronous advantage actor- critic Soft actor- criticï¼ˆSACï¼‰","categories":[{"name":"RL","slug":"RL","permalink":"https://blog.tjdata.site/categories/RL/"}],"tags":[{"name":"CS285","slug":"CS285","permalink":"https://blog.tjdata.site/tags/CS285/"}]},{"title":"CS285_Lecture02_Supervised_Learning_of_Behavior","slug":"CS285_Lecture02_Supervised_Learning_of_Behavior","date":"2022-10-23T10:01:56.000Z","updated":"2023-05-13T13:47:58.896Z","comments":true,"path":"posts/7d84bcc6.html","link":"","permalink":"https://blog.tjdata.site/posts/7d84bcc6.html","excerpt":"ç›®æ ‡æ˜¯æ˜ç™½RLä¸­çš„ä¸€äº›å®šä¹‰ï¼ˆdefinitionï¼‰å’Œè®°å·ï¼ˆnotationï¼‰ï¼Œä¸»è¦æ˜¯ä»MDPçš„å®šä¹‰ï¼Œç„¶åæ¨¡ä»¿å­¦ä¹ ï¼ˆImitation learningï¼‰å’ŒÏµ\\epsilonÏµ-greedy å­¦ä¹ çš„è§’åº¦ä»‹ç»äº†å¼ºåŒ–å­¦ä¹ ä¸­çš„case","text":"ç›®æ ‡æ˜¯æ˜ç™½RLä¸­çš„ä¸€äº›å®šä¹‰ï¼ˆdefinitionï¼‰å’Œè®°å·ï¼ˆnotationï¼‰ï¼Œä¸»è¦æ˜¯ä»MDPçš„å®šä¹‰ï¼Œç„¶åæ¨¡ä»¿å­¦ä¹ ï¼ˆImitation learningï¼‰å’ŒÏµ\\epsilonÏµ-greedy å­¦ä¹ çš„è§’åº¦ä»‹ç»äº†å¼ºåŒ–å­¦ä¹ ä¸­çš„case 0x01 Definition of Sequential decision problem 1.1 æ¦‚ç‡è®º å…³äºæ¦‚ç‡è®ºçš„è®°å·ï¼Œä¸ç ”ä¸€è¯¾ç¨‹ã€Šåº”ç”¨ç»Ÿè®¡ã€‹ä¸ä¸€æ ·ã€‚æˆ‘çŒœæƒ³å¤šæ˜¯å…·æœ‰å¦å¤–çš„è§„å®šï¼Œè¿™é‡Œå¼•ç”¨ä»ã€ŠDeep learningã€‹ï¼ˆ2015ï¼ŒLan Goodfellowï¼‰ä¸­çš„è¯´æ˜ï¼š éšæœºå˜é‡ï¼ˆrandom variableï¼‰æ˜¯å¯ä»¥éšæœºå–ä¸åŒå€¼çš„å˜é‡ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨æ— æ ¼å¼å­—ä½“ï¼ˆplain typefaceï¼‰ä¸­çš„å°å†™å­—æ¯è¡¨ç¤ºéšæœºå˜é‡æœ¬èº«ï¼Œç”¨æ‰‹å†™ä½“ä¸­çš„å°å†™å­—æ¯è¡¨ç¤ºéšæœºå˜é‡èƒ½å¤Ÿå–çš„å€¼ã€‚x1,x2x_1,x_2xâ€‹1â€‹â€‹,xâ€‹2â€‹â€‹è¡¨ç¤ºéšæœºå˜é‡xå¯èƒ½çš„å–å€¼ï¼Œå¯¹äºå‘é‡ï¼ˆvectorï¼‰çš„å˜é‡ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨xï¼Œå¯èƒ½çš„å–å€¼ä¸ºxxxã€‚æ‰€ä»¥p(p(p(x=xï¼‰å¯ä»¥ç®€å†™ä¸ºp(x)p(x)p(x) 1.2 å¼ºåŒ–å­¦ä¹  ä¸å¼ºåŒ–å­¦ä¹ å…¸ä¸­å…¸çš„ï¼šç¯å¢ƒï¼ˆEnvironmentï¼‰ä¸æ™ºèƒ½ä½“ï¼ˆAgentï¼‰å’ŒåŠ¨ä½œï¼ˆActionï¼‰ä¸‰è€…äº¤äº’ç±»ä¼¼ï¼ŒCS285è¯¾ç¨‹åŒæ ·ä»¥è¿™æ ·çš„ä¾‹å­ä½œä¸ºå¼€ç«¯ï¼Œå¹¶åˆ©ç”¨æ¦‚ç‡å›¾çš„æ–¹å¼æ¥åˆ†æè¿™ä¸ªè¿‡ç¨‹ã€‚ ï¼ˆç¬¬ä¸€å±‚ï¼‰åœ¨è‰åŸè¿™ä¸ªç¯å¢ƒä¸­çœ‹åˆ°äº†æŸä¸ªä¸œè¥¿ï¼Œç„¶åæˆ‘ä»¬åˆ¤åˆ«å‡ºæ¥å®ƒæ˜¯è€è™ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬é€šå¸¸åšå‡ºæŸä¸ªåŠ¨ä½œï¼Œä½†æ˜¯æˆ‘ä»¬çš„åŠ¨ä½œä¹Ÿä¼šå½±å“è‰åŸç¯å¢ƒï¼Œè¿›è€Œå½±å“è€è™çš„åŠ¨ä½œ ï¼ˆç¬¬äºŒå±‚ï¼‰ï¼Œå‡è®¾è‰åŸç¯å¢ƒä½œä¸ºEnvironmentï¼ŒæŸä¸ªæ—¶é—´ç‚¹çš„çŠ¶æ€ä¸ºStateï¼Œæˆ‘ä»¬ä½œä¸ºAgenté€šè¿‡çœ‹è®¤è¯†è¿™ä¸ªçŠ¶æ€å¾—åˆ°Observationï¼ˆè€è™çš„æ¦‚ç‡ä¸º0.99ï¼ŒçŒ«çš„æ¦‚ç‡ä¸º0.01ï¼‰ï¼Œä¹‹åæˆ‘ä»¬ä¼šæ ¹æ®Observationæ¥é‡‡å–Policy( Ï€Î¸(atâˆ£ot)\\pi_\\theta(a_t|o_t)Ï€â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£oâ€‹tâ€‹â€‹))ï¼ˆå¦‚æœæ˜¯è€è™ï¼Œåˆ™é€ƒè·‘æ¦‚ç‡=0.9ï¼Œå½“å® ç‰©=0.1ï¼›å¦‚æœæ˜¯çŒ«ï¼Œåˆ™é€ƒè·‘æ¦‚ç‡=0.1ï¼Œå½“å® ç‰©=0.9ï¼‰ï¼›ä¹‹åæˆ‘ä»¬çš„åŠ¨ä½œactionç»“åˆç°æœ‰çš„stateä¼šå½±å“ä¸‹ä¸€æ­¥çš„next-state (ç¬¬ä¸‰å±‚ï¼‰sts_tsâ€‹tâ€‹â€‹å¾—åˆ°oto_toâ€‹tâ€‹â€‹ï¼Œä¹‹åæ ¹æ®ç­–ç•¥å¾—åˆ°at=Î Î¸(atâˆ£ot)a_t=\\Pi_\\theta(a_t|o_t)aâ€‹tâ€‹â€‹=Î â€‹Î¸â€‹â€‹(aâ€‹tâ€‹â€‹âˆ£oâ€‹tâ€‹â€‹),å†å½±å“ä¸‹ä¸€æ­¥st+1=P(st+1âˆ£st,at)s_{t+1}=P(s_{t+1}|s_t,a_t)sâ€‹t+1â€‹â€‹=P(sâ€‹t+1â€‹â€‹âˆ£sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)ï¼›state â€” observation â€” action â€” next_stateâ€¦ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘ä»¬ä¼šæœ‰å‡ ä¸ªç–‘é—®ï¼š æ™ºèƒ½ä½“å¯¹ç¯å¢ƒæ˜¯å¦æ˜¯å®Œå…¨è§‚æµ‹ï¼ˆfully observeï¼‰ï¼Œè¿™ç›´æ¥ä¼šå½±å“æˆ‘ä»¬å­¦ä¹ çš„ç­–ç•¥ï¼Œé€šå¸¸åˆ†ä¸º\\pi_\\theta(a_t|s_t)æˆ–è€…\\pi_\\theta(o_t|s_t) ï¼Œç»å¸¸ä¼šå‡ºé”™ ç”±å›¾å¯ä»¥çœ‹å‡ºçŠ¶æ€è½¬ç§»ï¼ˆstate transitï¼‰æ˜¯å…·æœ‰é©¬å°”å¯å¤«æ€§è´¨ï¼ˆMarkov propertyï¼‰ï¼Œä½†æ˜¯observationä¸ä¸€å®šã€actionä¹Ÿä¸ä¸€å®šã€policyä¹Ÿä¸ä¸€å®š æˆ‘ä»¬çš„objectiveè¿˜ä¸ç¡®å®š åœ¨ä¸æ˜ç™½ç›®æ ‡æƒ…å†µä¸‹ï¼Œä¸å¦‚å»çœ‹ä¸€ç§ç®€å•çš„æ–¹å¼æ˜¯å¦‚ä½•å­¦ä¹ çš„ PSï¼šå¼ºåŒ–å­¦ä¹ çš„è®°å·é€šå¸¸è®¤ä¸ºæ˜¯ç ”ç©¶è¿ç­¹æˆ–åŠ¨æ€è§„åˆ’ï¼ˆDynamic programmingï¼‰çš„Richard Bellmanå’Œç ”ç©¶è‡ªåŠ¨æ§åˆ¶çš„Lev Pontryaginä¸åŒçš„å‘å±•ã€‚ 0x02 Imitation Learning åœ¨Lecture01ä¸­è™½ç„¶å¯¹æ¯”äº†å¼ºåŒ–å­¦ä¹ ï¼ˆreinforcement learningï¼‰ä¸ç›‘ç£å­¦ä¹ ï¼ˆsupervised learningï¼‰ä¹‹é—´çš„å·®åˆ«ï¼Œä½†æ˜¯æˆ‘ä»¬ä¾æ—§ä¼šå‘ç°ä¸¤è€…ä¹‹é—´ç›¸ä¼¼çš„åœ°æ–¹ ç»™å‡ºä¸€ä¸ªstateæˆ–è€…observationï¼Œæ¥è¾“å‡ºä¸€ä¸ªaction å› æ­¤æˆ‘ä»¬å¯ä»¥å‡è®¾å­˜åœ¨ä¸€ä¸ªä¸“å®¶æ™ºèƒ½ä½“ï¼Œå…¶ç­–ç•¥å¯ä»¥çœ‹æˆæœ€ä¼˜ç­–ç•¥ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ¨¡ä»¿è¿™ä¸ªä¸“å®¶åœ¨ç¯å¢ƒä¸­äº¤äº’çŠ¶æ€åŠ¨ä½œï¼ˆstateï¼Œactionï¼‰æ•°æ®æ¥è®­ç»ƒä¸€ä¸ªpolicyï¼Œè€Œä¸éœ€è¦ç¯å¢ƒæä¾›çš„rewardï¼Œè¿™æ ·ä¾¿æ˜¯imitation learningç ”ç©¶çš„é—®é¢˜ï¼Œä¸éœ€è¦rewardä¿¡å·å˜å¯ä»¥è¾¾åˆ°ä¸€ä¸ªä¸“å®¶ç­–ç•¥ï¼Œå¸¸ç”¨çš„æ–¹æ³•åˆ†ä¸º Behaviour Cloning Inverse RL Generative Adversarial Imitation Learningï¼ŒGAIL 2.1 Behaviour cloning è¾“å…¥ï¼ˆs_tï¼Œa_tï¼‰ä¸­çš„stateä½œä¸ºæ ·æœ¬è¾“å…¥ï¼Œactionä½œä¸ºæ ‡ç­¾ï¼Œç›®æ ‡ä¸º Î¸âˆ—=argminÎ¸E(s,a)âˆ’Ï„[L(Ï€Î¸(s),a)]\\theta^*=argmin_\\theta E_{(s,a)- \\tau}[L(\\pi_\\theta(s),a)] Î¸â€‹âˆ—â€‹â€‹=argminâ€‹Î¸â€‹â€‹Eâ€‹(s,a)âˆ’Ï„â€‹â€‹[L(Ï€â€‹Î¸â€‹â€‹(s),a)] Does it ok? â€” No åœ¨æ•°æ®é‡è¾ƒå°çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªèƒ½å¾—åˆ°å°‘é‡çš„ä¸“å®¶æ•°æ®ä½œä¸ºè®­ç»ƒï¼Œå› æ­¤åªæœ‰åœ¨æ•°æ®é›†çš„åˆ†å¸ƒä¸‹é¢„æµ‹å‡†ç¡®ã€‚ä½†æ˜¯å› ä¸ºæˆ‘ä»¬ä¸æ–­ç»å†state- observation- action- stateçš„å¾ªç¯ï¼Œå¹¶ä¸æ˜¯ç›‘ç£å­¦ä¹ çš„ä¸€æ¬¡ç»ˆæ­¢ï¼Œå› æ­¤æˆ‘ä»¬çš„æ¯æ¬¡åå·®éƒ½ä¼šç´¯ç§¯ï¼Œäº§ç”Ÿå¤åˆç‰©å·®ï¼ˆcompounding errorï¼‰çš„é—®é¢˜ï¼Œå¯¼è‡´å·®è·æ¥è¶Šæ¥å¤§è€Œå¤±è´¥ã€‚ Does it okï¼Ÿyesï¼Œbut more data ä½†æ˜¯åœ¨å…·æœ‰å¾ˆå¤šæ•°æ®çš„æƒ…å†µä¸‹æ˜¯å¯ä»¥å®ç°çš„ï¼Œæ¯”å¦‚****End to End Learning for Self-Driving Carsæ–‡ç« ä¸­æ”¶é›†äº†è¶³å¤Ÿå¤šçš„æ•°æ®æ¥å®ç°è¿è¡Œçš„ç¨³å®šæ€§** How we make it more offenï¼Ÿ æˆ‘ä»¬åˆ†æä¹‹é—´ä¹‹å‰ä¸åŒ trajectoryäº§ç”Ÿåå·®çš„åŸå› æ˜¯ç”±äºpdata(ot)!=pÏ€Î¸(ot)p_{data}(o_t)!=p_{\\pi_{\\theta}}(o_t)pâ€‹dataâ€‹â€‹(oâ€‹tâ€‹â€‹)!=pâ€‹Ï€â€‹Î¸â€‹â€‹â€‹â€‹(oâ€‹tâ€‹â€‹),å› æ­¤æˆ‘ä»¬å¸Œæœ›ç”¨æŸç§æ–¹å¼æ¥ä¿è¯ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ DAggerï¼ˆDataset Aggregationï¼‰ï¼š ä½†æ˜¯ç¬¬ä¸€ç‚¹ï¼šäººå·¥æ ‡è®°æœ¬èº«å°±ä¸å¯é ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ç›¸åŒçš„åœºæ™¯ä¸‹ä¹Ÿä¼šå‡ºç°ä¸åŒçš„è¡Œä¸ºï¼ŒåŒæ—¶æˆ‘ä»¬çš„åŠ¨ä½œä¼šå’Œä¸€å®šçš„è®°å¿†æœ‰å…³ï¼›ç¬¬äºŒç‚¹æˆ‘ä»¬åœ¨å¤æ‚åœºæ™¯ä¸­å¾ˆéš¾å‡†ç¡®ç»™å‡ºæ–°çš„stateçš„actionï¼Œæ‰€ä»¥æœ¬è´¨ä¸Šæˆ‘ä»¬ä¾æ—§éœ€è¦å­¦ä¹ æœºå™¨ï¼Œæˆ‘ä»¬éœ€è¦åºåˆ—å­¦ä¹ çš„æ¦‚å¿µ å½“ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨CNN+RNNçš„ç‰¹ç‚¹ï¼Œä»–ä»¬ä¾æ—§åªæ˜¯å¤æ‚çš„æ¨¡ä»¿å­¦ä¹ ï¼Œå¹¶æ²¡æœ‰è§£å†³åˆ†å¸ƒä¸åŒ¹é…çš„é—®é¢˜ã€‚æ€»æ˜¯æˆ‘ä»¬ç”¨DAggeræ¥è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œä¾æ—§åªæ˜¯åœ¨ç‰¹å®šåœºæ™¯ä¸‹å…·æœ‰å¯èƒ½æ€§ã€‚ 0x03 A little bit of theory for imitation learning å¯ä»¥ä¸çœ‹ï¼Œå› ä¸ºçœ‹ä¸æ‡‚ï¼ ç»“åˆä¹‹å‰åŸºæœ¬æ¦‚å¿µé‡Œçš„MRPï¼ˆMarkov reward processï¼‰æˆ‘ä»¬å¯ä»¥ç†è§£rewardï¼Œå› æ­¤åœ¨ä¸€æ®µè½¨è¿¹ä¸­æˆ‘ä»¬å¸Œæœ›,é¦–å…ˆæˆ‘ä»¬å®šä¹‰cost minEs1âˆ’t,a1âˆ’t[Î£c(st,at)]min E_{s1-t,a1-t}[\\Sigma c(s_t,a_t)] minEâ€‹s1âˆ’t,a1âˆ’tâ€‹â€‹[Î£c(sâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹)] åŒæ—¶coståé¢ç­‰äºå¥–åŠ±ï¼Œä¹Ÿå°±æ˜¯ r(s,a)=âˆ’c(s,a)r(s,a)=-c(s,a) r(s,a)=âˆ’c(s,a) æˆ‘ä»¬å°†çœŸå®çš„ç­–ç•¥è¡¨ç¤ºä¸ºÏ€Î¸âˆ—(s)\\pi^*_{\\theta}(s)Ï€â€‹Î¸â€‹âˆ—â€‹â€‹(s)ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„å¥–åŠ±å‡½æ•°åº”è¯¥æ˜¯ r(s,a)=logp(a=Ï€Î¸âˆ—(s))r(s,a)=log p(a=\\pi^*_{\\theta}(s))r(s,a)=logp(a=Ï€â€‹Î¸â€‹âˆ—â€‹â€‹(s))y å› æ­¤åœ¨é‡‡æ ·é”™è¯¯ç‡ä½äºä¸€å®šç¨‹åº¦ä¹‹ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° æ”¹è¿›ä¹‹åæˆ‘ä»¬æœ‰éœ€è¦å…¶ä»–çš„æ–¹å¼æ¥å­¦ä¹ ï¼Œè¿™ç§ä¸»è¦æ˜¯ç”Ÿæˆæ¨¡å‹äº†ï½ 3.1 ç”Ÿæˆå¯¹æŠ—æ¨¡å‹å­¦ä¹ ï¼ˆgenerative adverbial imitation learningï¼‰ æ‘˜è‡ªåŠ¨æ‰‹å­¦å¼ºåŒ–å­¦ä¹  ï¼ˆgenerative adversarial imitation learningï¼ŒGAILï¼‰æ˜¯ 2016 å¹´ç”±æ–¯å¦ç¦å¤§å­¦ç ”ç©¶å›¢é˜Ÿæå‡ºçš„åŸºäºç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œçš„æ¨¡ä»¿å­¦ä¹ ï¼Œå®ƒè¯ é‡Šäº†ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œçš„æœ¬è´¨å…¶å®å°±æ˜¯æ¨¡ä»¿å­¦ä¹ ã€‚GAIL å®è´¨ä¸Šæ˜¯æ¨¡ä»¿äº†ä¸“å®¶ç­–ç•¥çš„å ç”¨åº¦é‡å³å°½é‡ä½¿å¾—ç­–ç•¥åœ¨ç¯å¢ƒä¸­çš„æ‰€æœ‰çŠ¶æ€åŠ¨ä½œå¯¹çš„å ç”¨åº¦é‡å’Œä¸“å®¶ç­–ç•¥çš„å ç”¨åº¦é‡ä¸€è‡´ã€‚ä¸ºäº†è¾¾æˆè¿™ä¸ªç›®æ ‡ï¼Œç­–ç•¥éœ€è¦å’Œç¯å¢ƒè¿›è¡Œäº¤äº’ï¼Œæ”¶é›†ä¸‹ä¸€ä¸ªçŠ¶æ€çš„ä¿¡æ¯å¹¶è¿›ä¸€æ­¥åšå‡ºåŠ¨ä½œã€‚è¿™ä¸€ç‚¹å’Œ BC ä¸åŒï¼ŒBC å®Œå…¨ä¸éœ€è¦å’Œç¯å¢ƒäº¤äº’ã€‚GAIL ç®—æ³•ä¸­æœ‰ä¸€ä¸ªåˆ¤åˆ«å™¨å’Œä¸€ä¸ªç­–ç•¥ï¼Œç­–ç•¥å°±ç›¸å½“äºæ˜¯ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œä¸­çš„ç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰ï¼Œç»™å®šä¸€ä¸ªçŠ¶æ€ï¼Œç­–ç•¥ä¼šè¾“å‡ºè¿™ä¸ªçŠ¶æ€ä¸‹åº”è¯¥é‡‡å–çš„åŠ¨ä½œï¼Œè€Œåˆ¤åˆ«å™¨ï¼ˆdiscriminatorï¼‰å°†çŠ¶æ€åŠ¨ä½œå¯¹ä½œä¸ºè¾“å…¥ï¼Œè¾“å‡ºä¸€ä¸ª 0 åˆ° 1 ä¹‹é—´çš„å®æ•°ï¼Œè¡¨ç¤ºåˆ¤åˆ«å™¨è®¤ä¸ºè¯¥çŠ¶æ€åŠ¨ä½œå¯¹æ˜¯æ¥è‡ªæ™ºèƒ½ä½“ç­–ç•¥è€Œéä¸“å®¶çš„æ¦‚ç‡ã€‚åˆ¤åˆ«å™¨çš„ç›®æ ‡æ˜¯å°½é‡å°†ä¸“å®¶æ•°æ®çš„è¾“å‡ºé è¿‘ 0ï¼Œå°†æ¨¡ä»¿è€…ç­–ç•¥çš„è¾“å‡ºé è¿‘ 1ï¼Œè¿™æ ·å°±å¯ä»¥å°†ä¸¤ç»„æ•°æ®åˆ†è¾¨å¼€æ¥ã€‚ 0x04 æ€»ç»“ Lecture02ä¸»è¦è¿˜æ˜¯åˆ©ç”¨imitation learningä»‹ç»äº† ç›‘ç£å­¦ä¹ ç”¨äºå¼ºåŒ–å­¦ä¹ çš„å±€é™æ€§ å¼ºåŒ–å­¦ä¹ çš„notation ä¸‹ä¸€ç« æ˜¯åŠå…¶Fancyçš„å¼ºåŒ–å­¦ä¹ æ–¹æ³•çš„æ€»ç»“","categories":[{"name":"RL","slug":"RL","permalink":"https://blog.tjdata.site/categories/RL/"}],"tags":[{"name":"CS285","slug":"CS285","permalink":"https://blog.tjdata.site/tags/CS285/"}]},{"title":"åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ 05_å¾ªç¯ç¥ç»ç½‘ç»œRNNåŠå˜ç§","slug":"åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ 05_å¾ªç¯ç¥ç»ç½‘ç»œRNNåŠå˜ç§","date":"2022-10-19T02:23:50.000Z","updated":"2023-05-13T13:51:58.356Z","comments":true,"path":"posts/2e4e1168.html","link":"","permalink":"https://blog.tjdata.site/posts/2e4e1168.html","excerpt":"æ‰¿æ¥ä¸Šä¸€ä¼šå¯¹Attentionä¸­seq2seqçš„æ¨¡å‹çš„å›°æƒ‘ï¼Œè¿™é‡Œä»RNNåˆ°ä»‹ç»åˆ°æ›´ä¼ ç»Ÿçš„Seq2Seqæ¨¡å‹ã€‚åŒæ—¶ç»“åˆæœ€è¿‘æ¥è§¦çš„èŠ±ä¹¦æ¥åˆ©ç”¨æ›´æœ‰åˆ©çš„å·¥å…·è§£é‡ŠRNNä¸­çš„æ¢¯åº¦ã€‚å¹¶ç»™å‡ºåºåˆ—å­¦ä¹ ä¸­å¯¹äºgradientæˆ–è€…hidden stateè½¬å˜çš„è¿‡ç¨‹ï¼Œåœ¨é’ˆå¯¹hidden stateä¸­çš„è½¬å˜ä¸­å¼•ç”³å‡ºGRUã€LSTMä¹‹ç±»çš„å˜ç§ï¼Œå¹¶ç»“åˆD@Lç»™å‡ºä»£ç çš„å®ç°ã€‚","text":"æ‰¿æ¥ä¸Šä¸€ä¼šå¯¹Attentionä¸­seq2seqçš„æ¨¡å‹çš„å›°æƒ‘ï¼Œè¿™é‡Œä»RNNåˆ°ä»‹ç»åˆ°æ›´ä¼ ç»Ÿçš„Seq2Seqæ¨¡å‹ã€‚åŒæ—¶ç»“åˆæœ€è¿‘æ¥è§¦çš„èŠ±ä¹¦æ¥åˆ©ç”¨æ›´æœ‰åˆ©çš„å·¥å…·è§£é‡ŠRNNä¸­çš„æ¢¯åº¦ã€‚å¹¶ç»™å‡ºåºåˆ—å­¦ä¹ ä¸­å¯¹äºgradientæˆ–è€…hidden stateè½¬å˜çš„è¿‡ç¨‹ï¼Œåœ¨é’ˆå¯¹hidden stateä¸­çš„è½¬å˜ä¸­å¼•ç”³å‡ºGRUã€LSTMä¹‹ç±»çš„å˜ç§ï¼Œå¹¶ç»“åˆD@Lç»™å‡ºä»£ç çš„å®ç°ã€‚ 0x01 åºåˆ—å­¦ä¹ ä¸RNN 1.1 åºåˆ—å­¦ä¹ Seq2Seq è¾“å…¥ä¸è¾“å‡ºå‡ä¸ºåºåˆ—æ•°æ®çš„æ¨¡å‹å«åšSeq2Seqï¼Œæ³¨æ„è¿™é‡Œä¸åœ¨æŒ‰ç…§ä¼ ç»Ÿçš„ç›‘ç£æˆ–è€…éç›‘ç£çš„æ–¹å¼æ¥é™å®šæ¨¡å‹çš„ç±»å‹ã€‚å¸¸è§åºåˆ—æ¨¡å‹çš„åº”ç”¨åŒ…æ‹¬ï¼šè¯­éŸ³è¯†åˆ«Speech recognitionã€éŸ³ä¹ç”ŸæˆMusic generationã€æƒ…æ„Ÿåˆ†æ Sentiment classificationã€DNAåºåˆ—åˆ†æDNA sequence analysisã€æœºå™¨ç¿»è¯‘Machine translationã€è§†é¢‘è¡Œä¸ºè¯†åˆ«Video activity recognitionã€å‘½åå®ä½“è¯†åˆ«Name entity recognitionã€‚ åœ¨Seq2Seqè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¾ˆéš¾åƒMLPæˆ–è€…CNNå¾—åˆ°ä¸€ä¸ªæ˜ç¡®çš„ featureï¼Œlabelï¼›å¹¶ä¸”åºåˆ—æ•°æ®å¤§å¤šæ˜¯æŒ‰ç…§ä¸€å®šçš„é¡ºåºæ¥è¿›è¡Œçš„ï¼Œæ¯”å¦‚æ–‡æœ¬åºåˆ—ã€è§†é¢‘ä¿¡å·ã€ç½‘ç«™æµè§ˆè¡Œä¸ºç­‰ç­‰ï¼Œå¹¶ä¸æ»¡è¶³ä¹‹å‰çš„ç‹¬ç«‹åŒåˆ†å¸ƒçš„å‡è®¾ã€‚ ä¸ºä»€ä¹ˆRNNç±»ä¼¼çš„ç½‘ç»œåœ¨Seqä¸­ä¼šå–å¾—å¥½çš„æ•ˆæœï¼Ÿä¸»è¦æ˜¯è§£å†³20ä¸–çºª80å¹´ä»£æœºå™¨å­¦ä¹ å’Œç»Ÿè®¡æ¨¡å‹çš„æ€æƒ³çš„ä¼˜ç‚¹ï¼šåœ¨æ¨¡å‹çš„ä¸åŒéƒ¨åˆ†å…±äº«å‚æ•°ã€‚å‚æ•°å…±äº«ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿæ‹“å±•åˆ°ä¸åŒå½¢å¼çš„æ ·æœ¬å¹¶è¿›è¡Œæ³›åŒ–ã€‚speciallyï¼šå‡å¦‚åœ¨seqçš„æ¯ä¸€ä¸ªæ—¶é—´ç‚¹éƒ½å…·æœ‰ä¸€ä¸ªå•ç‹¬çš„å‚æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½æ³›åŒ–æˆ‘ä»¬æ²¡æœ‰è§è¿‡çš„ç±»å‹ï¼Œä¹Ÿä¸èƒ½åœ¨æ—¶é—´ä¸Šå…±äº«ä¸åŒåºåˆ—é•¿åº¦å’Œä¸åŒä½ç½®çš„ç»Ÿè®¡å¼ºåº¦ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿä¸èƒ½ç†è§£ä¸åŒé¡ºåºseqçš„å«ä¹‰ï¼ˆæ¯”å¦‚In 2009ï¼ŒI went to Nepalå’ŒI went to Nepal in 2009ä¹‹é—´çš„åŒºåˆ«ï¼‰ Shortlyï¼šRNNçš„ä¼˜åŠ¿ä¸»è¦æ˜¯ è·¨æ—¶é—´æƒé‡å…±äº« æ—¶é—´å¹³ç§»ä¸å¯¹ç§° åŒä¸€æ¶æ„é€‚åº”ä¸åŒé•¿åº¦ 1.2 RNNç»“æ„å‰å‘ä¼ æ’­ Forward Propagation è¿™é‡Œå…ˆä¸ç®¡RNNå†…éƒ¨çš„å…·ä½“ç»“æ„çš„åŸå› ï¼Œåªè¦çŸ¥é“RNNåŒ…æ‹¬æ—¶é—´æ­¥çš„inputå’Œoutputä»¥åŠhidden stateå°±å¯ä»¥ï¼ŒåŸå› åœ¨åé¢ä¼šè¯´æ˜ã€‚è®¡ç®—å›¾æ˜¯å½¢å¼åŒ–ä¸€ç»„è®¡ç®—ç»“æ„çš„æ–¹å¼ï¼Œå¦‚æœè®¾è®¡å°†è¾“å…¥å’Œå‚æ•°æ˜ å°„åˆ°è¾“å‡ºå’ŒæŸå¤±çš„è®¡ç®—ã€‚ å…ˆå‡è®¾æ•°æ®é›†ä¸ºX=(x1,x2,..,xt,...)RnÃ—dX=(x^1,x^2,..,x^t,...)\\mathbb{R}^{n \\times d}X=(xâ€‹1â€‹â€‹,xâ€‹2â€‹â€‹,..,xâ€‹tâ€‹â€‹,...)Râ€‹nÃ—dâ€‹â€‹ é€šå¸¸çš„è®­ç»ƒè¿‡ç¨‹æ˜¯å°†HtâˆˆR1Ã—hH^t\\in \\mathbb{R^{1 \\times h}}Hâ€‹tâ€‹â€‹âˆˆRâ€‹1Ã—hâ€‹â€‹ä½œä¸ºhidden stateæ¥è¿›è¡Œåˆ†æï¼Œå®ƒæ˜¯æ ¹æ®ä¸‹å¼å­è¿›è¡Œæ›´æ–° Ht=f(Htâˆ’1,xt;Î¸)H^t=f(H^{t-1},x^t;\\theta) Hâ€‹tâ€‹â€‹=f(Hâ€‹tâˆ’1â€‹â€‹,xâ€‹tâ€‹â€‹;Î¸) å¦‚æœé‡‡ç”¨ç¥ç»ç½‘ç»œï¼Œæ ¼å¼é€šå¸¸æ˜¯ Ht=Ï•(xtWxh+Htâˆ’1Whh+bh)H^t=\\phi(x^{t}W_{xh}+H^{t-1}W_{hh}+b_h) Hâ€‹tâ€‹â€‹=Ï•(xâ€‹tâ€‹â€‹Wâ€‹xhâ€‹â€‹+Hâ€‹tâˆ’1â€‹â€‹Wâ€‹hhâ€‹â€‹+bâ€‹hâ€‹â€‹) å…¶ä¸­å„é¡¹çš„åˆ†åˆ«ä¸ºWxhâˆˆRdÃ—h,WhhâˆˆRhÃ—h,bhâˆˆR1Ã—hW_{xh}\\in \\mathbb{R}^{d\\times h},W_{hh}\\in\\mathbb{R}^{h\\times h},b_h\\in\\mathbb{R}^{1\\times h}Wâ€‹xhâ€‹â€‹âˆˆRâ€‹dÃ—hâ€‹â€‹,Wâ€‹hhâ€‹â€‹âˆˆRâ€‹hÃ—hâ€‹â€‹,bâ€‹hâ€‹â€‹âˆˆRâ€‹1Ã—hâ€‹â€‹ åœ¨å¾—åˆ°hidden stateæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥çŠ¶æ€è½¬æ¢ï¼Œä¹Ÿå¯ä»¥è¾“å‡ºå½“å‰çš„å€¼ Ot=g(Ht;Î¸o)O^t=g(H^t;\\theta_o) Oâ€‹tâ€‹â€‹=g(Hâ€‹tâ€‹â€‹;Î¸â€‹oâ€‹â€‹) Ot=tanh(HtWoh+bo)O^t=tanh(H^tW_{oh}+b_o) Oâ€‹tâ€‹â€‹=tanh(Hâ€‹tâ€‹â€‹Wâ€‹ohâ€‹â€‹+bâ€‹oâ€‹â€‹) å…¶ä¸­å„é¡¹çš„å½¢çŠ¶ä¸ºWohâˆˆRhÃ—o,boâˆˆR1Ã—oW_{oh}\\in\\mathbb{R}^{h\\times o},b_o\\in\\mathbb{R}^{1\\times o}Wâ€‹ohâ€‹â€‹âˆˆRâ€‹hÃ—oâ€‹â€‹,bâ€‹oâ€‹â€‹âˆˆRâ€‹1Ã—oâ€‹â€‹ å¾—åˆ°æ¨¡å‹çš„è¾“å…¥å’Œè¾“å‡ºä¹‹åå°±å¯ä»¥è®¡ç®—æ¨¡å‹çš„æŸå¤± L=loss(ot,yt)L=loss(o^t,y^t) L=loss(oâ€‹tâ€‹â€‹,yâ€‹tâ€‹â€‹) å¾—åˆ° 1.3 åå‘ä¼ æ’­çš„æ¢¯åº¦ä¸‹é™ Back Propagation åœ¨ä¹‹å‰ä¸­æˆ‘ä»¬åŒ…æ‹¬è‡³å°‘äº”ä¸ªå‚æ•°ï¼Œ[Wxh,Whh,bh,Who,bo][W_{xh},W_{hh},b_h,W_{ho},b_o][Wâ€‹xhâ€‹â€‹,Wâ€‹hhâ€‹â€‹,bâ€‹hâ€‹â€‹,Wâ€‹hoâ€‹â€‹,bâ€‹oâ€‹â€‹],é€šè¿‡ä¸Šå¤„æ›´æ–°çš„å¼å­æˆ‘ä»¬è®¡ç®—ä¸åŒçš„æ¢¯åº¦,æ¯”å¦‚é’ˆå¯¹WhhW_{hh}Wâ€‹hhâ€‹â€‹ \\begin{split}\\begin{aligned}\\frac{\\partial L}{\\partial w_{hh}} & = \\frac{1}{T}\\sum_{t=1}^T \\frac{\\partial l(y_t, o_t)}{\\partial w_{hh}} \\\\& = \\frac{1}{T}\\sum_{t=1}^T \\frac{\\partial l(y_t, o_t)}{\\partial o_t} \\frac{\\partial g(h_t, \\theta_o)}{\\partial h_t} \\frac{\\partial h_t}{\\partial w_{hh}}.\\end{aligned}\\end{split} æ³¨æ„è¿™é‡Œçš„ç¬¬ä¸€é¡¹æˆ‘ä»¬æ˜¯çŸ¥é“çš„ï¼Œç¬¬äºŒé¡¹æˆ‘ä»¬ä¹Ÿæ˜¯çŸ¥é“çš„ï¼Œä½†æ˜¯ç¬¬ä¸‰é¡¹å®ƒæ˜¯ä¼šä¸€ç›´Recurrentè®¡ç®—ä¸‹å»çš„ âˆ‚htâˆ‚whh=âˆ‚f(xt,htâˆ’1,Î¸h)âˆ‚Î¸h+âˆ‚f(xt,htâˆ’1,Î¸h)âˆ‚htâˆ’1âˆ‚htâˆ’1âˆ‚whh.\\frac{\\partial h_t}{\\partial w_{hh}}= \\frac{\\partial f(x_{t},h_{t-1},\\theta_h)}{\\partial \\theta_h} +\\frac{\\partial f(x_{t},h_{t-1},\\theta_h)}{\\partial h_{t-1}} \\frac{\\partial h_{t-1}}{\\partial w_{hh}}. â€‹âˆ‚wâ€‹hhâ€‹â€‹â€‹â€‹âˆ‚hâ€‹tâ€‹â€‹â€‹â€‹=â€‹âˆ‚Î¸â€‹hâ€‹â€‹â€‹â€‹âˆ‚f(xâ€‹tâ€‹â€‹,hâ€‹tâˆ’1â€‹â€‹,Î¸â€‹hâ€‹â€‹)â€‹â€‹+â€‹âˆ‚hâ€‹tâˆ’1â€‹â€‹â€‹â€‹âˆ‚f(xâ€‹tâ€‹â€‹,hâ€‹tâˆ’1â€‹â€‹,Î¸â€‹hâ€‹â€‹)â€‹â€‹â€‹âˆ‚wâ€‹hhâ€‹â€‹â€‹â€‹âˆ‚hâ€‹tâˆ’1â€‹â€‹â€‹â€‹. è¿™æ ·æ¢¯åº¦å…¶å®æ˜¯ä¼šéšç€æ—¶é—´tä¸æ–­æ‹‰é•¿ï¼Œè¿™é‡Œé€šå¸¸ç§°ä¸ºé•¿æœŸä¾èµ–çš„é—®é¢˜è¿™æ ·æˆ‘ä»¬å¯èƒ½å‡ºç°æ¢¯åº¦æ¶ˆå¤±ã€æˆ–è€…æ¢¯åº¦çˆ†ç‚¸çš„æƒ…å†µã€‚å¸¸è§çš„æ“ä½œæœ‰ä¸‰ç§ å®Œå…¨è®¡ç®—ç›´åˆ°æ”¶æ•› é‡‡ç”¨Næ­¥é©¬å°”å¯å¤«æ¨¡å‹ï¼Œæ¥æˆªæ–­æ—¶é—´æ­¥ï¼Œåˆ°è¾¾æ—¶é—´æ­¥Ï„\\tauÏ„ é‡‡ç”¨éšæœºæˆªæ–­çš„æ€æƒ³ è¿˜æœ‰é’ˆå¯¹æ¢¯åº¦çš„ä¸€äº›æ“ä½œï¼Œå¸¸è§çš„æœ‰æˆªæ–­æ¢¯åº¦å’Œå¼•å¯¼ä¿¡æ¯æµçš„æ­£åˆ™åŒ–ï¼Œ é’ˆå¯¹æ¢¯åº¦çˆ†ç‚¸ï¼Œæˆªæ–­æ¢¯åº¦ä¹Ÿå°±æ˜¯åœ¨å‚æ•°æ›´æ–°ä¹‹å‰æˆªæ–­æ¢¯åº¦çš„èŒƒæ•°ï¼Œåœ¨æ—¶é—´çš„è¿‡ç¨‹ä¸­è¢«è¯æ˜æ˜¯æœ‰ç”¨çš„ã€‚ é’ˆå¯¹æ¢¯åº¦æ¶ˆå¤±ï¼Œå¼•å¯¼ä¿¡æ¯æµçš„æ­£åˆ™åŒ–ï¼Œä¸€ç§æ˜¯åŠ å…¥é—¨æ§å•å…ƒï¼ˆå¦‚LSTMã€GRUï¼‰ï¼Œä¹Ÿå¯ä»¥è§£å†³æ¢¯åº¦çˆ†ç‚¸çš„é—®é¢˜ï¼›ä¸€ç§æ˜¯æ­£åˆ™åŒ–é¡¹ï¼Œåè€…è¢«è¯æ˜ä¸æœ‰æ•ˆ 1.4 è¿›ä¸€æ­¥ã€‚é«˜çº§ä¸€ç‚¹çš„RNN åœ¨å•å‘RNNçš„åŸºç¡€ä¸Šï¼Œå¯ä»¥è‡ªç„¶è€Œç„¶çš„è”æƒ³åˆ° åŒå‘RNN æ·±åº¦RNN é€’å½’ç¥ç»ç½‘ç»œï¼Œä¸€ä¸ªæ½œåœ¨çš„ideaæ˜¯ç ”ç©¶æ¨è®º å¢åŠ é—¨æ§å•å…ƒçš„ä¸åŒå˜ç§GRUã€LSTM åŸºäºencoder- decoderçš„seq2seqæ¡†æ¶ å›å£°çŠ¶æ€ç½‘ç»œï¼ˆecho state networkï¼‰ï¼Œæµä½“çŠ¶æ€æœºï¼ˆliquid state machinesï¼‰ 1.5 å›è¿‡å¤´è§£é‡ŠRNN é¦–å…ˆæˆ‘ä»¬å¯ä»¥å›é¡¾æˆ‘ä»¬åœ¨æ—¶é—´åºåˆ—é¢„æµ‹ä¸­å¸¸ç”¨çš„ä¸€äº›æ–¹æ³•ï¼šè‡ªå›å½’æ¨¡å‹ã€éšå˜é‡è‡ªå›å½’æ¨¡å‹ã€é©¬å°”å¯å¤«æ¨¡å‹ã€å› æœå…³ç³»æ¨¡å‹ç­‰ç­‰ï¼Œå¸¸ç”¨çš„æ˜¯ xt=P(xtâˆ£xtâˆ’1,...,x1)x_t=P(x_t|x_{t-1},...,x_1) xâ€‹tâ€‹â€‹=P(xâ€‹tâ€‹â€‹âˆ£xâ€‹tâˆ’1â€‹â€‹,...,xâ€‹1â€‹â€‹) å› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥å¸Œæœ›å¾—åˆ° P(xtâˆ£xtâˆ’1,...,x1)=p(xtâˆ£xtâˆ’1,htâˆ’1)P(x_t|x_{t-1},...,x_1)=p(x_t|x_t-1,h_{t-1}) P(xâ€‹tâ€‹â€‹âˆ£xâ€‹tâˆ’1â€‹â€‹,...,xâ€‹1â€‹â€‹)=p(xâ€‹tâ€‹â€‹âˆ£xâ€‹tâ€‹â€‹âˆ’1,hâ€‹tâˆ’1â€‹â€‹) ä¹Ÿå°±æ˜¯å‡å¦‚ä¸€ä¸ªhidden stateæ¥ä½œä¸ºå¯¹ä¹‹å‰åºåˆ—æ€»ç»“ï¼Œå°†å…¶é€å…¥çŠ¶æ€è½¬å˜ä¸­ã€‚ 0x02 å˜ç§ä¸æ€è€ƒGRUã€LSTM æˆ‘ä»¬ä¹‹å‰åˆ†æäº†é•¿æœŸä¾èµ–å¯¹äºæ¢¯åº¦æ¶ˆå¤±æˆ–è€…æ¢¯åº¦çˆ†ç‚¸çš„å½±å“ï¼Œä»å®é™…æ•ˆæœæ¥çœ‹å®ƒçš„å½±å“æ˜¯ï¼š æ—©æœŸçš„é¢„æµ‹å€¼å¯¹é¢„æµ‹æ‰€æœ‰æœªæ¥é¢„æµ‹å€¼å…·æœ‰éå¸¸é‡è¦çš„æ„ä¹‰ ä¸€äº›è¯å…ƒæ²¡æœ‰ç›¸å…³çš„è§‚æµ‹å€¼ï¼Œæ¯”å¦‚å¯¹ç½‘é¡µå†…å®¹è¿›è¡Œæƒ…æ„Ÿåˆ†æå¯èƒ½æœ‰ä¸€äº›è¾…åŠ©HTMLä»£ç ä¸ç½‘é¡µä¼ è¾¾çš„æƒ…ç»ªæ— å…³ åºåˆ—ä¹‹é—´çš„ä¸åŒéƒ¨åˆ†ä¹‹é—´å­˜åœ¨é€»è¾‘ä¸­æ–­ åœ¨è¿‡å»é‡‡å–è¿‡å¾ˆå¤šæ–¹æ³•æ¥è¿›è¡Œæ”¹è¿›ï¼Œç›®å‰ä¸»æµçš„æ˜¯ä½¿ç”¨é—¨æ§çš„æ–¹å¼æ¥ç¡®å®šä»€ä¹ˆæ—¶å€™æ›´æ–°hidden stateã€ä»€ä¹ˆæ—¶å€™é‡ç½®resetã€‚ LSTM 2.1 Gate è®¾è®¡ä¸ºï¼ˆ0ï¼Œ1ï¼‰åŒºé—´å†…çš„å‘é‡ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥è¿›è¡Œå‡¸ç»„åˆï¼šreset-gateå…è®¸æˆ‘ä»¬æ§åˆ¶å¯èƒ½è¿˜æƒ³è®°ä½çš„è¿‡å»çŠ¶æ€çš„æ•°é‡ï¼Œæ›´æ–°ä»¬èƒ½è®²å…è®¸æˆ‘ä»¬æ§åˆ¶æ–°çŠ¶æ€ä¸­æœ‰å¤šå°‘æ˜¯æ—§çŠ¶æ€çš„å‰¯æœ¬ å…·ä½“çš„è®¡ç®—è¿‡ç¨‹å¦‚å›¾ï¼š Rt=Ïƒ(XtWxr+Htâˆ’1Whr+br)R_t=\\sigma (X_tW_{xr}+H_{t-1}W_{hr}+b_r) Râ€‹tâ€‹â€‹=Ïƒ(Xâ€‹tâ€‹â€‹Wâ€‹xrâ€‹â€‹+Hâ€‹tâˆ’1â€‹â€‹Wâ€‹hrâ€‹â€‹+bâ€‹râ€‹â€‹) Zt=Ïƒ(XtWxz+Htâˆ’1Whz+bz)Z_t=\\sigma (X_tW_{xz}+H_{t-1}W_{hz}+b_z) Zâ€‹tâ€‹â€‹=Ïƒ(Xâ€‹tâ€‹â€‹Wâ€‹xzâ€‹â€‹+Hâ€‹tâˆ’1â€‹â€‹Wâ€‹hzâ€‹â€‹+bâ€‹zâ€‹â€‹) æ³¨æ„åœ¨æ±‚å’Œè¿‡ç¨‹ä¼šè§¦å‘ å¹¿æ’­æœºåˆ¶,ä½¿ç”¨sigmoidå‡½æ•°å°†å…¶è½¬æ¢åˆ°0ï¼Œ1åŒºé—´ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šæ›´æ–° å€™é€‰éšè—çŠ¶æ€ HÂ¯t=tanh(XtWxh+(RtâŠ—Htâˆ’1Whh+bh))\\bar H_t=tanh(X_tW_{xh}+(R_t \\otimes H_{t-1}W_{hh}+b_h)) â€‹Hâ€‹Â¯â€‹â€‹â€‹tâ€‹â€‹=tanh(Xâ€‹tâ€‹â€‹Wâ€‹xhâ€‹â€‹+(Râ€‹tâ€‹â€‹âŠ—Hâ€‹tâˆ’1â€‹â€‹Wâ€‹hhâ€‹â€‹+bâ€‹hâ€‹â€‹)) ä½¿ç”¨tanhéçº¿æ€§æ¿€æ´»å‡½æ•°æ¥ä¿è¯hidden stateä¸­çš„å€¼æ˜¯ä¿æŒåœ¨åŒºé—´-1ï¼Œ1ä¹‹é—´çš„ï¼›Hadamarå…ƒç´ è¡¨ç¤ºæŒ‰ç…§å…ƒç´ è¿›è¡Œä¹˜ç§¯æˆ‘ä»¬ç»“åˆæ›´æ–°é—¨æ¥å¯¹å€™é€‰éšè—çŠ¶æ€è¿›è¡Œè¿›ä¸€æ­¥çš„ä¿®æ­£ï¼Œå¾—åˆ°æœ€ç»ˆhidden stateçš„å–å€¼ Ht=ZtâŠ—Htâˆ’1+(1âˆ’Zt)âˆ—HÂ¯tâˆ’1H_t=Z_t \\otimes H_{t-1}+(1-Z_t)*\\bar H_{t-1} Hâ€‹tâ€‹â€‹=Zâ€‹tâ€‹â€‹âŠ—Hâ€‹tâˆ’1â€‹â€‹+(1âˆ’Zâ€‹tâ€‹â€‹)âˆ—â€‹Hâ€‹Â¯â€‹â€‹â€‹tâˆ’1â€‹â€‹ ç”±æ­¤å¾—åˆ°é—¨æ§å¾ªç¯å•å…ƒå…·æœ‰ä¸¤ä¸ªæ˜¾è‘—çš„ç‰¹å¾ resetæœ‰åŠ©äºæ•è·åºåˆ—ä¸­çš„çŸ­æœŸä¾èµ–å…³ç³» updateræœ‰åŠ©äºæ•è·åºåˆ—ä¸­çš„é•¿æœŸä¾èµ–å…³ç³» 2.2 GRU 2.3 LSTM 2.4 DRNN 2.5 BRNN 0x03 é€»è¾‘è¿‡ç¨‹åˆ†æ 3.1 åºåˆ—æ•°æ®è¯»å–ï¼ˆexampleï¼šæ–‡æœ¬æ•°æ®ï¼‰-token-vocab é¦–å…ˆæ–‡æœ¬æ•°æ®é›†ä»æ–‡æœ¬è¯»å–å‡ºæ¥æ˜¯è¿™æ ·å­çš„ æˆ‘ä»¬æ€»çš„ideaæ˜¯å¸Œæœ›å°†ä¸Šè¿°ä¸è§„åˆ™çš„æ–‡æœ¬ï¼Œè½¬æ¢ä¸ºå¯ä»¥ç”¨å‘é‡è¡¨ç¤ºçš„æ•°å­—ï¼Œä¸”ä¸ºåºåˆ—æ•°æ®ã€‚Obviouslyï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªè¯å…¸vocabæ¥å°†è¿™äº›è¯è¯­è½¬æ¢ç§°ä¸ºæ•°å­—ã€‚é‚£ä¹ˆè¿™ä¸ªè¯å…¸çš„é¡ºåºæ€ä¹ˆç¡®å®šï¼Ÿé€šå¸¸æ˜¯æ ¹æ®è¯çš„å‡ºç°é¢‘ç‡æ¥å®ç°çš„ã€‚åŒæ—¶å¯¹äºå‡ºç°é¢‘ç‡è¿‡å°‘çš„è¯å¯ä»¥ç”¨æˆ–è€…å…¶ä»–æ¥è¡¨ç¤ºã€‚åŠ å…¥æˆ‘ä»¬ä½¿ç”¨æ¯ä¸ªå•è¯æ¥è¡¨ç¤ºï¼Œå¾—åˆ°çš„vocabå°±æ˜¯ é™¤äº†å•è¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å•ä¸ªå­—ç¬¦charæ¥åˆ†å‰²æ•°æ®é›† 3.2 æ•°æ®é¢„å¤„ç†-inputï¼š batchsizeï¼Œnum_stepsâ€“dataloader åœ¨è¿™ä¸ªåŸºç¡€ä¸Šæˆ‘ä»¬å°±å¯ä»¥ç”Ÿæˆæˆ‘ä»¬çš„dataloaderï¼Œå› ä¸ºseqåºåˆ—å¤©ç„¶å°±æœ‰é¡ºåºæ€§ï¼Œè€Œä¸ºäº†æé«˜æ³›åŒ–æ€§æˆ‘ä»¬å¸Œæœ›ä»–ä»¬å¯ä»¥å­¦ä¹ åˆ°é¡ºåºæ€§ï¼Œä½†æ˜¯å­¦ä¹ çš„åˆä¸å¤ªå¤šï¼Œå› æ­¤ä¼šæœ‰ä¸¤ç§é‡‡æ ·æ–¹å¼æ¥åšï¼š éšæœºé‡‡æ · é¡ºåºåˆ†åŒº æ‰¹é‡çš„å¤§å°ç”±batchsizeæ¥ç¡®å®šï¼ŒåŒæ—¶å•æ¬¡è®­ç»ƒçš„é¡ºåºåŒ…æ‹¬num_stepsä¸ªå•è¯ï¼Œå› æ­¤ç»è¿‡è¿™æ ·æˆ‘ä»¬é‡‡å–é€å…¥ç½‘ç»œè®­ç»ƒçš„å•ä¸ªbatchçš„å½¢çŠ¶ä¸º batch=Xi,yi,i=X1,X2,..,Xbatchsize;XiâˆˆRnum_steps,len(vocab)batch={X_i,y_i},i={X^1,X^2,..,X^{batchsize}};X_i\\in\\mathbb{R}^{num\\_steps,len(vocab)}batch=Xâ€‹iâ€‹â€‹,yâ€‹iâ€‹â€‹,i=Xâ€‹1â€‹â€‹,Xâ€‹2â€‹â€‹,..,Xâ€‹batchsizeâ€‹â€‹;Xâ€‹iâ€‹â€‹âˆˆRâ€‹num_steps,len(vocab)â€‹â€‹ æ€»ä½“çš„shapeå°±æ˜¯(batchsize,num_steps,len(vocab))(batchsize,num\\_steps,len(vocab))(batchsize,num_steps,len(vocab)) è¿™é‡Œæœ‰ä¸ªæ“ä½œæ˜¯ä¸ºäº†åé¢å°æ‰¹é‡çŸ©é˜µè¿ç®—ï¼Œä¼šåšä¸€ä¸ªreshapeï¼Œå˜æˆ(num_steps,batchsize,len(vocab))(num\\_steps,batchsize,len(vocab))(num_steps,batchsize,len(vocab));å¯ä»¥è‡ªè¡Œè®¡ç®—æ¢¯åº¦å˜æ¢çš„æ–¹å¼ä½“ä¼š 3.3 æ¨¡å‹ä¸»å¹²-model-loss-optim åˆå§‹åŒ–å‚æ•° é€‰æ‹©é€‚åˆçš„loss å®šä¹‰RNN model 3.4 è®­ç»ƒä¸å¯è§†åŒ–- train- predict-ppl trainä¹Ÿå°±æ˜¯è®¾ç½®learning rateå’Œepochè®­ç»ƒå°±å¥½äº† 0x04 ä»£ç å®ç°1ï¼Œ2ï¼Œ3 è¿™é‡Œå®Œå…¨å‚è€ƒææ²å¤§å¤§çš„ä»£ç ï¼Œç„¶åå°†å…¶ä¸­çš„d2lçš„éƒ¨åˆ†å®Œå…¨å‰”é™¤å¾—åˆ°å¦‚ä¸‹çš„ä»£ç  4.1 æ•°æ®é›†è¯»å–è®¾ç½® 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175import randomimport torchimport mathfrom torch import nnfrom torch.nn import functional as F## ææ²ä¸­d2læœåŠ¡å™¨ä¸­å­˜å‚¨çš„æ•°æ®DATA_HUB = dict()DATA_URL = &#x27;http://d2l-data.s3-accelerate.amazonaws.com/&#x27;dataset=&#x27;time_machine&#x27;dataset_sha256=&#x27;090b5e7e70c295757f55df93cb0a180b9691891a&#x27;DATA_HUB[dataset]=(DATA_URL+&#x27;timemachine.txt&#x27;,dataset_sha256)import osimport hashlibimport requestsimport redef download(name, cache_dir=os.path.join(&#x27;..&#x27;, &#x27;data&#x27;)): #@save &quot;&quot;&quot;ä¸‹è½½ä¸€ä¸ªDATA_HUBä¸­çš„æ–‡ä»¶ è¿”å›æœ¬åœ°æ–‡ä»¶å&quot;&quot;&quot; url, sha1_hash = DATA_HUB[name] os.makedirs(cache_dir, exist_ok=True) fname = os.path.join(cache_dir, url.split(&#x27;/&#x27;)[-1]) if os.path.exists(fname): sha1 = hashlib.sha1() with open(fname, &#x27;rb&#x27;) as f: while True: data = f.read(1048576) if not data: break sha1.update(data) if sha1.hexdigest() == sha1_hash: return fname # å‘½ä¸­ç¼“å­˜ r = requests.get(url, stream=True, verify=True) with open(fname, &#x27;wb&#x27;) as f: f.write(r.content) return fnamedef read_time_machine(): #@save &quot;&quot;&quot;å°†æ—¶é—´æœºå™¨æ•°æ®é›†åŠ è½½åˆ°æ–‡æœ¬è¡Œçš„åˆ—è¡¨ä¸­&quot;&quot;&quot; with open(download(&#x27;time_machine&#x27;), &#x27;r&#x27;) as f: lines = f.readlines() return [re.sub(&#x27;[^A-Za-z]+&#x27;, &#x27; &#x27;, line).strip().lower() for line in lines]def tokenize(lines, token=&#x27;char&#x27;): #@save &quot;&quot;&quot;å°†æ–‡æœ¬è¡Œæ‹†åˆ†ä¸ºå•è¯æˆ–å­—ç¬¦&quot;&quot;&quot; if token == &#x27;word&#x27;: return [line.split(&#x27; &#x27;) for line in lines] elif token == &#x27;char&#x27;: return [list(line) for line in lines] else: print(&#x27;é”™è¯¯ï¼šæœªçŸ¥ä»¤ç‰Œç±»å‹ï¼š&#x27;+token)import collections class Vocab: #@save &quot;&quot;&quot;æ–‡æœ¬è¯è¡¨&quot;&quot;&quot; def __init__(self, tokens=None, min_freq=0, reserved_tokens=None): if tokens is None: tokens = [] if reserved_tokens is None: reserved_tokens = [] # æŒ‰å‡ºç°é¢‘ç‡æ’åº counter = count_corpus(tokens) self._token_freqs = sorted(counter.items(), key=lambda x: x[1], reverse=True) # æœªçŸ¥è¯å…ƒçš„ç´¢å¼•ä¸º0 self.idx_to_token = [&#x27;&lt;unk&gt;&#x27;] + reserved_tokens self.token_to_idx = &#123;token: idx for idx, token in enumerate(self.idx_to_token)&#125; for token, freq in self._token_freqs: if freq &lt; min_freq: break if token not in self.token_to_idx: self.idx_to_token.append(token) self.token_to_idx[token] = len(self.idx_to_token) - 1 def __len__(self): return len(self.idx_to_token) def __getitem__(self, tokens): if not isinstance(tokens, (list, tuple)): return self.token_to_idx.get(tokens, self.unk) return [self.__getitem__(token) for token in tokens] def to_tokens(self, indices): if not isinstance(indices, (list, tuple)): return self.idx_to_token[indices] return [self.idx_to_token[index] for index in indices] @property def unk(self): # æœªçŸ¥è¯å…ƒçš„ç´¢å¼•ä¸º0 return 0 @property def token_freqs(self): return self._token_freqsdef count_corpus(tokens): #@save &quot;&quot;&quot;ç»Ÿè®¡è¯å…ƒçš„é¢‘ç‡&quot;&quot;&quot; # è¿™é‡Œçš„tokensæ˜¯1Dåˆ—è¡¨æˆ–2Dåˆ—è¡¨ if len(tokens) == 0 or isinstance(tokens[0], list): # å°†è¯å…ƒåˆ—è¡¨å±•å¹³æˆä¸€ä¸ªåˆ—è¡¨ tokens = [token for line in tokens for token in line] return collections.Counter(tokens)def load_corpus_time_machine(max_tokens=-1): #@save &quot;&quot;&quot;è¿”å›æ—¶å…‰æœºå™¨æ•°æ®é›†çš„è¯å…ƒç´¢å¼•åˆ—è¡¨å’Œè¯è¡¨&quot;&quot;&quot; lines = read_time_machine() tokens = tokenize(lines, &#x27;char&#x27;) vocab = Vocab(tokens) print(vocab.idx_to_token) # å› ä¸ºæ—¶å…‰æœºå™¨æ•°æ®é›†ä¸­çš„æ¯ä¸ªæ–‡æœ¬è¡Œä¸ä¸€å®šæ˜¯ä¸€ä¸ªå¥å­æˆ–ä¸€ä¸ªæ®µè½ï¼Œ # æ‰€ä»¥å°†æ‰€æœ‰æ–‡æœ¬è¡Œå±•å¹³åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­ corpus = [vocab[token] for line in tokens for token in line] if max_tokens &gt; 0: corpus = corpus[:max_tokens] return corpus, vocabdef seq_data_iter_random(corpus, batch_size, num_steps): #@save &quot;&quot;&quot;ä½¿ç”¨éšæœºæŠ½æ ·ç”Ÿæˆä¸€ä¸ªå°æ‰¹é‡å­åºåˆ—&quot;&quot;&quot; # ä»éšæœºåç§»é‡å¼€å§‹å¯¹åºåˆ—è¿›è¡Œåˆ†åŒºï¼ŒéšæœºèŒƒå›´åŒ…æ‹¬num_steps-1 corpus = corpus[random.randint(0, num_steps - 1):] # å‡å»1ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦è€ƒè™‘æ ‡ç­¾ num_subseqs = (len(corpus) - 1) // num_steps # é•¿åº¦ä¸ºnum_stepsçš„å­åºåˆ—çš„èµ·å§‹ç´¢å¼• initial_indices = list(range(0, num_subseqs * num_steps, num_steps)) # åœ¨éšæœºæŠ½æ ·çš„è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œ # æ¥è‡ªä¸¤ä¸ªç›¸é‚»çš„ã€éšæœºçš„ã€å°æ‰¹é‡ä¸­çš„å­åºåˆ—ä¸ä¸€å®šåœ¨åŸå§‹åºåˆ—ä¸Šç›¸é‚» random.shuffle(initial_indices) def data(pos): # è¿”å›ä»posä½ç½®å¼€å§‹çš„é•¿åº¦ä¸ºnum_stepsçš„åºåˆ— return corpus[pos: pos + num_steps] num_batches = num_subseqs // batch_size for i in range(0, batch_size * num_batches, batch_size): # åœ¨è¿™é‡Œï¼Œinitial_indicesåŒ…å«å­åºåˆ—çš„éšæœºèµ·å§‹ç´¢å¼• initial_indices_per_batch = initial_indices[i: i + batch_size] X = [data(j) for j in initial_indices_per_batch] Y = [data(j + 1) for j in initial_indices_per_batch] yield torch.tensor(X), torch.tensor(Y)def seq_data_iter_sequential(corpus, batch_size, num_steps): #@save &quot;&quot;&quot;ä½¿ç”¨é¡ºåºåˆ†åŒºç”Ÿæˆä¸€ä¸ªå°æ‰¹é‡å­åºåˆ—&quot;&quot;&quot; # ä»éšæœºåç§»é‡å¼€å§‹åˆ’åˆ†åºåˆ— offset = random.randint(0, num_steps) num_tokens = ((len(corpus) - offset - 1) // batch_size) * batch_size Xs = torch.tensor(corpus[offset: offset + num_tokens]) Ys = torch.tensor(corpus[offset + 1: offset + 1 + num_tokens]) Xs, Ys = Xs.reshape(batch_size, -1), Ys.reshape(batch_size, -1) num_batches = Xs.shape[1] // num_steps for i in range(0, num_steps * num_batches, num_steps): X = Xs[:, i: i + num_steps] Y = Ys[:, i: i + num_steps] yield X, Yclass SeqDataLoader: #@save &quot;&quot;&quot;åŠ è½½åºåˆ—æ•°æ®çš„è¿­ä»£å™¨&quot;&quot;&quot; def __init__(self, batch_size, num_steps, use_random_iter, max_tokens): if use_random_iter: self.data_iter_fn = seq_data_iter_random else: self.data_iter_fn = seq_data_iter_sequential self.corpus, self.vocab = load_corpus_time_machine(max_tokens) self.batch_size, self.num_steps = batch_size, num_steps def __iter__(self): return self.data_iter_fn(self.corpus, self.batch_size, self.num_steps)def load_data_time_machine(batch_size, num_steps, #@save use_random_iter=False, max_tokens=10000): &quot;&quot;&quot;è¿”å›æ—¶å…‰æœºå™¨æ•°æ®é›†çš„è¿­ä»£å™¨å’Œè¯è¡¨&quot;&quot;&quot; data_iter = SeqDataLoader( batch_size, num_steps, use_random_iter, max_tokens) return data_iter, data_iter.vocab 4.2 æ¨¡å‹æ­å»º 12345678910111213141516171819202122232425262728293031323334353637383940414243444546## define the RNN layernum_hiddens=256rnn_layer=nn.RNN(len(vocab),num_hiddens)## define the hidden statestate=torch.zeros((1,batch_size,num_hiddens))## define the RNN modelclass RNNmodel(nn.Module): &#x27;&#x27;&#x27;Recurrent nerual netowrk model&#x27;&#x27;&#x27; def __init__(self,rnn_layer,vocab_size,**kwargs): super(RNNmodel,self).__init__(**kwargs) self.rnn=rnn_layer self.vocab_size=vocab_size self.num_hiddens=self.rnn.hidden_size # prepare for the GRU if not self.rnn.bidirectional: self.num_directions=1 self.linear=nn.Linear(self.num_hiddens,self.vocab_size) else: self.num_directions=2 self.linear=nn.Linear(self.num_hiddens*2,self.vocab_size) def forward(self,inputs,state): X=F.one_hot(inputs.T.long(),self.vocab_size) X=X.to(torch.float32) Y,state=self.rnn(X,state) # è½¬æ¢yä¸ºnum_steps,batch_size,num_hiddens output=self.linear(Y.reshape((-1,Y.shape[-1]))) return output,state def begin_state(self,device,batch_size=1): if not isinstance(self.rnn,nn.LSTM): return torch.zeros(self.num_directions*self.rnn.num_layers,batch_size,self.num_hiddens,device=device) else: # nn.LSTM is hidden state as dict return (torch.zeros(( self.num_directions*self.rnn.num_layers, batch_size, self.num_hiddens),device=device), torch.zeros((self.num_directions*self.rnn.num_layers, batch_size,self.num_hiddens), device=device )) 4.3 é¢„æµ‹ä¸è®­ç»ƒ 123456789101112131415161718192021222324252627def try_gpu(i=0): #@save &quot;&quot;&quot;å¦‚æœå­˜åœ¨ï¼Œåˆ™è¿”å›gpu(i)ï¼Œå¦åˆ™è¿”å›cpu()&quot;&quot;&quot; if torch.cuda.device_count() &gt;= i + 1: return torch.device(f&#x27;cuda:&#123;i&#125;&#x27;) return torch.device(&#x27;cpu&#x27;)device=try_gpu()net=RNNmodel(rnn_layer,vocab_size=len(vocab))net=net.to(device)def predict_ch8(prefix, num_preds, net, vocab, device): #@save &quot;&quot;&quot;åœ¨prefixåé¢ç”Ÿæˆæ–°å­—ç¬¦&quot;&quot;&quot; state = net.begin_state(batch_size=1, device=device) outputs = [vocab[prefix[0]]] get_input = lambda: torch.tensor([outputs[-1]], device=device).reshape((1, 1)) for y in prefix[1:]: # é¢„çƒ­æœŸ _, state = net(get_input(), state) outputs.append(vocab[y]) for _ in range(num_preds): # é¢„æµ‹num_predsæ­¥ y, state = net(get_input(), state) outputs.append(int(y.argmax(dim=1).reshape(1))) return &#x27;&#x27;.join([vocab.idx_to_token[i] for i in outputs])predict_ch8(&#x27;time traveller&#x27;,10,net,vocab,device) ä¸‹é¢é€‰æ‹©ä¸€ä¸ªæ¨¡å‹å°±ok # å®é™…è®­ç»ƒè¿‡ç¨‹ # params setting from matplotlib.pyplot import isinteractive # model setting net=RNNmodel(rnn_layer,vocab_size=len(vocab)) net=net.to(device) 12345672. ``` # ç¬¬äºŒç§GRU num_inputs=len(vocab) gru_layer=nn.GRU(num_inputs,num_hiddens) net=RNNmodel(gru_layer,len(vocab)) net=net.to(device) # ç¬¬ä¸‰ç§LSTM num_inputs=len(vocab) num_layers=2 lstm_layer=nn.LSTM(num_inputs,num_hiddens,num_layers) net=RNNmodel(lstm_layer,len(vocab)) net=net.to(device) 123456784. ``` # ç¬¬å››ç§ Deep-LSTM num_inputs=len(vocab) num_layers=32 lstm_layer=nn.LSTM(num_inputs,num_hiddens,num_layers) net=RNNmodel(lstm_layer,len(vocab)) net=net.to(device) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566num_epochs, lr = 5000, 0.5# loss functionloss=nn.CrossEntropyLoss()# optimer or updaterdef sgd(params, lr, batch_size): &quot;&quot;&quot;Minibatch stochastic gradient descent. Defined in :numref:`sec_utils`&quot;&quot;&quot; with torch.no_grad(): for param in params: param -= lr * param.grad / batch_size param.grad.zero_()if isinstance(net,nn.Module): # what is for?? updater=torch.optim.SGD(net.parameters(),lr)else: print(&#x27;net is not as nnModule&#x27;) updater=lambda batch_size:sgd(net.params,lr,batch_size)def grad_clipping(net, theta): #@save &quot;&quot;&quot;è£å‰ªæ¢¯åº¦&quot;&quot;&quot; if isinstance(net, nn.Module): params = [p for p in net.parameters() if p.requires_grad] else: params = net.params norm = torch.sqrt(sum(torch.sum((p.grad ** 2)) for p in params)) if norm &gt; theta: for param in params: param.grad[:] *= theta / normpredict=lambda prefix:predict_ch8(prefix,50,net,vocab,device)use_random_iter=Falsefor epoch in range(num_epoches): state=None res=[] for X,Y in train_iter: if state is None or use_random_iter: state=net.begin_state(batch_size=X.shape[0],device=device) else: if isinstance(net,nn.Module) and not isinstance(state,tuple): state.detach_() else: for s in state: s.detach_() y=Y.T.reshape(-1) X,y=X.to(device),y.to(device) y_hat,state=net(X,state) l=loss(y_hat,y.long()).mean() if isinstance(updater,torch.optim.Optimizer): # judge is handSGD updater.zero_grad() l.backward() grad_clipping(net,1) updater.step() else: # define in d2l.sgd l.backward() grad_clipping(net,1) updater(batch_size=1) res.append(l) print(&#x27;å›°æƒ‘åº¦&#123;&#125;&#x27;.format(str(res[-1]))) 4.5 ç»“æœ è‚¯å®šéƒ½èƒ½è®­ç»ƒå‡ºæ¥ ä½¿ç”¨wordçš„è®­ç»ƒæ—¶é—´ä¼šå¤§äºcharå¾ˆå¤š ç»™ä»–ä¸€ä¸ªtime travellerï¼Œå¯ä»¥å¾—åˆ°è¿™ä¸ªï¼š time traveller stooping to light a spill at the fire then he turned lighting his pipe to look at the psychologist s face the psychologist to show that he was not unhinged helped himself to a cigar and tried to light it uncut what is more i have a big machine nearly ----- æ—¶é—´æ—…è¡Œè€…å¼¯è…°åœ¨ç«ä¸Šç‚¹ç‡ƒä¸€ä¸ªæº¢å‡ºç‰©ï¼Œç„¶åä»–è½¬åŠ¨ç‚¹äº®ä»–çš„çƒŸæ–—ï¼Œçœ‹ç€å¿ƒç†å­¦å®¶çš„è„¸ï¼Œå¿ƒç†å­¦å®¶è¡¨æ˜ä»–ä¸æ˜¯ä¸åˆæ—¶å®œåœ°å¸®åŠ©è‡ªå·±æŠ½é›ªèŒ„ï¼Œå¹¶è¯•å›¾ç‚¹ç‡ƒå®ƒæœªåˆ‡å‰²ï¼Œæ›´é‡è¦çš„æ˜¯æˆ‘æœ‰ä¸€ä¸ªå¤§æœºå™¨å‡ ä¹ æ·±å±‚RNNä¸ä¸€å®šæœ‰æ•ˆ 0x05 Discussionï¼ˆä¸ªäººè§è¯†ï¼‰ MLPæˆ–è€…CNNæœ‰ç‚¹åƒé¡ºåºç»“æ„ï¼ŒRNNæœ‰ç‚¹åƒå¾ªç¯ç»“æ„ï¼ŒAttentionæœ‰ç‚¹åƒåˆ¤æ–­ç»“æ„ ä¸åŒç»“æ„å¸¦æ¥çš„æ˜¯ä¸åŒçš„æ„Ÿå—é‡ï¼ŒMLPçš„æ„Ÿå—é‡æ˜¯ä¸ªç‚¹ï¼ŒCNNçš„æ„Ÿå—é‡å¯èƒ½æ˜¯é•¿æ–¹å½¢ï¼ŒRNNçš„æ„Ÿå—é‡å¯èƒ½æ˜¯å¾ˆé•¿çš„åºåˆ—ï¼ŒAttentionåˆ™æ˜¯é€‰æ‹©æ„Ÿå—é‡ RNNå¾ˆåœŸ åºåˆ—æ¨¡å‹â€”â€”å´æ©è¾¾æ·±åº¦å­¦ä¹ è¯¾ç¨‹ç¬”è®°ï¼ˆäº”ï¼‰ åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹  Deep learningï¼Œlan Goodfellow.etal","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"D2L","slug":"D2L","permalink":"https://blog.tjdata.site/tags/D2L/"}]},{"title":"åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ 04_Attention","slug":"åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ 04_Attention","date":"2022-10-13T02:23:50.000Z","updated":"2023-05-13T13:51:55.258Z","comments":true,"path":"posts/907ab853.html","link":"","permalink":"https://blog.tjdata.site/posts/907ab853.html","excerpt":"","text":"æœ¬æ¥å°±ä»¥Attentionä¸ºåŸºç¡€çš„Transformerç»“æ„å¾ˆæ„Ÿå…´è¶£ï¼Œæƒ³ç›´æ¥ä»CNNè·³åˆ°Attentionæ¥å­¦ä¹ ï¼Œä½†æ˜¯é€šè¿‡äº†è§£ä¸€äº›åŸºæœ¬çš„èƒŒæ™¯å‘ç°å¹¶ä¸ç°å®ï¼Œtransformerçš„æå‡ºæœ¬æ¥å°±æ˜¯åœ¨æœºå™¨ç¿»è¯‘çš„åŸºç¡€ä¸Šï¼Œæ‰€ä»¥å…ˆå¤©çš„åœ¨ä¸€äº›é—®é¢˜åœºæ™¯çš„è§£é‡Šä¸­å¹¶ä¸æ˜¯ä»¥å›å½’æ•°æ®ã€æˆ–è€…è¯´äºŒç»´å›¾åƒæ•°æ®ï¼Œè€Œæ˜¯åŸºäºåºåˆ—ï¼ˆseqï¼‰ç±»å‹çš„æ•°æ®è¿›è¡Œè§£é‡Šçš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨äº†è§£è®¤æ¸…æ¥šseq2seqå­¦ä¹ ä¹‹åæ‰èƒ½å¯¹attentionæœ‰ä¸€äº›ç†è§£ã€‚è¿™æ¬¡åªæ˜¯å¯¹attentionä½œä¸ºç®€å•çš„äº†è§£ï¼Œå¹¶å¯¹æ·±åº¦å­¦ä¹ ä¸­ä¸€äº›åšå‡ºreviewï¼Œæ¥ä¿®æ­£è‡ªå·±ä¹‹å‰é”™è¯¯çš„çœ‹æ³•ä»¥åŠé‡å»ºæ–°çš„ä¸–ç•Œè§‚ã€‚ 0x01 ä»€ä¹ˆæ˜¯Attentionï¼ˆæ–‡å­—ç‰ˆï¼‰ 1.1 ä»ç”Ÿç‰©å­¦ç„å­¦çš„è¯´èµ·æ³¨æ„åŠ› attention â€‹ ï¼ˆå¾ˆæœ‰æ„æ€çš„ä¸€æ®µï¼‰ æ³¨æ„åŠ›æ˜¯ç¨€ç¼ºçš„ï¼Œè€Œç¯å¢ƒä¸­å¹²æ‰°æ³¨æ„åŠ›çš„ä¿¡æ¯å¹¶ä¸å°‘ã€‚æ¯”å¦‚æˆ‘ä»¬çš„è§†è§‰ç¥ç»ç³»ç»Ÿå¤§çº¦æ”¶åˆ°10e8ä½çš„ä¿¡æ¯ï¼Œè¿œè¿œè¶…è¿‡äº†å¤§è„‘èƒ½å¤Ÿå®Œå…¨å¤„ç†çš„æ°´å¹³ï¼Œä½†æ˜¯å¹¸è¿çš„æ˜¯æˆ‘ä»¬çš„ç¥–å…ˆå·²ç»é€šè¿‡ç»éªŒè®¤è¯†åˆ°â€œå¹¶éæ„Ÿå®˜çš„æ‰€æœ‰è¾“å…¥éƒ½æ˜¯ä¸€æ ·çš„â€ï¼Œåœ¨æ•´ä¸ªäººç±»å†å²ä¸­ï¼Œè¿™ç§å°†æ³¨æ„åŠ›å¼•å‘æ„Ÿå…´è¶£çš„ä¸€éƒ¨åˆ†ä¿¡æ¯çš„èƒ½åŠ›ä½¿å¾—æˆ‘ä»¬çš„å¤§è„‘èƒ½å¤Ÿæ›´åŠ æ˜æ™ºåœ°åˆ†é…èµ„æºæ¥ç”Ÿå­˜ã€æˆé•¿å’Œç¤¾äº¤ï¼Œä¾‹å¦‚å‘ç°å¤©æ•Œã€æ‰¾å¯»é£Ÿç‰©æˆ–è€…ä¼´ä¾£ ç”Ÿç‰©å­¦ä¸­å¸¸è§çš„åˆ©ç”¨åŒç»„ä»¶ï¼ˆtow- componentï¼‰æ¥è§£é‡Šæ³¨æ„åŠ›ï¼Œå°†æ³¨æ„åŠ›åˆ’åˆ†ä¸ºä¸¤ç±»ï¼š éè‡ªå‘ï¼šå•çº¯çš„æ ¹æ®è§‚å¯Ÿåˆ°çš„â€æ•°æ®â€œæ¥ç¡®å®šä½ æ‰€æ³¨æ„çš„çš„ä¸œè¥¿ï¼Œæ¯”å¦‚æ¡Œå­ä¸Šæœ‰è¯•å·ã€å¯ä¹ã€æ¸¸æˆæœºã€ä¸€ä¸ªé’¥åŒ™å’Œä¸€ä¸ªæ´»åŠ¨çš„å…¬é¸¡ï¼›ä½ å¯èƒ½æœ€å…ˆå…³æ³¨çš„é¸¡ è‡ªå‘æ€§ï¼šåœ¨è‡ªæˆ‘æ„è¯†çš„æ§åˆ¶ä¸‹æ¥é€‰æ‹©å…³æ³¨åˆé€‚çš„å…ƒç´ ï¼Œæ¯”å¦‚ä¸Šè¿°å¦‚æœä½ æ˜¯ä¸ºäº†å¯»æ‰¾ä¸€ä¸ªé’¥åŒ™è€Œæ¥ï¼Œé‚£ä¹ˆä½ å°±ä¼šå°†æ³¨æ„åŠ›ä¸“æ³¨åˆ°å¯¹åº”çš„å…ƒç´ ä¸­ã€‚ 1.2 å®³æ­»äººçš„Qï¼ˆqueryï¼‰ã€Kï¼ˆkeyï¼‰ã€Vï¼ˆvalueï¼‰ è¿™é‡Œçš„èµ·æºåˆ©ç”¨å¦å¤–ä¸€ç§Notationæ¥è¡¨è¿°ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š queryï¼šè‡ªä¸»æ€§æç¤ºæˆä¸ºquery keyï¼šè‡ªä¸»æ€§æç¤º attention poolingï¼šæ³¨æ„åŠ›æ±‡èšï¼Œå°† é€‰æ‹©ï¼ˆoutputï¼‰å¼•å¯¼æ„Ÿå®˜è¾“å…¥ æ„Ÿå®˜è¾“å…¥ç§°ä¸ºvalueï¼Œæ¯ä¸€ä¸ªvalueéƒ½ä¸ä¸€ä¸ªkeyåŒ¹é… 1.4 åˆ©ç”¨æ‰¾ä¹¦å°æ•…äº‹æ¥è§£é‡ŠQKVæ¨¡å‹ï¼ˆä¸ªäººçŒœæƒ³ï¼ï¼‰ æˆ‘ä»¬å°†å›¾ä¹¦é¦†é‡Œé¢æ‰€æœ‰çš„ä¹¦ç§°ä¸ºKeyï¼Œæ¯ä¸ªä¹¦å¯èƒ½ä¼šå¯¹åº”ä¸åŒçš„valueï¼ˆçœ‹æˆ–è€…ä¸çœ‹ï¼‰ï¼›å½“æˆ‘ä»¬æœ‰è‡ªå·±çš„queryï¼ˆæƒ³çœ‹äº¤é€šæ–¹é¢çš„ä¹¦ï¼‰ï¼Œå°±ä¼šå°†queryå¯¹ä¸åŒçš„keyè¿›è¡Œattention poolingï¼Œè¿™æ ·outputå°±æ˜¯ä¸äº¤é€šç›¸å…³çš„ä¹¦æ‰ä¼šçœ‹ï¼Œä¸äº¤é€šä¸ç›¸å…³çš„ä¹¦ä¸çœ‹ã€‚ 1.5 ä»æœºå™¨å­¦ä¹ é‡Œçš„{x(i),y(i)}i=1,...n\\{x^{(i)},y^{(i)}\\}i=1,...n{xâ€‹(i)â€‹â€‹,yâ€‹(i)â€‹â€‹}i=1,...næ¥çœ‹ï¼ˆä¸ªäººçŒœæƒ³ï¼ï¼‰ å…¶ä¸­çš„XXXç›¸å½“äºKeyï¼Œyyyç›¸å½“äºValue å½“æˆ‘ä»¬å¯¹ä¸€ä¸ªæ–°çš„xxxé¢„æµ‹çš„æ—¶å€™ç›¸å½“äºæ˜¯å¯¹è¿™ä¸ªå‘å‡ºqueryï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä¼šæ€ä¹ˆæ ·ï¼Ÿ é¦–å…ˆæ ¹æ®xxxä¸X=x(i)i=1...nX={x^{(i)}}i=1...nX=xâ€‹(i)â€‹â€‹i=1...nè¿›è¡Œattention scoreçš„è®¡ç®—ï¼Œç„¶åå†å½’ä¸€åŒ–ï¼ˆæ¯”å¦‚softmaxï¼‰ ä¹‹åå†åˆ©ç”¨å½’ä¸€åŒ–çš„ç»“æœä½œä¸º æƒé‡ æ¥æ‹Ÿåˆå¾—åˆ°output è¿™é‡Œä¸çº¿æ€§å›å½’çš„åŒºåˆ«åœ¨äºæƒé‡çš„ç¡®å®šå’Œä½¿ç”¨ä¸Šï¼Œçº¿æ€§å›å½’çš„æƒé‡æ˜¯ä¸¥æ ¼æ¨å¯¼å¹¶ä½¿ç”¨åœ¨Xçš„ä¸åŒç‰¹å¾ä¸Šï¼Œè€Œattentionçš„æƒé‡æ˜¯é€šè¿‡å­¦ä¹ å¹¶ä½¿ç”¨åœ¨Xï¼ˆkeyï¼‰å¯¹åº”çš„yï¼ˆvalueï¼‰ åŒæ—¶è¿™é‡Œçš„attention valueçš„æƒé‡å¯ä»¥æ˜¯é€šè¿‡å­¦ä¹ ï¼Œä¹Ÿå¯ä»¥æ˜¯é€šè¿‡äººä¸ºå®šä¹‰æ¥å¾—åˆ°çš„ï¼Œå› ä¸ºæˆ‘ä»¬é‡‡ç”¨çš„vectorå½¢å¼çš„å­¦ä¹ ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨kernel functionæˆ–è€…çº¿æ€§ç©ºé—´ä¸€äº›è·ç¦»åº¦é‡æ¥ä½œä¸ºè®¡ç®—æ–¹å¼ï¼Œåœ¨åç»­è¿›åŒ–ç‰ˆçš„å‡çº§ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä¼šæœ‰å…¶ä»–scoreçš„åº¦é‡ï¼Œæ¯”å¦‚ä¹¦ä¸ä¹¦ä¹‹é—´æ˜¯å¥½åº¦é‡çš„ï¼Œä½†æ˜¯è¯´çš„è¯å’Œä¹¦ä¹‹é—´å¦‚ä½•åº¦é‡ï¼Ÿ 0x02 å¯è§†åŒ–Attention æ¥ç€ä¸Šè¿°çš„1.5æˆ‘ä»¬å¯ä»¥çœ‹å‡ºã€ŠD2Lã€‹ä¹¦ä¸­ä»‹ç»Nadaraya- Watsonæ ¸å›å½’ï¼Œåªä¸è¿‡å…¶ä¸­çš„attention score çš„è®¡ç®—æ–¹å¼æ˜¯ç”¨æ ¸æœºå™¨ï¼›å¹¸è¿çš„æ˜¯æˆ‘ä»¬åœ¨SVMé‡Œé¢å·²ç»åˆæ­¥äº†è§£è¿‡ï¼Œå®ƒåªæ˜¯ä¸€ç§å°†ä½çº¬åº¦çš„å‘é‡è·ç¦»æŠ•å°„åˆ°é«˜çº¬åº¦ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥é‡‡ç”¨Gaussian Kernel K(X1,X2)=1(2âˆ—Ï€)âˆ—exp(âˆ’(X1âˆ’X2)22)K(X1,X2)=\\frac{1}{\\sqrt(2*\\pi)}*exp(-\\frac{(X1-X2)^2}{2}) K(X1,X2)=â€‹âˆšâ€‹(â€‹â€‹â€‹2âˆ—Ï€)â€‹â€‹1â€‹â€‹âˆ—exp(âˆ’â€‹2â€‹â€‹(X1âˆ’X2)â€‹2â€‹â€‹â€‹â€‹) è¿™æ ·å–è¯„ä»·ä¹‹åå°±å¯ä»¥å¾—åˆ°æˆ‘ä»¬å¯¹äºæ–°çš„queryçš„xçš„é¢„æµ‹ä¸º yÂ¯=Î£i=1nexp(âˆ’0.5(xâˆ’xi)2)Î£j=1j=nexp(âˆ’0.5(xâˆ’xj)2)yi\\bar y=\\Sigma_{i=1}^n\\frac{exp(-0.5(x-x_i)^2)}{\\Sigma_{j=1}^{j=n} exp(-0.5(x-x_j)^2)}y_i â€‹yâ€‹Â¯â€‹â€‹=Î£â€‹i=1â€‹nâ€‹â€‹â€‹Î£â€‹j=1â€‹j=nâ€‹â€‹exp(âˆ’0.5(xâˆ’xâ€‹jâ€‹â€‹)â€‹2â€‹â€‹)â€‹â€‹exp(âˆ’0.5(xâˆ’xâ€‹iâ€‹â€‹)â€‹2â€‹â€‹)â€‹â€‹yâ€‹iâ€‹â€‹ è¿™é‡Œå–çš„å°±æ˜¯æŒ‰ç…§ä¸€ç§é«˜æ–¯è·ç¦»ï¼Œç¦»çš„è¶Šè¿‘è¶Šå¥½ï¼Œå¦‚æœæŒ‰ç…§è¿™ä¸ªæ–¹å¼å¾—åˆ°çš„attention scoreå¯ä»¥çœ‹å‡ºè¿‘å¤§è¿œå°çš„ç‰¹ç‚¹ã€‚ ä½†æ˜¯å¦å¤–ä¸€ç§æˆ‘ä»¬å¸Œæœ›å¯ä»¥å¯¹äºä¸åŒqueryå…·æœ‰ä¸åŒçš„é«˜æ–¯å‡½æ•°çš„å®½åº¦ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸Œæœ›æ–¹å·®ä¸ä¸€æ · yÂ¯=Î£i=1nexp(âˆ’0.5w(xâˆ’xi)2)Î£j=1j=nexp(âˆ’0.5w(xâˆ’xj)2)yi\\bar y=\\Sigma_{i=1}^n\\frac{exp(-0.5w(x-x_i)^2)}{\\Sigma_{j=1}^{j=n} exp(-0.5w(x-x_j)^2)}y_i â€‹yâ€‹Â¯â€‹â€‹=Î£â€‹i=1â€‹nâ€‹â€‹â€‹Î£â€‹j=1â€‹j=nâ€‹â€‹exp(âˆ’0.5w(xâˆ’xâ€‹jâ€‹â€‹)â€‹2â€‹â€‹)â€‹â€‹exp(âˆ’0.5w(xâˆ’xâ€‹iâ€‹â€‹)â€‹2â€‹â€‹)â€‹â€‹yâ€‹iâ€‹â€‹ è¿™æ ·å¯¹äºä¸åŒçš„valueå°±ä¼šæœ‰ä¸åŒçš„æƒé‡ï¼ˆæ³¨æ„è¿™é‡Œçš„æƒé‡å€¼å¾—ä¸æ˜¯wï¼‰ï¼ŒæŒ‡çš„æ˜¯åˆ©ç”¨wè®¡ç®—å‡ºæ¥çš„attention score 0x03 å¯¹äºattentionçš„åˆè¯† æ‰€ä»¥attentionæ˜¯å•¥ï¼Œå¦‚æœåˆ©ç”¨QKVçš„è§’åº¦æ¥çœ‹æ¯”è¾ƒå¤æ‚ï¼Œå¦‚æœä»ç®€å•çš„å›å½’é—®é¢˜è§’åº¦æ¥çœ‹å®ƒåªæ˜¯å¦å¤–ä¸€ç§è®¡ç®—æƒé‡æ–¹å¼çš„å‡½æ•°ã€‚ ä½†æ˜¯ï¼attentionçš„ä½œç”¨ä¸ä»…å±€é™äºå›å½’é—®é¢˜ï¼Œå®ƒä»seqé—®é¢˜ä¸­è€Œæ¥ï¼Œè§£å†³çš„å°±æ˜¯CNNæˆ–è€…RNNå¯¹äºè·ç¦»çš„æ•æ„Ÿæ€§ã€‚ å°±åƒCNNçš„æ„Ÿå—é‡ï¼Œå¯¹äºå•å±‚æ„Ÿå—é‡å¯èƒ½æ˜¯å›ºå®šå¥½çš„ï¼ˆä¸kernel sizeã€paddingã€stepæœ‰å…³ï¼‰ï¼Œä½†æ˜¯å¤šå±‚ç´¯ç§¯ä¸­æ„Ÿå—é‡æ˜¯å¯ä»¥é€æ¸æ‰©å¤§çš„ã€‚ä½†æ˜¯CNNé€‚ç”¨äºå›¾åƒçš„å¯èƒ½è§£é‡Šæ˜¯ä¸€ï¼Œå›¾åƒçš„ç»´åº¦æ˜¯å›ºå®šsizeçš„ï¼ˆåƒç´ æ— è®ºå¤šå¤§éƒ½æ˜¯æœ‰é™çš„ï¼‰ è€ŒRNNçš„æ„Ÿå—é‡ï¼Œå€Ÿé‰´è¢«äººçš„è¯´æ³•æ˜¯å–å†³äºè¯å…ƒæ¨¡å‹å’Œhidden layerï¼Œä½†æ˜¯ç”±äºhidden layerä¹Ÿæ˜¯å…·æœ‰é¡ºåºçš„ç‰¹å¾ï¼Œå®ƒçš„æ„Ÿå—é‡ä¹Ÿä¸ä¼šä¼ é€’çš„å¤ªè¿œã€‚ attentionåˆ©ç”¨attention socreå¯¹ä¸åŒçš„keyè¿›è¡Œç­›é€‰ï¼Œæ¥å¾—åˆ°ä¸€ä¸ªè¶³å¤Ÿè¿œä½†æ˜¯é‡ä¸å¤§çš„æ„Ÿå—é‡ã€‚é€‰æ‹©é‡è¦çš„æ•°æ®ã€‚ åŒæ—¶åœ¨Attentionä¸­å…³äºattention scoreçš„è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œç”±äºæ²¡æœ‰æ¥è§¦è¿‡seq2seqæ¨¡å‹ï¼Œåœ¨åé¢çš„è®¡ç®—ä¸­å¯èƒ½éœ€è¦äº†è§£ä¹‹åæ‰èƒ½æœ‰æ›´è¿‘ä¸€æ­¥çš„è®¤è¯†ã€‚ç›®å‰çš„ç†è§£æ˜¯åˆ©ç”¨ä¸€ç§å¯å­¦ä¹ çš„æ–¹å¼æ¥å¾—åˆ°åˆç†çš„attention scoreçš„è®¡ç®—æ–¹å¼ã€‚ flagï¼š çœ‹æ‡‚RNNã€GRUã€LSTM æ˜ç™½seq2seqæ¡†æ¶ï¼Œencoder- decoderçš„æ¡†æ¶ 0x04 Discussion 4.1 ä¸€è‡´è®°å·çš„é‡è¦æ€§ è¿˜æ˜¯å¾ˆå–œæ¬¢CS229çš„è®²ä¹‰ä¸­Notationä¸€è‡´æ€§çš„æ€è€ƒï¼Œè¿™æ ·å‰åçš„å…¬å¼æ¨å¯¼ä¼šå¾ˆæ¸…æ™°ï¼Œåœ¨è§£é‡Šé—®é¢˜ä¸­ä¼šæœ‰ä¸€è‡´æ€§ D2Lä¸­æ²ç¥è®²çš„çœŸçš„å¾ˆå¥½ï¼Œä½†æ˜¯åœ¨å†™ä½œä¸­ä¼¼ä¹è¿˜æ˜¯ç¼ºå°‘è¿™ç§åŸºæœ¬çš„ç´ å…»ã€‚è¿™æ ·çš„ç´ å…»å¯¹äºå¤§ä½¬æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œä½†æ˜¯å¯¹äºåˆå­¦è€…æ˜¯ä¿è¯ä¸å‡ºé”™çš„å›´æ ã€‚ 4.2 æ¨¡æ‹Ÿï¼ˆprintï¼‰çš„é‡è¦æ€§ å¯¹äºä¸åŒçš„æŠ½è±¡é—®é¢˜ï¼Œåˆ©ç”¨å…·ä½“çš„ä¸œè¥¿æ‰“å°å‡ºæ¥ä¸€æ­¥ä¸€æ­¥å°±å¥½äº†ã€‚å°¤å…¶æ˜¯å‘é‡çš„æ¯ä¸€æ­¥çš„size 4.3 ML&amp;DLçš„ä¸€äº›æ€è€ƒ å¯èƒ½æ˜¯æ²¿ç€D2Lä¹¦çš„ç¼˜æ•…ï¼Œå¯¹æ·±åº¦å­¦ä¹ çš„è®¤è¯†è¿‡ç¨‹æ˜¯ä»MLPåˆ°CNN/GCNåˆ°RNNåˆ°Transformerï¼Œå¯èƒ½è¿˜æœ‰å…¶ä»–çš„ï¼Œè¿™æ ·ç½‘ç»œç»“æœä¸€æ ·ä½†åˆä¼¼ä¹ä¸å¤ªä¸€æ ·ï¼Œä¸»è¦å¯¹ç‰¹å¾æå–æ–¹å¼ä¸Šã€‚ ä¸‹é¢è¿™å¼ å›¾å¯èƒ½å†…å®¹ä¸å¯¹æˆ–è€…ä¸å…¨ï¼Œä½†æ˜¯åˆ†ç±»çš„æ€è·¯ä»å­¦ä¹ çš„è§’åº¦è¿˜æ˜¯æœ‰ç›Šçš„","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"D2L","slug":"D2L","permalink":"https://blog.tjdata.site/tags/D2L/"}]},{"title":"å¼ºåŒ–å­¦ä¹ 01_åŸºæœ¬æ¦‚å¿µ","slug":"å¼ºåŒ–å­¦ä¹ 01_åŸºæœ¬æ¦‚å¿µ","date":"2022-09-30T08:02:58.000Z","updated":"2023-05-13T13:52:18.553Z","comments":true,"path":"posts/3e3a5c92.html","link":"","permalink":"https://blog.tjdata.site/posts/3e3a5c92.html","excerpt":"åˆå§‹å¼ºåŒ–å­¦ä¹ æœ€éš¾çš„åœ°æ–¹åœ¨äºæ™¦æ¶©çš„ä¸“ä¸šè¯æ±‡ä»¥åŠå¤æ‚çš„æ•°å­¦æ¨å¯¼ï¼›åŒæ—¶æ·±åº¦å¼ºåŒ–å­¦ä¹ å¹¶ä¸æ˜¯å¼ºåŒ–å­¦ä¹ çš„ç»ˆç‚¹ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¾æ—§éœ€è¦humanåœ¨å…¶ä¸­æ‰®æ¼”çš„åœ°æ–¹ã€‚è¿™é‡Œæµ…è–„çœ‹è˜‘è‡ä¹¦æ¥äº†è§£ã€‚ä¸»è¦ä½œä¸ºäº†è§£å¼ºåŒ–å­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µï¼Œå¸Œæœ›ä»éšæœºè¿‡ç¨‹å‡ºå‘ï¼Œæ¥ç»™å‡ºå¼ºåŒ–å­¦ä¹ ä¸­æ™ºèƒ½ä½“agentä¸ç¯å¢ƒ envä¹‹é—´çš„åŸºæœ¬æ¦‚å¿µ","text":"åˆå§‹å¼ºåŒ–å­¦ä¹ æœ€éš¾çš„åœ°æ–¹åœ¨äºæ™¦æ¶©çš„ä¸“ä¸šè¯æ±‡ä»¥åŠå¤æ‚çš„æ•°å­¦æ¨å¯¼ï¼›åŒæ—¶æ·±åº¦å¼ºåŒ–å­¦ä¹ å¹¶ä¸æ˜¯å¼ºåŒ–å­¦ä¹ çš„ç»ˆç‚¹ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¾æ—§éœ€è¦humanåœ¨å…¶ä¸­æ‰®æ¼”çš„åœ°æ–¹ã€‚è¿™é‡Œæµ…è–„çœ‹è˜‘è‡ä¹¦æ¥äº†è§£ã€‚ä¸»è¦ä½œä¸ºäº†è§£å¼ºåŒ–å­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µï¼Œå¸Œæœ›ä»éšæœºè¿‡ç¨‹å‡ºå‘ï¼Œæ¥ç»™å‡ºå¼ºåŒ–å­¦ä¹ ä¸­æ™ºèƒ½ä½“agentä¸ç¯å¢ƒ envä¹‹é—´çš„åŸºæœ¬æ¦‚å¿µ 0x01 éšæœºè¿‡ç¨‹çš„åŸºç¡€ æ¦‚ç‡è®ºå’Œåº”ç”¨ç»Ÿè®¡æ˜¯ç ”ç©¶æ¦‚ç‡è®ºä¸­å¤šä¸ªéšæœºäº‹ä»¶æ‰€æ„æˆçš„å…·æœ‰ä¸€èˆ¬æ€§è§„å¾‹çš„å­¦ç§‘ï¼›è€Œéšæœºè¿‡ç¨‹åˆ™æ˜¯å¯¹è¿™ä¸ªè¿‡ç¨‹è¿›è¡Œæè¿°ã€‚ 1.1 é©¬å°”å¯å¤«è¿‡ç¨‹ MP- Markov process é©¬å°”å¯å¤«æ€§è´¨æŒ‡çš„æ˜¯ä¸€ä¸ªéšæœºè¿‡ç¨‹åœ¨ç»™å®šç°åœ¨çŠ¶æ€å’Œæ‰€æœ‰è¿‡å»çŠ¶æ€çš„æƒ…å†µä¸‹ï¼Œæœªæ¥åˆ†å¸ƒæ¦‚ç‡ä»…ä¾èµ–äºå½“å‰çš„çŠ¶æ€ï¼›ä¹Ÿå°±æ˜¯åœ¨çŸ¥é“å½“å‰çš„çŠ¶æ€ï¼Œå°†æ¥ä¸æœªæ¥æ˜¯ç‹¬ç«‹çš„ P(XT+1=xt+1âˆ£X0=x0,x1=x1,...,XT=xt)=P(XT+1=xt+1âˆ£XT=xt)P(X_{T+1}=x_{t+1}|X_0=x_0,x_1=x_1,...,X_T=x_t)=P(X_{T+1}=x_{t+1}|X_T=x_t) P(Xâ€‹T+1â€‹â€‹=xâ€‹t+1â€‹â€‹âˆ£Xâ€‹0â€‹â€‹=xâ€‹0â€‹â€‹,xâ€‹1â€‹â€‹=xâ€‹1â€‹â€‹,...,Xâ€‹Tâ€‹â€‹=xâ€‹tâ€‹â€‹)=P(Xâ€‹T+1â€‹â€‹=xâ€‹t+1â€‹â€‹âˆ£Xâ€‹Tâ€‹â€‹=xâ€‹tâ€‹â€‹) å¦‚æœä¸€ä¸ªéšæœºè¿‡ç¨‹æ˜¯ç¦»æ•£çš„ï¼Œå¯ä»¥è¢«ç§°ä¸ºé©¬å°”å¯å¤«é“¾ï¼ˆMarkov chainï¼‰ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘ä»¬çœ‹åˆ°ä¸åŒçŠ¶æ€ä¹‹é—´çš„æ¦‚ç‡è½¬æ¢ 1.2 é©¬å°”å¯å¤«å¥–åŠ±è¿‡ç¨‹-MRP- Markov reward- process åœ¨ä¸Šè¿°é©¬å°”å¯å¤«é“¾çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼š å¥–åŠ±- reward functionï¼šæ˜¯ä¸€ä¸ªæœŸæœ›ï¼Œè¡¨ç¤ºæˆ‘ä»¬åˆ°è¾¾æŸä¸ªè¿‡ç¨‹èƒ½å¤Ÿè·å¾—çš„æœ€å¤§çš„å¥–åŠ±ï¼Œé€šå¸¸ç”¨horizonè¡¨ç¤ºæœ‰ä¸ªå›åˆçš„é•¿åº¦ï¼Œé‚£ä¹ˆåœ¨å¥–åŠ±çš„åŸºç¡€ä¸Šæˆ‘ä»¬å¯ä»¥å¾—åˆ°éšæœºè¿‡ç¨‹åºåˆ—çš„å›æŠ¥ å›æŠ¥- return Gt=rt+1+Î³âˆ—rt+2+Î³2âˆ—rt+3+...G_t=r_{t+1}+\\gamma*r_{t+2}+\\gamma^2*r_{t+3}+...Gâ€‹tâ€‹â€‹=râ€‹t+1â€‹â€‹+Î³âˆ—râ€‹t+2â€‹â€‹+Î³â€‹2â€‹â€‹âˆ—râ€‹t+3â€‹â€‹+... è¿™é‡Œçš„Î³\\gammaÎ³ä»£è¡¨æŠ˜æ‰£ç³»æ•°ï¼›è¿™ä¸ªä½ç½®æ˜¯è¡¨ç¤ºè¿™ä¸ªä¸€ç³»åˆ—çš„éšæœºè¿‡ç¨‹æ‰€å¸¦æ¥çš„å›æŠ¥ï¼Œä½†æ˜¯é€šå¸¸ä¸ºæ”¶æ•›ä¼šè§„å®š å›æŠ¥- returnçš„é•¿åº¦æ¥ï¼›åœ¨å›æŠ¥- returnçš„åŸºç¡€ä¸Šæˆ‘ä»¬å¯ä»¥å¾—åˆ°æ¯ä¸ªçŠ¶æ€- stateçš„ä»·å€¼- valueï¼›ä¹Ÿå°±æ˜¯å›æŠ¥- returnçš„æœŸæœ›å°±æ˜¯ä»·å€¼ V(ST)=E(GTâˆ£ST=st)V(S_T)=E(G_T|S_T=s_t) V(Sâ€‹Tâ€‹â€‹)=E(Gâ€‹Tâ€‹â€‹âˆ£Sâ€‹Tâ€‹â€‹=sâ€‹tâ€‹â€‹) è¿™é‡Œæœ‰å¾…è®¨è®ºï¼Œæ„Ÿè§‰å’Œé«˜ä¸­ç‰©ç†ä¸­çš„ä¸‡æœ‰å¼•åŠ›ä¸åŠ¿èƒ½å¾ˆç›¸ä¼¼ å…³äºä»·å€¼- valueçš„æ±‚è§£ä¼šæœ‰å¾ˆå¤šæ–¹æ³• åˆ©ç”¨å®šä¹‰ï¼Œéå†å¤šç§çŠ¶æ€å¾—åˆ°value åˆ©ç”¨è’™ç‰¹å¡æ´›MCéšæœºé‡‡æ ·çš„æ–¹æ³• åˆ©ç”¨Bellman equationå¾—åˆ°è§£æè§£ å…¶ä»–çš„æ–¹æ³•ï¼Œæ¯”å¦‚TD learningç­‰ 1.25å…³äºMRPè´å°”æ›¼æ–¹ç¨‹æ±‚è§£ å¤ªèœäº†ï¼Œæ‰€ä»¥ç”¨æ‰‹å†™ï¼Œè¿™æ ·æˆ‘ä»¬çœ‹å‡ºMRPé‡ç‚¹æ˜¯åœ¨çŸ¥é“è½¬ç§»æ¦‚ç‡På’Œå„çŠ¶æ€å¥–åŠ±rewardä»¥åŠæŠ˜æ‰£å› å­Î³\\gammaÎ³çš„åŸºç¡€ä¸Šï¼Œæ±‚è§£å‡ºçŠ¶æ€çš„ä»·å€¼ï¼ˆç”¨ä¸åŒçš„æ–¹æ³•ï¼‰ 1.3 é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹-MDP-Markov- decision- process MRPåœ¨MPä¸­å¢åŠ æ¥ â€œå¥–åŠ±rewardã€å›æŠ¥returnå’Œä»·å€¼valueâ€ï¼ŒMDPåˆ™æ˜¯ç»§ç»­åœ¨MRPçš„åŸºç¡€ä¸­å¢åŠ åŠ¨ä½œé¡¹ç›®action Ï€(aâˆ£s)=P(AT=atâˆ£ST=st)\\pi(a|s)=P(A_T=a_t|S_T=s_t) Ï€(aâˆ£s)=P(Aâ€‹Tâ€‹â€‹=aâ€‹tâ€‹â€‹âˆ£Sâ€‹Tâ€‹â€‹=sâ€‹tâ€‹â€‹) è¿™é‡Œçš„Ï€\\piÏ€ç§°ä¸ºæ˜¯ç­–ç•¥ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šï¼Œä¸‹ä¸€ä¸ªçŠ¶æ€åº”è¯¥å–å†³äºå½“å‰çš„çŠ¶æ€å’ŒåŠ¨ä½œ P(ST+1âˆ£ST,AT)=P(ST+1âˆ£hT,aT)P(S_{T+1}|S_T,A_T)=P(S_{T+1}|h_T,a_T) P(Sâ€‹T+1â€‹â€‹âˆ£Sâ€‹Tâ€‹â€‹,Aâ€‹Tâ€‹â€‹)=P(Sâ€‹T+1â€‹â€‹âˆ£hâ€‹Tâ€‹â€‹,aâ€‹Tâ€‹â€‹) åŒæ · å¥–åŠ±reward çš„å®šä¹‰ä¹Ÿä¼šæ›´åŠ å¤æ‚ R(ST=st)=E(rt[ST=st,At=a])R(S_T=s_t)=E(r_t[S_T=s_t,A_t=a]) R(Sâ€‹Tâ€‹â€‹=sâ€‹tâ€‹â€‹)=E(râ€‹tâ€‹â€‹[Sâ€‹Tâ€‹â€‹=sâ€‹tâ€‹â€‹,Aâ€‹tâ€‹â€‹=a]) 2022-09-30 è¿™éƒ¨åˆ†åé¢å°±ä¸å¤ªæ‡‚å•¦ï½ï½æœªå®Œå¾…ç»­ 1.4 ä¸¾ä¸ªä¾‹å­ è®¡ç®—çŠ¶æ€ æ¯”å¦‚çŠ¶æ€ç©ºé—´åŒ…æ‹¬{wechatï¼›class1;class2;class3;sleep;pass;pub} ä¹‹é—´çš„çŠ¶æ€æ¦‚ç‡ä¸º ä¸åŒçŠ¶æ€çš„rewardæ˜¯ åˆ©ç”¨è´å°”æ›¼æ–¹ç¨‹å°±å¯ä»¥å¾—åˆ°æœ€ç»ˆçš„valueç»“æœ 1.5 MDPçš„æ ¸å¿ƒé—®é¢˜ è™½ç„¶2022-09-30è¿˜æ²¡æœ‰ææ‡‚MDPçš„æ•°å­¦è¿‡ç¨‹ï¼Œä½†æ˜¯å¯ä»¥çœ‹å‡ºèµ·æ ¸å¿ƒçš„é—®é¢˜åŒ…æ‹¬ ã€é¢„æµ‹ã€‘ä¸ã€æ§åˆ¶ã€‘ é¢„æµ‹å°±æ˜¯ç»™å‡º stateã€actionã€Pã€Rä¸policyæ¥å¾—åˆ°æ¯ä¸ªçŠ¶æ€çš„value æ§åˆ¶å°±æ˜¯ç»™å‡ºstateã€actionã€Pã€Ræ¥å¾—åˆ°valueä¸policy åœ¨æ±‚è§£ä¸­å¸¸åˆ†ä¸º ç­–ç•¥è¿­ä»£policy- iterationä¸ä»·å€¼è¿­ä»£ value- iteration ç»†èŠ‚åé¢åœ¨äº†è§£ 0x02 å¼ºåŒ–å­¦ä¹ æ¦‚è¿° æœ€ç»å…¸å°±æ˜¯è¿™æ ·çš„å›¾ï¼Œå¼ºåŒ–å­¦ä¹ çš„è¿‡ç¨‹å¯ä»¥çœ‹ä½œæ˜¯å®é™…åŒ–çš„MDPè¿‡ç¨‹ï¼›æˆ‘ä»¬å¯ä»¥çŸ¥é“æˆ‘ä»¬å°†é—®é¢˜åˆ†ä¸º æ™ºèƒ½ä½“agentä¸ç¯å¢ƒenvä¸¤éƒ¨åˆ†ï¼›çŠ¶æ€stateä¸å¥–åŠ±rewardç”±envç»™å‡ºï¼›agentä¼šæ ¹æ®çŠ¶æ€ä¸å¥–åŠ±æ¥å®ç°ä¸åŒçš„åŠ¨ä½œactionï¼ˆåŠ¨ä½œåºåˆ—ä¹Ÿå°±æ˜¯éœ€è¦å­¦ä¹ çš„ç­–ç•¥policyï¼‰ï¼Œå†å¾—åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ä»¥åŠå½“å‰çŠ¶æ€å¾—åˆ°çš„å¥–åŠ± 0x03 å¼ºåŒ–å­¦ä¹ ä¸ç›‘ç£å­¦ä¹  3.1 ç›‘ç£å­¦ä¹  æˆ‘ä»¬é¦–å…ˆå‡è®¾æˆ‘ä»¬æœ‰å¤§é‡è¢«æ ‡æ³¨çš„æ•°æ®ï¼Œå‡è®¾ä¹‹é—´æ»¡è¶³åŒåˆ†å¸ƒï¼Œä¹‹é—´æ˜¯æ²¡æœ‰å…³è”çš„ã€‚åœ¨è¿™ä¸ªåŸºç¡€ä¸Šæˆ‘ä»¬è®­ç»ƒæˆ‘ä»¬çš„æ¨¡å‹ï¼ˆæ¯”å¦‚ä¸€ä¸ªåˆ†ç±»å™¨ï¼‰ï¼Œæˆ‘ä»¬å¯èƒ½é€šè¿‡å°†æ ‡ç­¾ä¿¡æ¯ä¼ é€’ç»™ç¥ç»ç½‘ç»œï¼Œå½“ç¥ç»ç½‘ç»œåšå‡ºé”™è¯¯çš„é¢„æµ‹çš„æ—¶å€™æˆ‘ä»¬ä¼šç»™ä»–ä¸€ä¸ªé”™è¯¯çš„åé¦ˆï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªé”™è¯¯å†™å‡ºä¸€ä¸ª æŸå¤±å‡½æ•° loss- functionï¼Œé€šè¿‡ åå‘ä¼ æ’­ back propagateæ¥è®­ç»ƒ å‡è®¾1:è¾“å‡ºçš„æ•°æ®åº”è¯¥æ˜¯æ²¡æœ‰å…³è”çš„ å‡è®¾2:æˆ‘ä»¬éœ€è¦å‘Šè¯‰å­¦ä¹ æ­£ç¡®çš„æ ‡ç­¾æ˜¯ä»€ä¹ˆï¼Œè¿™æ ·å®ƒå¯ä»¥é€šè¿‡æ­£ç¡®çš„æ ‡ç­¾æ¥ä¿®æ­£è‡ªå·±çš„é¢„æµ‹ 3.2 å¼ºåŒ–å­¦ä¹  åœ¨å¼ºåŒ–å­¦ä¹ ä¸­ï¼Œç›‘ç£å­¦ä¹ çš„ä¸Šè¿°çš„ä¸¤ä¸ªå‡è®¾éƒ½ä¸æ»¡è¶³ æ¯ä¸ªframeä¹‹é—´å…·æœ‰éå¸¸å¼ºçš„è¿ç»­æ€§ï¼ŒåŒæ—¶æ²¡æœ‰iid å¼ºåŒ–å­¦ä¹ ä¸­å¾—åˆ°çš„è®­ç»ƒæ•°æ®æ˜¯ä¸€ä¸ªç©æ¸¸æˆçš„åºåˆ—ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªåºåˆ—æ”¾è¿›ç½‘ç»œã€å¸Œæœ›ç½‘ç»œè¾“å‡ºä¸€äº›åŠ¨ä½œï¼Œåœ¨è¿™ä¸ªé—®é¢˜ä¸­æˆ‘ä»¬å¹¶æ²¡æœ‰æ ‡ç­¾æ¥è¯´æ˜ç°åœ¨è¿™ä¸ªåŠ¨ä½œæ˜¯æ­£ç¡®çš„è¿˜æ˜¯ié”™è¯¯çš„ï¼Œå¿…é¡»ç­‰åˆ°æ¸¸æˆç»“æŸæ‰èƒ½çŸ¥é“ï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬é¢ä¸´ [[å»¶è¿Ÿå¥–åŠ±delayed- reward]] çš„é—®é¢˜ 3.3 åŒºåˆ«æ€»ç»“ ç¬¬ä¸€ç‚¹ï¼Œå¼ºåŒ–å­¦ä¹ è¾“å…¥çš„æ ·æœ¬æ˜¯åºåˆ—æ•°æ®ï¼Œä¸æ˜¯iid ç¬¬äºŒç‚¹ï¼Œå­¦ä¹ å™¨å¹¶æ²¡æœ‰å‘Šè¯‰æˆ‘ä»¬æ¯ä¸€æ­¥æ­£ç¡®çš„åŠ¨ä½œåº”è¯¥æ˜¯ä»€ä¹ˆï¼Œå­¦ä¹ å™¨éœ€è¦è‡ªå·±å»å‘ç°é‚£ç»†å¾®åŠ¨ä½œå¯ä»¥å¸¦æ¥æœ€å¤šçš„å¥–åŠ± ç¬¬ä¸‰ç‚¹ï¼Œæ™ºèƒ½ä½“è·å¾—è‡ªå·±èƒ½åŠ›çš„è¿‡ç¨‹å°±æ˜¯ [[ä¸æ–­è¯•é”™æ¢ç´¢trial-and-error- exploration]]çš„è¿‡ç¨‹ï¼Œ æ¢ç´¢exploration å’Œ åˆ©ç”¨exploitation ç¬¬å››ç‚¹ï¼Œåœ¨å¼ºåŒ–å­¦ä¹ è¿‡ç¨‹ä¸­å¹¶æ²¡æœ‰éå¸¸å¼ºçš„ ç›‘ç£è€…supervisor ï¼Œåªæœ‰ [[å¥–åŠ±ä¿¡å·reward- signal]]ï¼Œå¹¶ä¸”å…·æœ‰ [[å»¶è¿Ÿå¥–åŠ±delayed- reward]] çš„æƒ…å†µ 0x04 åºåˆ—å†³ç­– 4.1 å¥–åŠ± rewardçš„å®šä¹‰ æ˜¯ç¯å¢ƒç»™çš„ä¸€ç§ [[æ ‡é‡åé¦ˆä¿¡å·-scalar-feedback-signal]]ï¼Œè¿™ç§ä¿¡å·æ˜¾ç¤ºæ™ºèƒ½ä½“åœ¨æŸä¸€æ­¥æ‰å»æŸä¸ªç­–ç•¥çš„è¡¨ç°å¦‚ä½• 4.2 åºåˆ—è¿‡ç¨‹æè¿° å¼ºåŒ–å­¦ä¹ ä¸­ä¸€ä¸ªé‡è¦çš„è¯¾é¢˜å°±æ˜¯è¿‘æœŸå¥–åŠ±å’Œè¿œæœŸå¥–åŠ±çš„æƒè¡¡ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•è®©æ™ºèƒ½ä½“å¯ä»¥è·å¾—æ›´å¤šçš„è¿œæœŸå¥–åŠ± åœ¨ä¸ç¯å¢ƒçš„äº¤äº’è¿‡ç¨‹ä¸­ï¼Œ [[æ™ºèƒ½ä½“agent]] ä¼šè·å¾—å¾ˆå¤š [[è§‚æµ‹observation]] ï¼Œé’ˆå¯¹æ¯ä¸ª [[è§‚æµ‹observation]] ï¼Œ [[æ™ºèƒ½ä½“agent]]ä¼šé‡‡å–ä¸€ä¸ª [[åŠ¨ä½œaction]]ï¼Œç„¶åè·å¾— [[å¥–åŠ±reward]]ï¼Œæ‰€ä»¥è¿™æ ·çš„åºåˆ—æ˜¯ Ht=o1,a1,r1,...,ot,at,rtH_t=o_1,a_1,r_1,...,o_t,a_t,r_t Hâ€‹tâ€‹â€‹=oâ€‹1â€‹â€‹,aâ€‹1â€‹â€‹,râ€‹1â€‹â€‹,...,oâ€‹tâ€‹â€‹,aâ€‹tâ€‹â€‹,râ€‹tâ€‹â€‹ [[æ™ºèƒ½ä½“agent]]åœ¨é‡‡å–å½“å‰åŠ¨ä½œçš„æ—¶å€™ä¼šä¾èµ–ä¹‹å‰å¾—åˆ°çš„å†å²ï¼Œå› æ­¤å¯ä»¥å°†æ•´ä¸ªå­¦ä¹ çš„[[çŠ¶æ€state]]çœ‹ä½œæ˜¯è¿™ä¸ªå†å²çš„å‡½æ•° st=f(Ht)s_t=f(H_t) sâ€‹tâ€‹â€‹=f(Hâ€‹tâ€‹â€‹) 4.3 è§‚æµ‹ observation ä¸ çŠ¶æ€stateåŒºåˆ« 4.4 åŠ¨ä½œaction åˆ†ä¸ºç¦»æ•£ä¸è¿ç»­ 4.5 æ™ºèƒ½ä½“åˆ†ç±» ç¬¬ä¸€ç§åˆ†ç±»ï¼š åŸºäºpolicyåˆ’åˆ†ï¼›éšæœºä¸ç¡®å®š åŸºäºvalue- functionï¼›valueæˆ–Qå‡½æ•° æ¨¡å‹modelï¼›æ¨¡å‹å†³å®šä¸‹ä¸€æ­¥çš„çŠ¶æ€ï¼ŒçŠ¶æ€å–å†³äºå½“å‰çš„çŠ¶æ€ä»¥åŠå½“å‰é‡‡å–çš„åŠ¨ä½œï¼Œç”± [[çŠ¶æ€è½¬ç§»æ¦‚ç‡]]å’Œ [[å¥–åŠ±å‡½æ•°]]ç»„æˆ ç¬¬äºŒç§åˆ†ç±»ï¼š åŸºäºä»·å€¼çš„æ™ºèƒ½ä½“ åŸºäºç­–ç•¥çš„æ™ºèƒ½ä½“ æ¼”å‘˜è¯„è®ºå‘˜æ™ºèƒ½ä½“","categories":[{"name":"RL","slug":"RL","permalink":"https://blog.tjdata.site/categories/RL/"}],"tags":[{"name":"è˜‘è‡ä¹¦","slug":"è˜‘è‡ä¹¦","permalink":"https://blog.tjdata.site/tags/%E8%98%91%E8%8F%87%E4%B9%A6/"}]},{"title":"åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ 03_ç»å…¸å·ç§¯ç¥ç»ç½‘ç»œå®ç°","slug":"åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ 03_ç»å…¸å·ç§¯ç¥ç»ç½‘ç»œå®ç°","date":"2022-09-23T08:12:59.000Z","updated":"2023-05-13T13:51:52.377Z","comments":true,"path":"posts/d43999e4.html","link":"","permalink":"https://blog.tjdata.site/posts/d43999e4.html","excerpt":"åœ¨åˆç­‰å·ç§¯ç¥ç»ç½‘ç»œä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä»å¹³ç§»ä¸å˜å’Œç¼©æ”¾ä¸å˜æ€§è´¨è€Œå¾—åˆ°çš„å·ç§¯æ€§è´¨çš„åŸºç¡€ä¸Šï¼Œåœ¨ä¸Šä¸ªä¸–çºªè¯ç”Ÿçš„LeNetæˆåŠŸå®ç°ä¸ä¹‹å‰ä¸åŒçš„è·¯å¾„ï¼Œåœ¨GPUè¯ç”Ÿä¹‹åï¼Œæ–°çš„ç½‘ç»œAlexNetã€VGGã€NiNã€GoogLeNetã€Residual Netã€DenseNeté€æ¸å‘å±•ã€‚å·ç§¯ç¥ç»ç½‘ç»œä»å˜æ·±å˜å¤šï¼Œé€æ¸åˆ°å˜æˆå—ä»¥åŠä¸€äº›trickçš„å¢åŠ ã€‚","text":"åœ¨åˆç­‰å·ç§¯ç¥ç»ç½‘ç»œä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºä»å¹³ç§»ä¸å˜å’Œç¼©æ”¾ä¸å˜æ€§è´¨è€Œå¾—åˆ°çš„å·ç§¯æ€§è´¨çš„åŸºç¡€ä¸Šï¼Œåœ¨ä¸Šä¸ªä¸–çºªè¯ç”Ÿçš„LeNetæˆåŠŸå®ç°ä¸ä¹‹å‰ä¸åŒçš„è·¯å¾„ï¼Œåœ¨GPUè¯ç”Ÿä¹‹åï¼Œæ–°çš„ç½‘ç»œAlexNetã€VGGã€NiNã€GoogLeNetã€Residual Netã€DenseNeté€æ¸å‘å±•ã€‚å·ç§¯ç¥ç»ç½‘ç»œä»å˜æ·±å˜å¤šï¼Œé€æ¸åˆ°å˜æˆå—ä»¥åŠä¸€äº›trickçš„å¢åŠ ã€‚ 0x01 introduction 1.1 PyTorch ä¹‹å‰åœ¨è®²åº§ä¸­å¬åˆ°æ·±åº¦å­¦ä¹ æ¡†æ¶æ˜¯æ·±åº¦å­¦ä¹ æ—¶ä»£çš„æ“ä½œç³»ç»Ÿï¼Œæ€ä¹ˆè¯´è¿™ä¸ªæ¯”å–»æœ‰ç‚¹ç²—æ—·ä½†æ˜¯åˆä¸å¤±æ­£ç¡®æ€§ã€‚ä¸ªäººæ„Ÿè§‰åœ¨è®¡ç®—æœºæ—¶ä»£äººä»¬åä½œçš„èƒ½åŠ›è¾¾åˆ°ç©ºå‰çš„åœ°æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥ä¸Šåƒäººå…±åŒå¼€å‘appï¼Œè¿™ç§å’Œå»ºé€ æˆ¿å±‹ä¼¼çš„è¿‡ç¨‹å……åˆ†ä½“ç°äº†è½¯ä»¶å·¥ç¨‹çš„é­…åŠ›ã€‚ä¸åœŸå»ºä¸­è§„åˆ’ã€è®¾è®¡ã€å»ºé€ ã€ éªŒæ”¶ç­‰æµç¨‹ç›¸ä¼¼ï¼Œä¸ªäººéªŒè¯è®¡ç®—æœºæˆå°±çš„ç»“æœæ˜¯å»ºç«‹åœ¨ä¸€å±‚ä¸€å±‚çš„æŠ½è±¡çš„åŸºç¡€ä¸Šçš„ã€‚ ä»ç¡¬ä»¶çš„è§’åº¦ï¼Œç°åœ¨å¹¶ä¸æ˜¯æ‰€æœ‰äººéƒ½éœ€è¦å…³å¿ƒèŠ¯ç‰‡ä¸Šçš„ä¸‰æç®¡ï¼Œä¹Ÿä¸éœ€è¦å…³å¿ƒåŠ æ³•å™¨çš„æ„æˆã€‚ä»ä¹‹å‰æ‰‹å·¥ç„Šæœºï¼Œåˆ°èŠ¯ç‰‡çš„æ¨¡å—åŒ–è®¾è®¡ï¼Œåˆ°æ›´é«˜çº§çš„æŠ½è±¡å·¥è‰ºå’Œå»ºé€ å·¥è‰ºçš„è¯ç”Ÿï¼Œäººä»¬è®¾è®¡æ›´é«˜æ°´å¹³çš„èŠ¯ç‰‡äº§ç”Ÿäº†å¯èƒ½ã€‚æ­£æ˜¯æœ‰è¿™äº›æŠ½è±¡æˆ‘ä»¬æ‰èƒ½å¾€å‰èµ°ã€‚ ä»æ·±åº¦å­¦ä¹ æ¡†æ¶çš„è§’åº¦ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä»é›¶å®ç°æŸä¸ªç½‘ç»œåœ¨å­¦ä¹ è¿‡ç¨‹æ˜¯æœ‰æ„æ€çš„ï¼Œä½†æ˜¯ä»æ±‡ç¼–è¯­è¨€åŒ…è£…æˆé«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œå†åŒ…è£…æˆä¸€ä¸ªä¸€ä¸ªpackageè€Œå½¢æˆæ¡†æ¶ï¼Œåœ¨å‰äººæŠ½è±¡å¥½çš„åŸºç¡€ä¸Šï¼Œåœ¨æ·±åº¦å­¦ä¹ æ¡†æ¶æ­å»ºçš„åŸºç¡€ä¸Šï¼Œåœ¨ä½¿ç”¨è€…çš„è§’åº¦æ›´åº”è¯¥é‡è§†å¦‚ä½•é«˜æ•ˆçš„ä½¿ç”¨ã€‚ åŸºäºtorchæ„å»ºçš„PyTorchä¾¿æ˜¯æŠ½è±¡å¥½æ·±åº¦å­¦ä¹ çš„æ¡†æ¶ã€‚ è¿™é‡Œå¹¶æ²¡æœ‰å‚ç…§ PyTorchå®˜ç½‘ è€Œæ˜¯æ‰¾åˆ°ä¸€ä¸ªå¼€æºçš„ PyTorchä¸­æ–‡æ‰‹å†Œ æ¥äº†è§£è¿™ä¸ªæ·±åº¦å­¦ä¹ æ¡†æ¶ 123456789Torch is not going anywhere. PyTorch and Torch use the same C libraries that contain all the performance: TH, THC, THNN, THCUNN and they will continue to be shared.We still and will have continued engineering on Torch itself, and we have no immediate plan to remove that.PyTorch is an open source machine learning library for Python, based on Torch, used for applications such as natural language processing. It is primarily developed by Facebook&#x27;s artificial-intelligence research group, and Uber&#x27;s &quot;Pyro&quot; software for probabilistic programming is built on it.PyTorch is a Python package that provides two high-level features: Tensor computation (like NumPy) with strong GPU acceleration Deep neural networks built on a tape-based autograd systemYou can reuse your favorite Python packages such as NumPy, SciPy and Cython to extend PyTorch when needed. 1.2 GPU è¿™é‡Œå‚ç…§wikiæ‰€ç»™çš„è§£é‡Šï¼šå›¾å½¢å¤„ç†å™¨GPUè§£é‡Š å›¾å½¢å¤„ç†å™¨ï¼ˆè‹±è¯­ï¼šGraphics Processing Unitï¼Œç¼©å†™ï¼šGPUï¼›åˆç§°æ˜¾ç¤ºæ ¸å¿ƒã€æ˜¾å¡ã€è§†è§‰å¤„ç†å™¨ã€æ˜¾ç¤ºèŠ¯ç‰‡æˆ–ç»˜å›¾èŠ¯ç‰‡ï¼‰æ˜¯ä¸€ç§ä¸“é—¨åœ¨ä¸ªäººç”µè„‘ã€å·¥ä½œç«™ã€æ¸¸æˆæœºå’Œä¸€äº›ç§»åŠ¨è®¾å¤‡ï¼ˆå¦‚å¹³æ¿ç”µè„‘ã€æ™ºèƒ½æ‰‹æœºç­‰ï¼‰ä¸Šæ‰§è¡Œç»˜å›¾è¿ç®—å·¥ä½œçš„å¾®å¤„ç†å™¨ã€‚ GPUä¸åŒäºä¼ ç»Ÿçš„CPUï¼Œå¦‚Intel i5æˆ–i7å¤„ç†å™¨ï¼Œå…¶å†…æ ¸æ•°é‡è¾ƒå°‘ï¼Œä¸“ä¸ºé€šç”¨è®¡ç®—è€Œè®¾è®¡ã€‚ç›¸åï¼ŒGPUæ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å¤„ç†å™¨ï¼Œå…·æœ‰æ•°ç™¾æˆ–æ•°åƒä¸ªå†…æ ¸ï¼Œç»è¿‡ä¼˜åŒ–ï¼Œå¯å¹¶è¡Œè¿è¡Œå¤§é‡è®¡ç®—ã€‚è™½ç„¶GPUåœ¨æ¸¸æˆä¸­ä»¥3Dæ¸²æŸ“è€Œé—»åï¼Œä½†å®ƒä»¬å¯¹è¿è¡Œåˆ†æã€æ·±åº¦å­¦ä¹ å’Œæœºå™¨å­¦ä¹ ç®—æ³•å°¤å…¶æœ‰ç”¨ã€‚GPUå…è®¸æŸäº›è®¡ç®—æ¯”ä¼ ç»ŸCPUä¸Šè¿è¡Œç›¸åŒçš„è®¡ç®—é€Ÿåº¦å¿«10å€è‡³100å€ã€‚ 1.3 æ•°æ®é›†è¾“å…¥å’Œç»“æœè®¡ç®— 12345678910111213141516171819202122# è¯»å–fashionæ•°æ®é›†def load_fashion_mnist(batchsize,resize=None): # resizeç›¸å½“äºåŸºæœ¬çš„å¡«å……æ¨¡å— import torch from torch.utils import data import torchvision from torchvision import transforms if resize: trans=[transforms.ToTensor()] trans.insert(0, transforms.Resize(resize)) trans = transforms.Compose(trans) else: trans=transforms.ToTensor() train_mnist=torchvision.datasets.FashionMNIST(root=&#x27;../data/FashionMNIST&#x27;,train=True,transform=trans,download=True) test_mnist=torchvision.datasets.FashionMNIST(root=&#x27;../data/FashionMNIST&#x27;,train=False,transform=trans,download=True) train_iter=data.DataLoader(train_mnist,batch_size=batchsize,shuffle=True,num_workers=4) test_iter=data.DataLoader(test_mnist,batch_size=batchsize,shuffle=True,num_workers=4) return train_iter,test_iter batchsize=256train_iter,test_iter=load_fashion_mnist(batchsize,224) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980import torchdef accuracy(y_hat,y): # æ•°æ­£ç¡®çš„æ•°é‡ if len(y_hat.shape)&gt;1 and y_hat.shape[1]&gt;1: y_hat=y_hat.argmax(axis=1) cmp=y_hat.type(y.dtype)==y return float(cmp.type(y.dtype).sum())def gpu_acc(model,data_iter,device=None): acc=0 num=0 if isinstance(net,nn.Module): net.eval() if not device: device=next(iter(net.parameters())).device with torch.no_grad(): for X,y in data_iter: if isinstance(X,list): # è¿™é‡Œçš„ifä»…ä»…æ˜¯ä¸ºä¹‹åbertå¾®è°ƒæ‰€éœ€çš„ X=[x.to(device) for x in X] else: X=X.to(device) y=y.to(device) acc+=accuracy(net(X),y) num+=y.numel() return acc/numdef trainer(net,train_iter,test_iter,num_epoches,lr,device): &#x27;&#x27;&#x27;ç”¨GPUè®­ç»ƒæ¨¡å‹&#x27;&#x27;&#x27; #åˆå§‹åŒ–å‚æ•° def init_weights(m): if type(m)==nn.Linear or type(m)==nn.Conv2d: nn.init.xavier_uniform_(m.weight) #nn.init.normal_(m.weight,std=0.01) net.apply(init_weights) print(&#x27;training on&#x27;,device) # print(torch.cuda.get_device_name(0)) net.to(device) optimizer=torch.optim.SGD(net.parameters(),lr=lr) loss=nn.CrossEntropyLoss() train_acc=[] test_acc=[] loss_epoches=[] for epoch in range(num_epoches): temp_train_acc=0 loss_epoch=0 num=0 net.train() for i,(X,y) in enumerate(train_iter): optimizer.zero_grad() X,y=X.to(device),y.to(device) with torch.no_grad(): temp_train_acc+=accuracy(net(X),y) y_hat=net(X) l=loss(y_hat,y) l.backward() optimizer.step() loss_epoch+=l*X.shape[0] num+=y.numel() train_acc.append(float(temp_train_acc/num)) test_acc.append(gpu_acc(net,test_iter)) loss_epoches.append(float(loss_epoch)/num) print(&#x27;æœ¬è½®&#123;&#125;è®­ç»ƒçš„ç»“æœï¼Œtestâ€”acc:&#123;&#125;,train-acc:&#123;&#125;,train-loss:&#123;&#125;&#x27;.format(str(epoch+1),str(test_acc[-1]),str(train_acc[-1]),str(loss_epoches[-1]))) import matplotlib.pyplot as plt plt.plot(list(range(1,1+num_epoches)),test_acc,label=&#x27;test_acc&#x27;) plt.plot(list(range(1,1+num_epoches)),train_acc,label=&#x27;train_acc&#x27;) plt.plot(list(range(1,1+num_epoches)),loss_epoches,label=&#x27;loss&#x27;) plt.legend() plt.show() lr,num_epoches=0.2,20device = torch.device(&quot;cuda:0&quot; if torch.cuda.is_available() else &quot;cpu&quot;)trainer(net,train_iter,test_iter,num_epoches,lr,device) 0x02 ç»å…¸çš„CNN 2.1 AlexNet ä¹‹å‰çš„é˜…è¯»ç¬”è®°paper02-2012-imagenet-classification-with-deep-convolutional-neural-networks ä¸»è¦çš„è´¡çŒ®ï¼Œä»¥åŠåé¢æ²¡æœ‰ç”¨çš„åœ°æ–¹ å¼•å…¥äº†ReLuæ¿€æ´»å‡½æ•°ï¼Œè®©è®­ç»ƒçš„æ›´å¿« åˆ©ç”¨åŒGPUè®­ç»ƒï¼Œæ³¨æ„è¿™é‡Œå¯¹ç½‘ç»œç»“æ„è¿›è¡Œåˆ’åˆ†ï¼ˆå¯¹ç½‘ç»œä¸åŒå±‚è¿›è¡Œåˆ‡å‰²è€Œä¸æ˜¯åˆ‡å‰²æˆä¸¤ç§å°çš„éƒ¨åˆ†ï¼‰ï¼Œå·¥ç¨‹èƒ½åŠ›å¤ªå¼ºäº† ï¼ˆæ²¡æœ‰ç”¨ï¼‰ä¸€ç§local response normalizationï¼Œä½†æ˜¯ç¡®å®éœ€è¦åœ¨è¿™ä¸ªæ–¹é¢åštrickï¼Œåœ¨åé¢çš„resNetä¸­å¯ä»¥çœ‹åˆ° ï¼ˆæ²¡æœ‰ç”¨ï¼‰æ–°çš„overlapping poolingï¼Œä¸€ç§æ–°çš„æ± åŒ–æ–¹æ³•ï¼Œè¿™ä¸ªä¸åŒGPUæœ‰å…³ ï¼ˆæœ‰ç”¨ï¼Œä½†æ˜¯è§£é‡Šä¸å¯¹ï¼‰å°†dropoutå¼•å…¥è®­ç»ƒè¿‡ç¨‹ï¼Œå°è¯•è§£é‡Šä¸ºensemble learningï¼Œä½†ç°åœ¨æ›´åå‘äºregularization æ•°æ®å¢å¼ºï¼Œæ‰æœ‰éšæœºæŠ½æ ·æ•°æ®çš„æ–¹å¼ï¼Œå°†256æå–å¾—åˆ°224æ¥æ‰©å……æ•°æ®é›† 123456789101112131415161718192021222324252627import torch from torch import nn#AlexNetnet = nn.Sequential( # è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª11*11çš„æ›´å¤§çª—å£æ¥æ•æ‰å¯¹è±¡ã€‚ # åŒæ—¶ï¼Œæ­¥å¹…ä¸º4ï¼Œä»¥å‡å°‘è¾“å‡ºçš„é«˜åº¦å’Œå®½åº¦ã€‚ # å¦å¤–ï¼Œè¾“å‡ºé€šé“çš„æ•°ç›®è¿œå¤§äºLeNet nn.Conv2d(1, 96, kernel_size=11, stride=4, padding=1), nn.ReLU(), nn.MaxPool2d(kernel_size=3, stride=2), # å‡å°å·ç§¯çª—å£ï¼Œä½¿ç”¨å¡«å……ä¸º2æ¥ä½¿å¾—è¾“å…¥ä¸è¾“å‡ºçš„é«˜å’Œå®½ä¸€è‡´ï¼Œä¸”å¢å¤§è¾“å‡ºé€šé“æ•° nn.Conv2d(96, 256, kernel_size=5, padding=2), nn.ReLU(), nn.MaxPool2d(kernel_size=3, stride=2), # ä½¿ç”¨ä¸‰ä¸ªè¿ç»­çš„å·ç§¯å±‚å’Œè¾ƒå°çš„å·ç§¯çª—å£ã€‚ # é™¤äº†æœ€åçš„å·ç§¯å±‚ï¼Œè¾“å‡ºé€šé“çš„æ•°é‡è¿›ä¸€æ­¥å¢åŠ ã€‚ # åœ¨å‰ä¸¤ä¸ªå·ç§¯å±‚ä¹‹åï¼Œæ±‡èšå±‚ä¸ç”¨äºå‡å°‘è¾“å…¥çš„é«˜åº¦å’Œå®½åº¦ nn.Conv2d(256, 384, kernel_size=3, padding=1), nn.ReLU(), nn.Conv2d(384, 384, kernel_size=3, padding=1), nn.ReLU(), nn.Conv2d(384, 256, kernel_size=3, padding=1), nn.ReLU(), nn.MaxPool2d(kernel_size=3, stride=2), nn.Flatten(), # è¿™é‡Œï¼Œå…¨è¿æ¥å±‚çš„è¾“å‡ºæ•°é‡æ˜¯LeNetä¸­çš„å¥½å‡ å€ã€‚ä½¿ç”¨dropoutå±‚æ¥å‡è½»è¿‡æ‹Ÿåˆ nn.Linear(6400, 4096), nn.ReLU(), nn.Dropout(p=0.5), nn.Linear(4096, 4096), nn.ReLU(), nn.Dropout(p=0.5), # æœ€åæ˜¯è¾“å‡ºå±‚ã€‚ç”±äºè¿™é‡Œä½¿ç”¨Fashion-MNISTï¼Œæ‰€ä»¥ç”¨ç±»åˆ«æ•°ä¸º10ï¼Œè€Œéè®ºæ–‡ä¸­çš„1000 nn.Linear(4096, 10)) 2.2 VGG VERY DEEP CONVOLUTIONAL NETWORKS FOR LARGE-SCALE IMAGE RECOGNITION AlexNetè¯æ˜ #å·ç§¯ç¥ç»ç½‘ç»œ CNN convolutional- neural-network çš„æ·±åº¦æ˜¯æœ‰æ•ˆçš„ï¼Œä½†å¹¶æ²¡æœ‰ç»™å‡ºæ¨¡ç‰ˆæ¥è¿›è¡Œåˆ›å»ºç½‘ç»œã€‚è¿™é‡Œä¸€ä¸ªç›´è§‰çš„æƒ³æ³• ä¸èŠ¯ç‰‡è®¾è®¡ä¸­å·¥ç¨‹å¸ˆä»æ”¾ç½®æ™¶ä½“ç®¡åˆ°é€»è¾‘å…ƒä»¶å†åˆ°é€»è¾‘å—çš„è¿‡ç¨‹ç±»ä¼¼ï¼Œç¥ç»ç½‘ç»œæ¶æ„è®¾è®¡ä¹Ÿé€æ¸å˜æˆæ›´åŠ æŠ½è±¡ï¼Œç ”ç©¶äººå‘˜å¼€å§‹ä»å•ä¸ªç¥ç»å…ƒçš„è§’åº¦æ€è€ƒé—®é¢˜ï¼Œå‘å±•åˆ°æ•´ä¸ªå±‚ï¼Œè½¬å‘å¯ä»¥å¤ç”¨å±‚çš„å—çš„æ¨¡å¼ #memo ä½¿ç”¨ #å¾ªç¯loop å’Œ å­å‡½æ•° æ¥å®ç° #VGG ä¸»è¦åšå‡ºçš„è´¡çŒ® åˆ©ç”¨å¤ç”¨çš„æ€è·¯æ„å»ºå·ç§¯å— ä½œè€…å°è¯•å„ç§æ¶æ„ï¼Œæœ€ç»ˆå‘ç°æ·±ä¸”çª„çš„ç½‘ç»œæ•ˆæœæ˜¯è¾ƒå¥½çš„ 12345678910111213141516171819202122232425262728293031import torch from torch import nndef vgg_block(num_convs, in_channels, out_channels): layers = [] for _ in range(num_convs): layers.append(nn.Conv2d(in_channels, out_channels, kernel_size=3, padding=1)) layers.append(nn.ReLU()) in_channels = out_channels layers.append(nn.MaxPool2d(kernel_size=2,stride=2)) return nn.Sequential(*layers)def vgg(conv_arch): conv_blks = [] in_channels = 1 # å·ç§¯å±‚éƒ¨åˆ† for (num_convs, out_channels) in conv_arch: conv_blks.append(vgg_block(num_convs, in_channels, out_channels)) in_channels = out_channels return nn.Sequential( *conv_blks, nn.Flatten(), # å…¨è¿æ¥å±‚éƒ¨åˆ† nn.Linear(out_channels * 7 * 7, 4096), nn.ReLU(), nn.Dropout(0.5), nn.Linear(4096, 4096), nn.ReLU(), nn.Dropout(0.5), nn.Linear(4096, 10))conv_arch = ((1, 64), (1, 128), (2, 256), (2, 512), (2, 512))ratio = 4small_conv_arch = [(pair[0], pair[1] // ratio) for pair in conv_arch]net = vgg(small_conv_arch) 2.3 NiN Network in network AlexNetæå‡ºä½¿ç”¨æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œï¼ŒVGGç»™å‡ºå¦‚ä½•å¤ç”¨çš„æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œï¼ŒVGGåˆ™æ˜¯åœ¨è¿™ä¸ªåŸºç¡€ä¸Šåˆ©ç”¨MLPå¯¹å¤šé€šé“è¾“å…¥å’Œå¤šé€šé“è¾“å‡ºè¿›è¡Œæ“ä½œï¼Œå–ä»£ä¹‹å‰ç®€å•çš„åŠ æƒæ–¹å¼ï¼ŒNiNåˆ©ç”¨è¿™æ¥å¯¹ç½‘ç»œçš„æ‰©å¤§å’Œæ·±åº¦ã€‚ 2.4 GoogLeNet Going deeper with convolutions GoogLeNetå€Ÿç”¨NiNçš„æ€æƒ³ï¼Œåœ¨å®ƒçš„åŸºç¡€ä¸Šè®¾ç½®æ¥inceptionå—ï¼Œç”¨æ¥å®ç°å¤šä¸ªå·ç§¯æ ¸å¯¹å›¾å½¢ç‰¹å¾çš„æå– 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556# ç½‘ç»œ3.5 GoogLeNetimport torchfrom torch import nnfrom torch.nn import functional as Fclass Inception(nn.Module): # c1--c4æ˜¯æ¯æ¡è·¯å¾„çš„è¾“å‡ºé€šé“æ•° def __init__(self, in_channels, c1, c2, c3, c4, **kwargs): super(Inception, self).__init__(**kwargs) # çº¿è·¯1ï¼Œå•1x1å·ç§¯å±‚ self.p1_1 = nn.Conv2d(in_channels, c1, kernel_size=1) # çº¿è·¯2ï¼Œ1x1å·ç§¯å±‚åæ¥3x3å·ç§¯å±‚ self.p2_1 = nn.Conv2d(in_channels, c2[0], kernel_size=1) self.p2_2 = nn.Conv2d(c2[0], c2[1], kernel_size=3, padding=1) # çº¿è·¯3ï¼Œ1x1å·ç§¯å±‚åæ¥5x5å·ç§¯å±‚ self.p3_1 = nn.Conv2d(in_channels, c3[0], kernel_size=1) self.p3_2 = nn.Conv2d(c3[0], c3[1], kernel_size=5, padding=2) # çº¿è·¯4ï¼Œ3x3æœ€å¤§æ±‡èšå±‚åæ¥1x1å·ç§¯å±‚ self.p4_1 = nn.MaxPool2d(kernel_size=3, stride=1, padding=1) self.p4_2 = nn.Conv2d(in_channels, c4, kernel_size=1) def forward(self, x): p1 = F.relu(self.p1_1(x)) p2 = F.relu(self.p2_2(F.relu(self.p2_1(x)))) p3 = F.relu(self.p3_2(F.relu(self.p3_1(x)))) p4 = F.relu(self.p4_2(self.p4_1(x))) # åœ¨é€šé“ç»´åº¦ä¸Šè¿ç»“è¾“å‡º return torch.cat((p1, p2, p3, p4), dim=1)b1 = nn.Sequential(nn.Conv2d(1, 64, kernel_size=7, stride=2, padding=3), nn.ReLU(), nn.MaxPool2d(kernel_size=3, stride=2, padding=1))b2 = nn.Sequential(nn.Conv2d(64, 64, kernel_size=1), nn.ReLU(), nn.Conv2d(64, 192, kernel_size=3, padding=1), nn.ReLU(), nn.MaxPool2d(kernel_size=3, stride=2, padding=1))b3 = nn.Sequential(Inception(192, 64, (96, 128), (16, 32), 32), Inception(256, 128, (128, 192), (32, 96), 64), nn.MaxPool2d(kernel_size=3, stride=2, padding=1))b4 = nn.Sequential(Inception(480, 192, (96, 208), (16, 48), 64), Inception(512, 160, (112, 224), (24, 64), 64), Inception(512, 128, (128, 256), (24, 64), 64), Inception(512, 112, (144, 288), (32, 64), 64), Inception(528, 256, (160, 320), (32, 128), 128), nn.MaxPool2d(kernel_size=3, stride=2, padding=1))b5 = nn.Sequential(Inception(832, 256, (160, 320), (32, 128), 128), Inception(832, 384, (192, 384), (48, 128), 128), nn.AdaptiveAvgPool2d((1,1)), nn.Flatten())net = nn.Sequential(b1, b2, b3, b4, b5, nn.Linear(1024, 10)) 2.5 ResNet Deep Residual Learning for Image Recognition åœ¨ä¹‹å‰ä»‹ç»æ›´æ·±ã€æ›´å¹¿çš„åŸºç¡€ä¸Šï¼Œresnetæ›´å¤šçš„æ˜¯è§£é‡Šå¦‚ä½•æé«˜ç¥ç»ç½‘ç»œçš„æ€§èƒ½ éƒ¨åˆ†çš„æ•°å­¦åŸºç¡€ï¼Œä»å­¦ä¹ ç†è®ºçš„è§’åº¦å‡ºå‘ï¼Œå¦‚æœæ¨¡å‹çš„å¤æ‚ç¨‹åº¦é€æ¸å¢åŠ ï¼Œè¿™æ ·å¯»æ‰¾ä¹‹å‰çš„å‡½æ•°é›†åˆçš„èŒƒå›´æ˜¯æ¯”è¾ƒå¤§ï¼Œè¿™æ ·å¯»æ‰¾åˆ°ä¹‹åçš„ç»“æœæ˜¯éå¸¸å›°éš¾çš„ï¼Œå› æ­¤å¯ä»¥å°è¯•å°†æ’ç­‰æ˜ å°„è½¬æ¢æˆä¸ºåŒ…å«æ•°é‡æœ¬èº«å’Œæ®‹å·®ä¹‹é—´çš„å…³ç³» å€Ÿé‰´GBDTä¸­æ¢¯åº¦æå‡çš„æ€æƒ³ï¼Œæ®‹å·®é—®é¢˜åœ¨ç°å®ä¸­å¾€å¾€æ›´åŠ å®¹æ˜“ä¼˜åŒ–ï¼ŒåŒæ—¶åœ¨æ¨¡å‹ä¸ºç†æƒ³å‚æ•°æ›´å®¹æ˜“æ•æ‰æ’ç­‰æ˜ å°„çš„ç»†å¾®æ³¢åŠ¨ï¼Œï¼›åœ¨å®é™…è®­ç»ƒä¸­ï¼Œæ®‹å·®å—ä¸­è¾“å…¥å¯ä»¥é€šè¿‡è·¨å±‚æ•°æ®çº¿è·¯æ›´å¿«çš„å‘å‰ä¼ æ’­ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950import torchfrom torch import nnfrom torch.nn import functional as Ffrom d2l import torch as d2lclass Residual(nn.Module): #@save def __init__(self, input_channels, num_channels, use_1x1conv=False, strides=1): super().__init__() self.conv1 = nn.Conv2d(input_channels, num_channels, kernel_size=3, padding=1, stride=strides) self.conv2 = nn.Conv2d(num_channels, num_channels, kernel_size=3, padding=1) if use_1x1conv: self.conv3 = nn.Conv2d(input_channels, num_channels, kernel_size=1, stride=strides) else: self.conv3 = None self.bn1 = nn.BatchNorm2d(num_channels) self.bn2 = nn.BatchNorm2d(num_channels) def forward(self, X): Y = F.relu(self.bn1(self.conv1(X))) Y = self.bn2(self.conv2(Y)) if self.conv3: X = self.conv3(X) Y += X return F.relu(Y)b1 = nn.Sequential(nn.Conv2d(1, 64, kernel_size=7, stride=2, padding=3), nn.BatchNorm2d(64), nn.ReLU(), nn.MaxPool2d(kernel_size=3, stride=2, padding=1))def resnet_block(input_channels, num_channels, num_residuals, first_block=False): blk = [] for i in range(num_residuals): if i == 0 and not first_block: blk.append(Residual(input_channels, num_channels, use_1x1conv=True, strides=2)) else: blk.append(Residual(num_channels, num_channels)) return blkb2 = nn.Sequential(*resnet_block(64, 64, 2, first_block=True))b3 = nn.Sequential(*resnet_block(64, 128, 2))b4 = nn.Sequential(*resnet_block(128, 256, 2))b5 = nn.Sequential(*resnet_block(256, 512, 2))net = nn.Sequential(b1, b2, b3, b4, b5, nn.AdaptiveAvgPool2d((1,1)), nn.Flatten(), nn.Linear(512, 10)) 2.6 DenseNet Densely Connected Convolutional Networks ï½è¿˜æ²¡çœ‹ä¸é‡è¦æ 0x03 Result 0x04 Discussion å·ç§¯ç¥ç»ç½‘ç»œæå–ç‰¹å¾çš„åŸºæœ¬åœ¨äºç‰¹å¾çš„å¹³ç§»ä¸å˜å’Œç¼©æ”¾ä¸å˜ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šåˆ©ç”¨äº’ç›¸å…³æ“ä½œï¼ˆé”™è¯¯çš„è¢«ç§°ä¸ºå·ç§¯ï¼‰åœ¨æå–ç‰¹å¾ã€‚åŒæ—¶åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å›´ç»•äº†å¦‚ä½•æ„å»ºæ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œï¼Œä¸»æµçš„blakcboneç»™å‡ºè‡ªå·±è‡ªå·±çš„å‘å±•å†å²ï¼š lenetæœ€æ—©ç»™å‡ºå·ç§¯ç¥ç»ç½‘ç»œçš„é›å½¢ alexnetä»è®­ç»ƒç¡¬ä»¶ã€è®­ç»ƒç½‘ç»œã€è®­ç»ƒæ•°æ®ã€æ•°æ®é¢„å¤„ç†ã€è®­ç»ƒè¿‡ç¨‹å¤šä¸ªæ–¹é¢ç»™å‡ºäº†è‡ªå·±çš„trickï¼Œä¸ºåé¢æ‰“ä¸‹åŸºç¡€ vggå›´ç»•å¦‚ä½•æ„å»ºæ›´æ·±çš„ç½‘ç»œï¼Œå¼•å…¥å¤ç”¨ ninæå‡ºä¸€ä¸ªtrickæ¥æ„å»ºæ›´å¹¿çš„ç½‘ç»œ Googlenetåœ¨ninçš„åŸºç¡€ä¸Šï¼Œå—å¯å‘é‡‡ç”¨å¤šä¸ªå·ç§¯æ ¸æå–ç‰¹å¾ åœ¨å‰äººæ„å»ºå¥½å®Œæ•´çš„ç½‘ç»œçš„åŸºç¡€ä¸Šï¼Œresnetç»™å‡ºå¦‚ä½•ä¿æŒç½‘ç»œç¨³å®šæ€§çš„æ–¹æ³• densenetè¿˜æ²¡æœ‰äº†è§£ è¿™ä¸ªè¿‡ç¨‹éå¸¸çš„æœ‰æ„æ€ï¼Œå¯ä»¥çœ‹åˆ°åˆ«äººæ˜¯å¦‚ä½•å‰è¿›çš„ã€‚è¿™äº›éƒ½å½’åŠŸææ²è€å¸ˆçš„æ€»ç»“ï¼","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"D2L","slug":"D2L","permalink":"https://blog.tjdata.site/tags/D2L/"}]},{"title":"åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ 02_åˆç­‰å·ç§¯ç¥ç»LeNetå®ç°","slug":"åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ 02_åˆç­‰å·ç§¯ç¥ç»LeNetå®ç°","date":"2022-09-16T14:41:17.000Z","updated":"2023-05-13T13:51:49.580Z","comments":true,"path":"posts/c3baf47e.html","link":"","permalink":"https://blog.tjdata.site/posts/c3baf47e.html","excerpt":"ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ä»‹ç»ä¸€ä¸ªåŸºæœ¬çš„æœºå™¨å­¦ä¹ æ¨¡å‹çº¿æ€§å›å½’å®ç°çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå°†å…¶æ­¥éª¤åˆ†ä¸ºå…«ä¸ªéƒ¨åˆ†ã€‚ä¹‹åD2Lä¸­ä»‹ç»äº†soft Maxã€MLPç­‰ç®€å•çš„æ¨¡å‹ã€‚è¿™é‡Œè¿ˆå‘æ·±åº¦å­¦ä¹ ï¼Œåˆ©ç”¨ç®€å•çš„å·ç§¯ç¥ç»ç½‘ç»œæ¥ä»‹ç»æ·±åº¦å­¦ä¹ APIçš„ä½¿ç”¨è¿‡ç¨‹ï¼Œä»é›¶å¼€å§‹æ­å»ºæ¨¡å‹ï¼Œå°†å…¶åˆ†ä¸ºæ•°æ®é›†é¢„å¤„ç†ã€æ„å»ºæ¨¡å‹å’Œè®­ç»ƒåŠè¯„ä¼°ä¸‰ä¸ªæ­¥éª¤ã€‚","text":"ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ä»‹ç»ä¸€ä¸ªåŸºæœ¬çš„æœºå™¨å­¦ä¹ æ¨¡å‹çº¿æ€§å›å½’å®ç°çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå°†å…¶æ­¥éª¤åˆ†ä¸ºå…«ä¸ªéƒ¨åˆ†ã€‚ä¹‹åD2Lä¸­ä»‹ç»äº†soft Maxã€MLPç­‰ç®€å•çš„æ¨¡å‹ã€‚è¿™é‡Œè¿ˆå‘æ·±åº¦å­¦ä¹ ï¼Œåˆ©ç”¨ç®€å•çš„å·ç§¯ç¥ç»ç½‘ç»œæ¥ä»‹ç»æ·±åº¦å­¦ä¹ APIçš„ä½¿ç”¨è¿‡ç¨‹ï¼Œä»é›¶å¼€å§‹æ­å»ºæ¨¡å‹ï¼Œå°†å…¶åˆ†ä¸ºæ•°æ®é›†é¢„å¤„ç†ã€æ„å»ºæ¨¡å‹å’Œè®­ç»ƒåŠè¯„ä¼°ä¸‰ä¸ªæ­¥éª¤ã€‚ 0x01 Introduction of CNN 1.1 å·ç§¯çš„ç”±æ¥ æˆ‘ä»¬å¯ä»¥å°†MNISTæ•°æ®é›†ä¸­çš„è¾“å…¥å˜é‡ï¼ˆ28ï¼Œ28ï¼‰çš„äºŒç»´å¼ é‡ç»™å±•å¹³ï¼ˆflattenï¼‰æˆä¸º784çš„å‘é‡ï¼Œç„¶ååœ¨ä½¿ç”¨è¶³å¤Ÿæ·±çš„MLPæ¥è¿›è¡Œè®­ç»ƒï¼Œä½†æ˜¯è¿™æ ·é€ æˆæœ€ç›´è§‚çš„ç»“æœå°±æ˜¯æ¨¡å‹çš„å‚æ•°ä¼šç›´çº¿ä¸Šå‡ï¼Œå› ä¸ºæˆ‘çš„è¾“å…¥è¶³å¤Ÿå¤šï¼ŒåŒæ—¶ä¸ºå¸Œæœ›æ¨¡å‹ç»“æœå¥½çš„æƒ…å†µéœ€è¦ä¹Ÿéœ€è¦è¶³å¤Ÿæ·±ï¼Œè¿™æ ·é€ æˆè®­ç»ƒè¿‡ç¨‹çš„è®¡ç®—å¼€é”€æ˜¯å·¨å¤§çš„ã€‚ï¼ˆè¿™æ˜¯å¾ˆç›´è§‚çš„ï¼Œä½†æ˜¯ç†è®ºä¸Šè¿™æ ·è®­ç»ƒå‡ºæ¥çš„ç½‘ç»œä¼šéå¸¸å¥½ã€‚å¯èƒ½æ˜¯è¿™æ ·ï¼Ÿï¼‰ ä¸ºäº†å¼¥è¡¥ç®—åŠ›çš„ä¸è¶³ï¼Œéœ€è¦å¯»æ‰¾æ–°çš„æ–¹å¼ï¼Ÿåˆ†æå›¾åƒè¯†åˆ«ä¸­ç›®æ ‡æˆ‘ä»¬ä¼šçœ‹å‡ºå…·æœ‰ä¸¤ä¸ªåŸºæœ¬ç‰¹æ€§ï¼š å¹³ç§»ä¸å˜æ€§translating- invarianceï¼Œä¸ç®¡æ£€æµ‹å¯¹è±¡å‡ºç°åœ¨å›¾åƒçš„å“ªä¸ªä½ç½®ï¼Œç¥ç»ç½‘ç»œçš„å‰é¢å‡ å±‚åº”è¯¥å¯¹ç›¸åŒçš„å›¾åƒåŒºåŸŸå…·æœ‰ç›¸ä¼¼çš„ååº” å±€éƒ¨æ€§localityï¼Œç¥ç»ç½‘ç»œå‰å‡ å±‚åº”è¯¥åªæ¢ç´¢è¾“å…¥å›¾åƒä¸­çš„å±€éƒ¨åŒºåŸŸï¼Œè€Œä¸æ˜¯è¿‡åº¦åœ¨æ„æ•´ä¸ªå›¾åƒå…¶ä»–åŒºåŸŸçš„å…³ç³» åŒæ—¶åœ¨ä¿¡å·å¤„ç†ä¸­æˆ‘ä»¬ä¹Ÿæœ‰ä¼šæ»¤æ³¢å™¨çš„æ¦‚å¿µï¼Œå…¶åŸºæœ¬æ€æƒ³æ˜¯åˆ©ç”¨åƒç´ ä¹‹é—´å˜åŒ–çš„è¶‹åŠ¿æ¥è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚ä¸­å€¼æ»¤æ³¢å¯ä»¥é™å™ªã€åˆ©ç”¨å·®åˆ†å¯ä»¥è¯†åˆ«å›¾åƒè½®å»“ æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå·ç§¯çš„æ“ä½œæ˜¯æœ‰æ•ˆçš„ï¼ŒåŒæ—¶ä½¿ç”¨ï¼ˆ3ï¼Œ3ï¼‰çš„filteræ¥å¯¹ï¼ˆ28ï¼Œ28ï¼‰çš„å›¾åƒå¤„ç†æœ€ç»ˆå¾—åˆ°ï¼ˆ26ï¼Œ26ï¼‰çš„å›¾åƒï¼Œæ‰§è¡Œçš„æ“ä½œæ¬¡æ•°ä»…ä¸º26*26.ä¼šè®©å‚æ•°æ•°é‡ä¸‹é™ 1.2 å·ç§¯çš„å®ç°ï¼ˆäº’ç›¸å…³è¿ç®—ã€å¡«å……paddingã€æ­¥é•¿strideã€å¤šé€šé“ï¼‰ å…·ä½“å…¬å¼å°±ä¸å†è¿™é‡Œå±•å¼€ï¼Œddddã€‚ ç»è¿‡ä¸‹åˆ—çš„äºŒç»´å·ç§¯æ“ä½œä¼šå°†ï¼ˆnï¼Œmï¼‰ç»è¿‡ï¼ˆkï¼Œkï¼‰è½¬æ¢ä¸ºå¤§å°ï¼ˆn+1-kï¼Œm+1-kï¼‰ 1234567891011121314151617class Conv2D(nn.module): def __init__(self,kernel_size): super().__init__() self.weight=nn.Parameter(torch.rand(kernel_size)) self.bias=nn.Parameter(torch.zeros(1)) def forward(self,x): return corr2d(x,self.weight)+self.bias def corr2d(X,k): â€˜â€™â€˜è®¡ç®—äºŒç»´äº’ç›¸å…³è¿ç®—``` h,w=k.shape Y=torch.zeros((X.shape[0]-h+1,X.shape[1]-w+1)) for i in range(Y.shape[0]): for j in range(Y.shape[1]): Y[i,j]=(X[i:i+h,j:j+w]*K).sum() return Y ç›´æ¥è¿›è¡Œå·ç§¯æ“ä½œå¯ä»¥çœ‹å‡ºå‘é‡æ˜¯ä¼šå˜åŒ–çš„ï¼Œæˆ‘ä»¬è¿˜ä¼šæœ‰ä¸¤ç§æ“ä½œï¼šå¡«å……paddingå’Œæ­¥é•¿strideã€‚ é’ˆå¯¹äºŒç»´çš„å›¾åƒè¾¹ç¼˜ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦è®¾ç½®å¡«å……paddingæ¥ä¿ç•™å‘¨è¾¹ä¿¡æ¯ï¼Œé€šå¸¸æ˜¯å¡«å……0 ï¼ˆn,m)ç»è¿‡ï¼ˆkï¼Œkï¼‰åï¼Œå¡«å……pï¼Œå¾—åˆ°çš„ç»“æœä¸ºï¼ˆn+p+1-kï¼Œm+p+1-kï¼‰ é’ˆå¯¹æ¸…æ™°åº¦ä¸å¤Ÿçš„ç…§ç‰‡ï¼Œæˆ‘ä»¬å¯èƒ½è®¤ä¸ºå…¶ä¸­éƒ¨åˆ†åƒç´ å†—ä½™ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨æ­¥å¹…strideæ¥é™ä½é‡‡æ · ï¼ˆnï¼Œmï¼‰ç»è¿‡ï¼ˆkï¼Œkï¼‰åŠ ä¸Špä¹‹åsçš„è¾“å‡ºæ˜¯ï¼ˆï¼ˆn+p-k+sï¼‰//sï¼Œï¼ˆm+p-k+sï¼‰//s ï¼‰ï¼ˆå‘ä¸‹å–æ•´ï¼‰ åœ¨äºŒç»´åŸºç¡€ä¸Šï¼Œç†è§£å¤šé€šé“å·ç§¯ï¼Œé¦–å…ˆæ˜¯å¤šé€šé“è¾“å‡ºä¸€ä¸ªçš„æƒ…å†µï¼Œå°±æ˜¯è®¾è®¡ä¸‰ä¸ªå·ç§¯æ ¸ç„¶åç›¸åŠ  ç„¶åå¤šé€šé“è¾“å…¥å¯¹åº”å¤šé€šé“è¾“å‡ºï¼Œå°±æ˜¯è®¾è®¡output*inputä¸ªå·ç§¯æ ¸ï¼Œç„¶åoutputçš„å·ç§¯æ ¸ç›¸åŠ å³å¯ 1.3 CNNä¸æ·±åº¦ä¹‹é—´çš„å…³ç³»ï¼ˆæ„Ÿå—é‡ receptive- fieldã€æ±‡èšå±‚poolingï¼‰ CNNä¸­æ„Ÿå—é‡çš„é—®é¢˜ï¼Œå¯¹äºä¸€ä¸ªï¼ˆ3ï¼Œ3ï¼‰æ‰€æ„Ÿå—çš„æ˜¯ä¸€ä¸ªï¼ˆ3ï¼Œ3ï¼‰çš„åŒºåŸŸï¼Œä½†æ˜¯å¦‚æœå†æœ‰ä¸€ä¸ªï¼ˆ3ï¼Œ3ï¼‰ä»–æ‰€æ„Ÿå—çš„å°±æ˜¯ï¼ˆ5ï¼Œ5ï¼‰çš„åŒºåŸŸã€‚å› æ­¤éšç€å·ç§¯å±‚æ•°çš„å¢åŠ ï¼Œå·ç§¯ç¥ç»è€ƒè™‘åˆ°çš„å€¼æ˜¯è¶Šæ¥è¶Šå¤§çš„ã€‚ è¿™é‡Œä¹Ÿä¼šå­˜åœ¨ä¸€ä¸ªtrade-offï¼Œæˆ‘ä»¬å¸Œæœ›å·ç§¯çš„ç»“æœæ„Ÿå—é‡ä¸ä¼šå¤ªå°ï¼Œè¿™æ ·æˆ‘å¯ä»¥å¾—åˆ°ä¸€äº›çº¹ç†ä¿¡æ¯ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿä¸å¸Œæœ›æ„Ÿå—é‡å¤ªå¤§ï¼Œä¸ç„¶æ‰€è®­ç»ƒå‡ºæ¥çš„CNNä¼šå¯¹è¾“å…¥æ•æ„Ÿï¼Œå› æ­¤åœ¨å¸¸è§çš„æ“ä½œä¸­æˆ‘ä»¬ä¼šä½¿ç”¨æ±‡èšå±‚æ¥å¯¹å·ç§¯ç»“æœè¿›è¡Œå¹³æ»‘æˆ–è€…é‡æ–°é‡‡æ ·ã€‚ 0x02 Program structure analysis with PyTorch API 2.1 ä»£ç æ•´ä½“æ¡†æ¶åˆ†æï¼ˆå°½å¯èƒ½è§£è€¦ï¼‰ é¦–å…ˆç¥ç»ç½‘ç»œçš„è®­ç»ƒå¿…ç„¶æ˜¯éœ€è¦å¤šä¸ªepochçš„ï¼ŒåŒæ—¶åœ¨æ¯è½®epochä¸­ç”±äºç‰©ç†ç©ºé—´çš„é™åˆ¶ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®batchsizeæ¥åˆ†æ‰¹çš„å°†æ•°æ®é€å…¥ç½‘ç»œï¼Œå½“æ‰€æœ‰çš„batchèµ°å®Œè¯´æ˜æˆ‘ä»¬å®Œæˆä¸€ä¸ªepochï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦è®°å½•è®­ç»ƒæŸå¤±ï¼ˆtrain-lossï¼‰ï¼Œè®­ç»ƒç²¾åº¦ï¼ˆtrain-accï¼‰å’ŒéªŒè¯ç²¾åº¦ï¼ˆvalid- accï¼‰ã€‚æ‰€ä»¥æ­¥éª¤åˆ†ä¸ºï¼š ç¬¬ä¸€éƒ¨åˆ† è¾“å…¥ï¼šåŸå§‹æ•°æ®é›†ï¼Œbatchsize è¾“å‡ºï¼šè®­ç»ƒæ•°æ®é›†ï¼ˆå¯è¿­ä»£å½¢å¼ï¼‰ã€éªŒè¯æ•°æ®é›†ï¼ˆå¯è¿­ä»£å½¢å¼ï¼‰ ç¬¬äºŒéƒ¨åˆ† è¾“å…¥ï¼šç½‘ç»œç»“æ„ã€å­¦ä¹ ç‡lr è¾“å‡ºï¼šç½‘ç»œç»“æ„netã€æŸå¤±å‡½æ•°lossã€ä¼˜åŒ–ç®—æ³•trainer ç¬¬ä¸‰éƒ¨åˆ† è¾“å…¥ï¼šepochæ•°é‡num- epochesï¼Œè®­ç»ƒæ•°æ®é›†ã€éªŒè¯æ•°æ®é›†ã€netã€lossã€trainerç­‰ è¾“å‡ºï¼šè®­ç»ƒå¥½çš„ç½‘ç»œï¼Œè¯„ä¼°æŒ‡æ ‡ 2.2 PyTorché«˜æ•ˆAPI è¿™ä¸ªçœ‹å®˜ç½‘ï¼Œæˆ–è€…çœ‹åˆ«äººçš„ä»£ç å¤šæ‚Ÿå°±è¡Œ åŠ è½½æ•°æ®é›† dataset dataloader å®šä¹‰ç½‘ç»œ torch.nn.module Torch.nn.sequential è®¿é—®ä¸åˆå§‹åŒ–å‚æ•° net.apply() def init_weigths(self) 0x03 Code of LeNet 3.0 LeNetç®€ä»‹ LeNetæ˜¯æœ€æ—©å‘å¸ƒçš„å·ç§¯ç¥ç»ç½‘ç»œï¼Œèµ·æºäº89å¹´ï¼Œåœ¨å½“æ—¶è¿˜æ²¡æœ‰å¼ºç®—åŠ›çš„æ—¶ä»£ï¼Œè¢«å¹¿æ³›åº”ç”¨äºATMæœºå™¨ä¸­ï¼Œå¸®åŠ©å¤„ç†æ”¯ç¥¨ä¸­çš„æ•°å­— è¿™é‡Œå› ä¸ºFashion-MNISTæ˜¯ï¼ˆ28ï¼Œ28ï¼‰çš„æ•°æ®é›†ï¼Œå› æ­¤åœ¨è¿™ä¸ªåŸºç¡€ä¸Šç¨å¾®æ›´æ”¹ä¸€ä¸‹ å„å±‚å‚æ•°è®¾ç½®ï¼š è¾“å…¥ï¼šï¼ˆ28ï¼Œ28ï¼‰ ç¬¬ä¸€å±‚ï¼šï¼ˆ5ï¼Œ5ï¼‰å·ç§¯ï¼Œè¾“å‡º6é€šé“ï¼Œå¡«å……=2 -&gt;è¾“å‡ºï¼ˆ6ï¼Œ28ï¼Œ28ï¼‰ ç¬¬äºŒå±‚ï¼šï¼ˆ2ï¼Œ2ï¼‰æ± åŒ–ï¼Œæ­¥é•¿=2 -&gt; è¾“å‡ºï¼ˆ6ï¼Œ14ï¼Œ14ï¼‰ ç¬¬ä¸‰å±‚ï¼šï¼ˆ5ï¼Œ5ï¼‰å·ç§¯ï¼Œè¾“å‡º16é€šé“ï¼Œ-&gt;è¾“å‡ºï¼ˆ16ï¼Œ10ï¼Œ10ï¼‰ ç¬¬å››å±‚ï¼šï¼ˆ2ï¼Œ2ï¼‰æ± åŒ–ï¼Œæ­¥é•¿=2 -&gt;è¾“å‡ºï¼ˆ16ï¼Œ5ï¼Œ5ï¼‰ ä¹‹åå±•å¹³ 3.1 æ•°æ®é›†è·å– 12345678910111213141516# è¯»å–fashionæ•°æ®é›†def load_fashion_mnist(batchsize): import torch from torch.utils import data import torchvision from torchvision import transforms trans=transforms.ToTensor() train_mnist=torchvision.datasets.FashionMNIST(root=&#x27;../data/FashionMNIST&#x27;,train=True,transform=trans,download=True) test_mnist=torchvision.datasets.FashionMNIST(root=&#x27;../data/FashionMNIST&#x27;,train=False,transform=trans,download=True) train_iter=data.DataLoader(train_mnist,batch_size=batchsize,shuffle=True,num_workers=4) test_iter=data.DataLoader(test_mnist,batch_size=batchsize,shuffle=True,num_workers=4) return train_iter,test_iter batchsize=256train_iter,test_iter=load_fashion_mnist(batchsize) 3.2 æ¨¡å‹å®šä¹‰ 123456789101112import torch from torch import nnnet=nn.Sequential( nn.Conv2d(1,6,kernel_size=5,padding=2),nn.Sigmoid(), nn.AvgPool2d(kernel_size=2,stride=2), nn.Conv2d(6,16,kernel_size=5),nn.Sigmoid(), nn.AvgPool2d(kernel_size=2,stride=2), nn.Flatten(), nn.Linear(16*5*5,120),nn.ReLU(), nn.Linear(120,84),nn.ReLU(), nn.Linear(84,10)) 3.3 è®­ç»ƒè¿‡ç¨‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879def accuracy(y_hat,y): # æ•°æ­£ç¡®çš„æ•°é‡ if len(y_hat.shape)&gt;1 and y_hat.shape[1]&gt;1: y_hat=y_hat.argmax(axis=1) cmp=y_hat.type(y.dtype)==y return float(cmp.type(y.dtype).sum())def gpu_acc(model,data_iter,device=None): acc=0 num=0 if isinstance(net,nn.Module): net.eval() if not device: device=next(iter(net.parameters())).device with torch.no_grad(): for X,y in data_iter: if isinstance(X,list): # è¿™é‡Œçš„ifä»…ä»…æ˜¯ä¸ºä¹‹åbertå¾®è°ƒæ‰€éœ€çš„ X=[x.to(device) for x in X] else: X=X.to(device) y=y.to(device) acc+=accuracy(net(X),y) num+=y.numel() return acc/numdef trainer(net,train_iter,test_iter,num_epoches,lr,device): &#x27;&#x27;&#x27;ç”¨GPUè®­ç»ƒæ¨¡å‹&#x27;&#x27;&#x27; #åˆå§‹åŒ–å‚æ•° def init_weights(m): if type(m)==nn.Linear or type(m)==nn.Conv2d: nn.init.xavier_uniform_(m.weight) #nn.init.normal_(m.weight,std=0.01) net.apply(init_weights) print(&#x27;training on&#x27;,device) print(torch.cuda.get_device_name(0)) net.to(device) optimizer=torch.optim.SGD(net.parameters(),lr=lr) loss=nn.CrossEntropyLoss() train_acc=[] test_acc=[] loss_epoches=[] for epoch in range(num_epoches): temp_train_acc=0 loss_epoch=0 num=0 net.train() for i,(X,y) in enumerate(train_iter): optimizer.zero_grad() X,y=X.to(device),y.to(device) with torch.no_grad(): temp_train_acc+=accuracy(net(X),y) y_hat=net(X) l=loss(y_hat,y) l.backward() optimizer.step() loss_epoch+=l*X.shape[0] num+=y.numel() train_acc.append(float(temp_train_acc/num)) test_acc.append(gpu_acc(net,test_iter)) loss_epoches.append(float(loss_epoch)/num) print(&#x27;æœ¬è½®&#123;&#125;è®­ç»ƒçš„ç»“æœï¼Œtestâ€”acc:&#123;&#125;,train-acc:&#123;&#125;,train-loss:&#123;&#125;&#x27;.format(str(epoch+1),str(test_acc[-1]),str(train_acc[-1]),str(loss_epoches[-1]))) import matplotlib.pyplot as plt plt.plot(list(range(1,1+num_epoches)),test_acc,label=&#x27;test_acc&#x27;) plt.plot(list(range(1,1+num_epoches)),train_acc,label=&#x27;train_acc&#x27;) plt.plot(list(range(1,1+num_epoches)),loss_epoches,label=&#x27;loss&#x27;) plt.legend() plt.show() lr,num_epoches=0.2,20device = torch.device(&quot;cuda:0&quot; if torch.cuda.is_available() else &quot;cpu&quot;)trainer(net,train_iter,test_iter,num_epoches,lr,device) 3.4 è®­ç»ƒç»“æœ ï¼ˆç§€ä¸€ä¸‹3090ï½ï¼‰ CS229ä¸­å…³äºæ¨¡å‹é€‰æ‹©ä¸­çš„bias- variance trade offåœ¨è¿™é‡Œä¾æ—§é€‚ç”¨ 0x04 Discussion and conclusion 4.1 moduleå’Œsequentialä¹‹é—´çš„åŒºåˆ«ï¼Ÿ What is difference between nn.Module and nn.Sequential ä½¿ç”¨moduleå®šä¹‰æ¨¡å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é¢å¤–def forwardï¼Œå¯¹äºå·ç§¯ç¥ç»ç½‘ç»œè¿™ç§æŒ‰ç…§é¡ºåºçš„ç»“æ„å¹¶ä¸éœ€è¦å…³å¿ƒï¼Œæ‰€ä»¥å‰å‘ä¼ æ’­æ˜¯æŒ‰ç…§sequentialè¿›è¡Œçš„ï¼Œä½†æ˜¯åœ¨åé¢çš„å­¦ä¹ ä¸­æ›´ç°ä»£åŒ–çš„CNNæˆ–è€…RNNç­‰ä¼šè¿›è¡Œè¾“å‡ºçš„è¿ç§»ï¼Œè¿™ä¸ªæ—¶å€™ä½¿ç”¨moduleä¼šæ›´å¥½ 4.2 å½’ä¸€åŒ– normalizationå’Œæ ‡å‡†åŒ–standardizationä¹‹é—´çš„åŒºåˆ«ï¼Ÿ ä¸å¤ªæ‡‚ï¼Œå…ˆç•™ç€ å¯ä»¥å‚è€ƒè¿™ä¸ª è¿˜æœ‰è¿™ä¸ª 4.3 å¦‚ä½•å†™å‡ºè§„èŒƒçš„ä»£ç ï¼Ÿ å¤šçœ‹åˆ«äººçš„ä»£ç  çœ‹å®Œè‡ªå·±æ•²å‡ºæ¥ 4.4 ä¸ºä»€ä¹ˆlossä¼šå¤§äº1 è™½ç„¶è¯´çœ‹lossåªéœ€è¦ä¸‹é™å°±å¥½äº†ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸å¤ªæ˜ç™½ä¸ºä»€ä¹ˆåœ¨meanä¹‹åè¿˜æ˜¯å¤§äº1 åœ¨æ‰‹æ•²å‡ºæ¥ä¸Šé¢çš„ä»£ç èƒ½å¤Ÿæ¸…æ™°çš„æ„Ÿå—åˆ°ï¼Œå·¥ç¨‹å¯¹äºè½¯ä»¶æ„å»ºçš„é‡è¦æ€§ï¼Œå¯èƒ½éœ€è¦å…ˆåšè§„åˆ’ï¼Ÿäº†è§£å¥½APIæ‰èƒ½ç”¨åˆ«äººçš„æŠ½è±¡å¥½çš„å·¥å…·å®ç°æ›´å¤šçš„åŠŸèƒ½ã€‚è™½ç„¶è¿™æ˜¯ä¸€ä¸ªç®€å•çš„wheelï¼Œä½†æ˜¯åœ¨åˆå§‹è§£çš„åŸºç¡€ä¸Šå¯ä»¥å†æ¬¡ä¼˜åŒ–","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"D2L","slug":"D2L","permalink":"https://blog.tjdata.site/tags/D2L/"}]},{"title":"åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ 01_çº¿æ€§å›å½’å®ç°","slug":"åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ 01_çº¿æ€§å›å½’å®ç°","date":"2022-09-11T00:20:24.000Z","updated":"2023-05-13T13:51:46.303Z","comments":true,"path":"posts/35609ff6.html","link":"","permalink":"https://blog.tjdata.site/posts/35609ff6.html","excerpt":"åœ¨CS229ä¸­ä¸»è¦å…³æ³¨çš„æ˜¯ä¸€äº›ä¼ ç»Ÿæœºå™¨å­¦ä¹ çš„æ¨¡å‹ï¼ŒåŒ…æ‹¬å¹¿ä¹‰çº¿æ€§æ¨¡å‹ï¼ˆGLMï¼‰åŒ…å«çš„Logistic Regressionã€Softmax Regressionï¼Œç”Ÿæˆæ¨¡å‹çš„é«˜æ–¯åˆ¤åˆ«å¼ã€Decision Treeã€Support Vector Machineã€æµ…å±‚ç¥ç»ç½‘ç»œï¼›ä¾§é‡äºå¯¹äºç†è®ºçš„ä»‹ç»ã€‚ææ²è¯¾ç¨‹ä¸­å¯¹äºå®é™…æ“ä½œçš„ä»£ç å®ç°è¿‡ç¨‹ç»™å‡ºäº†è¯¦ç»†çš„ä»‹ç»ï¼Œæ˜¯éå¸¸æœ‰æ„æ€çš„ã€‚å…¶å®æ•´ä¸ªå­¦ä¹ è¿‡ç¨‹çš„æ¡†æ¶æ— è®ºæ˜¯ç®€å•çš„é€»è¾‘å›å½’è¿˜æ˜¯å¤æ‚çš„YOLOä¹‹ç±»çš„ä»£ç æ¡†æ¶å…¶å®éƒ½å·²ç»ç»™å¥½äº†ï¼Œå¦‚ä½•é«˜æ•ˆçš„åˆ©ç”¨æ¡†æ¶æ‰€æä¾›çš„æŠ½è±¡å¥½çš„APIæ¥å®ç°å¤æ‚çš„åŠŸèƒ½æ˜¯å€¼å¾—æ€è€ƒçš„ã€‚","text":"åœ¨CS229ä¸­ä¸»è¦å…³æ³¨çš„æ˜¯ä¸€äº›ä¼ ç»Ÿæœºå™¨å­¦ä¹ çš„æ¨¡å‹ï¼ŒåŒ…æ‹¬å¹¿ä¹‰çº¿æ€§æ¨¡å‹ï¼ˆGLMï¼‰åŒ…å«çš„Logistic Regressionã€Softmax Regressionï¼Œç”Ÿæˆæ¨¡å‹çš„é«˜æ–¯åˆ¤åˆ«å¼ã€Decision Treeã€Support Vector Machineã€æµ…å±‚ç¥ç»ç½‘ç»œï¼›ä¾§é‡äºå¯¹äºç†è®ºçš„ä»‹ç»ã€‚ææ²è¯¾ç¨‹ä¸­å¯¹äºå®é™…æ“ä½œçš„ä»£ç å®ç°è¿‡ç¨‹ç»™å‡ºäº†è¯¦ç»†çš„ä»‹ç»ï¼Œæ˜¯éå¸¸æœ‰æ„æ€çš„ã€‚å…¶å®æ•´ä¸ªå­¦ä¹ è¿‡ç¨‹çš„æ¡†æ¶æ— è®ºæ˜¯ç®€å•çš„é€»è¾‘å›å½’è¿˜æ˜¯å¤æ‚çš„YOLOä¹‹ç±»çš„ä»£ç æ¡†æ¶å…¶å®éƒ½å·²ç»ç»™å¥½äº†ï¼Œå¦‚ä½•é«˜æ•ˆçš„åˆ©ç”¨æ¡†æ¶æ‰€æä¾›çš„æŠ½è±¡å¥½çš„APIæ¥å®ç°å¤æ‚çš„åŠŸèƒ½æ˜¯å€¼å¾—æ€è€ƒçš„ã€‚ 0x00 Environment buildï¼ˆwith condaï¼‰ ç¯å¢ƒå®‰è£…ï¼Œæ€§èƒ½æµ‹è¯•ä¸æ¨ªå‘å¯¹æ¯”ä¸­ç»™å‡ºPytorchå®‰è£…çš„ä¸‰ç§æ–¹å¼ï¼š1. ç›´æ¥å®‰è£…ã€2. condaç¯å¢ƒã€3. Dockerå®‰è£…ã€‚åé¢æœ‰æ—¶é—´å¯ä»¥å€Ÿé‰´ä¸€ä¸‹æ€è·¯æ¥ä½¿ç”¨Dockerç®¡ç†ç¯å¢ƒè€Œä¸æ˜¯Condaã€‚æœ¬æ¬¡è¿˜æ˜¯åˆ©ç”¨condaæ¥ç®¡ç†ç¯å¢ƒ psï¼šå…³äºcondaä¸dockerç®¡ç†ç¯å¢ƒä¹‹é—´çš„å·®å¼‚ â€“ ä¸ªäººçœ‹æ³• å¦‚æœæœ‰æ›´å¥½çš„å›ç­”å¸Œæœ›å¯ä»¥å‘é€åˆ° chenxia31@outlook.com äº¤æµï¼ ä½œä¸ºä¸€ä¸ªè®¡ç®—æœºå°ç™½ï¼Œåœ¨æœ€åˆæ¥è§¦Pythonçš„æ—¶å€™çŸ¥é“ä¸€ä¸ªç”µè„‘ä¸­ä¼šå­˜åœ¨ä¸åŒç‰ˆæœ¬çš„pythonï¼Œè¿™ä¸ªéœ€è¦æˆ‘ä»¬æ¥è¿›è¡Œä¸åŒç¯å¢ƒçš„éš”ç¦»ï¼Œå¸¸è§çš„æœ‰pythonçš„envsã€æˆ–è€…condaç®¡ç†å·¥å…·ã€‚è¿™æ ·ä¸åŒçš„pythonç¯å¢ƒå¯ä»¥ä½¿ç”¨ä¸åŒçš„packageã€‚ ä½†æ˜¯dockerå¯ä»¥è¯´æ˜¯ä¸€ä¸ªæ›´é«˜levelçš„å·¥å…·ï¼Œå®é™…ä¸Šä»–æ˜¯ä¸€ä¸ªå¼±åŒ–çš„è™šæ‹Ÿæœºï¼Œå¹¶ä¸æ˜¯ä»ç¡¬ä»¶å±‚é¢æ¥è™šæ‹Ÿä¸€æ•´å¥—å†¯è¯ºä¾æ›¼ä½“ç³»ï¼Œè€Œæ˜¯åˆ©ç”¨éƒ¨åˆ†ç¡¬ä»¶å’Œè½¯ä»¶è°ƒåº¦çš„æ–¹å¼æ¥é™ä½è™šæ‹Ÿæœºæ‰€éœ€è¦çš„ç¡¬ä»¶èµ„æºè€Œå®ç°è™šæ‹Ÿæœºçš„æ“ä½œç³»ç»Ÿå’Œä¸»æœºæ“ä½œç³»ç»Ÿä¹‹é—´éš”ç¦»çš„ç›®çš„ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¯ä»¥å®ç°æŸç§æ„ä¹‰ä¸Šçš„ç¡¬ä»¶æ–¹å¼çš„ç¯å¢ƒéš”ç¦»ã€‚ ä¸¤è€…å¯ä»¥è¯´æ˜¯é£é©¬ç‰›ï¼Œä½†æ˜¯åœ¨ç®¡ç†pythonç¯å¢ƒä¸­å´åˆæœ‰ç€å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œéƒ½èƒ½èµ·åˆ°ç¯å¢ƒéš”ç¦»çš„ä½œç”¨ï¼Œä½†æ˜¯å®ç°çš„è¿‡ç¨‹æ˜¯ä¸ä¸€æ ·çš„ï¼š condaæ˜¯pythonçš„packageçš„ç®¡ç†è€…ï¼Œå®ƒä¸ºä¸åŒçš„pythonæä¾›ä¸åŒçš„packageçš„è·¯å¾„ã€‚è¿™ä¹Ÿå°±æ˜¯conda installçš„packageå€¼éœ€è¦è£…ä¸€ä»½å°±å¯ä»¥ä¸ºæ‰€æœ‰ç¯å¢ƒä½¿ç”¨ï¼ˆå¦‚æœç‰ˆæœ¬ä¸€è‡´çš„è¯ï¼‰ dockeræ˜¯æ“ä½œç³»ç»Ÿå±‚é¢çš„ç¡¬ä»¶ç®¡ç†è€…ï¼Œå®ƒä¸ºä¸åŒçš„è™šæ‹Ÿæœºæä¾›ç¡¬ä»¶å’Œè½¯ä»¶èµ„æº 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151# æ–°å»ºcondaç¯å¢ƒconda create -n &#x27;datastudy&#x27; python=3.9# è®¾ç½®ä¸€ä¸‹pipé•œåƒ# æ¸…åé•œåƒæºhttps://mirrors.tuna.tsinghua.edu.cn/help/pypi/python -m pip install --upgrade pippip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple# å®‰è£…pytorchï¼Œhttps://pytorch.org/get-started/locally/# é»˜è®¤é…ç½®å¥½CUDA# psï¼šä¸­æ–‡æ•™ç¨‹å¾ˆå¤šå®‰è£…pytorchå¥½å¤æ‚ï¼Œå…¶å®å¾ˆå¤šä¸œè¥¿å®˜ç½‘éƒ½ç»™å¥½äº†conda install pytorch torchvision torchaudio cudatoolkit=11.6 -c pytorch -c conda-forge# æ£€æŸ¥æ˜¯å¦æˆåŠŸï¼Œimport torchprint(torch.__version__)print(torch.cuda.get_device_name(0))# æ£€æŸ¥ä»£ç æ˜¯å¦èƒ½è·‘ï¼Œå‚è€ƒé“¾æ¥å¦‚ä¸‹# Summary: ä½¿ç”¨PyTorchç©è½¬MNIST # Author: Amusi# Date: 2018-12-20 # github: https://github.com/amusi/PyTorch-From-Zero-To-One# Reference: https://blog.csdn.net/victoriaw/article/details/72354307 from __future__ import print_functionimport argparseimport torchimport torch.nn as nnimport torch.nn.functional as Fimport torch.optim as optimfrom torchvision import datasets, transformsfrom torch.autograd import Variable # Training settingsparser = argparse.ArgumentParser(description=&#x27;PyTorch MNIST Example&#x27;)parser.add_argument(&#x27;--batch-size&#x27;, type=int, default=64, metavar=&#x27;N&#x27;, help=&#x27;input batch size for training (default: 64)&#x27;)parser.add_argument(&#x27;--test-batch-size&#x27;, type=int, default=1000, metavar=&#x27;N&#x27;, help=&#x27;input batch size for testing (default: 1000)&#x27;)parser.add_argument(&#x27;--epochs&#x27;, type=int, default=10, metavar=&#x27;N&#x27;, help=&#x27;number of epochs to train (default: 10)&#x27;)parser.add_argument(&#x27;--lr&#x27;, type=float, default=0.01, metavar=&#x27;LR&#x27;, help=&#x27;learning rate (default: 0.01)&#x27;)parser.add_argument(&#x27;--momentum&#x27;, type=float, default=0.5, metavar=&#x27;M&#x27;, help=&#x27;SGD momentum (default: 0.5)&#x27;)parser.add_argument(&#x27;--no-cuda&#x27;, action=&#x27;store_true&#x27;, default=False, help=&#x27;disables CUDA training&#x27;)parser.add_argument(&#x27;--seed&#x27;, type=int, default=1, metavar=&#x27;S&#x27;, help=&#x27;random seed (default: 1)&#x27;)parser.add_argument(&#x27;--log-interval&#x27;, type=int, default=10, metavar=&#x27;N&#x27;, help=&#x27;how many batches to wait before logging training status&#x27;)args = parser.parse_args()args.cuda = not args.no_cuda and torch.cuda.is_available() torch.manual_seed(args.seed) #ä¸ºCPUè®¾ç½®ç§å­ç”¨äºç”Ÿæˆéšæœºæ•°ï¼Œä»¥ä½¿å¾—ç»“æœæ˜¯ç¡®å®šçš„if args.cuda: torch.cuda.manual_seed(args.seed)#ä¸ºå½“å‰GPUè®¾ç½®éšæœºç§å­ï¼›å¦‚æœä½¿ç”¨å¤šä¸ªGPUï¼Œåº”è¯¥ä½¿ç”¨torch.cuda.manual_seed_all()ä¸ºæ‰€æœ‰çš„GPUè®¾ç½®ç§å­ã€‚ kwargs = &#123;&#x27;num_workers&#x27;: 1, &#x27;pin_memory&#x27;: True&#125; if args.cuda else &#123;&#125;&quot;&quot;&quot;åŠ è½½æ•°æ®ã€‚ç»„åˆæ•°æ®é›†å’Œé‡‡æ ·å™¨ï¼Œæä¾›æ•°æ®ä¸Šçš„å•æˆ–å¤šè¿›ç¨‹è¿­ä»£å™¨å‚æ•°ï¼šdatasetï¼šDatasetç±»å‹ï¼Œä»å…¶ä¸­åŠ è½½æ•°æ®batch_sizeï¼šintï¼Œå¯é€‰ã€‚æ¯ä¸ªbatchåŠ è½½å¤šå°‘æ ·æœ¬shuffleï¼šboolï¼Œå¯é€‰ã€‚ä¸ºTrueæ—¶è¡¨ç¤ºæ¯ä¸ªepochéƒ½å¯¹æ•°æ®è¿›è¡Œæ´—ç‰Œsamplerï¼šSamplerï¼Œå¯é€‰ã€‚ä»æ•°æ®é›†ä¸­é‡‡æ ·æ ·æœ¬çš„æ–¹æ³•ã€‚num_workersï¼šintï¼Œå¯é€‰ã€‚åŠ è½½æ•°æ®æ—¶ä½¿ç”¨å¤šå°‘å­è¿›ç¨‹ã€‚é»˜è®¤å€¼ä¸º0ï¼Œè¡¨ç¤ºåœ¨ä¸»è¿›ç¨‹ä¸­åŠ è½½æ•°æ®ã€‚collate_fnï¼šcallableï¼Œå¯é€‰ã€‚pin_memoryï¼šboolï¼Œå¯é€‰drop_lastï¼šboolï¼Œå¯é€‰ã€‚Trueè¡¨ç¤ºå¦‚æœæœ€åå‰©ä¸‹ä¸å®Œå…¨çš„batch,ä¸¢å¼ƒã€‚Falseè¡¨ç¤ºä¸ä¸¢å¼ƒã€‚&quot;&quot;&quot;train_loader = torch.utils.data.DataLoader( datasets.MNIST(&#x27;../data&#x27;, train=True, download=True, transform=transforms.Compose([ transforms.ToTensor(), transforms.Normalize((0.1307,), (0.3081,)) ])), batch_size=args.batch_size, shuffle=True, **kwargs)test_loader = torch.utils.data.DataLoader( datasets.MNIST(&#x27;../data&#x27;, train=False, transform=transforms.Compose([ transforms.ToTensor(), transforms.Normalize((0.1307,), (0.3081,)) ])), batch_size=args.batch_size, shuffle=True, **kwargs) class Net(nn.Module): def __init__(self): super(Net, self).__init__() self.conv1 = nn.Conv2d(1, 10, kernel_size=5)#è¾“å…¥å’Œè¾“å‡ºé€šé“æ•°åˆ†åˆ«ä¸º1å’Œ10 self.conv2 = nn.Conv2d(10, 20, kernel_size=5)#è¾“å…¥å’Œè¾“å‡ºé€šé“æ•°åˆ†åˆ«ä¸º10å’Œ20 self.conv2_drop = nn.Dropout2d()#éšæœºé€‰æ‹©è¾“å…¥çš„ä¿¡é“ï¼Œå°†å…¶è®¾ä¸º0 self.fc1 = nn.Linear(320, 50)#è¾“å…¥çš„å‘é‡å¤§å°å’Œè¾“å‡ºçš„å¤§å°åˆ†åˆ«ä¸º320å’Œ50 self.fc2 = nn.Linear(50, 10) def forward(self, x): x = F.relu(F.max_pool2d(self.conv1(x), 2))#conv-&gt;max_pool-&gt;relu x = F.relu(F.max_pool2d(self.conv2_drop(self.conv2(x)), 2))#conv-&gt;dropout-&gt;max_pool-&gt;relu x = x.view(-1, 320) x = F.relu(self.fc1(x))#fc-&gt;relu x = F.dropout(x, training=self.training)#dropout x = self.fc2(x) return F.log_softmax(x) model = Net()if args.cuda: model.cuda()#å°†æ‰€æœ‰çš„æ¨¡å‹å‚æ•°ç§»åŠ¨åˆ°GPUä¸Š optimizer = optim.SGD(model.parameters(), lr=args.lr, momentum=args.momentum) def train(epoch): model.train()#æŠŠmoduleè®¾æˆtrainingæ¨¡å¼ï¼Œå¯¹Dropoutå’ŒBatchNormæœ‰å½±å“ for batch_idx, (data, target) in enumerate(train_loader): if args.cuda: data, target = data.cuda(), target.cuda() data, target = Variable(data), Variable(target)#Variableç±»å¯¹Tensorå¯¹è±¡è¿›è¡Œå°è£…ï¼Œä¼šä¿å­˜è¯¥å¼ é‡å¯¹åº”çš„æ¢¯åº¦ï¼Œä»¥åŠå¯¹ç”Ÿæˆè¯¥å¼ é‡çš„å‡½æ•°grad_fnçš„ä¸€ä¸ªå¼•ç”¨ã€‚å¦‚æœè¯¥å¼ é‡æ˜¯ç”¨æˆ·åˆ›å»ºçš„ï¼Œgrad_fnæ˜¯Noneï¼Œç§°è¿™æ ·çš„Variableä¸ºå¶å­Variableã€‚ optimizer.zero_grad() output = model(data) loss = F.nll_loss(output, target)#è´Ÿlogä¼¼ç„¶æŸå¤± loss.backward() optimizer.step() if batch_idx % args.log_interval == 0: print(&#x27;Train Epoch: &#123;&#125; [&#123;&#125;/&#123;&#125; (&#123;:.0f&#125;%)]\\tLoss: &#123;:.6f&#125;&#x27;.format( epoch, batch_idx * len(data), len(train_loader.dataset), 100. * batch_idx / len(train_loader), loss.item())) def test(epoch): model.eval()#æŠŠmoduleè®¾ç½®ä¸ºè¯„ä¼°æ¨¡å¼ï¼Œåªå¯¹Dropoutå’ŒBatchNormæ¨¡å—æœ‰å½±å“ test_loss = 0 correct = 0 for data, target in test_loader: if args.cuda: data, target = data.cuda(), target.cuda() data, target = Variable(data, volatile=True), Variable(target) output = model(data) test_loss += F.nll_loss(output, target).item()#Variable.data pred = output.data.max(1)[1] # get the index of the max log-probability correct += pred.eq(target.data).cpu().sum() test_loss = test_loss test_loss /= len(test_loader) # loss function already averages over batch size print(&#x27;\\nTest set: Average loss: &#123;:.4f&#125;, Accuracy: &#123;&#125;/&#123;&#125; (&#123;:.0f&#125;%)\\n&#x27;.format( test_loss, correct, len(test_loader.dataset), 100. * correct / len(test_loader.dataset))) if __name__ == &#x27;__main__&#x27;: for epoch in range(1, args.epochs + 1): train(epoch) test(epoch) åˆ«äººæ€»ç»“çš„ Pytorch handbookï¼Œçœ‹ä¸Šå»è¿˜ä¸é”™ 0x01 Review of linear regression çº¿æ€§å›å½’æ˜¯éå¸¸ç»å…¸çš„æ¨¡å‹ï¼Œå…¶æ±‚è§£æ–¹æ³•å¹¶ä¸æ˜¯åªæœ‰æ¢¯åº¦ä¸‹é™ä¸€ç§ï¼ŒCS229-01â€“çº¿æ€§æ¨¡å‹ä¹‹å‰çš„blogä¸­ç»™å‡ºäº†ç›¸å…³çš„ä»‹ç»ï¼Œè¿™é‡Œå†é‡æ–°å¤è¿°ä¸€ä¸‹å’Œå…³äºè‡ªå·±åœ¨å…¶ä¸­æ–°çš„æ€è€ƒ 1.1 è®°å·å’Œå¼•è¨€ å‡è®¾æ¯ä¸ªsampleåŒ…å«featureï¼ˆn1ï¼‰å’Œlabelï¼ˆ11ï¼‰ï¼Œä¹Ÿå°±æ˜¯[(x(i),y(i)),i=0:...:m][(x^{(i)},y^{(i)}),i=0:...:m][(xâ€‹(i)â€‹â€‹,yâ€‹(i)â€‹â€‹),i=0:...:m],åœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¸Œæœ›æ„å»ºä¸€ä¸ªmodelï¼ˆæˆ–è€…è¯´ä¸€ç§functionï¼‰æ¥ä½œä¸ºfeatureå’Œlabelä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œè¿™æ ·åœ¨ä¸€ä¸ªæ–°çš„featureåˆ°æ¥çš„æ—¶å€™ï¼Œå¯ä»¥åšå‡ºäº†é¢„æµ‹ã€‚è¿™ä¸ªmodelå…¶å®å°±æ˜¯å®ä¾‹åŒ–çš„hypothesisï¼Œå®ä¾‹åŒ–çš„è¿‡ç¨‹ä¾¿æ˜¯optimizationç¡®å®šæ¨¡å‹parametersçš„è¿‡ç¨‹ï¼Œå…¶ä¸­åŒ…æ‹¬loss functionä¸optim method 1.2 æ¨¡å‹å®ç°çš„è¿‡ç¨‹ å¯¹äºçº¿æ€§å›å½’ï¼Œæ‰€åšå‡ºçš„hypothesisè‡ªç„¶æ˜¯çº¿æ€§çš„ï¼Œè¿™ä¹Ÿæ˜¯å®ƒå±äºå¹¿ä¹‰çº¿æ€§æ¨¡å‹çš„åŸå›  h(x)=wTâˆ—x+bh(x)=w^T*x+b h(x)=wâ€‹Tâ€‹â€‹âˆ—x+b w:nâˆ—1w:n*1 w:nâˆ—1 b:1âˆ—1b:1*1 b:1âˆ—1 å¯¹äºä¼˜åŒ–è¿‡ç¨‹ï¼Œç¬¬ä¸€æ­¥æ˜¯ç¡®å®šæŸå¤±å‡½æ•°ï¼Œç¬¬äºŒæ­¥æ˜¯åˆ©ç”¨æŸå¤±å‡½æ•°æ¥æ‰¾åˆ°å¯¹åº”çš„w,bw,bw,bå‚æ•°å€¼ä½¿å¾—æœ€å° æŸå¤±å‡½æ•°æ˜¯ç”¨æ¥æè¿°é¢„æµ‹å€¼å’Œå®é™…å€¼ä¹‹é—´çš„å·®åˆ«ï¼Œé€šå¸¸æ¨¡å‹è¶Šå¥½æŸå¤±å‡½æ•°éœ€è¦æœ€å°ï¼Œè¿™é‡Œé‡‡ç”¨çš„æ˜¯æ¬§æ°è·ç¦»ä½œä¸ºæŸå¤±å‡½æ•°ï¼Œå…·ä½“åŸå› åœ¨1.3ä¸­è§£é‡Š argminw,b12Î£i=0i=mâˆ’1(h(x(i))âˆ’y(i))2argmin_{w,b}\\frac{1}{2}\\Sigma_{i=0}^{i=m-1}(h(x^{(i)})-y^{(i)})^2 argminâ€‹w,bâ€‹â€‹â€‹2â€‹â€‹1â€‹â€‹Î£â€‹i=0â€‹i=mâˆ’1â€‹â€‹(h(xâ€‹(i)â€‹â€‹)âˆ’yâ€‹(i)â€‹â€‹)â€‹2â€‹â€‹ ä¹‹åä¾¿æ˜¯æ±‚è§£è¿™ä¸ªä¼˜åŒ–é—®é¢˜çš„æ–¹å¼ï¼Œå¯¹äºçº¿æ€§å›å½’æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯åˆ©ç”¨çŸ©é˜µçš„normal equationæ–¹æ³•å¾—åˆ°è§£æè§£ï¼›äºŒæ˜¯åˆ©ç”¨æ·±åº¦å­¦ä¹ ä¸­å¸¸ç”¨çš„æ¢¯åº¦ä¸‹é™ï¼ˆgradient descentï¼‰çš„å¯å‘å¼æ–¹æ³•æ¥å¾—åˆ°è¿‘ä¼¼è§£ï¼ˆpsï¼šå’Œåšæ—¶åˆ»è¡¨ä¸€æ ·ï¼‰ normal equationï¼Œåˆ©ç”¨å¯¼æ•°ä¸º0çš„æå€¼ç‚¹å¾—åˆ°å–å€¼ï¼Œæ¨å¯¼è¿‡ç¨‹ç•¥ gradient descentï¼Œåˆ©ç”¨å¯¼æ•°ä¸‹é™çš„æ–¹å¼æ¥æ¢ç´¢çš„æ¥è¿‘æå€¼ç‚¹ w=wâˆ’lrâˆ—âˆ‚âˆ‚wL(w,b)w=w-lr*\\frac{\\partial}{\\partial w}L(w,b) w=wâˆ’lrâˆ—â€‹âˆ‚wâ€‹â€‹âˆ‚â€‹â€‹L(w,b) w=wâˆ’lrâˆ—(h(x)âˆ’y)xw=w-lr*(h(x)-y)x w=wâˆ’lrâˆ—(h(x)âˆ’y)x çº¿æ€§æ¨¡å‹çš„æ¢¯åº¦æ¯”è¾ƒå¥½æ±‚è§£ 1.3 æ¨¡å‹è§£é‡Š æœºå™¨å­¦ä¹ æœ€æ–¹ä¾¿çš„å°±æ˜¯å¯è§£é‡Šæ€§ã€‚é¦–å…ˆæˆ‘ä»¬çš„å‡è®¾ä¸­è®¤ä¸ºfeatureså’Œlabelsä¹‹é—´æ˜¯å…³äºçº¿æ€§åˆ†å¸ƒï¼Œä½†æ˜¯é€šå¸¸æƒ…å†µä¸‹æ€»ä¼šæœ‰å„ç§å„æ ·çš„å› ç´ ä¹Ÿå°±æ˜¯é«˜æ–¯åˆ†å¸ƒçš„å‡è®¾ï¼Œæ‰€ä»¥å¦‚æœæœ‰Ground- truthçš„è¯ï¼Œé‚£å¿…ç„¶æ˜¯ï¼Œä¸»ä¹‰å—·å¯¹äºä¸åŒ h(x)=wTâˆ—x+b+Ïµh(x)=w^T*x+b+\\epsilon h(x)=wâ€‹Tâ€‹â€‹âˆ—x+b+Ïµ p(Ïµ)=1(2âˆ—Î )âˆ—Ïƒexp(âˆ’(Ïµ(i))22Ïƒ2)p(\\epsilon)=\\frac{1}{\\sqrt(2*\\Pi)*\\sigma}exp(-\\frac{(\\epsilon^{(i)})^2}{2\\sigma^2}) p(Ïµ)=â€‹âˆšâ€‹(â€‹â€‹â€‹2âˆ—Î )âˆ—Ïƒâ€‹â€‹1â€‹â€‹exp(âˆ’â€‹2Ïƒâ€‹2â€‹â€‹â€‹â€‹(Ïµâ€‹(i)â€‹â€‹)â€‹2â€‹â€‹â€‹â€‹) æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æœ€å¤§ä¼¼ç„¶æ³•ï¼ˆmaximum likelihoodï¼‰ çš„æ–¹å¼æ¥æ¨å¯¼æˆ‘ä»¬æƒ³è¦ä»€ä¹ˆï¼ŸæŠ›å¼ƒä¼ ç»Ÿè·ç¦»çš„æ¦‚ç‡ï¼Œæˆ‘ä»¬ç”¨æ¦‚ç‡çš„æ–¹å¼æ¥è¡¨ç¤º.ï¼ˆæˆ‘ä»¬çš„ç›®çš„éƒ½æ˜¯é¢„æµ‹å€¼å’ŒçœŸå®å€¼ç›¸æ¥è¿‘ï¼Œå¯ä»¥ç”¨è·ç¦»ã€ä¹Ÿå¯ä»¥ç”¨åˆ†å¸ƒæ¦‚ç‡ï¼‰ ç”±ä¸Šæˆ‘ä»¬å¯ä»¥çœ‹å‡ºé¢„æµ‹å€¼çš„æ¦‚ç‡å€¼ï¼ˆä¸æ˜¯æ¦‚ç‡åˆ†å¸ƒï¼ï¼ï¼‰ p(y^(i))=p(h(x))=1(2âˆ—Î )âˆ—Ïƒexp(âˆ’(y(i)âˆ’h(x(i)))22Ïƒ2)p(\\hat y^{(i)})=p(h(x))=\\frac{1}{\\sqrt(2*\\Pi)*\\sigma}exp(-\\frac{(y^{(i)}-h(x^{(i)}))^2}{2\\sigma^2}) p(â€‹yâ€‹^â€‹â€‹â€‹(i)â€‹â€‹)=p(h(x))=â€‹âˆšâ€‹(â€‹â€‹â€‹2âˆ—Î )âˆ—Ïƒâ€‹â€‹1â€‹â€‹exp(âˆ’â€‹2Ïƒâ€‹2â€‹â€‹â€‹â€‹(yâ€‹(i)â€‹â€‹âˆ’h(xâ€‹(i)â€‹â€‹))â€‹2â€‹â€‹â€‹â€‹) æˆ‘ä»¬å¸Œæœ›æ‰€æœ‰çš„æ•°æ®é›†ä¸­çš„æ¦‚ç‡éƒ½å°½å¯èƒ½çš„å¤§ï¼Œæ‰€ä»¥ argmaxâˆi=0i=mâˆ’1p(y^(i))argmax \\prod_{i=0}^{i=m-1} p(\\hat y^{(i)}) argmaxâ€‹i=0â€‹âˆâ€‹i=mâˆ’1â€‹â€‹p(â€‹yâ€‹^â€‹â€‹â€‹(i)â€‹â€‹) è¿™ä¸ªæ—¶å€™å°±å¯ä»¥æ±‚å¯¼å¾—åˆ°ç­‰ä»·äº1.2ä¸­æŸå¤±å‡½æ•°çš„å¼å­! 1.4 å›é¡¾è¿‡ç¨‹ 1.1 ç»™å‡ºä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšã€1.2 ç»™å‡ºç†è®ºæ¨å¯¼è¿‡ç¨‹ã€1.3ç»™å‡ºæ¨¡å‹çš„è§£é‡Šã€‚è¿™é‡Œä¸€ä¸ªå›°æƒ‘çš„ç‚¹åœ¨äºloss functionæ˜¯å…ˆæœ‰è¿˜æ˜¯å…ˆå¯ä»¥è¢«è§£é‡Šçš„ã€‚æˆ‘çš„ä¸ªäººç†è§£æ˜¯å®ƒå…ˆæœ‰æ¬§æ°è·ç¦»çš„æ–¹å¼ï¼Œåé¢éšç€å‘å±•æ‰é€æ¸åˆ©ç”¨æ¦‚ç‡æ–¹å¼è§£é‡Šï¼ŒåŒæ—¶è¿™ç§è§£é‡Šçš„èŒƒå¼æˆ‘ä»¬ä¹Ÿå¯ä»¥æ¨å¹¿ç»™å…¶ä»–æ¨¡å‹ã€‚ æ¯”å¦‚åœ¨é€»è¾‘å›å½’ä¸­ï¼Œå¹¶ä¸æ˜¯ç»™å‡ºå‡è®¾å°±ç»™å‡ºæŸå¤±å‡½æ•°ï¼Œè€Œæ˜¯åˆ©ç”¨æ¦‚ç‡æ–¹å¼æ¥**æ¨å¯¼ï¼ˆï¼ï¼ï¼‰**å¾—åˆ°æŸå¤±å‡½æ•°ï¼Œè¿™é‡Œå¸¸ç”¨çš„æ–¹å¼æ˜¯MLPå’ŒMAEæˆ–è€…å…¶ä»–çš„æ–¹å¼ï¼Œåœ¨é€‰æ‹©åˆé€‚çš„ä¼˜åŒ–ç®—æ³•æ¥å¯»æ‰¾å‚æ•° ä¸åŒäºæœºå™¨å­¦ä¹ ç›®çš„æ˜¯å¾—åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„æ¨¡å‹ï¼Œä¼ ç»Ÿçš„ç»Ÿè®¡åˆ†æä¼šç»™å‡ºå‚æ•°ä¼°è®¡çš„ä¼˜åŠ£ä»¥åŠæ£€éªŒæ˜¯å¦åˆç†ï¼Œå¹¶å°±å¾—åˆ°çš„å‚æ•°ç»™å‡ºè‡ªå˜é‡å’Œå› å˜é‡ä¹‹é—´çš„å…³ç³»ã€‚ 0x02 Manual implementation processï¼ˆeight stepï¼‰ æ¥ä¸‹æ¥å°±æ˜¯åˆ©ç”¨ä»£ç å®ç°ä¸Šè¿°åŠŸèƒ½ï¼Œè¿™é‡Œå‚è€ƒææ²è€å¸ˆçš„d2lï¼Œåœ¨æœ€å¼€å§‹è½¯ä»¶æ¨¡å—çš„è®¾è®¡ä¸­å°±å·²ç»ç»™å‡ºæ¥ä»£ç çš„æ¡†æ¶ã€‚ 2.1 ç”Ÿæˆæ•°æ®é›†/è¯»å–æ•°æ®é›† 12345678910111213# ç¬¬ä¸€æ­¥ï¼Œç”ŸæˆåŒ…å«éšæœºå™ªéŸ³çš„æ•°æ®import randomimport torchdef synthetic_data(w,b,num_examples): &#x27;&#x27;&#x27;ç”ŸæˆåŒ…å«éšæœºå™ªéŸ³çš„çº¿æ€§å›å½’æ•°æ®&#x27;&#x27;&#x27; X=torch.normal(0,1,(num_examples,len(w))) y=torch.matmul(X,w)+b y+=torch.normal(0,0.01,y.shape) return X,y.reshape(-1,1)true_w=torch.tensor([2,-3.4])true_b=4.2features,labels=synthetic_data(true_w,true_b,1000) 2.2 æ•°æ®è§‚å¯Ÿä¸é¢„å¤„ç†ï¼ˆæš‚æ— ï¼‰ 1234# ç¬¬äºŒæ­¥ï¼Œç®€å•çš„è§‚å¯Ÿfeatureä¸labelsä¹‹é—´çš„å…³ç³»# æœ¬æ–‡ä¸­æœ‰featureä¸ºï¼ˆ1000ï¼Œ2ï¼‰ï¼Œå› æ­¤å¯ä»¥çœ‹ç¬¬äºŒä¸ªç‰¹å¾å’Œlabelsä¹‹é—´çš„å…³ç³»import matplotlib.pyplot as pltplt.scatter(features[:,1],labels) 2.3 æ•°æ®è¿­ä»£å™¨ï¼ˆDataloaderï¼‰ è¿™é‡Œé‡‡ç”¨çš„å°æ‰¹é‡ï¼ˆbatchï¼‰çš„æ¢¯åº¦ä¸‹é™ï¼›åœ¨æ¢¯åº¦ä¸‹é™çš„è¿‡ç¨‹ä¸­æœ€ç›´æ¥çš„æ˜¯è®¡ç®—æ‰€æœ‰æ•°æ®é›†çš„æ¢¯åº¦è¿›è¡Œæ›´æ–°ï¼Œè¿™æ ·å¯¹äºmemoryçš„å‹åŠ›æ¯”è¾ƒå¤§ï¼Œå› æ­¤å¯ä»¥ä¸€ä¸ªepochè¿›è¡Œåˆ’åˆ†ï¼Œåˆ’åˆ†ä¸åŒçš„batch_sizeï¼Œå†åˆ©ç”¨batchè¿›è¡Œå‚æ•°æ›´æ–°ã€‚ ä½†æ˜¯è¿™æ ·çš„ç–‘é—®åœ¨äºbatchèƒ½ä»£è¡¨æ•´ä¸ªè®­ç»ƒé›†è¿›è¡Œæ›´æ–°å—ï¼Ÿæ‰€ä»¥è¿™æ ·å­å°±éœ€è¦è®­ç»ƒå¾ˆå¤šæ¬¡ï¼Œåœ¨æŸç§ç‰¹æ®Šæƒ…å†µä¸‹ä¼šéœ‡è¡å¤šæ¬¡ï¼Œæ‰€æœ‰ä¹Ÿä¼šæœ‰æ›´å¤šçš„ä¼˜åŒ–ç®—æ³•ï¼Œæ¥æ·»åŠ å™ªéŸ³æˆ–è€…åŠ¨é‡ï¼Œæå‡ä¼˜åŒ–ç®—æ³•çš„å¥å£®æ€§ã€‚ 12345678910111213# ç¬¬ä¸‰éƒ¨ï¼Œå¯¹æ•°æ®é›†è¿›è¡Œè¿­ä»£å¤„ç†ï¼Œè¿™æ ·å¯ä»¥ä¿è¯åœ¨éšæœºæ¢¯åº¦ä¸‹é™è¿‡ç¨‹ä¸­ä¼šæ…¢æ…¢è½¬æ¢è¿›å»def data_iter(batch_size,features,labels): num_examples=len(features) indices=list(range(num_examples)) random.shuffle(indices) for i in range(0,num_examples,batch_size): batch_indices=torch.tensor(indices[i:min(i+batch_size,num_examples)]) yield features[batch_indices],labels[batch_indices]# yieldçš„ä½œç”¨è¿™é‡Œçš„è¿­ä»£çš„ç»“æœæ˜¯é€æ­¥å‘å‡ºæ¥çš„batch_size=10for X,y in data_iter(batch_size,features,labels): print(X,&#x27;\\n&#x27;,y) break 2.4 åˆå§‹åŒ–å‚æ•° 123# ç¬¬å››æ­¥ï¼Œåˆå§‹åŒ–å‚æ•°w=torch.normal(0,0.01,size=(2,1),requires_grad=True)b=torch.zeros(1,requires_grad=True) 2.5 å®šä¹‰æ¨¡å‹ï¼ˆnetï¼‰ å…¶å®è¿™é‡Œnetçš„è¾“å…¥å‚æ•°åº”è¯¥æ˜¯Xå’Œparamï¼Œå› ä¸ºåœ¨åç»­çš„æ¨¡å‹ä¸­è‚¯å®šä¼šæœ‰å‚æ•°å’Œè®­ç»ƒæ ·æœ¬çš„è¾“å…¥ï¼Œä½†æ˜¯è®¡ç®—æ–¹å¼å’Œlinregå¹¶ä¸æ˜¯ç›¸ä¼¼ï¼Œå¦‚æœè¾“å…¥å‚æ•°è§„å®šå¥½ä¸ºwå’Œbï¼Œåœ¨åç»­æ›´æ”¹ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚ 123456# ç¬¬äº”æ­¥ï¼Œå®šä¹‰æ¨¡å‹def linreg(X,w,b): &#x27;&#x27;&#x27;linear regression&#x27;&#x27;&#x27; # X M*n # w n*1 return torch.matmul(X,w)+b 2.6 å®šä¹‰æŸå¤±å‡½æ•°ï¼ˆlossï¼‰ æŸå¤±å‡½æ•°è¡¨å¾çš„æ˜¯é¢„æµ‹å€¼å’ŒçœŸå®å€¼ä¹‹é—´çš„å·®è·ï¼Œå› æ­¤å‡½æ•°çš„è¾“å…¥åº”è¯¥ä¸ºé¢„æµ‹å€¼ä¸çœŸå€¼ï¼Œè¿™æ ·å°±å¯ä»¥è¢«å¤ç”¨ 1234# ç¬¬å…­æ­¥ï¼Œå®šä¹‰æŸå¤±å‡½æ•°def squared_loss(y_hat,y): &#x27;&#x27;&#x27;å‡æ–¹è¯¯å·®&#x27;&#x27;&#x27; return (y_hat-y.reshape(y_hat.shape))**2/2 2.7 å®šä¹‰ä¼˜åŒ–ç®—æ³•ï¼ˆoptimï¼‰ è¿™é‡Œè¿˜æ˜¯ä½¿ç”¨ç»™å¥½çš„APIå®ç°ï¼ŒåŒæ—¶åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­æˆ‘ä»¬éœ€è¦è®¾ç½®çš„é™¤äº†æ‰¹é‡æ¢¯åº¦ä¸‹é™çš„batch-sizeä¹‹å¤–ï¼Œè¿˜éœ€è¦ç¡®å®šå­¦ä¹ ç‡ã€‚è¿™ä¸ªåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½æ˜¯éœ€è¦è®¾ç½®çš„ 123456# ç¬¬ä¸ƒæ­¥ï¼Œå®šä¹‰ä¼˜åŒ–ç®—æ³•def sgd(params,lr,batch_size): with torch.no_grad(): for param in params: param-=lr*param.grad/batch_size param.grad.zero_() 2.8 å®Œæ•´çš„è®­ç»ƒè¿‡ç¨‹ 1234567891011121314# ç¬¬å…«æ­¥ï¼Œå®Œæ•´çš„è®­ç»ƒè¿‡ç¨‹lr=0.03num_epoch=3net=linregloss=squared_lossfor epoch in range(num_epoch): for X,y in data_iter(batch_size,features,labels): l=loss(net(X,w,b),y) l.sum().backward() sgd([w,b],lr,batch_size) with torch.no_grad(): train_l=loss(net(features,w,b),labels) print(&#x27;epoch&#123;&#125;,loss&#123;&#125;&#x27;.format(str(epoch+1),str(float(train_l.mean())))) 0x03 Automatic implementation process ï¼ˆPytorchï¼‰ å›é¡¾ä¸Šè¿°çš„è¿‡ç¨‹ï¼Œä¸ºäº†2.8æœ€åçš„è®­ç»ƒè¿‡ç¨‹ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç”Ÿæˆæ•°æ®é›†å’Œè¯»å–æ•°æ®é›†ï¼›ä¹‹åæˆ‘ä»¬å†™æ¥ä¸€ä¸ªdataloaderæ¥å°†æ•°æ®é›†è½¬æ¢ä¸ºå¯è¿­ä»£ï¼ˆiterableï¼‰çš„å¯¹è±¡æ¥æ–¹ä¾¿åç»­çš„æ¢¯åº¦ä¸‹é™ï¼Œdataloaderä¸­æˆ‘ä»¬éœ€è¦è®¾ç½®æ•°æ®é›†ã€batch-sizeã€æ˜¯å¦å¯ä»¥è¢«æ‰“ä¹±ï¼›åé¢å®šä¹‰æ¨¡å‹ã€æŸå¤±å‡½æ•°å’Œä¼˜åŒ–ç®—æ³•ï¼Œæ¨¡å‹æ˜¯éœ€è¦æ ¹æ®paramå’Œxæ¥å¾—åˆ°é¢„æµ‹å€¼ã€æŸå¤±å‡½æ•°éœ€è¦æ ¹æ®é¢„æµ‹å€¼å’ŒçœŸå®å€¼å¾—åˆ°ç»“æœã€ä¼˜åŒ–ç®—æ³•éœ€è¦æ ¹æ®å­¦ä¹ ç‡ã€batch sizeæ¥è¿›è¡Œå‚æ•°æ›´æ–° 1234567891011121314151617181920212223242526272829303132333435import numpy as npimport torchfrom torch.utils import data# ç¬¬ä¸€æ­¥ç”Ÿæˆæ•°æ®é›†true_w=torch.tensor([2,-3.4])true_b=4.2features,labels=synthetic_data(true_w,true_b,1000)# ç¬¬äºŒæ­¥è¯»å–æ•°æ®é›†def load_array(data_arrays,batch_size,is_train=True): dataset=data.TensorDataset(*data_arrays) return data.DataLoader(dataset,batch_size,shuffle=is_train)batch_size=10data_iter=load_array((features,labels),batch_size)# è¿™é‡Œdata_iterçš„æ–¹å¼ä¸ä¹‹å‰çš„æ–¹å¼ç›¸ä¼¼# ç¬¬ä¸‰æ­¥ï¼Œå¯è§†åŒ–æ è¿‡# ç¬¬å››æ­¥ï¼Œå®šä¹‰æ¨¡å‹from torch import nnnet=nn.Sequential(nn.Linear(2,1))net[0].weight.data.normal_(0,0.01)net[0].bias.data.fill_(0)loss=nn.MSELoss()trainer=torch.optim.SGD(net.parameters(),lr=0.03)num_epoch=3for epoch in range(num_epoch): for X,y in data_iter: l=loss(net(X),y) trainer.zero_grad() l.backward() trainer.step() l=loss(net(features),labels) print(&#x27;epoch&#123;&#125; loss is &#123;&#125;&#x27;.format(str(epoch+1),str(float(l)))) 0x04 Discussion åœ¨äº†è§£æ•´ä¸ªä»£ç å®ç°è¿‡ç¨‹ä¹‹åï¼Œæ‰èƒ½æ›´å¥½çš„äº†è§£åˆ°åç»­çš„é€»è¾‘å›å½’ã€å›¾åƒæ·±åº¦å­¦ä¹ ç­‰ä»£ç å®ç°çš„æ–¹å¼ï¼Œä»¥åŠå¦‚ä½•å­¦ä¹ pytorchçš„ç»“æ„","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"D2L","slug":"D2L","permalink":"https://blog.tjdata.site/tags/D2L/"}]},{"title":"Reviewï¼šWebPage_Requestçš„å®Œæ•´è¿‡ç¨‹","slug":"WebPage_Requestçš„å®Œæ•´è¿‡ç¨‹","date":"2022-08-30T03:48:05.000Z","updated":"2022-10-17T08:18:08.947Z","comments":true,"path":"posts/cb0af509.html","link":"","permalink":"https://blog.tjdata.site/posts/cb0af509.html","excerpt":"æ‘˜è¦","text":"æ‘˜è¦ åº”ç”¨å±‚åè®® è®¡ç®—æœºç½‘ç»œå­¦ä¹ ç¬”è®° â€“ åº”ç”¨å±‚åè®® ä¸‡ç»´ç½‘ HTTP Proxy ç”µå­æ¸¸æˆ SMTP POP3IMAP å±€åŸŸç½‘IPåœ°å€åˆ†é… DHCP åŸŸåè§£æ DNS ç½‘ç»œä¸‹è½½ P2P æµåª’ä½“ CDN è¿è¾“å±‚åè®® è®¡ç®—æœºç½‘ç»œå­¦ä¹ ç¬”è®° â€“ è¿è¾“å±‚åè®® UDP TCP ç½‘ç»œå±‚åè®® è®¡ç®—æœºç½‘ç»œå­¦ä¹ ç¬”è®° â€“ ç½‘ç»œå±‚åè®® IPåè®® - æ•°æ®å±‚é¢ IPåè®® - æ§åˆ¶å±‚é¢ é“¾è·¯å±‚åè®® æ¯”è¾ƒåä½å±‚ï¼Œä¸é‡è§† ä»¥å¤ªç½‘ ç‰©ç†å±‚åè®® å®Œå…¨åº•å±‚ï¼Œä¸é‡è§† IEEE802.11 0x02 å®Œæ•´çš„ä½¿ç”¨è¿‡ç¨‹ é—®é¢˜æè¿°ï¼šåœ¨å­¦æ ¡ï¼Œå­¦ç”Ÿæ˜¯å¦‚ä½•é€šè¿‡æ ¡å›­ç½‘é“¾æ¥åˆ°ç½‘ç»œï¼Œç„¶åä¸‹è½½www.baidu.comçš„ä¸»é¡µé¢çš„ æ¶‰åŠåˆ°çš„åè®®ï¼šåº”ç”¨å±‚çš„DHCPã€DNSã€HTTPï¼›è¿è¾“å±‚çš„UDPï¼›ç½‘ç»œå±‚çš„IPï¼›é“¾è·¯å±‚çš„ä»¥å¤ªç½‘ 2.1 Userå¯åŠ¨å®ƒçš„PCï¼Œå¯ä»¥ä½¿ç”¨ä¸€æ ¹ä»¥å¤ªç½‘ç”µç¼†æˆ–è€…WI-FIä¸å­¦æ ¡çš„ä»¥å¤ªç½‘äº¤æ¢æœºè¿æ¥ï¼Œå­¦æ ¡çš„äº¤æ¢æœºä¹Ÿå’Œå­¦æ ¡çš„Routerè¿æ¥ã€‚ å­¦æ ¡çš„Routerä¸æœ¬åœ°çš„ISPï¼ˆå¯èƒ½æ˜¯ä¸­å›½ç§»åŠ¨ä¹Ÿæœ‰å¯èƒ½æ˜¯å…¶ä»–çš„ä»€ä¹ˆä¸œè¥¿ï¼ŒåŸæ–‡ä¸­çš„å†å²comcast.net)è¿æ¥ï¼Œå› æ­¤æä¾›DNSæœåŠ¡ï¼Œä¹Ÿå°±æ˜¯è¯´DNSæœåŠ¡å™¨æ˜¯åœ¨ISPçš„ç½‘ç»œä¸­ Userä¸ºäº†è¿æ¥ç½‘ç»œï¼Œé¦–å…ˆéœ€è¦é€šè¿‡DHCPæ¥è·å¾—è‡ªå·±çš„IPåœ°å€ï¼Œå› æ­¤å®ƒé€šè¿‡DHCPè¯·æ±‚æŠ¥æ–‡æ¥è·å¾—è‡ªå·±çš„IPåœ°å€ è¯·æ±‚æŠ¥æ–‡æ”¾åˆ°ç›®çš„ç«¯å£67å’Œè¯·æ±‚ç«¯å£68çš„UDPæŠ¥æ–‡æ®µï¼Œæ”¾åˆ°å¹¿æ’­IPï¼ˆ255.255.255.255ï¼‰å’ŒæºIPåœ°å€ï¼ˆ0.0.0.0ï¼‰çš„IPæ•°æ®æŠ¥ä¸­ åŒ…å«IPæ•°æ®æŠ¥é˜²æ­¢é“ä»¥å¤ªç½‘å¸§ä¸­ï¼Œç›®çš„MACåœ°å€ï¼ˆFF.FF.FF.FF.FF.FFï¼‰ï¼ŒæºMacåœ°å€å°±æ˜¯Userçš„PCçš„Macåœ°å€ï¼Œæ¯”å¦‚è¯´æ˜¯3c:a6:f6:05:15:2c Routeræ¥å—åˆ°å¯¹åº”çš„Macåœ°å€åï¼Œä»ä»¥å¤ªç½‘Frameä¸­æŠ½å–å‡ºIPæ•°æ®æŠ¥ï¼Œç„¶åè·å¾—UDPæŠ¥æ–‡æ®µï¼Œç”±æ­¤å¾—åˆ°äº†DHCPçš„è¯·æ±‚æŠ¥æ–‡ å‡è®¾Routerä¸­å¤„ç† DHCPè¯·æ±‚æŠ¥æ–‡çš„æ–¹å¼æ˜¯ä½¿ç”¨CIDRï¼Œ68.85.2.0/24åˆ†é…IPåœ°å€ï¼Œå› æ­¤åˆ†é…68.85.2.101ç»™PCã€ç½‘å…³åœ°å€68.85.2.1å’Œå­ç½‘æ©ç 68.85.2.0/24çš„DHCPACKæŠ¥æ–‡å’ŒDNSçš„åœ°å€ï¼Œæ”¾åˆ°UDPæŠ¥æ–‡æ®µã€IPæ•°æ®æŠ¥ã€ä»¥å¤ªç½‘æ•°æ®å¸§ï¼Œå‘é€å›å‘å‡ºè¯·æ±‚çš„PCçš„macåœ°å€ âš ï¸è¿”å›çš„æ—¶å€™macåœ°å€å¹¶ä¸æ˜¯å¹¿æ’­çš„ï¼Œåœ¨DHCPçš„ACKåˆ°è¾¾PCçš„æ—¶å€™ï¼Œå¼€å§‹å¾—åˆ°è‡ªå·±çš„IPåœ°å€å’ŒDNSçš„IPåœ°å€ï¼Œå¯ä»¥å¼€å§‹ä¸Šç½‘äº†ï¼ å½“Useré”®å…¥www.google.comä¹‹åï¼Œwebæµè§ˆå™¨ç”Ÿæˆä¸€ä¸ªTCP socketå¼€å§‹å‘é€HTTP requestï¼Œè¿™é‡Œéœ€è¦å¾—åˆ°www.google.comçš„IPåœ°å€ ä¸ºäº†å¾—åˆ°www.google.comçš„IPåœ°å€ï¼Œéœ€è¦ç»å†DNSæŸ¥è¯¢æŠ¥æ–‡ï¼Œè¿™ä¸ªæŠ¥æ–‡éœ€è¦æœ‰DNSæœåŠ¡å™¨çš„åœ°å€ï¼ˆæ¯”å¦‚68.87.71.226ï¼‰ä»¥åŠæºIPåœ°å€ï¼ˆ68.85.2.101ï¼‰ï¼Œä»¥åŠå­—ç¬¦ä¸²ï¼ˆâ€˜www.google.comâ€™) ä¸ºäº†å¾—åˆ°å­¦æ ¡ç½‘ç»œçš„ç½‘å…³è·¯ç”±å™¨ï¼Œéœ€è¦é€šè¿‡ARPå¾—åˆ°ç½‘å…³è·¯ç”±å™¨çš„Macåœ°å€ å¾—åˆ°ç½‘å…³è·¯ç”±å™¨çš„åœ°å€ä¹‹åï¼ŒPCå‘å‡ºçš„Frameä¸­çš„IPæ•°æ®æŠ¥çš„ç›®çš„IPåœ°å€ä¸ºDNSã€æºIPåœ°å€ä¸ºPCåœ°å€ã€å¸§çš„ç›®çš„åœ°å€æ˜¯ç½‘å…³è·¯ç”±å™¨çš„åœ°å€ ç½‘å…³è·¯ç”±å™¨æ¥å—åˆ°Frameç—…æŠ½å–åŒ…å«DNSæŸ¥è¯¢çš„IPæ•°æ®æŠ¥ï¼Œè§£æåœ¨é‡æ–°åŸåˆ™è·¯ç”±å™¨ï¼Œå†å°†IPæ•°æ®æŠ¥æ”¾ç½®åˆ°é“¾è·¯å±‚Frameä¸­å›½å‘é€ åˆ°è¾¾ä¹‹åï¼Œé‡æ–°è¿”å›ç»™PC å¾—åˆ°www.google.comçš„IPåœ°å€ä¹‹åï¼Œå°±å¯ä»¥è¿›è¡Œäº¤äº’äº†ï¼Œéœ€è¦TCPè¿æ¥å’ŒHTTPåè®®","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"Review","slug":"Review","permalink":"https://blog.tjdata.site/tags/Review/"}]},{"title":"paper02-2012-imagenet-classification-with-deep-convolutional-neural-networks","slug":"paper02-2012-imagenet-classification-with-deep-convolutional-neural-networks","date":"2022-08-27T03:27:20.000Z","updated":"2023-05-13T13:50:13.214Z","comments":true,"path":"posts/d4d56670.html","link":"","permalink":"https://blog.tjdata.site/posts/d4d56670.html","excerpt":"LeNetå’ŒAlexNetæ˜¯ä»ä¼ ç»Ÿæ‰‹å·¥ç‰¹å¾æå–SIFIã€HOGç­‰å‘æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œè½¬å˜çš„è¿‡æ¸¡æœŸã€‚","text":"LeNetå’ŒAlexNetæ˜¯ä»ä¼ ç»Ÿæ‰‹å·¥ç‰¹å¾æå–SIFIã€HOGç­‰å‘æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œè½¬å˜çš„è¿‡æ¸¡æœŸã€‚ NIPS-2012-imagenet-classification-with-deep-convolutional-neural-networks-Paper.pdf 0x01 Abstract è®­ç»ƒä¸€ä¸ªdeep convolutional nerual networkæ¥åŒºåˆ†ImageNetçš„LSVRC-2010æ¯”èµ›ä¸­çš„120ä¸‡å¼  high-resolutionåˆ°1000ä¸ªä¸åŒçš„class ï¼ˆç½‘ç»œæ•ˆæœï¼‰åœ¨æˆ‘ä»¬çš„testä¸­ï¼Œæˆ‘ä»¬é”™è¯¯ç‡ä»37.5%åˆ°17%çš„æå‡ï¼Œæ˜¾è‘—çš„å¥½äºç°æœ‰çš„SOTA ï¼ˆç½‘ç»œç»“æ„ï¼‰è¯¥neural networkåŒ…æ‹¬600ä¸‡å‚æ•°å’Œ65ä¸‡å‚æ•°ï¼ŒåŒ…æ‹¬5ä¸ªconvolutional layersï¼Œé¡ºåºæ˜¯1ä¸ªmax-pooling layersã€3ä¸ªfullyconnected layersã€ä»¥åŠæœ€ç»ˆçš„1000ä¸ªsoftmax ï¼ˆè®­ç»ƒè¿‡ç¨‹ï¼‰æˆ‘ä»¬ä½¿ç”¨ non-saturatingç¥ç»å…ƒå’Œé«˜æ•ˆçš„GPUå·ç§¯å®ç°ï¼ŒåŒæ—¶ä¸ºäº†å‡å°‘overfittingï¼Œæˆ‘ä»¬ä½¿ç”¨æœ€è¿‘ä¸€ç§æ–°çš„regularizationæ–¹æ³•dropout 1 Introduction åœ¨object recognitionä¸­çš„å…³é”®æ–¹æ³•æ˜¯é‡‡ç”¨ä¸€äº› machine learning çš„æ–¹æ³•ï¼›ç”±æ­¤æˆ‘ä»¬æ”¶é›†æ›´å¤šçš„datasetã€ç ”ç©¶æ›´å¼ºçš„modelsã€ä»¥åŠä½¿ç”¨æ›´å¥½çš„è®­ç»ƒtechniquesæ¥é˜²æ­¢ overfittingã€‚çš„å´åœ¨ä¸€äº›å¤§é‡æ•°æ®é›†çš„åŠ æŒä¸‹ï¼Œä¸€äº›ç®€å•çš„è¯†åˆ«ä»»åŠ¡å¯ä»¥éå¸¸è½»æ¾çš„è§£å†³ã€‚æ¯”å¦‚åœ¨MNISTæ•°æ®é›†ä¸­é”™è¯¯å·²ç»å’Œäººç›¸å½“ï¼ŒåŒæ—¶æ•°æ®é›†å°çš„æƒ…å†µä¹Ÿè¢«è®¤è¯†åˆ°ç¼ºç‚¹ï¼Œå› æ­¤æ–°çš„æ›´å¤§çš„æ•°æ®é›†LabelMeå’ŒImageNetè¢«å¼€å‘å‡ºæ¥ ä¸ºäº†ä»æ•°ç™¾ä¸‡çš„å›¾ç‰‡ä¸­å­¦ä¹ æ•°åƒæ•°æ®é›†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ–°çš„æ¨¡å‹ã€‚ä»ä¸€äº›è®ºæ–‡ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ° deep convolutional nerual networkåœ¨è®­ç»ƒä¸­æ˜¯æœ‰æ•ˆçš„ï¼Œä½†æ˜¯æˆ‘ä»¬çš„æ•°æ®é›†æ˜¯å¦‚æ­¤ä¹‹å¤§ä»¥è‡³äºå…¶ä¸­çš„prior knowledgeå¹¶ä¸èƒ½è¢«äººä¸ºè·å¾—ï¼Œè€Œæ˜¯éœ€è¦ä»æ•°æ®é›†ä¸­å¾—åˆ°ã€ owever, the immense complexity of the object recognition task means that this problem cannot be specified even by a dataset as large as ImageNet, so our model should also have lots of prior knowledge to compensate for all the data we donâ€™t havã€‘ï¼›åŒæ—¶CNNçš„å¤æ‚åº¦å¯ä»¥ç”±æ·±åº¦å’Œå¹¿åº¦å†³å®šï¼ŒåŒæ—¶å…¶å·ç§¯å¤©ç„¶çš„å…·æœ‰å¼ºæœ‰åŠ›çš„å›¾ç‰‡å…ˆéªŒçŸ¥è¯†ã€åŒæ—¶å› ä¸ºå·ç§¯å±‚å­˜åœ¨å…¶æ¯”feedforward neural networkçš„å‚æ•°è¦å°ä½†æ˜¯æ€§èƒ½å¹¶æ²¡æœ‰æ˜æ˜¾çš„ä¸‹é™ å°½ç®¡CNNçš„æœ‰æ•ˆï¼Œä¾æ—§å¾ˆéš¾åœ¨é«˜åˆ†è¾¨ç‡çš„å›¾åƒä¸­è¿›è¡Œè®­ç»ƒï¼Œä½†æ˜¯å¹¸è¿çš„æ˜¯ç°æœ‰çš„GPUå¯ä»¥é«˜åº¦æœ‰æ•ˆ2Dçš„å·ç§¯æ“ä½œæ¥å®ç°å¤§èŒƒå›´çš„è®­ç»ƒã€‚åœ¨æœ¬æ–‡ä¸­é‡‡ç”¨ä¸¤å—GTX580 3GBï¼Œè®­ç»ƒæ—¶é—´ä¸º5ï½6å¤© æœ¬æ–‡çš„è´¡çŒ® The specific contributions of this paper are as follows: we trained one of the largest convolutional neural networks to date on the subsets of ImageNet used in the ILSVRC-2010 and ILSVRC-2012 competitions [2] and achieved by far the best results ever reported on these datasets. We wrote a highly-optimized GPU implementation of 2D convolution and all the other operations inherent in training convolutional neural networks, which we make available publicly1. Our network contains a number of new and unusual features which improve its performance and reduce its training time, which are detailed in Section 3. The size of our network made overfitting a significant problem, even with 1.2 million labeled training examples, so we used several effective techniques for preventing overfitting, which are described in Section 4. Our final network contains five convolutional and three fully-connected layers, and this depth seems to be important: we found that removing any convolutional layer (each of which contains no more than 1% of the modelâ€™s parameters) resulted in inferior performance. 0x02 DataSet ImageNet ILSVRCï¼Œå…¶ä¸­å¸¸è§çš„æŒ‡æ ‡ä¸ºtop1å’Œtop5 å…¶ä¸­å‰ 5 ä¸ªé”™è¯¯ç‡æ˜¯æµ‹è¯•å›¾åƒä¸­æ­£ç¡®æ ‡ç­¾ä¸åœ¨æ¨¡å‹è®¤ä¸ºæœ€å¯èƒ½çš„äº”ä¸ªæ ‡ç­¾ä¸­çš„éƒ¨åˆ† é‡é‡‡æ ·256*256ï¼Œå¯¹äºéé•¿æ–¹å½¢çš„æ•°æ®scaleåˆ°ç›¸åŒçš„åƒç´ ã€‚æˆ‘ä»¬å¹¶æ²¡æœ‰åšå…¶ä»–ä¸å¤„ç† 4.1 Data Augmentation 0x03 Architecture 3.1 ReLU Nonlinearity å¸¸è§çš„æ¿€æ´»å‡½æ•°f(x)=tanh(x)æˆ–è€…\\[f(x)=(1+e^&#123;-x&#125;)^-1\\]å±äºsaturatingéçº¿æ€§ç¥ç»å…ƒ è€ŒReLUå‡½æ•°\\[f(x)=max(0,x)\\]å±äº non-saturatingéçº¿æ€§ç¥ç»å…ƒ åè€…é€Ÿåº¦è¦æ˜¾è‘—å¿«äºå‰è€…,è¿™ä¸ªå¯¹äºå¤§è®­ç»ƒé›†çš„è®­ç»ƒæ˜¯éå¸¸æœ‰æ•ˆçš„ åŒæ ·æˆ‘ä»¬å¹¶ä¸æ˜¯ç¬¬ä¸€ä¸ªå»è€ƒè™‘æ›¿æ¢æ¿€æ´»å‡½æ•°ï¼Œæ¯”å¦‚ æœ‰äººå°è¯•ä½¿ç”¨\\[f(x)=|tanh(x)|\\] 3.2 Training on Multiple GPUs å¦‚ä½•ä½¿ç”¨ä¸åŒçš„GPUè¿›è¡Œè®­ç»ƒ GPUå­˜åœ¨çš„é—®é¢˜æ˜¯3GBçš„æ˜¾å­˜å¹¶ä¸å¤Ÿå®Œæ•´æ•°æ®çš„ç½‘ç»œåœ¨å…¶ä¸­è®­ç»ƒï¼ˆåªèƒ½åŒ…å«12ä¸‡å‚æ•°ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å°†ç½‘ç»œåˆ’åˆ†åœ¨ä¸¤ä¸ªGPUä¸­è®­ç»ƒï¼Œæ•´ä¸ªè¿‡ç¨‹åªæœ‰æ•ˆ 3.3 Local Response Normalization card ReLUä¸­å¹¶ä¸éœ€è¦è¾“å…¥ normalizationæ¥æ–¹å¼ç¥ç»å…ƒ saturatingï¼Œåªéœ€è¦å‘ç”Ÿæ­£æ ·æœ¬åˆ™ä¼šäº§ç”Ÿè®­ç»ƒç»“æœï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶å‘ç°ä¸‹é¢çš„ normalizationå¯¹äºæ³›åŒ–æ€§èƒ½æ˜¯æœ‰æ•ˆ $$b_{x,y}i=\\frac{a_{x,y}i}{(k+a\\Sigma_{j=max(0,i-n)/2}{min(N-1,i+n/2)}(a_{x,y}j)2){\\beta}}$$ kã€nã€[\\alpha]ã€[\\beta]éƒ½æ˜¯è¶…å‚æ•°ï¼Œå–å€¼åˆ†åˆ«ä¸º2ã€5ã€1e-4ã€0.75ï¼Œè¿™æ˜¯ç”±è®­ç»ƒé›†è¡¨ç°æ¥ç¡®å®šçš„ 3.4 Overlapping Poolingcard ä¸€èˆ¬æ¥è¯´ä¸¤ä¸ªpoolingæ˜¯ä¸é‡å çš„ï¼Œä½†æ˜¯è¿™é‡Œé‡‡ç”¨äº†ä¸€ç§å¯¹ä¼ ç»Ÿçš„poolingæ”¹è¿›çš„æ–¹å¼ï¼Œæ•ˆæœå¾ˆå¥½ 3.5 Overall Architecture å®Œæ•´çš„ç½‘ç»œç»“æ„å¦‚å›¾æ‰€ç¤ºï¼Œå€Ÿç”¨(åŠ¨æ‰‹å­¦æ·±åº¦å­¦ä¹ -ç°ä»£å·ç§¯ç¥ç»ç½‘ç»œ-AlexNet)[https://zh.d2l.ai/chapter_convolutional-modern/alexnet.html#id11] 123456789101112131415161718192021222324252627AlexNet( (features): Sequential( (0): Conv2d(3, 64, kernel_size=(11, 11), stride=(4, 4), padding=(2, 2)) (1): ReLU(inplace=True) (2): MaxPool2d(kernel_size=3, stride=2, padding=0, dilation=1, ceil_mode=False) (3): Conv2d(64, 192, kernel_size=(5, 5), stride=(1, 1), padding=(2, 2)) (4): ReLU(inplace=True) (5): MaxPool2d(kernel_size=3, stride=2, padding=0, dilation=1, ceil_mode=False) (6): Conv2d(192, 384, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1)) (7): ReLU(inplace=True) (8): Conv2d(384, 256, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1)) (9): ReLU(inplace=True) (10): Conv2d(256, 256, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1)) (11): ReLU(inplace=True) (12): MaxPool2d(kernel_size=3, stride=2, padding=0, dilation=1, ceil_mode=False) ) (avgpool): AdaptiveAvgPool2d(output_size=(6, 6)) (classifier): Sequential( (0): Dropout(p=0.5, inplace=False) (1): Linear(in_features=9216, out_features=4096, bias=True) (2): ReLU(inplace=True) (3): Dropout(p=0.5, inplace=False) (4): Linear(in_features=4096, out_features=4096, bias=True) (5): ReLU(inplace=True) (6): Linear(in_features=4096, out_features=1000, bias=True) )) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546class AlexNet(nn.Module): def __init__(self, num_classes=1000, init_weights=False): super(AlexNet, self).__init__() self.features = nn.Sequential( nn.Conv2d(3, 64, kernel_size=11, stride=4, padding=2), nn.ReLU(inplace=True), nn.MaxPool2d(kernel_size=3, stride=2), nn.Conv2d(64, 192, kernel_size=5, padding=2), nn.ReLU(inplace=True), nn.MaxPool2d(kernel_size=3, stride=2), nn.Conv2d(192, 384, kernel_size=3, padding=1), nn.ReLU(inplace=True), nn.Conv2d(384, 256, kernel_size=3, padding=1), nn.ReLU(inplace=True), nn.Conv2d(256, 256, kernel_size=3, padding=1), nn.ReLU(inplace=True), nn.MaxPool2d(kernel_size=3, stride=2), ) self.avgpool = nn.AdaptiveAvgPool2d((6, 6)) self.classifier = nn.Sequential( nn.Dropout(), nn.Linear(256 * 6 * 6, 4096), nn.ReLU(inplace=True), nn.Dropout(), nn.Linear(4096, 4096), nn.ReLU(inplace=True), nn.Linear(4096, num_classes), ) if init_weights: self._initialize_weights() def forward(self, x): x = self.features(x) x = torch.flatten(x, start_dim=1) x = self.classifier(x) return x def _initialize_weights(self): for m in self.modules(): if isinstance(m, nn.Conv2d): nn.init.kaiming_normal_(m.weight, mode=&#x27;fan_out&#x27;, nonlinearity=&#x27;relu&#x27;) if m.bias is not None: nn.init.constant_(m.bias, 0) elif isinstance(m, nn.Linear): nn.init.normal_(m.weight, 0, 0.01) nn.init.constant_(m.bias, 0) ç‰¹ç‚¹ å› ä¸ºåœ¨ä¸¤å—GPUä¸Šè¿è¡Œï¼Œå› æ­¤ç½‘ç»œç»“æ„è¢«ä¸€åˆ†ä¸ºäºŒ äº”å±‚ convolutional layersåŠ ä¸Šä¸‰å±‚ fullyconnected layers 2ï¼Œ4ï¼Œ5å±‚ä»…ä¸è‡ªå·±ä¹‹å‰çš„æ ¸æœ‰å…³ç³»ï¼Œä¹Ÿå°±æ˜¯ä»…ä¸è‡ªå·±è¿™ä¸ªGPUå‰ä¸€å±‚è®­ç»ƒçš„è¾“å‡ºæœ‰å…³ï¼Œç¬¬ä¸‰å±‚ä¸å‰ä¸€å±‚çš„ä¸¤ä¸ªGPUæœ‰å…³ï¼Œåœ¨é€šé“ä¸Šåšäº†ä¸€å±‚èåˆ Local Response Normalizationè¿ç”¨åœ¨ç¬¬ä¸€å±‚å’Œç¬¬äºŒå±‚ æ¯ä¸€å±‚éƒ½ä½¿ç”¨äº† ReLu 0x04 Reducing overfitting 4.1 Data Augmentation è¿™é‡Œçš„è¾“å…¥æ˜¯256*256ï¼Œä½†æ˜¯ç½‘ç»œçš„è¾“å…¥æ˜¯224*224ï¼Œå› ä¸ºä¸ºäº†æ‰©å……æ•°æ®é›†çš„å¤§å°ï¼Œåœ¨ä¹‹åçš„è®­ç»ƒè¿‡ç¨‹ä¸­å¯ä»¥éšæœºé€‰æ‹©ï¼Œè¿™æ ·å¯ä»¥å¾—åˆ°2^11=2048å€çš„æ‰©å…… å¦å¤–ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨PCAå¯¹RGBè¿›è¡Œä¿®æ­£ï¼Œæ˜¯çš„æ•°æ®çš„æ•°é‡å¾—åˆ°å¢å¤šï¼Œæœ€ç»ˆçš„æ•ˆæœä¹Ÿæ˜¯æˆåŠŸçš„ 4.2 dropout 0.5çš„æ¦‚ç‡å°†ä¸€äº›ç¥ç»å…ƒçš„è¾“å‡ºè®¾ç½®ä¸º0ï¼Œå¯ä»¥æœ‰æ•ˆçš„é™ä½è¿‡æ‹Ÿåˆ 0x05 Details of learning SGDï¼Œéšæœºæ¢¯åº¦ä¸‹é™ï¼Œå¢åŠ åŠ¨é‡çš„é€‰é¡¹ åˆå§‹åŒ–å‚æ•°ï¼Œä½¿ç”¨å‡å€¼ä¸º0ã€æ–¹å·®ä¸º0.01çš„é«˜æ–¯éšæœºå˜é‡åˆå§‹åŒ–æƒé‡å‚æ•° LearningRateè®¾ç½®ä¸º0.01 0x06 Results 0x07 å‚è€ƒåˆ«äººçš„å¤ç° to be continued ~~","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"paper_reading","slug":"paper-reading","permalink":"https://blog.tjdata.site/tags/paper-reading/"}]},{"title":"ä½œä¸šè®°å½•","slug":"ä½œä¸šè®°å½•","date":"2022-08-20T11:20:52.000Z","updated":"2022-10-17T08:18:08.949Z","comments":true,"path":"posts/eac26b.html","link":"","permalink":"https://blog.tjdata.site/posts/eac26b.html","excerpt":"ä½œä¸šè®°å½•","text":"ä½œä¸šè®°å½• å¼•è¨€ é¡¹ç›®æ¥æºæ˜¯ç™¾åº¦é£æ¡¨çš„ã€é£æ¡¨é¢†èˆªå›¢AIè¾¾äººå…»æˆè¥ã€‘çš„å¤§ä½œä¸šï¼Œç®—æ˜¯å°ç™½çš„å¥‡æ–‡å…±èµäº†ã€‚ç¬¬ä¸€æ¬¡æ¥è§¦ç™¾åº¦çš„paddleæ¡†æ¶ï¼Œæœ¬æ¥æ˜¯ä¸­æ–‡çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ç»“æœä¸­æ–‡è®ºå›æ´»è·ƒåº¦ä¸å¤Ÿã€å®˜æ–¹æ–‡æ¡£çš„è¡¨æ„å¹¶ä¸æ¸…æ¥šã€‚è€Œä¸”æ„Ÿè§‰APIçš„è®¾è®¡ä¸æ˜¯å¾ˆåˆç†ã€‚ä¼¼ä¹æ²¡æœ‰å¤ªé‡è§†è®¾è®¡åŸåˆ™å¯¼è‡´æœ‰çš„åœ°æ–¹APIè¿‡äºç®€å•ï¼ˆä½†ä¹Ÿå¾ˆéš¾å®šåˆ¶åŒ–ï¼‰ã€‚ æœ¬å®è·µæ—¨åœ¨é€šè¿‡ä¸€ä¸ªç¾é£Ÿåˆ†ç±»çš„æ¡ˆåˆ—ï¼Œè®©å¤§å®¶ç†è§£å’ŒæŒæ¡å¦‚ä½•ä½¿ç”¨é£æ¡¨2.0æ­å»ºä¸€ä¸ªå·ç§¯ç¥ç»ç½‘ç»œã€‚ ç‰¹åˆ«æç¤ºï¼šæœ¬å®è·µæ‰€ç”¨æ•°æ®é›†å‡æ¥è‡ªäº’è”ç½‘ï¼Œè¯·å‹¿ç”¨äºå•†åŠ¡ç”¨é€”ã€‚ è§£å‹æ–‡ä»¶ï¼Œä½¿ç”¨train.csvè®­ç»ƒï¼Œæµ‹è¯•ä½¿ç”¨val.csvã€‚æœ€åä»¥åœ¨valä¸Šçš„å‡†ç¡®ç‡ä½œä¸ºæœ€ç»ˆåˆ†æ•°ã€‚ 0x01 æ•°æ®é¢„å¤„ç† æ€è€ƒå¹¶åŠ¨æ‰‹è¿›è¡Œè°ƒä¼˜ï¼Œä»¥åœ¨éªŒè¯é›†ä¸Šçš„å‡†ç¡®ç‡ä¸ºè¯„ä»·æŒ‡æ ‡ï¼ŒéªŒè¯é›†ä¸Šå‡†ç¡®ç‡è¶Šé«˜ï¼Œå¾—åˆ†è¶Šé«˜ï¼æ¨¡å‹å¤§å®¶å¯ä»¥æ›´æ¢ï¼Œè°ƒå‚æŠ€å·§ä»»é€‰ï¼Œä»£ç éœ€è¦å¤§å®¶è‡ªå·±è°ƒé€šã€‚ 1234!unzip -oq /home/aistudio/data/data120156/lemon_homework.zip!unzip -oq /home/aistudio/lemon_homework/lemon_lesson.zip!unzip -oq /home/aistudio/lemon_lesson/test_images.zip!unzip -oq /home/aistudio/lemon_lesson/train_images.zip 12345678910111213141516# å¯¼å…¥æ‰€éœ€è¦çš„åº“from sklearn.utils import shuffleimport osimport pandas as pdimport numpy as npfrom PIL import Imageimport paddleimport paddle.nn as nnfrom paddle.io import Datasetimport paddle.vision.transforms as Timport paddle.nn.functional as Ffrom paddle.metric import Accuracyimport warningswarnings.filterwarnings(&quot;ignore&quot;) 123456df=pd.read_csv(&#x27;lemon_lesson/train_images.csv&#x27;)d=df[&#x27;class_num&#x27;].hist().get_figure()# å›¾åƒåˆ†ç±»ç«èµ›å¸¸è§éš¾ç‚¹# ç±»åˆ«ä¸å‡è¡¡# one-shotå’Œfew-shotåˆ†ç±»# ç»†ç²’åº¦åˆ†ç±» å›¾åƒæ ‡å‡†åŒ–ä¸å½’ä¸€åŒ–ï¼Œæœ€å¸¸è§çš„å›¾åƒé¢„å¤„ç†æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯å›¾æ ‡æ ‡å‡†åŒ–å¤„ç†ï¼Œå°†æ•°æ®æŒ‰ç…§æ¯”ä¾‹ç¼©æ”¾ï¼Œä½¿ä¹‹è½å…¥ä¸€ä¸ªç‰¹å®šçš„åŒºé—´ä¸­ï¼Œå°†æ•°æ®é€šè¿‡å»å‡å€¼ï¼Œå®ç°ä¸­å¿ƒåŒ–ã€‚ç¬¬äºŒç§æ˜¯æ•°æ®å½’ä¸€åŒ–ï¼Œå°†æ•°æ®ç»Ÿä¸€æ˜ å°„åˆ°0-1åŒºé—´ä¸­ å®ƒçš„ä½œç”¨ æœ‰åˆ©äºåˆå§‹åŒ–çš„è¿›è¡Œ é¿å…ç»™æ¢¯åº¦æ•°å€¼æ›´æ–°å¸¦æ¥æ•°å€¼é—®é¢˜ æœ‰åˆ©äºå­¦ä¹ ç‡æ•°å€¼çš„è°ƒæ•´ åŠ å¿«å¯»æ‰¾æœ€ä¼˜è§£é€Ÿåº¦ 123456789101112# å®šä¹‰æ•°æ®é¢„å¤„ç†data_transforms = T.Compose([ T.Resize(size=(224, 224)), T.RandomHorizontalFlip(1), T.RandomVerticalFlip(1), T.Transpose(), # HWC -&gt; CHW T.Normalize( mean=[0, 0, 0], # å½’ä¸€åŒ– std=[255, 255, 255], to_rgb=True) ]) 0x02 æ•°æ®é›†åˆ†å‰²å’Œloaderå»ºç«‹ 1234567891011121314## æ•°æ®é›†åˆ’åˆ†train_images = pd.read_csv(&#x27;lemon_lesson/train_images.csv&#x27;, usecols=[&#x27;id&#x27;,&#x27;class_num&#x27;])# åˆ’åˆ†è®­ç»ƒé›†å’Œæ ¡éªŒé›†all_size = len(train_images)print(all_size)train_size = int(all_size * 0.8)train_image_path_list = train_images[:train_size]val_image_path_list = train_images[train_size:]print(len(train_image_path_list))print(len(val_image_path_list)) 1234567891011121314151617181920212223242526272829303132333435363738394041424344# æ„å»ºDatasetclass MyDataset(paddle.io.Dataset): &quot;&quot;&quot; æ­¥éª¤ä¸€ï¼šç»§æ‰¿paddle.io.Datasetç±» &quot;&quot;&quot; def __init__(self, train_list, val_list, mode=&#x27;train&#x27;): &quot;&quot;&quot; æ­¥éª¤äºŒï¼šå®ç°æ„é€ å‡½æ•°ï¼Œå®šä¹‰æ•°æ®è¯»å–æ–¹å¼ &quot;&quot;&quot; super(MyDataset, self).__init__() self.data = [] # å€ŸåŠ©pandasè¯»å–csvæ–‡ä»¶ self.train_images = train_list self.test_images = val_list if mode == &#x27;train&#x27;: # è¯»train_images.csvä¸­çš„æ•°æ® for row in self.train_images.itertuples(): self.data.append([&#x27;train_images/&#x27;+getattr(row, &#x27;id&#x27;), getattr(row, &#x27;class_num&#x27;)]) else: # è¯»test_images.csvä¸­çš„æ•°æ® for row in self.test_images.itertuples(): self.data.append([&#x27;train_images/&#x27;+getattr(row, &#x27;id&#x27;), getattr(row, &#x27;class_num&#x27;)]) def load_img(self, image_path): # å®é™…ä½¿ç”¨æ—¶ä½¿ç”¨Pillowç›¸å…³åº“è¿›è¡Œå›¾ç‰‡è¯»å–å³å¯ï¼Œè¿™é‡Œæˆ‘ä»¬å¯¹æ•°æ®å…ˆåšä¸ªæ¨¡æ‹Ÿ image = Image.open(image_path).convert(&#x27;RGB&#x27;) return image def __getitem__(self, index): &quot;&quot;&quot; æ­¥éª¤ä¸‰ï¼šå®ç°__getitem__æ–¹æ³•ï¼Œå®šä¹‰æŒ‡å®šindexæ—¶å¦‚ä½•è·å–æ•°æ®ï¼Œå¹¶è¿”å›å•æ¡æ•°æ®ï¼ˆè®­ç»ƒæ•°æ®ï¼Œå¯¹åº”çš„æ ‡ç­¾ï¼‰ &quot;&quot;&quot; image = self.load_img(self.data[index][0]) label = self.data[index][1] return data_transforms(image), np.array(label, dtype=&#x27;int64&#x27;) def __len__(self): &quot;&quot;&quot; æ­¥éª¤å››ï¼šå®ç°__len__æ–¹æ³•ï¼Œè¿”å›æ•°æ®é›†æ€»æ•°ç›® &quot;&quot;&quot; return len(self.data) 12345678# å®šä¹‰æ•°æ®loader#train_loadertrain_dataset = MyDataset(train_list=train_image_path_list, val_list=val_image_path_list, mode=&#x27;train&#x27;)train_loader = paddle.io.DataLoader(train_dataset, places=paddle.CPUPlace(), batch_size=128, shuffle=True, num_workers=0)#val_loaderval_dataset =MyDataset(train_list=train_image_path_list, val_list=val_image_path_list, mode=&#x27;test&#x27;)val_loader = paddle.io.DataLoader(val_dataset, places=paddle.CPUPlace(), batch_size=128, shuffle=True, num_workers=0) 1234567891011print(&#x27;=============train dataset=============&#x27;)for image, label in train_dataset: print(&#x27;image shape: &#123;&#125;, label: &#123;&#125;&#x27;.format(image.shape, label)) breakfor batch_id, data in enumerate(train_loader()): x_data = data[0] y_data = data[1] print(x_data) print(y_data) break =============train dataset============= image shape: (3, 224, 224), label: 0 Tensor(shape=[128, 3, 224, 224], dtype=float32, place=CPUPlace, stop_gradient=True, [[[[0.10980392, 0.10196079, 0.10588235, ..., 0.10588235, 0.11372549, 0.14117648], [0.11372549, 0.10980392, 0.10196079, ..., 0.11372549, 0.14509805, 0.16470589], [0.14901961, 0.11764706, 0.10196079, ..., 0.15686275, 0.23137255, 0.25098041], ..., ..., [0.50980395, 0.50980395, 0.50980395, ..., 0.73333335, 0.74117649, 0.73725492], [0.50588238, 0.50588238, 0.50588238, ..., 0.72941178, 0.73725492, 0.73725492], [0.50196081, 0.50196081, 0.50196081, ..., 0.72156864, 0.73333335, 0.73333335]]]]) Tensor(shape=[128], dtype=int64, place=CPUPlace, stop_gradient=True, [0, 0, 2, 2, 1, 2, 2, 1, 0, 0, 0, 1, 0, 0, 3, 2, 0, 0, 0, 0, 1, 1, 0, 2, 2, 2, 3, 2, 0, 1, 2, 0, 0, 0, 1, 2, 1, 0, 0, 1, 0, 1, 2, 0, 1, 1, 0, 0, 3, 0, 2, 0, 3, 3, 2, 2, 1, 3, 3, 2, 1, 0, 0, 1, 0, 1, 0, 2, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, 0, 3, 0, 0, 2, 0, 0, 3, 0, 3, 3, 1, 2, 3, 0, 0, 0, 1, 0, 2, 0, 1, 2, 3, 3, 3, 2, 0, 0, 0, 1, 2, 0, 2, 3, 0, 0, 0, 0, 2, 0, 1, 0, 1, 3, 0, 1, 1, 0, 0]) 0x03 æ¨¡å‹é€‰æ‹©ï¼ˆå”¯ä¸€æ”¶è·æ˜¯ç‰¹å¾å›¾è®¡ç®—ï¼‰ é¦–å…ˆè‚¯å®šæ˜¯é€‰æ‹©è‡ªå·±çš„baselineå•¦ï¼Œè¿™ä¸ªçœ‹ä¸Šå»æ˜¯VGGï¼Ÿæ„Ÿè§‰æŒºåœŸçš„ ç†æƒ³æƒ…å†µä¸­ï¼Œæ¨¡å‹è¶Šå¤§æ‹Ÿåˆèƒ½åŠ›è¶Šå¼ºã€‚å›¾åƒå°ºå¯¸è¶Šå¤§ï¼Œä¿ç•™çš„ä¿¡æ¯ä¹Ÿè¶Šå¤šï¼Œåœ¨å®é™…æƒ…å†µä¸­æ¨¡å‹è¶Šå¤æ‚è®­ç»ƒ æ—¶é—´è¶Šé•¿ï¼Œå›¾åƒè¶Šé•¿å°ºå¯¸è¶Šå¤§è®­ç»ƒæ—¶é—´ä¹Ÿè¶Šé•¿ æ¯”èµ›å¼€å§‹æœ‰é™ä½¿ç”¨æœ€ç®€å•çš„resnetï¼Œå¿«é€Ÿè·‘å®Œæ•´ä¸ªè®­ç»ƒå’Œé¢„æµ‹æµç¨‹ï¼Œåˆ†ç±»æ¨¡å‹çš„é€‰æ‹©éœ€è¦æ ¹æ®ä»»åŠ¡å¤æ‚åº¦æ¥ è¿›è¡Œé€‰æ‹©ï¼Œå¹¶ä¸æ˜¯ç²¾åº¦è¶Šé«˜çš„æ¨¡å‹æœˆé€‚åˆå‚åŠ æ¯”èµ› åœ¨å®é™…çš„æ¯”èµ›ä¸­å¯ä»¥é€æ­¥å¢åŠ å°ºå¯¸ï¼Œåœ¨64-64çš„å°ºå¯¸ä¸‹è®©æ¨¡å‹æ”¶æ•›ï¼Œè¿›è€Œå°†æ¨¡å‹æ”¾åˆ°128-128çš„å°ºå¯¸çˆ±è®­ç»ƒ åœ¨é€‰æ‹©çš„è¿‡ç¨‹ä¸­baselineåº”è¯¥éµå¾ªå‡ ç‚¹åŸåˆ™ å¤æ‚åº¦åœ°ï¼Œä»£ç ç»“æ„ç®€å• lossæ”¶æ•›æ­£ç¡®ï¼Œmetricå‡ºç°æå‡ è¿­ä»£å¿«é€Ÿï¼Œæ²¡æœ‰å¾ˆfancyçš„æ¨¡å‹ç»“æ„ã€loss functionæˆ–è€…å›¾åƒé¢„å¤„ç†æ–¹æ³•ä¹‹ç±»çš„ éœ€è¦ç¼–å†™æ­£ç¡®å¹¶ç®€å•çš„æµ‹è¯•è„šæœ¬ï¼Œèƒ½å¤Ÿæäº¤submissionä¹‹åè·å¾—æ­£ç¡®çš„åˆ†æ•° åœ¨ç½‘ç»œæ¨¡å‹ä¸­è¾“å…¥è¾“å‡ºæ ¹æ®å·ç§¯æ¥å°±è¡Œï¼Œå¦‚æœæ¶‰åŠåˆ°è°ƒå‚å°±éœ€è¦ä¸€äº›ç¥å­¦æ¦‚å¿µï¼Œæ¯”å¦‚ä¹‹å‰è¢«å¿½æ‚ æƒ¨çš„æ„Ÿå—é‡ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748# Sequentialå½¢å¼ç»„ç½‘class MyNet(paddle.nn.Layer): def __init__(self, num_classes=4): super(MyNet, self).__init__() self.conv1 = paddle.nn.Conv2D(in_channels=3, out_channels=64, kernel_size=(7, 7), stride=2, padding = 3) self.pool1 = paddle.nn.MaxPool2D(kernel_size=2, stride=2) self.conv2 = paddle.nn.Conv2D(in_channels=64, out_channels=64, kernel_size=(3,3), stride=1, padding = 1) self.conv3 = paddle.nn.Conv2D(in_channels=64, out_channels=128, kernel_size=(3,3), stride=2, padding = 1) self.conv4 = paddle.nn.Conv2D(in_channels=128, out_channels=256, kernel_size=(3,3), stride=2, padding = 1) self.conv5 = paddle.nn.Conv2D(in_channels=256, out_channels=512, kernel_size=(3,3), stride=2, padding = 1) # # self.pool2 = paddle.nn.MaxPool2D(kernel_size=2, stride=2) # self.conv3 = paddle.nn.Conv2D(in_channels=448, out_channels=448, kernel_size=(3,3), stride=2, padding = 0) # self.conv4 = paddle.nn.Conv2D(in_channels=448, out_channels=448, kernel_size=(3,3), stride=2, padding = 1) self.flatten = paddle.nn.Flatten() self.linear1 = paddle.nn.Linear(in_features=25088, out_features=64) self.linear2 = paddle.nn.Linear(in_features=64, out_features=num_classes) def forward(self, x): x = self.conv1(x) x = F.relu(x) x = self.pool1(x) print(x.shape) x = self.conv2(x) x = F.relu(x) x = self.conv3(x) x = F.relu(x) # # print(x.shape) x = self.conv4(x) x = F.relu(x) x = self.conv5(x) x = F.relu(x) # x = self.conv4(x) # x = F.relu(x) # # print(x.shape) x = self.flatten(x) x = self.linear1(x) x = F.relu(x) x = self.linear2(x) return xmodel = paddle.Model(MyNet())model.summary((1, 3, 224, 224)) [1, 64, 56, 56] --------------------------------------------------------------------------- Layer (type) Input Shape Output Shape Param # =========================================================================== Conv2D-21 [[1, 3, 224, 224]] [1, 64, 112, 112] 9,472 MaxPool2D-5 [[1, 64, 112, 112]] [1, 64, 56, 56] 0 Conv2D-22 [[1, 64, 56, 56]] [1, 64, 56, 56] 36,928 Conv2D-23 [[1, 64, 56, 56]] [1, 128, 28, 28] 73,856 Conv2D-24 [[1, 128, 28, 28]] [1, 256, 14, 14] 295,168 Conv2D-25 [[1, 256, 14, 14]] [1, 512, 7, 7] 1,180,160 Flatten-59 [[1, 512, 7, 7]] [1, 25088] 0 Linear-7 [[1, 25088]] [1, 64] 1,605,696 Linear-8 [[1, 64]] [1, 4] 260 =========================================================================== Total params: 3,201,540 Trainable params: 3,201,540 Non-trainable params: 0 --------------------------------------------------------------------------- Input size (MB): 0.57 Forward/backward pass size (MB): 10.72 Params size (MB): 12.21 Estimated Total Size (MB): 23.51 --------------------------------------------------------------------------- &#123;'total_params': 3201540, 'trainable_params': 3201540&#125; 123456789101112131415161718192021222324252627282930313233343536# æ³¨æ„è¿‡ç¨‹ä¸­ç‰¹å¾å›¾çš„è®¡ç®—# å®šä¹‰ä¼˜åŒ–å™¨optim = paddle.optimizer.Adam(learning_rate=0.001, parameters=model.parameters())model.prepare( optim, paddle.nn.CrossEntropyLoss(), Accuracy() )from visualdl import LogReader, LogWriterargs=&#123; &#x27;logdir&#x27;:&#x27;./vdl&#x27;, &#x27;file_name&#x27;:&#x27;vdlrecords.model.log&#x27;, &#x27;iters&#x27;:0,&#125;# é…ç½®visualdlwrite = LogWriter(logdir=args[&#x27;logdir&#x27;], file_name=args[&#x27;file_name&#x27;])#iters åˆå§‹åŒ–ä¸º0iters = args[&#x27;iters&#x27;] #è‡ªå®šä¹‰Callbackclass Callbk(paddle.callbacks.Callback): def __init__(self, write, iters=0): self.write = write self.iters = iters def on_train_batch_end(self, step, logs): self.iters += 1 #è®°å½•loss self.write.add_scalar(tag=&quot;loss&quot;,step=self.iters,value=logs[&#x27;loss&#x27;][0]) #è®°å½• accuracy self.write.add_scalar(tag=&quot;acc&quot;,step=self.iters,value=logs[&#x27;acc&#x27;]) `./vdl/vdlrecords.model.log` is exists, VisualDL will add logs to it. 123456789# æ¨¡å‹è®­ç»ƒä¸è¯„ä¼°model.fit(train_loader, val_loader, log_freq=1, epochs=15, callbacks=Callbk(write=write, iters=iters), verbose=1, ) The loss value printed in the log is the current step, and the metric is the average value of previous step. Epoch 1/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 1.4849 - acc: 0.2266 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 6.7525 - acc: 0.2930 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 1.8031 - acc: 0.2708 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 1.3808 - acc: 0.2480 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 1.2969 - acc: 0.2750 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 1.2021 - acc: 0.3164 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 1.1513 - acc: 0.3360 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 1.0067 - acc: 0.6797 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 1.0514 - acc: 0.6606 - 1s/step Eval samples: 221 Epoch 2/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.9772 - acc: 0.7734 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.8334 - acc: 0.7734 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.6969 - acc: 0.7604 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 2.3449 - acc: 0.6484 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 1.3612 - acc: 0.6516 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 1.5054 - acc: 0.6380 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 1.1878 - acc: 0.6436 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.9094 - acc: 0.7266 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.8898 - acc: 0.7195 - 1s/step Eval samples: 221 Epoch 3/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.9101 - acc: 0.6641 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.8710 - acc: 0.6836 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.8483 - acc: 0.6875 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.8448 - acc: 0.7031 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.8475 - acc: 0.7063 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.7537 - acc: 0.7122 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.6307 - acc: 0.7185 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.6840 - acc: 0.7891 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.6577 - acc: 0.7783 - 1s/step Eval samples: 221 Epoch 4/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.7030 - acc: 0.7344 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.4887 - acc: 0.8203 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.5533 - acc: 0.8333 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.4893 - acc: 0.8438 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.5349 - acc: 0.8375 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.3818 - acc: 0.8411 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.2702 - acc: 0.8490 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.5461 - acc: 0.8125 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.3558 - acc: 0.8416 - 1s/step Eval samples: 221 Epoch 5/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.4032 - acc: 0.8281 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.2782 - acc: 0.8828 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.2537 - acc: 0.8932 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.3106 - acc: 0.9004 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.3652 - acc: 0.8953 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.2224 - acc: 0.8984 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.3256 - acc: 0.8990 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.3408 - acc: 0.8438 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.3114 - acc: 0.8326 - 1s/step Eval samples: 221 Epoch 6/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.2124 - acc: 0.9062 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.1708 - acc: 0.9258 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.2870 - acc: 0.9167 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.1881 - acc: 0.9180 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.3036 - acc: 0.9156 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.3152 - acc: 0.9089 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.1624 - acc: 0.9092 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.3151 - acc: 0.9141 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.3244 - acc: 0.9050 - 1s/step Eval samples: 221 Epoch 7/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.4050 - acc: 0.8750 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.1410 - acc: 0.9023 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.2465 - acc: 0.9089 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.2190 - acc: 0.9121 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.1823 - acc: 0.9109 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.2198 - acc: 0.9102 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.2194 - acc: 0.9115 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.2905 - acc: 0.8672 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.2588 - acc: 0.8733 - 1s/step Eval samples: 221 Epoch 8/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.1634 - acc: 0.9062 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.1506 - acc: 0.9219 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.1242 - acc: 0.9297 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.3063 - acc: 0.9199 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.1786 - acc: 0.9219 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.1867 - acc: 0.9232 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.1735 - acc: 0.9262 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.2529 - acc: 0.8750 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.2749 - acc: 0.8688 - 1s/step Eval samples: 221 Epoch 9/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.1865 - acc: 0.9141 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.2470 - acc: 0.9023 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.0620 - acc: 0.9297 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.1055 - acc: 0.9375 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.2145 - acc: 0.9344 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.0945 - acc: 0.9388 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.1622 - acc: 0.9387 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.2351 - acc: 0.8906 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.2440 - acc: 0.9005 - 1s/step Eval samples: 221 Epoch 10/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.1562 - acc: 0.9375 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.1392 - acc: 0.9531 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.1352 - acc: 0.9479 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.0883 - acc: 0.9551 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.1463 - acc: 0.9531 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.1493 - acc: 0.9505 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.1267 - acc: 0.9523 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.2258 - acc: 0.9062 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.1954 - acc: 0.9186 - 1s/step Eval samples: 221 Epoch 11/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.1226 - acc: 0.9531 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.1305 - acc: 0.9453 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.1340 - acc: 0.9453 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.0711 - acc: 0.9551 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.0544 - acc: 0.9609 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.1100 - acc: 0.9596 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.1838 - acc: 0.9569 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.1604 - acc: 0.9531 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.2993 - acc: 0.9367 - 1s/step Eval samples: 221 Epoch 12/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.1236 - acc: 0.9453 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.0547 - acc: 0.9688 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.2062 - acc: 0.9505 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.1316 - acc: 0.9492 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.0759 - acc: 0.9563 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.0801 - acc: 0.9609 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.2175 - acc: 0.9580 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.2175 - acc: 0.9219 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.1687 - acc: 0.9367 - 1s/step Eval samples: 221 Epoch 13/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.1188 - acc: 0.9531 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.0690 - acc: 0.9609 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.1382 - acc: 0.9557 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.1006 - acc: 0.9551 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.0434 - acc: 0.9625 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.0742 - acc: 0.9635 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.1249 - acc: 0.9637 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.1632 - acc: 0.9453 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.2240 - acc: 0.9412 - 1s/step Eval samples: 221 Epoch 14/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.0547 - acc: 0.9766 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.0427 - acc: 0.9844 - ETA: 6s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.0513 - acc: 0.9818 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.0545 - acc: 0.9824 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.0608 - acc: 0.9812 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.0513 - acc: 0.9831 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.0402 - acc: 0.9852 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.1093 - acc: 0.9531 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.2143 - acc: 0.9548 - 1s/step Eval samples: 221 Epoch 15/15 [128, 64, 56, 56] step 1/7 [===&gt;..........................] - loss: 0.0608 - acc: 0.9766 - ETA: 7s - 1s/step[128, 64, 56, 56] step 2/7 [=======&gt;......................] - loss: 0.0476 - acc: 0.9805 - ETA: 5s - 1s/step[128, 64, 56, 56] step 3/7 [===========&gt;..................] - loss: 0.0400 - acc: 0.9844 - ETA: 4s - 1s/step[128, 64, 56, 56] step 4/7 [================&gt;.............] - loss: 0.0271 - acc: 0.9863 - ETA: 3s - 1s/step[128, 64, 56, 56] step 5/7 [====================&gt;.........] - loss: 0.0198 - acc: 0.9891 - ETA: 2s - 1s/step[128, 64, 56, 56] step 6/7 [========================&gt;.....] - loss: 0.0367 - acc: 0.9896 - ETA: 1s - 1s/step[113, 64, 56, 56] step 7/7 [==============================] - loss: 0.0152 - acc: 0.9909 - 1s/step Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.1904 - acc: 0.9609 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.2047 - acc: 0.9502 - 1s/step Eval samples: 221 12result = model.evaluate(val_loader,batch_size=32,log_freq=1, verbose=1, num_workers=0, callbacks=None)print(result) Eval begin... The loss value printed in the log is the current batch, and the metric is the average value of previous step. [128, 64, 56, 56] step 1/2 [==============&gt;...............] - loss: 0.0984 - acc: 0.9688 - ETA: 1s - 1s/step[93, 64, 56, 56] step 2/2 [==============================] - loss: 0.3313 - acc: 0.9502 - 1s/step Eval samples: 221 &#123;'loss': [0.33130556], 'acc': 0.9502262443438914&#125; 0x04 one more thing GitHubçš„å­¦ç”Ÿç¤¼åŒ…é‡Œé¢æœ‰å¥½å¤šå¥½ä¸œè¥¿ï¼Œdigital oceanæœ‰100åˆ€çš„é¢åº¦ï¼Œç»‘å®šPayPalå°±å¯ä»¥ä½¿ç”¨å•¦ã€‚å›½å¤–çš„æœåŠ¡å™¨è¿˜æ˜¯æœ‰ä¸€äº›å°ä½œç”¨çš„","categories":[{"name":"homework","slug":"homework","permalink":"https://blog.tjdata.site/categories/homework/"}],"tags":[{"name":"nothing","slug":"nothing","permalink":"https://blog.tjdata.site/tags/nothing/"}]},{"title":"Reading01-GUIçš„å†å²ä»¥åŠmacOSçª—å£","slug":"Reading01-GUIçš„å†å²ä»¥åŠmacOSçª—å£","date":"2022-08-19T06:23:46.000Z","updated":"2023-05-13T13:50:45.396Z","comments":true,"path":"posts/ed74d391.html","link":"","permalink":"https://blog.tjdata.site/posts/ed74d391.html","excerpt":"æœ¬æ¬¡ä¸»è¦æƒ³æ€»ç»“ä¸€äº›ç›®å‰ä½¿ç”¨çš„GUIç•Œé¢ï¼Œä»¥åŠmacOSç•Œé¢ä¸­çš„çª—å£å’Œåº”ç”¨ç¨‹åºçš„æ¦‚å¿µã€‚é¦–å…ˆå¯¹äºä¸€ä¸ªæ–°çš„ä¸œè¥¿äº†è§£ä¹‹å‰æ˜¯é‡‡ç”¨æµè§ˆå¼•æ“ï¼Œä»ç™¾åº¦åˆ°Googleï¼Œæˆ–è€…æ–°ç”Ÿä»£çš„duckduckgoç­‰ç­‰ï¼›ä½†æ˜¯å› ä¸ºäº’è”ç½‘çš„åƒåœ¾å¤ªå¤šï¼Œè‡ªå·±å»å¯»æ‰¾çš„è¿‡ç¨‹ä¹Ÿæ˜¯æŒ‘æŒ‘æ‹£æ‹£çš„è¿‡ç¨‹ï¼Œç›´åˆ°å‘ç°wiki ç™¾ç§‘ã€‚","text":"æœ¬æ¬¡ä¸»è¦æƒ³æ€»ç»“ä¸€äº›ç›®å‰ä½¿ç”¨çš„GUIç•Œé¢ï¼Œä»¥åŠmacOSç•Œé¢ä¸­çš„çª—å£å’Œåº”ç”¨ç¨‹åºçš„æ¦‚å¿µã€‚é¦–å…ˆå¯¹äºä¸€ä¸ªæ–°çš„ä¸œè¥¿äº†è§£ä¹‹å‰æ˜¯é‡‡ç”¨æµè§ˆå¼•æ“ï¼Œä»ç™¾åº¦åˆ°Googleï¼Œæˆ–è€…æ–°ç”Ÿä»£çš„duckduckgoç­‰ç­‰ï¼›ä½†æ˜¯å› ä¸ºäº’è”ç½‘çš„åƒåœ¾å¤ªå¤šï¼Œè‡ªå·±å»å¯»æ‰¾çš„è¿‡ç¨‹ä¹Ÿæ˜¯æŒ‘æŒ‘æ‹£æ‹£çš„è¿‡ç¨‹ï¼Œç›´åˆ°å‘ç°wiki ç™¾ç§‘ã€‚ 0x01 å¼•è¨€ï¼šä»Vscodeå¼•èµ·çš„macOSåº”ç”¨å’Œçª—å£çš„ç–‘æƒ‘ macOSçš„æ–‡æ¡£ï¼ˆDocumentï¼‰ã€çª—å£ï¼ˆwindowï¼‰å’Œåº”ç”¨ç¨‹åºï¼ˆapplicationï¼‰çš„å…³ç³»ä¹‹å‰ä¸€ç›´åˆ†ä¸æ¸…æ¥šï¼Œä½¿ç”¨çš„æ—¶å€™èƒ½æ„Ÿå—åˆ°å’Œwindowä¸ä¸€æ ·çš„åœ°æ–¹ï¼Œä½†æ˜¯ä¸€ç›´ä¸çŸ¥é“åŒºåˆ«åœ¨å“ªé‡Œã€‚ç›´åˆ°ä½¿ç”¨vs codeå¯¹äºé»˜è®¤æ‰“å¼€æ–‡ä»¶å¤¹çš„ç–‘æƒ‘ã€‚ äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œæˆ‘çš„vs codeæ¯æ¬¡æ‰“å¼€çš„æ—¶å€™éƒ½ä¸ä¼šæ˜¾ç¤ºä¸Šæ¬¡æ‰“å¼€çš„æ–‡ä»¶å¤¹ï¼Œåœ¨ç½‘ä¸Šæœç´¢è®¾ç½®çš„æ—¶å€™çœ‹åˆ°å¯ä»¥åœ¨ 1windows.restore = &#x27;one&#x27; // å¯ä»¥æ‰“å¼€ä¸Šæ¬¡å…³é—­çš„æ–‡ä»¶å¤¹ ä½†æ˜¯å¦‚æœæˆ‘ä½¿ç”¨å·¦ä¸Šè§’çš„çº¢ â€™xâ€˜å…³é—­ï¼Œè¿˜æ˜¯ä¼šé€€å‡ºæ–‡ä»¶å¤¹ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å…³é—­vs codeï¼ˆå› ä¸ºæŒ‡ç¤ºç¯è¿˜æ˜¯å¼€ç€ï¼‰ï¼›å¦‚æœä½¿ç”¨dockå†…çš„vs codeâ€™é€€å‡ºâ€˜åˆ™å¯ä»¥å…³é—­vs codeå¹¶åœ¨ä¸‹æ¬¡æ‰“å¼€çš„æ—¶å€™æ­£å¸¸å‡ºç°æ–‡ä»¶å¤¹ 0x02 GUIçš„å‘å±•å†å² æˆ‘ä»¬ä½¿ç”¨é¼ æ ‡ï¼ˆmouseï¼‰è¿›è¡Œäº¤äº’ï¼Œä½¿ç”¨å•å‡»ï¼ˆclickï¼‰å›¾æ ‡å¯åŠ¨ç¨‹åºï¼Œä½¿ç”¨å›¾å½¢æ§ä»¶ï¼ˆgraphical controlï¼‰æ“ä½œå±å¹•ä¸Šçš„å„ç§çª—å£ï¼ˆwindowï¼‰ï¼Œè¿™äº›éƒ½å’Œå›¾å½¢æ“ä½œæœ‰å…³ï¼Œè¿™é‡Œå‚ç…§wikiç™¾ç§‘â€“GUI 2.1 æ²¡æœ‰è®¡ç®—æœºçš„æ—¶ä»£ 1930å¹´ï¼ŒVannevar Bushé¦–æ¬¡ç¼–å†™ä¸€ç§ç§°ä¸º Memexçš„è®¾å¤‡ï¼Œè®¾æƒ³åƒä¸€ä¸ªæ¡Œå­ï¼Œä¸Šé¢æœ‰ä¸¤ä¸ªè§¦æ‘¸å±å›¾å½¢æ˜¾ç¤ºå™¨ã€ä¸€ä¸ªé”®ç›˜å’Œä¸€ä¸ªæ‰«æä»ªï¼Œå…è®¸ç”¨æˆ·ä½¿ç”¨ä¸è¶…é“¾æ¥çš„å·¥ä½œæ–¹å¼æ¥è®¿é—®æ‰€æœ‰çš„äººç±»çŸ¥è¯†ã€‚æ³¨æ„è¿™ä¸ªæ—¶å€™å¹¶æ²¡æœ‰æ•°å­—è®¡ç®—æœºï¼Œæ‰€ä»¥è¿™ä¸ªæƒ³æ³•å¹¶æ²¡æœ‰å¾—åˆ°ä»»ä½•è®¨è®ºï¼Œã€Šä¿¡æ¯æœºå™¨Memexã€‹â€“é˜®ä¸€å³° è¿™ç§æœºå™¨å†…éƒ¨ç”¨å¾®ç¼©èƒ¶å·ï¼ˆmicrofileï¼‰å­˜å‚¨ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è‡ªåŠ¨ç¿»æ‹ï¼Œå¯ä»¥ä¸æ–­å¾€é‡Œé¢æ·»åŠ æ–°çš„ä¿¡æ¯ï¼›æ¡Œé¢ä¸Šæœ‰é˜…è¯»å±ï¼Œç”¨æ¥æ”¾å¤§é˜…è¯»å¾®ç¼©èƒ¶å·ï¼›è¿˜æœ‰è®¸å¤šä¸ªæŒ‰é’®ï¼Œæ¯ä¸€ä¸ªæŒ‰é’®ä»£è¡¨ä¸€ä¸ªä¸»é¢˜ï¼Œåªè¦æŒ‰ä¸€ä¸‹ï¼Œç›¸åº”çš„å¾®ç¼©èƒ¶å·å°±ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚æ¯ä¸€ä¸ªèƒ¶å·å†…éƒ¨è¿˜è®°å½•ç€ç›¸å…³çš„å…¶ä»–èƒ¶å·çš„ç¼–å·ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åˆ‡æ¢ï¼Œå½¢æˆåŒä¸»é¢˜é˜…è¯» 2.2 Douglas Englebart â€“ è¯ç”ŸåˆæœŸ 1968å¹´ï¼Œè¢«ç§°ä¸ºGUIä¹‹çˆ¶çš„Douglas Englebart ï¼ˆé“æ ¼æ‹‰æ–¯Â·æ©æ ¼å°”å·´ç‰¹ï¼‰åœ¨NACAï¼ˆNASAå‰èº«ï¼‰åœ¨æŸäº›å¼€è½¦ä¸Šç­çš„æ—¥å­EMOçš„æ—¶å€™çªç„¶æƒ³åˆ°ï¼Œä½œä¸ºä¸€åå·¥ç¨‹å¸ˆï¼Œä»–çœŸæ­£çš„ä½¿å‘½ä¸æ˜¯ä»äº‹å¯èƒ½åªä¼šè®©å°‘æ•°äººå—ç›Šçš„å°é¡¹ç›®ã€‚å› æ­¤å›é¡¾å¸ƒä»€çš„æ–‡ç« æ¥æ€è€ƒå¦‚ä½•å»ºé€ ä¸€å°å¯ä»¥å¢å¼ºäººç±»æ™ºåŠ›çš„æœºå™¨ï¼Œåœ¨æˆ˜äº‰æ—¶æœŸæ‹…ä»»é›·è¾¾æ“ä½œå‘˜ï¼Œä¸»è¦è®¾æƒ³å›´ç»•é˜´æå°„çº¿ç®¡æ„å»ºæ˜¾ç¤ºç³»ç»Ÿï¼›åœ¨1962å¹´åœ¨ä¸€ç¯‡ã€ŠAUGMENTING HUMAN INTELLECT: A Conceptual Frameworkã€‹æå‡ºè®¤ä¸ºæ•°å­—è®¡ç®—æœºå¯ä»¥æä¾›æœ€å¿«çš„æ–¹æ³•æ¥æé«˜ä¸€ä¸ªäººå¤„ç†å¤æ‚é—®é¢˜æƒ…å†µçš„èƒ½åŠ›ï¼Œè·å¾—ç†è§£ä»¥é€‚åº”ä»–çš„ç‰¹æ®Šéœ€æ±‚ï¼Œå¹¶å¾—åˆ°é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œä»–ä¹Ÿè®¾æƒ³è®¡ç®—æœºä¸æ˜¯äººç±»æ™ºåŠ›çš„æ›¿ä»£å“ï¼Œè€Œæ˜¯å¢å¼ºæ™ºåŠ›çš„å·¥å…·ï¼Œæ¯”å¦‚å»ºç­‘å¸ˆä½¿ç”¨ä½¿ç”¨CADæ¥è®¾è®¡å»ºç­‘ç‰©ï¼Œè€Œä¸æ˜¯æœºå™¨è‡ªå·±è®¾è®¡å»ºç­‘ç‰© è¿™ä¸ªæ—¶å€™æ—¶é—´ç‚¹è¿˜æ˜¯1962å¹´ï¼Œäººä»¬é‡‡ç”¨çš„è®¡ç®—æœºçš„ä½“ç§¯éå¸¸å·¨å¤§ï¼Œé€šå¸¸ç”¨æˆ·ä¼šä½¿ç”¨æ‰“å­”çº¸å¸¦å’Œä»–ä»¬è¿›è¡Œäº¤äº’ï¼Œç„¶åè®¡ç®—æœºåœ¨æ•°å°æ—¶æˆ–è€…æ•°å¤©ä¹‹åè¾“å‡ºç»“æœã€‚ä½†æ˜¯äººä»¬çš„æƒ³è±¡åŠ›å¹¶ä¸ä¼šæ‹˜æŸä¸æ—¶ä»£ï¼ å› ä¸ºè¿™æ˜¯ä¸€é¡¹å…¨æ–°çš„æŠ€æœ¯ï¼ŒEnglebartçš„æ¼”ç¤ºä½¿ç”¨ç”µè§†æ‘„åƒæœºå¯¹å‡†ä»–çš„è„¸ã€æ‰‹å’Œæ­£åœ¨è§‚çœ‹çš„å°æ˜¾ç¤ºå±ï¼Œç”¨æ¥ç»™äººä»¬å±•ç¤ºä¸€äº›å…¨æ–°çš„æ¦‚å¿µã€‚è¿™ä¸ªæ˜¾ç¤ºç³»ç»ŸåŸºäºçŸ¢é‡å›¾å½¢æŠ€æœ¯ï¼Œå¯ä»¥åœ¨åŒä¸€å±å¹•ä¸Šæ˜¾ç¤ºæ–‡æœ¬å’Œå®çº¿ï¼Œå—é™äºå†…å­˜å¤§å°ï¼Œå®ƒåªèƒ½æ˜¾ç¤ºå¤§å†™å­—æ¯ã€‚Englebarté‡‡ç”¨çš„äº¤äº’å·¥å…·åŒ…æ‹¬ï¼šä¸€ä¸ªæ ‡å‡†æ‰“å­—æœºé”®ç›˜ã€ä¸€ä¸ªäº”é”®â€œå’Œå¼¦é”®ç›˜â€ä»¥åŠä¸€ä¸ªé•¿æ–¹å½¢ä¸‰ä¸ªæŒ‰é’®çš„ç›’å­ è¿™ä¸ªé•¿æ–¹å½¢çš„ç›’å­ã€ç”¨ç€é•¿ç”µçº¿è¿æ¥åˆ°è®¡ç®—æœºï¼Œå°±æ˜¯é¼ æ ‡ï¼ˆmouseï¼‰ï¼›æ²¡æœ‰äººçŸ¥é“è°å…ˆå«å®ƒé¼ æ ‡çš„ï¼Œä½†æ˜¯å®ƒåœ¨å½“æ—¶å‡ºç°ï¼Œå¹¶ä¸€ç›´ä¿ç•™åˆ°ç°åœ¨ï¼Œåœ¨æœºæ¢°ä¸Šï¼Œå®ƒä¸ç°ä»£é¼ æ ‡ç•¥æœ‰ä¸åŒï¼Œå› ä¸ºè¿æ¥åˆ°å†…éƒ¨ç”µä½å™¨çš„ä¸¤ä¸ªåœ†å½¢è½®å­ç›´æ¥åœ¨æ¡Œé¢ä¸Šæ»šåŠ¨ï¼Œè€Œä¸æ˜¯ç”±å•ä¸ªé¼ æ ‡çƒä¸æ»šè½®æ‘©æ“¦æ¥æ“çºµã€‚ç„¶è€Œï¼Œå¯¹äºæœ€ç»ˆç”¨æˆ·æ¥è¯´ï¼Œå®ƒçš„æ“ä½œå‡ ä¹ä¸ç°ä»£é¼ æ ‡ç›¸åŒã€‚å…¶ä»–è¾“å…¥è®¾å¤‡ä¹Ÿæ›¾å°è¯•è¿‡ï¼ˆå¦‚è§¦æ‘¸å±å’Œå…‰ç¬”ï¼‰ï¼Œä½†ç”¨æˆ·æµ‹è¯•å‘ç°é¼ æ ‡æ˜¯æ“ä½œå±å¹•å…‰æ ‡æœ€è‡ªç„¶çš„æ–¹å¼ã€‚ä»Šå¤©ä»ç„¶å¦‚æ­¤ã€‚ é¼ æ ‡çš„å‘æ˜çš„ä¼´ç”Ÿ â€“ æŒ‡é’ˆä¹Ÿå‡ºç°äº†ï¼Œåœ¨å½“æ—¶æ¼”ç¤ºçš„ç³»ç»Ÿä¸­æŒ‡é’ˆæ˜¯ä¸€ä¸ªç®­å¤´ï¼Œå¤§çº¦æ˜¯å•ä¸ªå­—ç¬¦çš„é«˜åº¦ï¼ŒæŒ‡å‘æ­£ä¸Šæ–¹ï¼ŒæŒ‡é’ˆåœ¨æœ€åˆè¢«ç§°ä¸ºâ€˜Bugâ€™ã€‚ä½†æ˜¯è¿™ä¸ªç§°å‘¼å¹¶æ²¡æœ‰ä¼ æ‰¿ä¸‹æ¥ï¼Œè€Œæ˜¯pointer åœ¨å½“æ—¶çš„æ¼”ç¤ºä¸­åŒ…æ‹¬ï¼šè¶…æ–‡æœ¬è¿æ¥ï¼ˆhypertext linkingï¼‰ã€å…¨å±æ–‡æ¡£ç¼–è¾‘ï¼ˆfull screen document editingï¼‰ã€ä¸Šä¸‹æ–‡æ“ä½œï¼ˆcontext- sensitive helpï¼‰ã€ç½‘ç»œæ–‡æ¡£ååŒï¼ˆnetworked document collaborationï¼‰ã€ç”µå­é‚®ä»¶ï¼ˆemailï¼‰ã€å³æ—¶æ¶ˆæ¯ï¼ˆinstant messageï¼‰ã€è§†é¢‘ä¼šè®®ï¼ˆvideo meetingï¼‰ï¼›ä½†æ˜¯ç”±äºè§†é¢‘ç³»ç»Ÿçš„æ˜¾ç¤ºå¾ˆéš¾åˆ†è¾¨å‘ç”Ÿäº†ä»€ä¹ˆã€‚ å¯æƒœæ²¡æœ‰é’±æ¥å®ç°å•†ä¸šåŒ– 2.3 PARC â€“ æ–½ä¹ï¼ˆXeroxï¼‰ å¤å°æœºå…¬å¸çš„è‡ªæ•‘ å½“å¤å°æœºå‚å•†çœ‹åˆ°äº†computerå¸¦æ¥çš„ç”µå­æ–‡æ¡£è¿›è¡Œåä½œåˆ›ä½œçš„æ—¶å€™ï¼Œä¼šæ‹…å¿ƒè‡ªå·±çš„å…¬å¸ä¼šåœ¨æ— çº¸åŒ–çš„è¿›ç¨‹ä¸­ä¸å¯é¿å…çš„æ¶ˆäº¡ï¼Œè¿™ä¸ªæ—¶å€™ä»–ä»¬éœ€è¦åšçš„æ˜¯ç¡®ä¿è‡ªå·±æ§åˆ¶è¿™é¡¹æ–°çš„æŠ€æœ¯ï¼Œå› æ­¤åœ¨1970å¹´æˆç«‹äº†PARCï¼ˆå¸•æ´›é˜¿å°”æ‰˜ç ”ç©¶ä¸­å¿ƒï¼‰ï¼Œæ¥ä½¿ç”¨äº”å¹´çš„æ—¶é—´è‡ªç”±çš„åšæ„Ÿå…´è¶£çš„ä»»ä½•äº‹æƒ… ç¬¬ä¸€ä»¶å‘æ˜æ˜¯æ¿€å…‰æ‰“å°æœºï¼Œæ˜¯å¤å°æœºä¸šåŠ¡çš„è‡ªç„¶è¡¥å……ï¼Œå› ä¸ºæ‰“å°éœ€è¦ä¸€ç§æ›´å›¾å½¢åŒ–çš„æ–¹å¼æ¥è®©è®¡ç®—æœºå¼€å§‹å‡†å¤‡æ–‡ä»¶ï¼Œå› ä¸ºå½“æ—¶æ²¡æœ‰è¿™æ ·çš„è®¡ç®—æœºï¼Œå®ƒä»¬æ–¹é¢æ¥è‡ªå·±çš„è®¡ç®—æœºç§°ä¸ºALTOï¼Œå®ƒçš„æ˜¾ç¤ºå±çš„ç•Œé¢ä¸º606*808ï¼Œæ¯ä¸ªåƒç´ éƒ½å¯ä»¥ç‹¬ç«‹æ‰“å¼€å’Œå…³é—­ï¼Œä½†æ˜¯åªèƒ½æ˜¾ç¤ºå›ºå®šçš„æ–‡æœ¬å­—ç¬¦ã€‚ä½†æ˜¯å…·æœ‰ä¸€ä¸ªé”®ç›˜å’Œæ›´åŠ ç°ä»£åŒ–çš„Englebarté¼ æ ‡ï¼Œè¿™ä¸ªé¼ æ ‡å…·æœ‰ä¸‰ä¸ªæŒ‰é’®ï¼Œæœ¬èº«ä¹Ÿå˜æˆäº†ä½å›¾å›¾åƒï¼Œå¹¶é¦–æ¬¡ä½¿ç”¨æˆ‘ä»¬ç†Ÿæ‚‰çš„å¯¹è§’çº¿ç®­å¤´å½¢çŠ¶ï¼Œå¹¶å¯ä»¥æ ¹æ®æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡å˜æˆå…¶ä»–å½¢çŠ¶ã€‚Altoä¸Šè½¯ä»¶å¼€å§‹éå¸¸ç²—ç³™ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç®¡ç†å™¨ï¼ˆNorton commanderï¼‰ã€å›¾å½¢æ–‡å­—å¤„ç†å™¨ï¼ˆBravoï¼ŒDOSçš„wordå‰èº«ï¼‰ã€ä½å›¾å›¾å½¢ç¼–è¾‘å™¨ï¼ˆç±»ä¼¼paintï¼‰ï¼›ä½†æ˜¯è¿™äº›ä¸åŒçš„åº”ç”¨ç¨‹åºéœ€è¦ä¸€ä¸ªä¸€è‡´çš„ç”¨æˆ·ç•Œé¢ï¼Œå› æ­¤å®ƒä»¬å‘æ˜äº†Smalltalkï¼Œç¬¬ä¸€ä¸ªç°ä»£GUI ç¬¬äºŒä»¶ï¼Œsmalltalkæ˜¯ä¸€ç§æ˜“äºä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€å’Œå¼€å‘ç¯å¢ƒï¼Œä¹Ÿå¯ä»¥ç®—å¾—ä¸Šæ˜¯ç¬¬ç¬¬ä¸€ä¸ªé¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œå…¶ä¸­ç¨‹åºä»£ç å’Œæ•°æ®å¯ä»¥å°è£…åˆ°ç§°ä¸ºå¯¹è±¡çš„å•å…ƒä¸­æ¥è¿›è¡Œå¤ç”¨è€Œä¸ç”¨äº†è§£å…¶ä¸­å®ç°ç»†èŠ‚ï¼Œåœ¨1974å¹´å…·æœ‰é›å½¢å¹¶ä¸ä¸æ–­å®Œå–„ï¼ŒSmalltalkæ˜¯ä¸€ä¸ªå›¾å½¢å¼€å‘ç¯å¢ƒï¼Œç±»ä¼¼äºwindowså’Œvisual studioä¹‹é—´çš„æ„Ÿè§‰ã€‚Smalltalk ä¸­çš„å„ä¸ªçª—å£éƒ½åŒ…å«åœ¨å›¾å½¢è¾¹æ¡†ä¸­ï¼Œå¹¶åœ¨å…¶ä¸‹æ–¹èƒŒæ™¯çš„ç°è‰²å›¾æ¡ˆä¸­æ˜¾å¾—æ ¼å¤–é†’ç›®ã€‚ä»–ä»¬æ¯ä¸ªäººåœ¨æ¯ä¸ªçª—å£çš„é¡¶è¡Œéƒ½æœ‰ä¸€ä¸ªæ ‡é¢˜æ ï¼Œå¯ç”¨äºè¯†åˆ«çª—å£å¹¶åœ¨å±å¹•ä¸Šç§»åŠ¨å®ƒã€‚ä¸ BeOS ç±»ä¼¼ï¼Œæ ‡é¢˜æ å¹¶æ²¡æœ‰å»¶ä¼¸åˆ°çª—å£çš„æ•´ä¸ªé•¿åº¦ï¼Œè€Œæ˜¯ä»å·¦ä¸Šè§’å¼€å§‹ï¼Œä»…å»¶ä¼¸åˆ°æ ‡é¢˜æœ¬èº«ã€‚çª—å£å¯ä»¥ä¸å±å¹•ä¸Šçš„å…¶ä»–çª—å£é‡å ï¼Œå¹¶ä¸”é€‰å®šçš„çª—å£ä¼šå°†è‡ªèº«ç§»åŠ¨åˆ°â€œå †æ ˆâ€çš„é¡¶éƒ¨ã€‚æ­¤æ—¶è¿˜å‘æ˜äº†â€œå›¾æ ‡â€çš„æ¦‚å¿µâ€”â€”ç¨‹åºæˆ–æ–‡æ¡£çš„å°å›¾æ ‡è¡¨ç¤ºï¼Œå¯ä»¥å•å‡»ä»¥è¿è¡Œæˆ–æ“ä½œå®ƒä»¬ã€‚å¼¹å‡ºèœå•ä¹Ÿæ˜¯åŒæ—¶å‘æ˜çš„â€”â€”ç”¨æˆ·å•å‡»é¼ æ ‡æŒ‰é’®ä¹‹ä¸€å¹¶åˆ†å±‚ï¼ŒåŸºäºæ‰‹å¤´ä»»åŠ¡çš„å›¾å½¢èœå•å°†å‡ºç°åœ¨é¼ æ ‡å…‰æ ‡çš„æœ€åä½ç½®ã€‚é¦–æ¬¡å‡ºç°çš„è¿˜æœ‰æ»šåŠ¨æ¡ã€å•é€‰æŒ‰é’®å’Œå¯¹è¯æ¡†ã€‚ ç¬¬ä¸‰ä»¶ä¾¿æ˜¯Xerox star 8010æ–‡æ¡£ï¼ŒSmalltalkæ˜¯å¦‚æ­¤ä¼˜ç¾ï¼Œä½†æ˜¯æ–½ä¹å…¬å¸ç®¡ç†å±‚å¹¶æ²¡æœ‰å…è®¸å…¶ä½œä¸ºå•†ä¸šäº§å“æ¨é”€ï¼Œè€Œæ˜¯åœ¨1981å¹´æ¨å‡ºäº†ALTOç²¾ç®€ç‰ˆAltoï¼Œæœ€é‡è¦çš„æ˜¯å–æ¶ˆäº†é‡å çª—å£çš„åŠŸèƒ½ï¼Œä½†æ˜¯å¯¹äºå…¬ä¼—æ¥è¯´å¤ªæ··ä¹±äº†ã€‚ä½†æ˜¯å¤ªæ™šäº†ï¼Œå› ä¸ºApple Computer.Incåœ¨1976å¹´åˆ›ç«‹. 2.4 Apple/Steven Jobs - - æ¨åŠ¨å•†ä¸šåŒ–çš„å…¸èŒƒï¼Œä»Lisaåˆ°Macintosh 1976å¹´ï¼ŒSteve Jobså’ŒSteve Woznlakåœ¨è½¦åº“å†…åˆ›ç«‹ä¸€å®¶Apple Computerçš„å°å‹åˆ›ä¸šå…¬å¸ï¼Œåœ¨æ¨å‡ºé¥±å—æ¬¢è¿å…·æœ‰ä¼ ç»Ÿå‘½ä»¤è¡Œç•Œé¢çš„Apple IIï¼Œå› ä¸ºå…¶å¹´è½»çš„å±æ€§ï¼Œèµ„é‡‘å……è£•åŒæ—¶æ„¿æ„å†’é™©ï¼Œåœ¨ç»§æ‰¿è¯¸å¤šXerox PARCå·¥ç¨‹å¸ˆä¹‹åï¼ŒAppleçš„ä¸‹ä¸€ä»£è®¡ç®—æœºLisaï¼ˆLocal Integrated Software Architectureï¼‰ä¹Ÿå› æ­¤æ”¹å˜ï¼Œä»å•†ä¸šç”¨é€”çš„ä¼ ç»ŸåŸºäºæ–‡æœ¬çš„å‘½ä»¤è¡Œè®¡ç®—æœºç›´åˆ°è½¬å˜ä¸ºç¬¬ä¸€å°é‡‡ç”¨GUIå’Œé¼ æ ‡çš„ä¸ªäººç”µè„‘ã€‚Lisa ç•Œé¢çš„è®¸å¤šä¸åŒåŸå‹éƒ½åœ¨ Apple ]IIä¸Šè¿›è¡Œäº†æ¨¡æ‹Ÿï¼ŒåŒ…æ‹¬ä¸€ä¸ªåŸºäºä»»åŠ¡çš„ç•Œé¢è¢«ç§°ä¸ºâ€œäºŒåä¸ªé—®é¢˜â€ï¼Œå› ä¸ºå®ƒä¼¼ä¹éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½è®©è®¡ç®—æœºåšä»»ä½•äº‹æƒ…ï¼Œä»¥åŠä¸€ä¸ªç±»ä¼¼çš„å››åˆ—æ–‡ä»¶æµè§ˆå™¨ä¸ Smalltalk ä¸€èµ·å‡ºç°çš„ï¼Œåæ¥åœ¨ NeXTstep å’Œ Mac OSX ä¸­é‡æ–°å‡ºç°ã€‚Lisa å›¢é˜Ÿæœ€ç»ˆç¡®å®šäº†ä¸€ä¸ªåŸºäºå›¾æ ‡çš„ç•Œé¢ï¼Œå…¶ä¸­æ¯ä¸ªå›¾æ ‡éƒ½è¡¨ç¤ºä¸€ä¸ªæ–‡æ¡£æˆ–ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå¹¶å¼€å‘äº†ç¬¬ä¸€ä¸ªä¸‹æ‹‰èœå•æ ï¼Œæ‰€æœ‰èœå•éƒ½å‡ºç°åœ¨å±å¹•çš„æœ€é¡¶è¡Œã€‚ LISAä¸­åˆ›æ–°åŒ…æ‹¬ï¼Œé€‰å®šèœå•é¡¹æ—è¾¹æ˜¾ç¤ºå¤é€‰æ ‡è®°ã€é”®ç›˜å¿«æ·é”®ã€å›ºå®šé«˜åº¦çš„æ»šåŠ¨æ¡ã€åƒåœ¾æ¡¶ã€ç°æ˜¾çš„èœå•ã€‚ä½†æ˜¯ä¹Ÿå°†é¼ æ ‡ä»ä¸‰ä¸ªé”®ç®€åŒ–ç§°ä¸ºä¸€ä¸ªé”®ï¼Œæ‰€ä»¥å¼•å…¥åŒå‡»çš„æ¦‚å¿µã€‚åŒæ—¶ä¹Ÿæå‡ºå›¾æ ‡æ¥ä»£æ›¿æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨åˆ†å±‚ç›®å½•ç»“æ„æµè§ˆè¿™äº›æ–‡ä»¶ 1983å¹´å‘å¸ƒçš„Lisaå› ä¸ºé«˜æ˜‚çš„å”®ä»·å¹¶æ²¡æœ‰æˆåŠŸï¼Œåœ¨1984å¹´ï¼ˆä¹Ÿæ˜¯IBMè¢«æ‰“å€’çš„ä¸€å¹´ï¼‰ï¼Œæ¨å‡ºäº†Macintoshé¡¹ç›®é…å¤‡9è‹±å¯¸ã€128KBã€æ²¡æœ‰å¤šä»»åŠ¡å¤„ç†ã€ä½æˆæœ¬çš„å›¾å½¢è®¡ç®—æœºï¼Œå¹¶æˆåŠŸå®ç°å•†ä¸šåŒ–ã€‚åœ¨1984å¹´åº•é”€é‡å¼€å§‹ä¸‹é™ã€ä»¥åŠå…¶ä»–é—®é¢˜ä¹”å¸ƒæ–¯åœ¨1985å¹´9æœˆ17æ—¥ç¦»å¼€è‹¹æœï¼Œå‰å¾€NeXT Macintoshçš„åç§°æ¥è‡ªäºï¼Œå…¬å¸å‘˜å·¥å–œæ¬¢çš„è‹¹æœå“ç§ï¼ˆçœŸçš„è‹¹æœï¼‰ä¸ºmcIntoshï¼Œä½†æ˜¯æœ‰ä¸€å®¶éŸ³å“å…¬å¸ä¸ºMcIntoshï¼Œå› æ­¤æ‹¼ä¸ºMacintosh 1988 å¹´å‘å¸ƒäº† NeXTSTEPï¼Œè¿™æ˜¯å²è’‚å¤«Â·ä¹”å¸ƒæ–¯çš„ NeXT è®¡ç®—æœºçš„æ–° GUI å’Œæ“ä½œç³»ç»Ÿï¼Œè¿™æ˜¯ä»–åœ¨ 1985 å¹´ç¦»å¼€ Apple åçš„ç¬¬ä¸€ä¸ªé‡å¤§é¡¹ç›®ã€‚NeXTSTEP ä¸ºå…¶æ‰€æœ‰ GUI ç»„ä»¶å¼•å…¥äº†é”åˆ©çš„ 3D æ–œé¢å¤–è§‚ï¼Œæ˜¯ç¬¬ä¸€ä¸ªä½¿ç”¨â€œXâ€ç¬¦å·è¡¨ç¤ºå…³é—­çª—å£å°éƒ¨ä»¶ï¼Œå¹¶åœ¨å·¦ä¸Šè§’å¼•å…¥äº†å‚ç›´èœå•æ¡çš„æƒ³æ³•ï¼Œä¹Ÿå¯ä»¥åœ¨ä»»ä½•æ—¶å€™â€œæ’•æ‰â€ï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥éšæ—¶ç¦»å¼€ç‰¹å®šèœå•ç‚¹åœ¨å±å¹•ä¸Šã€‚NeXTSTEP ä¹Ÿæœ‰ä¸€ä¸ªä½äºå±å¹•ä»»æ„ä¸€ä¾§çš„ Dockï¼ˆä½†é»˜è®¤ä½äºå³ä¾§ï¼‰ã€‚ 2.5 Windows - - æ›´åŠ å•†ä¸šåŒ–çš„GUIæ¨å¹¿ 1985å¹´çš„windows1.0ç‰ˆæœ¬ï¼Œæ¯”å°”ç›–èŒ¨æ¥æºäºVisiOnã€Dosçš„wordçš„äº¤å‰ï¼ŒåŒ…æ‹¬å½©è‰²ç•Œé¢ã€å…·æœ‰å¸¸è§çš„GUIç»„ä»¶æ»šåŠ¨æ¡ã€çª—å£æ§ä»¶å°éƒ¨ä»¶å’Œèœå•ï¼›ä½†æ˜¯ä¸æƒ³LIsaæˆ–è€…Macintoshä¸Šçš„å•ä¸ªèœå•æ ï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½æœ‰è‡ªå·±çš„èœå•æ ï¼›åŒæ—¶é‡‡ç”¨å¹³é“ºçš„çª—å£è€Œä¸æ˜¯å¯ä»¥é‡å çš„çª—å£ï¼Œä½†æ˜¯åç»­ä¼šæ”¹è¿› 1987å¹´ï¼ŒWindows2.0ï¼Œé‡‡ç”¨ç°æœ‰çš„ä¼ ç»Ÿçš„é‡å æ–¹æ³•ï¼Œå¢åŠ äº†æœ€å¤§åŒ–å’Œæœ€å°åŒ–çª—å£ï¼Œä¹Ÿç”±æ­¤ä¸Appleå‘ç”Ÿä¸“åˆ©å†²çª 1990çš„3.0ã€1992å¹´çš„3.1ç‰ˆæœ¬çš„å‘å¸ƒï¼Œä¸€è‡´åˆ°windows95çš„å·©å›ºå…¶åœ¨GUIæ“ä½œç³»ç»Ÿçš„é¢†å…ˆåœ°ä½ 2.6 others GUIç•Œé¢ä¹ŸåŒ…æ‹¬å…¶ä»–å‚å•†çš„åŠªåŠ›ï¼Œæ¯”å¦‚GEMã€Amiga Workbenchã€GEOSã€Acornç­‰ç­‰ 0x03 Macä¸­çš„çª—å£ã€æ–‡æ¡£çš„æ¦‚å¿µ å‚è€ƒ åœ¨GUIçš„è®¾è®¡ä¸­é¢å‘ç”¨æˆ·çš„æ¦‚å¿µæœ‰ä¸‰ä¸ªï¼šåº”ç”¨ã€çª—å£å’Œæ–‡æ¡£ã€‚åœ¨ä¸‰è€…ä¹‹é—´çš„å…³ç³»å¯ä»¥åˆ†ä¸ºMDIã€SDIå’ŒTDI MDIï¼ˆmultiple document interfaceï¼‰ï¼Œå¤šä»½æ–‡æ¡£åŒ…å«åœ¨çª—å£ä¸‹ï¼Œå¤šä¸ªçª—å£ä¿å­˜åœ¨åŒä¸€ä¸ªåº”ç”¨ SDIï¼ˆSingle Document interfaceï¼‰ï¼Œæ¯ä¸ªçª—å£éƒ½æ˜¯ç‹¬ç«‹çš„åº”ç”¨ï¼Œç”±OSè‡ªåŠ¨è°ƒåº¦ã€‚è¿™ä¹Ÿæ˜¯windowsçš„é¦–åˆ›ï¼Œå› æ­¤ä¸€ä¸ªçª—å£å°±æ˜¯ä¸€ä»½åº”ç”¨ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ–‡æ¡£ TDIï¼ˆTab document interfaceï¼‰æ¯”å¦‚chromeï¼Œæœ¯è¯­ä¸¤è€…çš„æ··åˆä½“ æ¯ä¸ªåº”ç”¨å¯ä»¥æ‰“å¼€ä¸€ä¸ªæˆ–è€…å¤šä¸ªçª—å£ï¼Œæ¯ä¸ªçª—å£å¯ä»¥æ‰“å¼€ä¸€ä»½æˆ–è€…å¤šä»½æ–‡æ¡£ã€‚ è¿™ä¸ªç®€å•çš„æ¦‚å¿µåœ¨åªæœ‰128KBçš„Macintoshä¸Šè¿™ä¸€å±‚æŠ½è±¡å¹¶ä¸å®¹æ˜“ï¼Œè¿™æ ·å¤šä¸ªçª—å£çš„å…±å­˜å¯èƒ½éœ€è¦å¤šä¸ªåº”ç”¨çš„åŒæ­¥ï¼Œå› ä¸ºå½“æ—¶çš„å†…å­˜åªèƒ½è·‘ä¸€ä¸ªå‰å°ç¨‹åºï¼Œå› æ­¤éœ€è¦ä¼ è¾¾ç»™ç”¨æˆ· ä¸€ä¸ªåº”ç”¨åœ¨é€»è¾‘ä¸Šåªèƒ½æ‰“å¼€ä¸€ä¸ªçª—å£ ç”¨æˆ·åº”å½“å°½å¯èƒ½çš„åœç•™åœ¨å•ä¸ªé¡µé¢ æ‰€ä»¥Macç³»ç»Ÿçš„çº¢xå¯¹åº”çš„æ˜¯å…³é—­ç°æœ‰çš„çª—å£ï¼Œä»¥åŠå…¶æ‰“å¼€çš„æ–‡æ¡£ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰é€€å‡ºåº”ç”¨ï¼Œé€€å‡ºçš„è¯å¯ä»¥ç”¨docké‡Œé¢çš„é€€å‡ºæˆ–è€…ä½¿ç”¨â€œcommand+Qâ€ è€Œwindowsä»£è¡¨çš„æ“ä½œç³»ç»Ÿè®©åº”ç”¨å¯ä»¥å®ç°å¤šå¼€ï¼Œé€æ¸å¼±åŒ–äº†çª—å£çš„æ¦‚å¿µï¼Œæ¯ä»½æ–‡æ¡£å¯¹åº”æ¯ä¸ªappï¼Œå…³é—­æ–‡æ¡£ä¹Ÿå°±æ˜¯å…³é—­å¯¹åº”çš„app æ›´å¯¹åº”çš„ï¼Œåœ¨iosæˆ–è€…androidã€harmonyä¸­å·²ç»å®Œå…¨å¤±å»äº†æ–‡æ¡£çš„æ¦‚å¿µï¼Œåªå­˜åœ¨åº”ç”¨å’Œçª—å£ã€‚ 0x04 ä½¿ç”¨æ³¨æ„ macOSä¸­çª—å£çš„æ¦‚å¿µç”±å†…å­˜å’Œç®—åŠ›é™åˆ¶è€Œè¯ç”Ÿï¼Œä¹Ÿå› ç°æœ‰GUIå‘å±•è€ŒèŒå£®ï¼Œåœ¨ä½¿ç”¨ä¸­æ³¨æ„åŒºåˆ†applicationå’Œwindowçš„åŒºåˆ«ï¼Œå…³é—­windowä½¿ç”¨çº¢â€˜xâ€™ã€é€€å‡ºåº”ç”¨ä½¿ç”¨â€˜command+Qâ€™ï¼›æˆ–è®¸è¿™å°±æ˜¯window- serverå†…å­˜ä¸ºä»€ä¹ˆè¿™ä¹ˆé«˜çš„åŸå› å§ 1984å¹´Macintoshæ¨¡æ‹Ÿ å‚è€ƒé“¾æ¥ PARCï¼šPalo Alto Research Centerï¼Œå¸•æ´›é˜¿å°”æ‰˜ç ”ç©¶ä¸­å¿ƒ Lisaï¼šï¼ˆLocal Integrated Software Architectureï¼‰ï¼Œä½†æ˜¯æ˜¾ç„¶æ˜¯Jobsçš„å¥³å„¿åå­— https://www.zhihu.com/question/21143701/answer/2521552530 https://arstechnica.com/features/2005/05/gui/","categories":[{"name":"Memo","slug":"Memo","permalink":"https://blog.tjdata.site/categories/Memo/"}],"tags":[{"name":"Translation","slug":"Translation","permalink":"https://blog.tjdata.site/tags/Translation/"}]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•08-ç®—æ³•åˆ·é¢˜-æšä¸¾ï½œé€’å½’ï½œåˆ†æ²»ï½œå›æº¯","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•08-ç®—æ³•åˆ·é¢˜-æšä¸¾ï½œé€’å½’ï½œåˆ†æ²»ï½œå›æº¯","date":"2022-07-31T03:25:07.000Z","updated":"2023-05-13T13:52:59.535Z","comments":true,"path":"posts/551748b9.html","link":"","permalink":"https://blog.tjdata.site/posts/551748b9.html","excerpt":"åœ¨å‰é¢ç¨å¾®çš„å®Œæ•´äº†è§£çš„åŸºç¡€çš„çº¿æ€§è¡¨ç»“æ„ï¼ŒçŸ¥é“æ•°ç»„ã€é“¾è¡¨ã€é˜Ÿã€æ ˆã€å“ˆå¸Œè¡¨ã€å †ä¹‹åï¼›æœ¬æ¥æŒ‰ç…§æ•°æ®ç»“æ„è¦å­¦ä¹ é«˜çº§æ•°æ®ç»“æ„å­—ç¬¦ä¸²å’ŒäºŒå‰æ ‘ï¼Œä½†æ˜¯åœ¨å­¦ä¹ KMPçš„æ—¶å€™å¯¹ä¸€äº›ç®—æ³•ä¸­çš„åŸºæœ¬æ¦‚å¿µä¸æ¸…æ™°ï¼ŒåŒæ—¶éœ€è¦å¯¹å‰ä¸€é˜¶æ®µä¸­çš„æ’åºã€äºŒåˆ†ã€åŒæŒ‡é’ˆã€ä¼˜å…ˆé˜Ÿåˆ—ã€å•è°ƒæ ˆç­‰è¿›è¡Œæ€»ç»“ï¼Œæ‰€ä»¥å€Ÿæ­¤æœºä¼šäº†è§£ä¸€ä¸‹ç®—æ³•ã€‚ç®—æ³•ä¸­æœ€åŸºç¡€çš„å°±æ˜¯æšä¸¾æˆ–è€…è¯´è¿­ä»£ï¼Œä¹‹åä¾¿æ˜¯é€’å½’ä¸ºåŸºç¡€çš„åˆ†æ²»å’Œå›æº¯ç®—æ³•ã€‚","text":"åœ¨å‰é¢ç¨å¾®çš„å®Œæ•´äº†è§£çš„åŸºç¡€çš„çº¿æ€§è¡¨ç»“æ„ï¼ŒçŸ¥é“æ•°ç»„ã€é“¾è¡¨ã€é˜Ÿã€æ ˆã€å“ˆå¸Œè¡¨ã€å †ä¹‹åï¼›æœ¬æ¥æŒ‰ç…§æ•°æ®ç»“æ„è¦å­¦ä¹ é«˜çº§æ•°æ®ç»“æ„å­—ç¬¦ä¸²å’ŒäºŒå‰æ ‘ï¼Œä½†æ˜¯åœ¨å­¦ä¹ KMPçš„æ—¶å€™å¯¹ä¸€äº›ç®—æ³•ä¸­çš„åŸºæœ¬æ¦‚å¿µä¸æ¸…æ™°ï¼ŒåŒæ—¶éœ€è¦å¯¹å‰ä¸€é˜¶æ®µä¸­çš„æ’åºã€äºŒåˆ†ã€åŒæŒ‡é’ˆã€ä¼˜å…ˆé˜Ÿåˆ—ã€å•è°ƒæ ˆç­‰è¿›è¡Œæ€»ç»“ï¼Œæ‰€ä»¥å€Ÿæ­¤æœºä¼šäº†è§£ä¸€ä¸‹ç®—æ³•ã€‚ç®—æ³•ä¸­æœ€åŸºç¡€çš„å°±æ˜¯æšä¸¾æˆ–è€…è¯´è¿­ä»£ï¼Œä¹‹åä¾¿æ˜¯é€’å½’ä¸ºåŸºç¡€çš„åˆ†æ²»å’Œå›æº¯ç®—æ³•ã€‚ 0x01 æšä¸¾ç®—æ³•ï¼ˆEnumeration Algorithmï¼‰ 1.1 æšä¸¾ç®—æ³•ç®€ä»‹ ç©·ä¸¾ç®—æ³•ï¼ŒæŒ‡çš„æ˜¯æŒ‰ç…§é—®é¢˜çš„æœ¬èº«çš„æ€§è´¨ï¼Œæ¥åˆ—ä¸¾å‡ºæ‰€æœ‰è¯¥é—®é¢˜å¯èƒ½å­˜åœ¨çš„è§£ï¼Œå¹¶åœ¨é€ä¸€æšä¸¾çš„è¿‡ç¨‹ä¸­è®²å®ƒä»¬é€ä¸€å’Œç›®æ ‡çŠ¶æ€è¿›è¡Œæ¯”è¾ƒæ¥å¾—åˆ°æ»¡è¶³é—®é¢˜è¦æ±‚çš„è§£ æšä¸¾ç®—æ³•çš„æ ¸å¿ƒæ˜¯éœ€è¦åˆ—ä¸¾é—®é¢˜çš„æ‰€æœ‰çŠ¶æ€ï¼Œå¹¶ä¸ç›®æ ‡çŠ¶æ€è¿›è¡Œæ¯”è¾ƒã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯ï¼Œå®¹æ˜“ç¼–ç¨‹è°ƒè¯•ã€ç®—æ³•çš„æ­£ç¡®æ€§å®¹æ˜“è¯æ˜ï¼›å®ƒçš„ç¼ºç‚¹æ˜¯æ•ˆç‡æ¯”è¾ƒä½ï¼Œä¸é€‚åˆæ±‚è§£è§„æ¨¡è¾ƒå¤§çš„é—®é¢˜ 1.2 æšä¸¾ç®—æ³•çš„æ€è·¯ ç¡®å®šæšä¸¾å¯¹è±¡ã€ æšä¸¾èŒƒå›´å’Œåˆ¤æ–­æ¡ä»¶ï¼Œå¹¶åˆ¤æ–­æ¡ä»¶è®¾ç«‹çš„æ­£ç¡®æ€§ ä¸€ä¸€æšä¸¾å¯èƒ½çš„æƒ…å†µå¹¶éªŒè¯æ˜¯å¦æ˜¯é—®é¢˜çš„è§£ è€ƒè™‘æé«˜æšä¸¾ç®—æ³•çš„æ•ˆç‡ 1.3 æšä¸¾ç®—æ³•çš„åº”ç”¨ LC78 å­é›† å¦‚æœé›†åˆAçš„ä»»æ„ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯é›†åˆSçš„å…ƒç´ ï¼Œåˆ™é›†åˆAäº‹é›†åˆSçš„å­é›†ï¼Œæšä¸¾å­é›†çš„æ–¹æ³•å¾ˆå¤šï¼Œä¸€ç§ç®€å•æœ‰æ•ˆçš„æšä¸¾æ–¹æ³•æ˜¯äºŒè¿›åˆ¶æšä¸¾å­é›†ç®—æ³• 1234567891011121314class Solution: def subsets(self, nums: List[int]) -&gt; List[List[int]]: res=[] path=[] def backtracking(nums,index): res.append(path[:]) if index&gt;=len(nums): return for i in range(index,len(nums)): path.append(nums[i]) backtracking(nums,i+1) path.pop() backtracking(nums,0) return res python çš„ä½è¿ç®—ç¬¦ï¼› &amp; ï¼šandè¿ç®—ï¼Œå‚ä¸è¿ç®—çš„ä¸¤ä¸ªå€¼ç›¸åº”ä½ä¸º1ï¼Œåˆ™ç»“æœä¸º1 ï½œï¼šor è¿ç®—ï¼Œåªè¦å¯¹åº”çš„ä¸¤ä¸ªäºŒä½æœ‰ä¸€ä¸ªä¸º1ï¼Œç»“æœå°±ä¸º1 ^: XORè¿ç®—ï¼Œä¸¤ä¸ªå¯¹åº”çš„ç›¸å¼‚çš„æ—¶å€™ï¼Œç»“æœä¸º1 ï½ï¼šnotè¿ç®—ï¼Œ &lt;&lt; å·¦ç§»è¿ç®—ç¬¦ï¼Œ 12345678910111213class Solution: def subsets(self, S: List[int]) -&gt; List[List[int]]: sub_sets=[] n=len(S) # 1&lt;&lt;n ç›¸å½“äº2^næ¬¡æ–¹ï¼Œrange(1&lt;&lt;n)ç›¸å½“äº0ï½2^n-1 for i in range(1&lt;&lt;n): sub_set=[] for j in range(n): # &amp;1 ç›¸å½“äºå–æœ€åä¸€ä½ if i&gt;&gt;j&amp;1: sub_set.append(S[j]) sub_sets.append(sub_set) return sub_sets LC221 æœ€å¤§æ­£æ–¹å½¢ éœ€è¦ç”¨åˆ°ä¸€äº›ç®€å•çš„DP 123456789101112131415161718192021222324class Solution: def maximalSquare(self, matrix: List[List[str]]) -&gt; int: # æœ€å¤§é¢ç§¯çš„æ­£æ–¹å½¢ # ç§¯åˆ†å›¾çš„æ–¹å¼ max_len=0 m,n=len(matrix),len(matrix[0]) dp=[] for i in range(m): sub_dp=[] for j in range(n): matrix[i][j]=int(matrix[i][j]) if matrix[i][j]==1: max_len=1 sub_dp.append(matrix[i][j]) dp.append(sub_dp) for i in range(1,m): for j in range(1,n): if matrix[i][j]==1 and dp[i-1][j]&gt;=1 and dp[i][j-1]&gt;=1 and dp[i-1][j-1]&gt;=1: dp[i][j]=min(dp[i-1][j-1],dp[i-1][j],dp[i][j-1])+1 if dp[i][j]&gt;max_len: max_len=dp[i][j] return max_len*max_len LC204 è®¡ç®—è´¨æ•° å’Œä»¥å‰åœ¨å­¦æ ¡å­¦ä¹ çš„å°±ç©å°±å®Œå…¨ä¸ä¸€æ ·ï¼Œæšä¸¾æœ€é‡è¦çš„ä¸æ˜¯è¦ç¡®å®šåˆ—ä¸¾çš„å¯¹è±¡ï¼Œè¿˜éœ€è¦ç¡®å®šå‰ªæçš„æ¡ä»¶ã€‚æ‰€ä»¥æœ¬é¢˜å¯ä»¥æœ‰ç­›å­çš„æ¦‚å¿µ 1234567891011class Solution: def countPrimes(self, n: int) -&gt; int: is_prime = [True]*(n) ans = 0 for num in range(2,n): if is_prime[num]: ans+=1 # å³è¾¹ç•Œ:å› ä¸ºæ•°å­—æœ€å¤§æ˜¯n-1 æ‰€ä»¥åªéœ€è¦åˆ°(n-1)//num å³è¾¹æ˜¯å¼€åŒºé—´ æ‰€ä»¥+1 for k in range(1,(n-1)//num+1): is_prime[num*k]=False return ans 0x02 é€’å½’ç®—æ³• 2.1 é€’å½’ç®€ä»‹ æ˜¯ä¸€ç§é€šè¿‡é‡å¤è®²åŸé—®é¢˜åˆ†è§£ä¸ºåŒç±»çš„å­é—®é¢˜è€Œè§£å†³çš„æ–¹æ³•ï¼Œåœ¨ç»å¤§æ•°ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå¯ä»¥é€šè¿‡åœ¨å‡½æ•°ä¸­å†æ¬¡è°ƒç”¨å‡½æ•°è‡ªèº«çš„æ–¹å¼æ¥å®ç°é€’å½’ ç®€å•çš„ä¾‹å­å°±æ˜¯é˜¶ä¹˜çš„è®¡ç®— 1234def fact(n): if n==0: return 1 return n*fact(n-1) é€’å½’å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š ï¼ˆé€’æ¨è¿‡ç¨‹ï¼‰å…ˆé€å±‚å‘ä¸‹è°ƒç”¨è‡ªèº«ï¼Œç›´åˆ°è¾¾åˆ°ç»“æŸæ¡ä»¶ï¼›æŒ‡çš„æ˜¯å°†åŸé—®é¢˜ä¸€å±‚ä¸€å±‚åˆ†è§£ä¸ºä¸åŸé—®é¢˜å½¢å¼ç›¸åŒã€è§„æ¨¡æ›´å°çš„å­—é—®é¢˜ï¼Œç›´åˆ°è¾¾åˆ°ç»“æŸæ¡ä»¶æ—¶åœæ­¢ï¼Œæ­¤æ—¶è¿”å›æœ€åº•å±‚é—®é¢˜çš„è§£ ç„¶åæƒ³ä¸Šé€å±‚è¿”å›ç»“æœï¼Œç›´åˆ°è¿”å›åŸé—®é¢˜çš„è§£ï¼›æŒ‡çš„æ˜¯ä»æœ€åº•å±‚å­—é—®é¢˜çš„è§£å¼€å§‹ï¼Œé€†å‘é€ä¸€å›å½’ï¼Œæœ€ç»ˆè¾¾åˆ°é€’æ¨å¼€å§‹çš„åŸé—®é¢˜ï¼Œç›´åˆ°è¿”å›åŸé—®é¢˜çš„è§£ 2.2 é€’æ¨ä¸æ•°æ®å½’çº³æ³• å¤šç±³ç½—éª¨ç‰Œç±»ä¼¼çš„æ•°å­¦å½’çº³æ³•çš„æ­¥éª¤æ˜¯ï¼š è¯æ˜å½“n==bçš„æ—¶å€™ï¼ŒåŸºæœ¬æƒ…å†µä¸‹æˆç«‹ è¯æ˜å½“n&gt;bçš„æ—¶å€™ï¼Œn=kæˆç«‹çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¨å¯¼å¾—å‡ºn=k+1æˆç«‹ è¿™ä¸ªæ—¶å€™éœ€è¦è§£å†³çš„é€’å½’å°±éœ€è¦ é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ é€’å½’çš„è¿‡ç¨‹ å›å½’è¿‡ç¨‹ 2.3 é€’å½’çš„æ¨¡ç‰ˆ 2.3.1 é€’å½’å…¬å¼ éœ€è¦æ‰¾åˆ°åŸé—®é¢˜åˆ†è§£ç§°ä¸ºå­é—®é¢˜çš„è§„å¾‹ï¼Œå¹¶ä¸”æ ¹æ®è§„å¾‹å†™å‡ºé€’æ¨å…¬å¼ã€‚è¿™é‡Œçš„å…³é”®æ˜¯éœ€è¦æ‰¾åˆ°åŸé—®é¢˜åˆ†è§£ç§°ä¸ºå­é—®é¢˜çš„è§„å¾‹ï¼Œå¹¶æŠ½è±¡ç§°ä¸ºé€’æ¨å…¬å¼ã€‚ æ³¨æ„ï¼Œåœ¨æ€è€ƒé€’å½’å…¬å¼çš„æ—¶å€™æ²¡æœ‰å¿…è¦å°†æ•´ä¸ªé€’æ¨è¿‡ç¨‹å’Œå›å½’è¿‡ç¨‹ä¸€å±‚å±‚çš„æƒ³æ¸…æ¥šï¼Œè¿™æ ·å¯èƒ½è¿˜æ²¡æœ‰é€’æ¨åˆ°æ ˆåº•å°±å·²ç»ç»•æ™•äº†ã€‚é‡ç‚¹åœ¨äºæƒ³æ¸…æ¥šn=kåˆ°n=k+1è¿™ä¸ªæ­¥éª¤ï¼Œè€Œä¸æ˜¯n=iåˆ°n=i+1ï¼ˆi=1:mï¼‰ï¼›ä¹Ÿå°±æ˜¯æ‰¾åˆ°é€’å½’è¿‡ç¨‹ä¸­çš„å¾ªç¯ä¸å˜é‡ï¼ˆloop variantï¼‰ï¼Œå…ˆå‡è®¾å­é—®é¢˜è§£å†³äº†ï¼Œå†çœ‹å¦‚ä½•å°†åŸé—®é¢˜åˆ†è§£ 2.3.2 ç»ˆæ­¢æ¡ä»¶ é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ä¹Ÿå«åšé€’å½’å‡ºå£ï¼Œåœ¨å†™å‡ºé€’æ¨å…¬å¼ä¹‹åï¼Œå°±éœ€è¦è€ƒè™‘é€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯ä»€ä¹ˆã€‚é€šå¸¸æ¡ä»¶ä¸‹ï¼Œé€’å½’çš„ç»ˆæ­¢æ¡ä»¶æ˜¯é—®é¢˜çš„è¾¹ç•Œå€¼ 2.3.3 ç¿»è¯‘æˆä»£ç  ç¬¬ä¸€æ­¥ï¼Œå®šä¹‰é€’å½’å‡½æ•°ï¼Œæ˜ç¡®å‡½æ•°æ„ä¹‰ã€inputå’Œoutput ç¬¬äºŒæ­¥ï¼Œæ ¹æ®å¾ªç¯ä¸å˜é‡æ¥æ¨è®ºå¾—åˆ°é€’å½’å…¬å¼ ç¬¬ä¸‰æ­¥ï¼Œæ˜ç¡®é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ ç¬¬å››æ­¥ï¼Œä¼ªä»£ç  1234def recursion(å¤§è§„æ¨¡ï¼‰ï¼š if ç»ˆæ­¢æ¡ä»¶ï¼š ç»ˆæ­¢æ¡ä»¶å¤„ç† return recursionï¼ˆå°è§„æ¨¡ï¼‰ 2.3.4 é€’å½’çš„æ³¨æ„ç‚¹ é¿å…æ ˆæº¢å‡º é¿å…é‡å¤è¿ç®— 2.4 é€’å½’çš„åº”ç”¨ é€’å½’åœ¨ä½¿ç”¨çš„è¿‡ç¨‹éœ€è¦æ˜ç¡®ä½ çš„loop variantæ˜¯ä»€ä¹ˆï¼Œåœ¨æ¯æ¬¡è¿è¡Œè¿‡ç¨‹ä¸­å¾ªç¯ä¸å˜é‡æ˜¯ä»€ä¹ˆ LC509 æ–æ³¢é‚£å¥‘æ•°åˆ— LC70çˆ¬æ¥¼æ¢¯ LC344 åè½¬å­—ç¬¦ä¸² LC24 äº¤æ¢èŠ‚ç‚¹ 123456789101112131415161718192021222324252627# Definition for singly-linked list.# class ListNode:# def __init__(self, val=0, next=None):# self.val = val# self.next = nextclass Solution: def swapPairs(self, head: ListNode) -&gt; ListNode: if head==None or head.next==None: return head dummy=ListNode(0,head) node1=head res=ListNode(0,head.next) node2=head.next while(node1!=None and node2!=None): # äº¤æ¢ä¸¤è€… node1.next=node2.next node2.next=node1 dummy.next=node2 # æ›´æ–°node dummy=node1 if node1.next==None: break node1=node1.next node2=node1.next return res.next LC119 æ¨è¾‰ä¸‰è§’ LC104 äºŒå‰æ ‘æœ€å¤§æ·±åº¦ 1234567891011# Definition for a binary tree node.# class TreeNode:# def __init__(self, val=0, left=None, right=None):# self.val = val# self.left = left# self.right = rightclass Solution: def maxDepth(self, root: Optional[TreeNode]) -&gt; int: if not root: return 0 return max(self.maxDepth(root.left),self.maxDepth(root.right))+1 LC226 ç¿»è½¬äºŒå‰æ ‘ 12345678910111213141516# Definition for a binary tree node.# class TreeNode:# def __init__(self, val=0, left=None, right=None):# self.val = val# self.left = left# self.right = rightclass Solution: def invertTree(self, root: TreeNode) -&gt; TreeNode: if root == None: return root # ç­‰äºå·¦è¾¹çš„åè½¬ åŠ ä¸Š å³è¾¹çš„åè½¬ left=self.invertTree(root.left) right=self.invertTree(root.right) root.right=left root.left=right return root LC779 ç¬¬Kä¸ªè¯­æ³•ç¬¦å· 12345678class Solution: def kthGrammar(self, n: int, k: int) -&gt; int: if n == 0: return 0 if k % 2 == 1: return self.kthGrammar(n-1, (k+1) // 2) else: return abs(self.kthGrammar(n-1, k // 2) - 1) LC95 ä¸åŒçš„äºŒå‰æœç´¢æ ‘II 12345678910111213141516171819202122232425262728# Definition for a binary tree node.# class TreeNode:# def __init__(self, val=0, left=None, right=None):# self.val = val# self.left = left# self.right = rightclass Solution: def generateTrees(self, n: int) -&gt; List[TreeNode]: if n==0: return [] def recursionTree(left,right): # ç”Ÿæˆleft-rightä¹‹é—´çš„æ ‘ if left&gt;right: return [None] trees=[] for i in range(left,right+1): left_trees=recursionTree(left,i-1) right_trees=recursionTree(i+1,right) for left_tree in left_trees: for right_tree in right_trees: curr_tree=TreeNode(i) curr_tree.left=left_tree curr_tree.right=right_tree trees.append(curr_tree) return trees return recursionTree(1,n) offer62 åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­— 123456class Solution: def lastRemaining(self, n: int, m: int) -&gt; int: ans = 0 for i in range(2, n + 1): ans = (m + ans) % i return ans 0x03 åˆ†æ²»æ³•ï¼ˆDivide and Conquer) è¿™é‡Œåªæ˜¯ç®€å•çš„äº†è§£ï¼Œä»¥å½’å¹¶æ’åºä½œä¸ºåŸºç¡€ã€‚ç†è§£ä¸€ä¸ªç®—æ³•çš„å¥½å¤„å°±æ˜¯å»æ¨¡æ‹Ÿå®ƒ 1234567891011121314151617181920212223242526272829303132333435def mergeSort(arr): # å½’å¹¶æ’åºçš„åŸºæœ¬æ€æƒ³ï¼š # é‡‡ç”¨ç»å…¸çš„åˆ†æ²»ç­–ç•¥ï¼Œå…ˆé€’å½’å°†å½“å‰åºåˆ—å¹³å‡åˆ†æˆä¸¤åŠï¼Œç„¶åå°†æœ‰åºåºåˆ—åˆå¹¶ï¼Œæœ€ç»ˆåˆå¹¶æˆä¸€ä¸ªæœ‰åºåºåˆ— # # ã€ç®—æ³•æ­¥éª¤ã€‘ # 1. å°†æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°æ®å ªç§°næœ‰åºçš„å­åºåˆ— # 2. å°†å½“å‰åºåˆ—ç»„ä¸­çš„æœ‰åºåºåˆ—ä¸¤ä¸¤å½’å¹¶ï¼Œå®Œæˆä¸€éä¹‹ååºåˆ—ç»„é‡Œçš„æ’åºåºåˆ—çš„ä¸ªæ•°å‡ç‰ˆï¼Œæ¯ä¸ªå­åºåˆ—çš„é•¿åº¦åŠ å€ # 3. é‡å¤ä¸Šè¿°æ“ä½œå¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æœ‰åºåºåˆ— # def merge(left_arr,right_arr): arr=[] while left_arr and right_arr: if left_arr[0]&lt;=right_arr[0]: arr.append(left_arr.pop(0)) else: arr.append(right_arr.pop[0]) while left_arr: arr.append(left_arr.pop(0)) while right_arr: arr.append(right_arr.pop(0)) return arr size =len(arr) # è¾¹ç•Œæƒ…å†µ if size&lt;2: return arr mid =size//2 left_arr,right_arr=arr[0:mid],arr[mid:] return merge(mergeSort(left_arr),mergeSort(right_arr)) 0x04 å›æº¯ç®—æ³•(Backtracking algorithm) 4.1 å›æº¯ç®—æ³•ç®€ä»‹ ä¸€ç§èƒ½å¤Ÿé¿å…ä¸å¿…è¦æœç´¢çš„ç©·ä¸¾å¼çš„æœç´¢ç®—æ³•ï¼Œé‡‡ç”¨å°è¯•é”™è¯¯çš„æ€æƒ³ï¼Œåœ¨æœç´¢å°è¯•è¿‡ç¨‹ä¸­å¯»æ‰¾é—®é¢˜çš„è§£ï¼Œå½“æ¢ç´¢åˆ°æŸä¸€æ­¥çš„æ—¶å€™ï¼Œå‘ç°åŸå…ˆçš„é€‰æ‹©å¹¶ä¸æ»¡è¶³æ±‚è§£æ¡ä»¶ã€æˆ–è€…è¿˜éœ€è¦æ»¡è¶³æ›´å¤šçš„æ±‚è§£æ¡ä»¶çš„çš„æ—¶å€™ï¼Œå°±é€€å›ä¸€æ­¥é‡æ–°é€‰æ‹©ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­èµ°ä¸é€šå°±é€€å›çš„æŠ€æœ¯ç§°ä¸ºå›æº¯æ³•ã€æ»¡è¶³å›æº¯æ¡ä»¶çš„æŸä¸ªçŠ¶æ€çš„ç‚¹ç§°ä¸ºå›æº¯ç‚¹ å›æº¯ç®—æ³•é€šå¸¸ç”¨ç®€å•çš„é€’å½’çš„æ–¹æ³•æ¥å®ç°ï¼Œåœ¨è¿›è¡Œå›æº¯çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºç°ä¸¤ç§æƒ…å†µï¼š æ‰¾åˆ°ä¸€ä¸ªå¯èƒ½å­˜åœ¨çš„æ­£ç¡®ç­”æ¡ˆ åœ¨å°è¯•æ‰€æœ‰å¯èƒ½çš„åˆ†å¸ƒæ–¹æ³•ä¹‹åå®£å¸ƒè¯¥é—®é¢˜æ²¡æœ‰ç­”æ¡ˆ 4.2 å›æº¯ç®—æ³•çš„ä¾‹å­ æ¯”å¦‚æ±‚è§£1ï¼Œ2ï¼Œ3çš„å…¨æ’åˆ—çš„é—®é¢˜ï¼š 123456789101112131415161718192021def premute(nums): res=[] # å­˜æ”¾æ‰€æœ‰ç¬¦åˆæ¡ä»¶ç»“æœçš„é›†åˆ path=[] # å­˜æ”¾å½“å‰ç¬¦åˆæ¡ä»¶çš„ç»“æœ def backtracking(nums): if len(path)==len(nums): res.append(path[:]) return for i in range(len(nums)): if nums[i] not in path: # ä»å½“å‰è·¯å¾„ä¸­æ²¡æœ‰å‡ºç°çš„æ•°å­—ä¸­é€‰æ‹© path.append(nums[i]) # é€’å½’æœç´¢ backtracking(nums) # æ’¤é”€é€‰æ‹© path.pop() backtracking(nums) return resprint(premute([1,2,3,4])) 4.3 å›æº¯ç®—æ³•çš„è¿‡ç¨‹ å›æº¯ç®—æ³•çš„è§£é¢˜æ­¥éª¤æ¯”è¾ƒæŠ½è±¡ï¼Œè¿™é‡Œåªæ˜¯åšä¸€ä¸ªç®€å•çš„ä»‹ç» ç¬¬ä¸€æ­¥ï¼šç»“åˆæ‰€ç»™çš„é—®é¢˜ï¼Œå®šä¹‰é—®é¢˜çš„æ±‚è§£ç©ºé—´ï¼ŒåŒ…æ‹¬æ±‚è§£çš„ç»„ç»‡å½¢å¼å’Œæ˜¾æ€§çº¦æŸ è§£çš„ç»„ç»‡å½¢å¼ï¼Œå°†è§£çš„ç»„ç»‡å½¢å¼éƒ½è§„èŒƒç§°ä¸ºä¸€ä¸ªnå…ƒç¥– æ˜¾çº¦æŸï¼Œå¯¹è§£åˆ†é‡çš„å–å€¼èŒƒå›´é™å®šï¼Œç”¨æ¥æ§åˆ¶è§£ç©ºé—´çš„å¤§å° ç¬¬äºŒæ­¥ï¼šç¡®å®šè§£ç©ºé—´çš„ç»„ç»‡ç»“æ„ï¼Œè§£ç©ºé—´çš„ç»„ç»‡å€Ÿå£é€šå¸¸ç”¨è§£ç©ºé—´æ ‘çš„æ–¹å¼å½¢è±¡è¡¨è¾¾ï¼Œæ ¹æ®è§£ç©ºé—´æ ‘çš„ä¸åŒï¼Œè§£ç©ºé—´åˆ†ä¸ºå­é›†æ ‘ã€æ’åˆ—æ ‘å’Œmå‰æ ‘ ç¬¬ä¸‰æ­¥ï¼šæŒ‰ç…§æ·±åº¦ä¼˜å…ˆæœç´¢ç­–ç•¥ï¼Œæ ¹æ®éšçº¦æŸï¼Œåœ¨è§£ç©ºé—´ä¸­æœç´¢é—®é¢˜çš„å¯è¡Œè§£æˆ–è€…æœ€ä¼˜è§£ï¼Œå½“å‘ç°å½“å‰èŠ‚ç‚¹ä¸æ»¡è¶³æ±‚è§£æ¡ä»¶æ—¶å€™å›æº¯å°è¯•å…¶ä»–çš„è·¯å¾„ ä¸Šé¢çš„æ˜¯è§£é¢˜çš„æŠ½è±¡é€»è¾‘ï¼Œåé¢æ ¹æ®codeä¹¦å†™å›æº¯ç®—æ³•çš„æ­¥éª¤å¯ä»¥åˆ†ä¸ºï¼š æ˜ç¡®æ‰€æœ‰çš„é€‰æ‹©ï¼Œç”»å‡ºæœç´¢è¿‡ç¨‹çš„å†³ç­–æ ‘ï¼Œæ ¹æ®å†³ç­–æ ‘æ¥ç¡®å®šæœç´¢è·¯å¾„ æ˜ç¡®ç»ˆæ­¢æ¡ä»¶ï¼Œæ¨æ•²å‡ºé€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼Œä»¥åŠé€’å½’ç»ˆæ­¢æ—¶è¦æ‰§è¡Œçš„å¤„ç†æ–¹æ³• å°†å†³ç­–æ ‘å’Œç»ˆæ­¢æ¡ä»¶ç¿»è¯‘æˆä»£ç  4.4 å›æº¯ç®—æ³•çš„åº”ç”¨ åˆæ­¥çš„å›æº¯ç®—æ³•æ˜¯å°†ç°æœ‰çš„å¯èƒ½æ€§åˆ†ç±»ï¼Œç„¶åé€‰æ‹©å…¶ä¸­çš„ä¸€ä¸ªé€’å½’åˆ°ä¸‹ä¸€å±‚ï¼Œå¹¶å…è®¸è¿”å›åæ‰§è¡Œä¸‹ä¸€ä¸ªå¯èƒ½æ€§ã€‚é‡ç‚¹åœ¨äºæ¯ä¸€å±‚é€’å½’éƒ½ä¼šæœ‰Nä¸ªå¯èƒ½æ€§ï¼Œæ‰€ä»¥æ›´è¿‘ä¸€æ­¥éœ€è¦è€ƒè™‘å‰ªæã€‚å½“ç„¶éœ€è¦å…ˆæŠŠå›æº¯å­¦ä¼šï¼Œæ‰èƒ½å­¦ä¼šå‰ªçº¸ LC46 å…¨æ’åˆ— 12345678910111213141516class Solution: def permute(self, nums: List[int]) -&gt; List[List[int]]: res=[] path=[] def bt(nums): if len(path)==len(nums): res.append(path[:]) return for i in range(len(nums)): if nums[i] not in path: path.append(nums[i]) bt(nums) path.pop() bt(nums) return res LC 47å…¨æ’åˆ—II LC560 å’Œä¸ºkçš„å­æ•°ç»„ 1234567891011121314class Solution: def subarraySum(self, nums: List[int], k: int) -&gt; int: pre_dic = &#123;0: 1&#125; pre_sum = 0 count = 0 for num in nums: pre_sum += num if pre_sum - k in pre_dic: count += pre_dic[pre_sum - k] if pre_sum in pre_dic: pre_dic[pre_sum] += 1 else: pre_dic[pre_sum] = 1 return count LC22 æ‹¬å·ç”Ÿæˆ 123456789101112131415161718class Solution: def generateParenthesis(self, n: int) -&gt; List[str]: ans = [] def backtrack(S, left, right): if len(S) == 2 * n: ans.append(&#x27;&#x27;.join(S)) return if left &lt; n: S.append(&#x27;(&#x27;) backtrack(S, left+1, right) S.pop() if right &lt; left: S.append(&#x27;)&#x27;) backtrack(S, left, right+1) S.pop() backtrack([], 0, 0) return ans LC 17 ç”µè¯å·ç çš„å­—æ¯ç»„åˆ 123456789101112131415161718192021class Solution: def letterCombinations(self, digits: str) -&gt; List[str]: num2letter=[&#x27;abc&#x27;,&#x27;def&#x27;,&#x27;ghi&#x27;,&#x27;jkl&#x27;,&#x27;mno&#x27;,&#x27;pqrs&#x27;,&#x27;tuv&#x27;,&#x27;wxyz&#x27;] n=len(digits) res=[] if not digits: return [] def backtracking(S): if len(S)==n: res.append(&#x27;&#x27;.join(S)) return index=len(S) num=int(digits[index]) print(num) for i in num2letter[num-2]: S.append(i) backtracking(S) S.pop() backtracking([]) return res LC784 å­—å¹•å¤§å°å†™å…¨æ’åˆ— 123456789101112131415161718192021222324252627class Solution: def letterCasePermutation(self, s: str) -&gt; List[str]: res=[] path=[] def backtracking(path,index): if index==len(s): # æ‰€æœ‰çš„å­—æ¯éƒ½éå†å®Œæ¯• res.append(&#x27;&#x27;.join(path[:])) return char=s[index] if char.isdigit(): # å¦‚æœæ˜¯æ•°å­—ï¼Œç›´æ¥åŠ ä¸Šå»å°±è¡Œ path.append(char) backtracking(path,index+1) path.pop() else: path.append(char.lower()) backtracking(path,index+1) path.pop() path.append(char.upper()) backtracking(path,index+1) path.pop() backtracking([],0) return res LC79 å•è¯æœç´¢ æš‚æ—¶è¿˜ä¸ä¼šhhh 12345678910111213141516171819202122232425262728293031class Solution: def exist(self, board: List[List[str]], word: str) -&gt; bool: directions = [(0, 1), (0, -1), (1, 0), (-1, 0)] def check(i: int, j: int, k: int) -&gt; bool: if board[i][j] != word[k]: return False if k == len(word) - 1: return True visited.add((i, j)) result = False for di, dj in directions: newi, newj = i + di, j + dj if 0 &lt;= newi &lt; len(board) and 0 &lt;= newj &lt; len(board[0]): if (newi, newj) not in visited: if check(newi, newj, k + 1): result = True break visited.remove((i, j)) return result h, w = len(board), len(board[0]) visited = set() for i in range(h): for j in range(w): if check(i, j, 0): return True return False LC1079 æ´»å­—å°åˆ· 1234567891011121314151617181920212223242526272829class Solution: def numTilePossibilities(self, tiles: str) -&gt; int: res=set() path=[] hashmap=&#123;&#125; for i in range(len(tiles)): if tiles[i] in hashmap: hashmap[tiles[i]]+=1 else: hashmap[tiles[i]]=1 def backtracking(tiles): temp=&#x27;&#x27;.join(path[:]) if temp!=&#x27;&#x27; and temp not in res: res.add(temp) for i in range(len(tiles)): while(hashmap[tiles[i]]==0): i=i+1 if i ==len(tiles): return hashmap[tiles[i]]-=1 path.append(tiles[i]) backtracking(tiles) va=path.pop() hashmap[va]+=1 backtracking(tiles) return len(res) LC93 å¤åŸIPåœ°å€ 123456789101112131415161718192021222324252627class Solution: def restoreIpAddresses(self, s: str) -&gt; List[str]: res=[] path=[] flag=4 def backtracking(s,index): temp=&#x27;&#x27;.join(path[:]) if len(temp)==len(s)+4: res.append(temp[:-1]) return nonlocal flag for i in range(index+1,len(s)+1): if flag&gt;0 and int(s[index:i])&lt;=255: if i!=index+1 and int(s[index])==0: return path.append(s[index:i]) path.append(&#x27;.&#x27;) flag-=1 else: return backtracking(s,i) path.pop() path.pop() flag+=1 backtracking(s,0) return res LC51-Nçš‡å æ„Ÿè§‰Nçš‡åæ˜¯å›æº¯é‡Œé¢æœ€ç®€å•çš„ä¸€ç§äº†ï¼›ç¡®å®æ¯”è¾ƒç»å…¸ 1234567891011121314151617181920212223242526272829303132333435class Solution: def solveNQueens(self, n: int) -&gt; List[List[str]]: res=[] path=[] def backtracking(n): if len(path)==n: res.append(path[:]) return for i in range(n): # æ ¹æ®å‰é¢çš„pathå¯ä»¥å¾—å‡ºç›®å‰è¡Œèƒ½èµ°çš„è·¯çº¿ forbid=[] for j in range(len(path)): forbid.append(path[j]) forbid.append(path[j]+len(path)-j) forbid.append(path[j]+j-len(path)) if i not in forbid: path.append(i) backtracking(n) path.pop() backtracking(n) rest=[] # ç¿»è¯‘ for i in range(len(res)): rest.append([]) for j in range(len(res[0])): temp=[&#x27;.&#x27; for _ in range(n)] temp[res[i][j]]=&#x27;Q&#x27; #åˆæˆ ts=&#x27;&#x27; for k in temp: ts+=k rest[-1].append(ts) return rest 0x05 æ€»ç»“ï¼ˆConclusionï¼‰ ç†è§£ä¸€ä¸ªç®—æ³•ï¼Œå¹¶ä¸åƒä¸€ä¸ªæ•°æ®ç»“æ„ä¸€æ ·ç›´è§‚ã€‚æ‰€ä»¥æ¨¡æ‹Ÿè¿è¡Œï¼Œä¸€æ­¥ä¸€æ­¥çš„æ‰§è¡Œæ‰èƒ½ç†è§£å…¶ä¸­çš„ä¸€äº›å…³é”®ç‚¹ã€‚åªæ˜¯å•çº¯çš„çœ‹æ¦‚å¿µæ˜¯ä¸okçš„ æ— è®ºæ˜¯ç®—æ³•è¿˜æ˜¯æ•°æ®ç»“æ„ï¼Œå­¦ä¹ çš„è¿‡ç¨‹å¹¶ä¸æ˜¯ä¸€ä¸ªåˆ›é€ æ€§çš„è¿‡ç¨‹ï¼Œåªæ˜¯å°†è®¡ç®—æœºçš„å•æ¡æŒ‡ä»¤æ‰§è¡Œçš„æ€ç»´å¼ºåŠ åœ¨äººèº«ä¸Šï¼Œå†å†™å‡ºåˆ©ç”¨åˆé€‚çš„æ•°æ®ç»“æ„å’Œç®—æ³•èƒ½å¾—åˆ°ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ åˆ†æ²»å’Œå›æº¯çš„æ ¹åŸºè¿˜æ˜¯é€’å½’ï¼Œç†è§£é€’å½’éœ€è¦ç†è§£å¾ªç¯ä¸å˜é‡ å‰ªæåé¢å†çœ‹è¶´","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"Leetcode","slug":"Leetcode","permalink":"https://blog.tjdata.site/tags/Leetcode/"}]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•07-ç®—æ³•åˆ·é¢˜-å“ˆå¸Œè¡¨éƒ¨åˆ†","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•07-ç®—æ³•åˆ·é¢˜-å“ˆå¸Œè¡¨éƒ¨åˆ†","date":"2022-07-20T15:47:53.000Z","updated":"2023-05-13T13:52:56.718Z","comments":true,"path":"posts/c3b3eb20.html","link":"","permalink":"https://blog.tjdata.site/posts/c3b3eb20.html","excerpt":"æ–°çš„æ•°æ®ç»“æ„ï¼ŒæŸ¥æ‰¾é€Ÿåº¦è´¼å¿«çš„å“ˆå¸Œè¡¨ï¼ï¼","text":"æ–°çš„æ•°æ®ç»“æ„ï¼ŒæŸ¥æ‰¾é€Ÿåº¦è´¼å¿«çš„å“ˆå¸Œè¡¨ï¼ï¼ s0x01 ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å“ˆå¸Œè¡¨ï¼Ÿ é¦–å…ˆæˆ‘ä»¬ç»†æ•°ä¹‹å‰å­¦è¿‡çš„çº¿æ€§æ•°æ®ç»“æ„ï¼Œå…¶ä¸­æœ€åŸºæœ¬çš„åˆ†ç±»ä¸ºæ•°ç»„ï¼ˆArrayï¼‰å’Œé“¾è¡¨ï¼ˆLinked listï¼‰ï¼ŒæŒ‰ç…§æˆ‘ä¸ªäººçš„çœ‹æ³•ï¼Œæœ€å¤§çš„åŒºåˆ«åœ¨äºæ•°ç»„æŒ‰å€å–å€¼çš„æ–¹å¼è®©å…¶åœ¨ç´¢å¼•é€Ÿåº¦å¾ˆå¿«ã€é“¾è¡¨ç”±äºæ•°æ®ä¹‹é—´çš„éš”ç¦»è®©å…¶åœ¨æ’å…¥ä¿®æ”¹ç­‰é€Ÿåº¦å¾ˆå¿«ã€‚ ç„¶ååœ¨è¿™ä¸ªåŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥äººä¸ºçš„è®¾è®¡è§„åˆ™ï¼ˆFIFOæˆ–è€…LIFOï¼‰æ¥æ›´å¥½çš„æè¿°è¿™ä¸ªç‰©ç†ä¸–ç•Œï¼Œä¹Ÿå°±æ˜¯åœ¨æ•°ç»„å’Œé“¾è¡¨åŸºç¡€ä¸Šæ‰€åŠ çš„ä¸€å±‚æŠ½è±¡ï¼ˆå°±åƒç¨‹åºè¯­è¨€åœ¨å¯„å­˜å™¨åŸºç¡€ä¸ŠæŠ½è±¡ä¸€æ ·ï¼‰ï¼Œä½†æ˜¯åœ¨å­¦ä¹ ä¼˜å…ˆé˜Ÿåˆ—çš„æ—¶å€™ï¼Œå‘ç°å †ï¼ˆHeapï¼‰çš„å‡ºç°æ˜¯åœ¨æ•°ç»„å’Œé“¾è¡¨ä¹‹é—´çš„Trade-offï¼Œå®ƒå®ç°äº†æŸ¥æ‰¾çš„logNã€ä¿®æ”¹åˆ é™¤çš„logNæ—¶é—´ï¼Œå‘ç°éå¸¸çš„Amazing æ‰€ä»¥ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å“ˆå¸Œè¡¨å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬éœ€è¦å®ç°å€¼çš„æŸ¥æ‰¾ (Sedgewick and Wayne, 2021)åœ¨&lt;ç®—æ³•ï¼Œç¬¬å››ç‰ˆ&gt;ä¸­çš„ç¬¬ä¸‰ç« ï¼ˆæŸ¥æ‰¾ï¼‰ä¸­æ‰€æè¿°çš„ï¼š ç°ä»£è®¡ç®—æœºå’Œç½‘ç»œä½¿æˆ‘ä»¬èƒ½å¤Ÿè®¿é—®æµ·é‡çš„ä¿¡æ¯ã€‚é«˜æ•ˆæ£€ç´¢è¿™äº›ä¿¡æ¯çš„èƒ½åŠ›æ˜¯å¤„ç†å®ƒä»¬çš„é‡è¦å‰ æã€‚æœ¬ç« æè¿°çš„éƒ½æ˜¯æ•°åå¹´æ¥åœ¨å¹¿æ³›åº”ç”¨ä¸­ç»è¿‡å®è·µæ£€éªŒçš„ç»å…¸æŸ¥æ‰¾ç®—æ³•ã€‚æ²¡æœ‰è¿™äº›ç®—æ³•ï¼Œç°ä»£ä¿¡ æ¯ä¸–ç•Œçš„åŸºç¡€è®¡ç®—è®¾æ–½éƒ½æ— ä»è°ˆèµ·ã€‚ æˆ‘ä»¬ä¼šä½¿ç”¨ç¬¦å·è¡¨è¿™ä¸ªè¯æ¥æè¿°ä¸€å¼ æŠ½è±¡çš„è¡¨æ ¼ï¼Œæˆ‘ä»¬ä¼šå°†ä¿¡æ¯ï¼ˆå€¼ï¼‰å­˜å‚¨åœ¨å…¶ä¸­ï¼Œç„¶åæŒ‰ç…§ æŒ‡å®šçš„é”®æ¥æœç´¢å¹¶è·å–è¿™äº›ä¿¡æ¯ã€‚é”®å’Œå€¼çš„å…·ä½“æ„ä¹‰å–å†³äºä¸åŒçš„åº”ç”¨ã€‚ç¬¦å·è¡¨ä¸­å¯èƒ½ä¼šä¿å­˜å¾ˆå¤š é”®å’Œå¾ˆå¤šä¿¡æ¯ï¼Œå› æ­¤å®ç°ä¸€å¼ é«˜æ•ˆçš„ç¬¦å·è¡¨ä¹Ÿæ˜¯ä¸€é¡¹å¾ˆæœ‰æŒ‘æˆ˜æ€§çš„ä»»åŠ¡ã€‚ ç¬¦å·è¡¨æœ‰æ—¶è¢«ç§°ä¸ºå­—å…¸ï¼Œç±»ä¼¼äºé‚£æœ¬å°†å•è¯çš„é‡Šä¹‰æŒ‰ç…§å­—æ¯é¡ºåºæ’åˆ—èµ·æ¥çš„å†å²æ‚ ä¹…çš„å‚è€ƒä¹¦ã€‚ åœ¨è‹±è¯­å­—å…¸é‡Œï¼Œé”®å°±æ˜¯å•è¯ï¼Œå€¼å°±æ˜¯å•è¯å¯¹åº”çš„å®šä¹‰ã€å‘éŸ³å’Œè¯æºã€‚ç¬¦å·è¡¨æœ‰æ—¶åˆå«åšç´¢å¼•ï¼Œå³ä¹¦ æœ¬æœ€åå°†æœ¯è¯­æŒ‰ç…§å­—æ¯é¡ºåºåˆ—å‡ºä»¥æ–¹ä¾¿æŸ¥æ‰¾çš„é‚£éƒ¨åˆ†ã€‚åœ¨ä¸€æœ¬ä¹¦çš„ç´¢å¼•ä¸­ï¼Œé”®å°±æ˜¯æœ¯è¯­ï¼Œè€Œå€¼å°±æ˜¯ ä¹¦ä¸­è¯¥æœ¯è¯­å‡ºç°çš„æ‰€æœ‰é¡µç ã€‚ åœ¨è¯´æ˜äº†åŸºæœ¬çš„ API å’Œä¸¤ç§é‡è¦çš„å®ç°ä¹‹åï¼Œæˆ‘ä»¬ä¼šå­¦ä¹ ç”¨ä¸‰ç§ç»å…¸çš„æ•°æ®ç±»å‹æ¥å®ç°é«˜æ•ˆçš„ ç¬¦å·è¡¨ï¼šäºŒå‰æŸ¥æ‰¾æ ‘ã€çº¢é»‘æ ‘å’Œæ•£åˆ—è¡¨ã€‚åœ¨æ€»ç»“ä¸­æˆ‘ä»¬ä¼šçœ‹åˆ°å®ƒä»¬çš„è‹¥å¹²æ‰©å±•å’Œåº”ç”¨ï¼Œå®ƒä»¬çš„å®ç° éƒ½æœ‰èµ–äºæˆ‘ä»¬åœ¨æœ¬ç« ä¸­å°†ä¼šå­¦åˆ°çš„é«˜æ•ˆç®—æ³•ã€‚ ç®€å•æ¥è¯´ï¼Œå°±æ¯”å¦‚è¯´æˆ‘ä»¬éœ€è¦åˆ é™¤[1,2,3,4]ä¸­3è¿™ä¸ªå€¼ï¼Œå¦‚æœä»æ•°ç»„çš„è§’åº¦éœ€è¦çŸ¥é“3å¯¹åº”çš„ä¸‹æ ‡ï¼Œå°±ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸Œæœ›å€ŸåŠ©å“ˆå¸Œè¡¨çš„æ–¹å¼æ¥å¿«é€Ÿæ‰¾åˆ°è¿™ä¸ªå€¼ 0x02 å“ˆå¸Œè¡¨å’Œå“ˆå¸Œæ˜ å°„ **å“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰ï¼Œ**é€šè¿‡é”® keyå’Œä¸€ä¸ªæ˜ å°„å‡½æ•° Hash(key)è®¡ç®—å‡ºå¯¹åº”çš„å€¼ value ï¼ŒæŠŠå…³é”®ç å€¼æ˜ å°„åˆ°è¡¨ä¸­ä¸€ä¸ªä½ç½®æ¥è®¿é—®è®°å½•ï¼Œä»¥åŠ å¿«æŸ¥æ‰¾çš„é€Ÿåº¦ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬é€šè¿‡value=Hash(key)=key//1000ä½œä¸ºå“ˆå¸Œå‡½æ•°ï¼Œç”±æ­¤å¯ä»¥å®ç°æ’å…¥å’ŒæŸ¥æ‰¾ï¼š æ¯”å¦‚æ’å…¥0138ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å‡ºvalue=0ï¼Œç„¶ååˆ†é…åˆ°0å¯¹åº”çš„åŒºå—ä¸­ æŸ¥æ‰¾2321ï¼Œé€šè¿‡å“ˆå¸Œå‡½æ•°å¯ä»¥å¾—åˆ°2ï¼Œåœ¨2å¯¹åº”çš„åŒºå—ä¸­å¯»æ‰¾å°±å¯ä»¥äº† åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æœ€ç»ˆçš„ç‚¹åœ¨å“ˆå¸Œå‡½æ•°(Hash Function)**å’Œ**å“ˆå¸Œå†²çªï¼ˆHash Collisionï¼‰,é¦–å…ˆçœ‹å“ˆå¸Œå‡½æ•°ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¤šå¯¹ä¸€çš„æ˜ å°„ï¼Œè¦æ±‚ï¼š å®¹æ˜“è®¡ç®—çš„ï¼Œå¹¶ä¸”è®¡ç®—çš„ç´¢å¼•å€¼å¯ä»¥å‡åŒ€åˆ†å¸ƒ æ‰€å¾—åˆ°çš„å“ˆå¸Œå€¼æ˜¯ä¸€ä¸ªå›ºå®šé•¿åº¦çš„è¾“å‡º å¤šå¯¹ä¸€ï¼Œå¦‚æœHashï¼ˆkey1ï¼‰ï¼=Hashï¼ˆkey2ï¼‰ï¼Œåˆ™key1å’Œkey2ä¸€å®šä¸æƒ³ç­‰ å¦‚æœHashï¼ˆkey1ï¼‰==Hashï¼ˆkey2â€”ï¼‰ï¼Œåˆ™ä¸¤è€…å¯èƒ½ç›¸åŒï¼Œä¹Ÿå¯èƒ½ä¸åŒï¼ˆå†²çªï¼‰ ä¸Šè¿°ç¬¬4ç‚¹ä¸­çš„ä¸åŒkeyå¾—åˆ°ç›¸åŒçš„hashï¼ˆkeyï¼‰å°±æ˜¯å“ˆå¸Œå†²çªï¼ˆHash Collisionï¼‰ï¼Œè¿™ä¹Ÿæ˜¯å¥½ç†è§£çš„æœ‰å¾—å¿…æœ‰å¤±ï¼Œä¼šæœ‰é’ˆå¯¹å“ˆå¸Œå†²çªçš„ä¼˜åŒ–ã€‚è¿™å°±éœ€è¦ç²¾å¦™çš„è®¾è®¡èƒ½åŠ›äº†ã€‚ 2.1 å“ˆå¸Œå‡½æ•°çš„æ–¹æ³• ç›´æ¥å®šå€æ³• é™¤ç•™ä½™æ•°æ³• å¹³æ–¹æŠ˜ä¸­æ³• åŸºæ•°è½¬æ¢æ³• ç­‰ç­‰ è¿™é‡Œå¤§éƒ¨åˆ†ä¸ä¼šç”¨çš„ï¼Œéœ€è¦äº†è§£çš„å¯ä»¥é…åˆæœç´¢å¼•æ“ä½¿ç”¨ 2.2 å“ˆå¸Œå†²çªçš„è§£å†³ å¼€æ”¾åœ°å€æ³•ï¼ˆOpen Addressingï¼‰ é“¾åœ°å€æ³•ï¼ˆChainingï¼‰-- ç”¨pythonä¼šå¾ˆç®€å• 0x03 å“ˆå¸Œè¡¨å’Œå“ˆå¸Œæ˜ å°„çš„è®¾è®¡ T705 è®¾è®¡å“ˆå¸Œé›†åˆ 1234567891011121314151617181920212223242526class MyHashSet: def __init__(self): self.set=[[] for _ in range(1000)] def add(self, key: int) -&gt; None: index=key%1000 for i in range(len(self.set[index])): if self.set[index][i]==key: break self.set[index].append(key) return self.set def remove(self, key: int) -&gt; None: index = key%1000 for i in range(len(self.set[index])): if self.set[index][i]==key: self.set[index][i]=-1 return self.set def contains(self, key: int) -&gt; bool: index=key%1000 for i in range(len(self.set[index])): if self.set[index][i]==key: return True return False T706 è®¾è®¡å“ˆå¸Œæ˜ å°„ 1234567891011121314151617181920212223242526272829class MyHashMap: def __init__(self): self.N=1000 self.hashMap=[[] for _ in range(self.N)] def put(self, key: int, value: int) -&gt; None: index=key%self.N for values in self.hashMap[index]: if values[0]==key: # æ›´æ–°å€¼ values[1]=value return None self.hashMap[index].append([key,value]) def get(self, key: int) -&gt; int: index = key % self.N for values in self.hashMap[index]: if values[0]==key: return values[1] return -1 def remove(self, key: int) -&gt; None: index = key% self.N for i in range(len(self.hashMap[index])): if self.hashMap[index][i][0]==key: self.hashMap[index].pop(i) return None return -1 0x04 å“ˆå¸Œè¡¨çš„åº”ç”¨ æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯åŸåœ°å“ˆå¸Œ T217 å­˜åœ¨é‡å¤å…ƒç´  T219 å­˜åœ¨é‡å¤å…ƒç´ II T220 å­˜åœ¨é‡å¤å…ƒç´ III è¿™é‡Œä¸èƒ½ç®€å•çš„ä½¿ç”¨ä¹‹å‰çš„å“ˆå¸Œå‡½æ•°ï¼Œå› ä¸ºæˆ‘ä¸èƒ½åœ¨ä¸€ä¸ªæ¡¶é‡Œé¢æ¯”è¾ƒï¼Œæˆ‘è¿˜éœ€è¦å’Œå…¶ä»–æ¡¶å¯¹æ¯” 12345678910111213141516171819202122232425class Solution: def containsNearbyAlmostDuplicate(self, nums: List[int], k: int, t: int) -&gt; bool: bucket_dict = dict() for i in range(len(nums)): # å°† nums[i] åˆ’åˆ†åˆ°å¤§å°ä¸º t + 1 çš„ä¸åŒæ¡¶ä¸­ num = nums[i] // (t + 1) # æ¡¶ä¸­å·²ç»æœ‰å…ƒç´ äº† if num in bucket_dict: return True # æŠŠ nums[i] æ”¾å…¥æ¡¶ä¸­ bucket_dict[num] = nums[i] # åˆ¤æ–­å·¦ä¾§æ¡¶æ˜¯å¦æ»¡è¶³æ¡ä»¶ if (num - 1) in bucket_dict and abs(bucket_dict[num - 1] - nums[i]) &lt;= t: return True # åˆ¤æ–­å³ä¾§æ¡¶æ˜¯å¦æ»¡è¶³æ¡ä»¶ if (num + 1) in bucket_dict and abs(bucket_dict[num + 1] - nums[i]) &lt;= t: return True # å°† i-k ä¹‹å‰çš„æ—§æ¡¶æ¸…é™¤ï¼Œå› ä¸ºä¹‹å‰çš„æ¡¶å·²ç»ä¸æ»¡è¶³æ¡ä»¶äº† if i &gt;= k: bucket_dict.pop(nums[i-k] // (t + 1)) return False T136 åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— T001 ä¸¤æ•°ä¹‹å’Œ ç¬¬ä¸€é“é¢˜ï¼Œå¾ˆç»å…¸ 1234567class Solution: def twoSum(self, nums: List[int], target: int) -&gt; List[int]: headMap=&#123;&#125; for i in range(len(nums)): if nums[i] in headMap: return [i,headMap[nums[i]]] headMap[target-nums[i]]=i T015 ä¸‰æ•°ä¹‹å’Œ é‡å¤§æ‰“å‡»çš„ä¸€é¢˜ï¼Œä¹Ÿå¾ˆç»å…¸ 12345678910111213141516171819202122232425262728293031class Solution: def threeSum(self, nums: List[int]) -&gt; List[List[int]]: res=[] def twoSum(arr,target): left=0 right=len(arr)-1 while(left&lt;right): temp_sum=arr[left]+arr[right] if temp_sum==target: if left&gt;0 and arr[left]==arr[left-1]: left+=1 elif right&lt;len(arr)-1 and arr[right]==arr[right+1]: right-=1 else: res.append([target*(-1),arr[left],arr[right]]) left+=1 right-=1 elif temp_sum&lt;target: left+=1 elif temp_sum&gt;target: right-=1 nums.sort() for i in range(len(nums)): if nums[i]&gt;0: break if i&gt;0 and nums[i]==nums[i-1]: continue twoSum(nums[i+1:],(-1)*nums[i]) return res T454 å››æ•°ç›¸åŠ II å¤§äº‹åŒ–å° 123456789101112131415161718class Solution: def fourSumCount(self, nums1: List[int], nums2: List[int], nums3: List[int], nums4: List[int]) -&gt; int: hashMap1=&#123;&#125; for num1 in nums1: for num2 in nums2: if num1+num2 in hashMap1: hashMap1[num1+num2]+=1 else: hashMap1[num1+num2]=1 count=0 for num3 in nums3: for num4 in nums4: if -(num3+num4) in hashMap1: count+=hashMap1[-(num3+num4)] return count T442 æ•°ç»„ä¸­é‡å¤çš„æ•°æ® å¾ˆæœ‰æ„æ€ 123456789101112class Solution: def findDuplicates(self, nums: List[int]) -&gt; List[int]: # ä¾æ—§ä½¿ç”¨åŸåœ°å“ˆå¸Œ # hashtable(key)=key-1 # æ•°ç»„ä¸­åªä¼šå­˜åœ¨ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯æ­£å¸¸æ˜ å°„ã€å¦å¤–ä¸€ç§æ˜¯é‡å¤çš„ï¼Œæ¯æ¬¡äº¤æ¢çš„ç»ˆæ­¢æ¡ä»¶æ˜¯ # 1. iå¤„çš„æ­£å¸¸æ˜ å°„ # 2. iå¤„ä¸nums[i]å‡ºç°é‡å¤ for i in range(len(nums)): while nums[i]!=i+1 and nums[i]!=nums[nums[i]-1]: nums[nums[i]-1],nums[i]=nums[i],nums[nums[i]-1] return [num for i, num in enumerate(nums) if num - 1 != i] T149 ç›´çº¿ä¸Šæœ€å¤šçš„ç‚¹æ•° éœ€è¦æ³¨æ„pythonè¿ç®—çš„æ—¶å€™ï¼Œå°æ•°çš„é—®é¢˜ï¼Œæ¯”å¦‚0.1+0.2=0.333334ï¼›ç»“åˆè´ªå¿ƒçš„æ€æƒ³ä½¿ç”¨æ›´ä½³ 12345678910111213141516171819202122232425262728293031323334353637class Solution: def maxPoints(self, points: List[List[int]]) -&gt; int: n = len(points) if n &lt; 3: return n ans = 0 for i in range(n): line_dict = dict() line_dict[0] = 0 same = 1 for j in range(i+1, n): dx = points[j][0] - points[i][0] dy = points[j][1] - points[i][1] if dx == 0 and dy == 0: same += 1 continue gcd_dx_dy = math.gcd(abs(dx), abs(dy)) if (dx &gt; 0 and dy &gt; 0) or (dx &lt; 0 and dy &lt; 0): dx = abs(dx) // gcd_dx_dy dy = abs(dy) // gcd_dx_dy elif dx &lt; 0 and dy &gt; 0: dx = -dx // gcd_dx_dy dy = -dy // gcd_dx_dy elif dx &gt; 0 and dy &lt; 0: dx = dx // gcd_dx_dy dy = dy // gcd_dx_dy elif dx == 0 and dy != 0: dy = 1 elif dx != 0 and dy == 0: dx = 1 key = (dx, dy) if key in line_dict: line_dict[key] += 1 else: line_dict[key] = 1 ans = max(ans, same + max(line_dict.values())) return ans T811 å­åŸŸåçš„è®¿é—®è®¡æ•° å­¦ä¼špythonçš„å­—ç¬¦ä¸²æ“ä½œè¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ 12345678910111213141516171819202122class Solution: def subdomainVisits(self, cpdomains: List[str]) -&gt; List[str]: ans=&#123;&#125; for domain in cpdomains: count,domains=domain.split() count=int(count) subdomains=domains.split(&#x27;.&#x27;) temp=&#x27;&#x27; for subdomain in subdomains[::-1]: if temp: temp=subdomain+&#x27;.&#x27;+temp else: temp=subdomain if temp in ans: ans[temp]+=count else: ans[temp]=count res=[] for key,value in ans.items(): res.append(str(value)+&#x27; &#x27;+key) return res","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"Leetcode","slug":"Leetcode","permalink":"https://blog.tjdata.site/tags/Leetcode/"}]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•06-ç®—æ³•åˆ·é¢˜-é˜Ÿåˆ—-å †éƒ¨åˆ†","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•06-ç®—æ³•åˆ·é¢˜-é˜Ÿåˆ—-å †éƒ¨åˆ†","date":"2022-07-13T09:05:21.000Z","updated":"2023-05-13T13:52:53.390Z","comments":true,"path":"posts/1bbb5318.html","link":"","permalink":"https://blog.tjdata.site/posts/1bbb5318.html","excerpt":"å’Œæ ˆç›¸ä¼¼ï¼Œé˜Ÿåˆ—ä¹Ÿæ˜¯ä¸€ç§ä¾èµ–é¡ºåºçš„æ•°æ®ç»“æ„ï¼Œä¸è¿‡å®ƒçš„è§„åˆ™æ˜¯å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šä¼šæœ‰å¾ˆå¤šæ–°çš„æ“ä½œï¼Œå’Œå•è°ƒæ ˆç›¸ä¼¼çš„å•è°ƒé˜Ÿåˆ—ã€ä»¥åŠä¸åŒä¼˜å…ˆçº§çš„åŸºäºå †çš„ä¼˜å…ˆé˜Ÿåˆ—æ–¹æ³•","text":"å’Œæ ˆç›¸ä¼¼ï¼Œé˜Ÿåˆ—ä¹Ÿæ˜¯ä¸€ç§ä¾èµ–é¡ºåºçš„æ•°æ®ç»“æ„ï¼Œä¸è¿‡å®ƒçš„è§„åˆ™æ˜¯å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šä¼šæœ‰å¾ˆå¤šæ–°çš„æ“ä½œï¼Œå’Œå•è°ƒæ ˆç›¸ä¼¼çš„å•è°ƒé˜Ÿåˆ—ã€ä»¥åŠä¸åŒä¼˜å…ˆçº§çš„åŸºäºå †çš„ä¼˜å…ˆé˜Ÿåˆ—æ–¹æ³• 0x01 é˜Ÿåˆ—çš„åŸºç¡€çŸ¥è¯† é˜Ÿåˆ—Queueï¼šæ˜¯ä¸€ç§çº¿æ€§è¡¨æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ç§åªå…è®¸åœ¨è¡¨çš„ä¸€ç«¯è¿›è¡Œæ’å…¥æ“ä½œï¼Œè€Œåœ¨è¡¨çš„å¦å¤–ä¸€ç«¯è¿›è¡Œåˆ é™¤æ“ä½œçš„çº¿æ€§è¡¨ é˜Ÿå°¾ï¼ˆrearï¼‰ï¼šé˜Ÿåˆ—ä¸­å…è®¸æ’å…¥ä¸€ç«¯ é˜Ÿå¤´ï¼ˆfrontï¼‰ï¼šå…è®¸åˆ é™¤çš„å¦ä¸€ç«¯ å½“è¡¨ä¸­æ²¡æœ‰ä»»ä½•å¯æ“ä½œçš„æ•°æ®å…ƒç´ ç§°ä¸ºç©ºé˜Ÿ åŒæ ·çš„é˜Ÿåˆ—çš„è®¾è®¡åŒ…æ‹¬é¡ºåºå­˜å‚¨çš„é˜Ÿåˆ—å’Œé“¾å¼å­˜å‚¨çš„é˜Ÿåˆ— é˜Ÿåˆ—è¿™ç§æ•°æ®ç»“æ„çš„åŸºæœ¬æ“ä½œå¯ä»¥åˆ†ä¸ºï¼š åˆå§‹åŒ–é˜Ÿåˆ—initï¼Œå®šä¹‰é˜Ÿåˆ—çš„å¤§å°sizeã€é˜Ÿå¤´å…ƒç´ æŒ‡é’ˆfrontã€é˜Ÿå°¾å…ƒç´ rear åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºis_empty åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ï¼Œis_ful æ’å…¥å…ƒç´ ï¼ˆå…¥é˜Ÿï¼‰ åˆ é™¤å…ƒç´ ï¼ˆå‡ºé˜Ÿï¼‰ è·å–é˜Ÿåˆ—é˜Ÿå¤´å…ƒç´  0x02 é˜Ÿåˆ—çš„åŸºæœ¬è®¾è®¡ T 622 è®¾è®¡å¾ªç¯åˆ— 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758class MyCircularQueue: def __init__(self, k: int): self.size=k self.queue=[None for _ in range(k)] self.front=-1 self.rear=-1 self.num=0 def enQueue(self, value: int) -&gt; bool: if self.isFull(): return False else: self.num+=1 self.rear=(self.rear+1)%self.size self.queue[self.rear]=value return True def deQueue(self) -&gt; bool: if self.isEmpty(): return False else: self.num-=1 self.front=(self.front+1)%self.size return True def Front(self) -&gt; int: if self.isEmpty(): return -1 else: return self.queue[(self.front+1)%self.size] def Rear(self) -&gt; int: if self.isEmpty(): return -1 else: return self.queue[self.rear] def isEmpty(self) -&gt; bool: if self.num==0: return True else: return False def isFull(self) -&gt; bool: if self.num==self.size: return True else: return False T 239 æ»‘åŠ¨çª—å£æœ€å¤§å€¼ 1234567891011121314151617class Solution: def maxSlidingWindow(self, nums: List[int], k: int) -&gt; List[int]: stack=[] # stackç”¨æ¥å­˜å‚¨æœ€å¤§å€¼çš„ä¸‹æ ‡ï¼Œä½¿ç”¨å•è°ƒé€’å‡æ ˆã€3ï¼Œ2ï¼Œ1ã€‘ arr=[] for i in range(len(nums)): # éœ€è¦éå†æ¯ä¸ªæ•°ç»„ # ä¼˜å…ˆè€ƒè™‘indexè¶…å‡ºèŒƒå›´çš„ï¼Œç¬¬iä¸ªæ•°çš„æ—¶å€™ï¼Œè¾¹ç•Œå±€åŠ¿i-k+1 while stack and stack[0]&lt;i-k+1: stack.pop(0) # ä¹‹åè€ƒè™‘å€¼çš„å¤§å° while stack and nums[stack[-1]]&lt;nums[i]: stack.pop() stack.append(i) arr.append(nums[stack[0]]) return arr[k-1:] 0x03 ä¼˜å…ˆé˜Ÿåˆ— é˜Ÿåˆ—çš„ä½œç”¨ååˆ†æœ‰é™ï¼Œå¸¸è§çš„æ˜¯ä¼˜å…ˆé˜Ÿåˆ—ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„é˜Ÿåˆ—ï¼Œåœ¨ä¼˜å…ˆé˜Ÿåˆ—ä¸­å…ƒç´ è¢«èµ‹äºˆä¸åŒçš„ä¼˜å…ˆçº§ï¼Œå½“è®¿é—®é˜Ÿåˆ—å…ƒç´ æ—¶ï¼ŒæŒ‰ç…§å…·æœ‰é«˜ä¼˜å…ˆçº§çš„å…ƒç´ æœ€å…ˆåˆ é™¤ï¼›ä¼˜å…ˆå¯¹ç«‹ä¸æ™®é€šé˜Ÿåˆ—æœ€å¤§çš„ä¸åŒç‚¹åœ¨äºå‡ºé˜Ÿé¡ºåºï¼Œä¼˜å…ˆé˜Ÿåˆ—æŒ‰ç…§ä¼˜å…ˆçº§æ¥å®ç° æœ€é«˜çº§å…ˆå‡ºçš„è§„åˆ™ psï¼šä¸ªäººè®¤ä¸ºï¼Œå’Œå•è°ƒæ ˆç±»ä¼¼ï¼Œä¼˜å…ˆé˜Ÿåˆ—çš„é‡ç‚¹åœ¨äºâ€œä¼˜å…ˆâ€ï¼Œä¹Ÿå°±æ˜¯æ‰¾åˆ°ä¸€ç§æ•°æ®æ–¹å¼ï¼Œæ¯æ¬¡æ’å…¥å’Œåˆ é™¤çš„æ—¶å€™å¯ä»¥ä¿è¯æœ€ä¸Šé¢ä¸€å±‚æ˜¯è‡ªå·±æƒ³çš„ ä¼˜å…ˆé˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯éå¸¸å¤šï¼š æ•°æ®å‹ç¼©çš„ huffmanç¼–ç  æœ€çŸ­è·¯å¾„ç®—æ³• Dijkstra æœ€å°ç”Ÿæˆæ ‘ç®—æ³• primç®—æ³• ä»»åŠ¡è°ƒåº¦å™¨ æ ¹æ®ä¼˜å…ˆçº§æ‰§è¡Œç³»ç»Ÿä»»åŠ¡ äº‹ä»¶é©±åŠ¨ä»¿çœŸ é¡¾å®¢æ’é˜Ÿç®—æ³• é€‰æ‹©é—®é¢˜ æŸ¥æ‰¾ç¬¬Kæœ€å°å…ƒç´  0x04 ä¼˜å…ˆé˜Ÿåˆ—è®¾è®¡å’Œä½¿ç”¨ è®¾è®¡ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œè®¾è®¡çš„æ“ä½œä¸»è¦åœ¨äºå’Œæ™®é€šé˜Ÿåˆ—çš„enqueueå’Œdequeueä¹‹é—´çš„ä¸åŒ é˜Ÿåˆ—çš„å®ç°æ–¹å¼ä¹Ÿä¸åŒï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„å®ç°ã€é“¾è¡¨å®ç°å’ŒäºŒå‰é˜Ÿå®ç° æ•°ç»„å®ç°ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå…¥é˜Ÿæ“ä½œç›´æ¥æ’å…¥rearï¼ˆO1ï¼‰ã€å‡ºé˜Ÿæ“ä½œéœ€è¦éå†æ•´ä¸ªæ•°ç»„ï¼Œæ‰¾åˆ°ä¼˜å…ˆçº§æœ€é«˜çš„å…ƒç´ ï¼Œè¿”å›å¹¶åˆ é™¤è¯¥å…ƒç´ ï¼Œæ—¶é—´å¤æ‚å¯¹ä¸ºOï¼ˆnï¼‰ é“¾è¡¨å®ç°ä¼˜å…ˆé˜Ÿåˆ—ï¼Œé“¾è¡¨ä¸­çš„å…ƒç´ æŒ‰ç…§ä¼˜å…ˆçº§æ’åºï¼Œå…¥é˜Ÿæ“ä½œéœ€è¦ä¸ºå¾…æ’å…¥å…ƒç´ åˆ›å»ºèŠ‚ç‚¹ï¼Œå¹¶åœ¨é“¾è¡¨ä¸­æ‰¾åˆé€‚çš„æ’å…¥ä½ç½®ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºON äºŒå‰å †ç»“æ„å®ç°ä¼˜å…ˆé˜Ÿåˆ—ï¼ŒæŒ‰ç…§ä¼˜å…ˆçº§è¿›è¡Œæ’åºï¼Œå…¥é˜Ÿæ“ä½œå°±æ˜¯å°†å…ƒç´ æ’å…¥äºŒå‰å †ä¸­åˆé€‚ä½ç½®ï¼Œæ—¶é—´å¤æ‚å¯¹ä¸ºlogNã€å‡ºé˜Ÿæ“ä½œå°±æ˜¯è¿”å›äºŒå‰å †ä¸­ä¼˜å…ˆçº§æœ€å¤§èŠ‚ç‚¹åˆ é™¤ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯Oï¼ˆlogNï¼‰ å½“ç„¶é™¤äº†è¿™ç§ç¬¨æ‹™çš„åˆ©ç”¨åŸå§‹æ•°æ®ç”Ÿæˆä¼˜å…ˆé˜Ÿåˆ—çš„æ–¹å¼ä¹‹å¤–ï¼Œåˆ«äººå·²ç»å†™å¥½äº†è½®å­ï¼Œæ¯”å¦‚javaé‡Œé¢çš„priority Queueã€C++çš„priority queueå’Œpythonçš„heapq 4.1 ä»€ä¹ˆæ˜¯å †ï¼Ÿ 4.2 å †æ’åº æˆ‘ä»¬çŸ¥é“å°é¡¶å †çš„ç‰¹ç‚¹æ˜¯å †é¡¶æ°¸è¿œæ˜¯æœ€å°çš„æ•°ï¼Œè™½ç„¶æˆ‘ä»¬ä¸çŸ¥é“å…¶ä»–é¡ºåºï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“å †é¡¶æ˜¯æœ€å°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å †æ•°æ®ç»“æ„æ¥æ’åºï¼Œæ¯æ¬¡å–å‡ºæœ€å°çš„ï¼Œæ¥å®ç°æ’åºã€‚ å¯¹äºè¾“å…¥çš„numsæ•°ç»„ï¼Œæˆ‘ä»¬è°ƒç”¨buildMinHeapæ¥å®ç°æ•°ç»„å‘å°é¡¶å †çš„è½¬å˜ï¼Œå…·ä½“è¿‡ç¨‹æ˜¯ä¸æ–­è°ƒæ•´æ•°ç»„ã€‚ åœ¨å»ºç«‹å°é¡¶å †ä¹‹åï¼Œæˆ‘ä»¬æ¯æ¬¡å–å‡ºå †é¡¶å…ƒç´ åˆ°æ•°ç»„å°¾éƒ¨ï¼Œå¹¶å¯¹å‰é¢çš„ã€0:n-2ã€‘è¿›è¡Œå †è°ƒæ•´ï¼Œç”±æ­¤æ¥ä¿æŒå †çš„ç‰¹æ€§ï¼ˆè¿™é‡Œçš„heapfiyå°±æ˜¯heap Adjustï¼‰ 1234567891011121314151617181920212223242526272829303132333435363738394041424344def sortArray(nums): def heapfiy(arr,index,end): # è°ƒæ•´æˆä¸ºå¤§é¡¶å † left=index*2+1 right=left+1 while left&lt;=end: min_index=index if arr[left]&lt;arr[min_index]: min_index=left if right&lt;=end and arr[right]&lt;arr[min_index]: min_index=right if index == min_index: break arr[index],arr[min_index]=arr[min_index],arr[index] # break index=min_index left=index*2+1 right=left+1 def buildMinHeap(arr): size=len(arr) # å †é‡Œé¢æœ€é‡è¦çš„ä¸€ä¸ªæ€§è´¨å°±æ˜¯ï¼Œå­èŠ‚ç‚¹çš„ä¸‹æ ‡ç­‰äºi*2+1ã€i*2+2 # æœ€åä¸€ä¸ªéå¶èŠ‚ç‚¹ï¼ˆsize-2)//2 for i in range((size-2)//2,-1,-1): heapfiy(arr,i,size-1) return arr def minHeapSort(arr): # åŸå§‹åºåˆ—æ„å»ºå¤§é¡¶å † # äº¤æ¢æœ€å¤§å€¼å’Œn-1çš„é¡ºåº # æ–°çš„åºåˆ—é‡æ–°æ„å»ºå¤§é¡¶å † arr=buildMinHeap(arr) print(arr) size=len(arr) for i in range(size): arr[0],arr[size-i-1]=arr[size-i-1],arr[0] heapfiy(arr,0,size-i-2) return arr return minHeapSort(nums)print(sortArray([23,34,23,1,3,9,667,9,0])) 4.3 åŸºäºå †å®ç°ä¼˜å…ˆé˜Ÿåˆ— æˆ‘ä»¬çŸ¥é“ä¼˜å…ˆé˜Ÿåˆ—æ˜¯åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†çš„ï¼Œä¸€ä¸ªæ˜¯ä¼˜å…ˆçº§ã€ä¸€ä¸ªæ˜¯åŸå§‹æ•°æ®ï¼›å› æ­¤æˆ‘ä»¬é€šå¸¸éœ€è¦ç”¨å †æ¥å­˜å‚¨åŸå§‹æ•°æ®ï¼Œä½†æ˜¯åœ¨è°ƒæ•´çš„è¿‡ç¨‹ä¸­åˆ©ç”¨ä¼˜å…ˆçº§æ¥æ¯”è¾ƒã€‚ï¼ˆå’Œå•è°ƒæ ˆä¸­æ•°æ®çš„å€¼å’Œæ•°æ®çš„ä¸‹æ ‡ç±»ä¼¼ï¼‰ T703 æ•°æ®æµä¸­çš„ç¬¬Kå¤§å…ƒç´  å¾ˆç»å…¸å°±æ˜¯ç»´æŠ¤ä¸€ä¸ªé•¿åº¦ä¸ºkçš„ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå¦‚æœæ•°æ®é•¿äº†å°±popå‡ºå †é¡¶å…ƒç´ æ¥ä¿æŒä¿æŒè‡ªèº«çš„å®Œæ•´æ€§ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162class KthLargest: # é‡ç‚¹åœ¨äºæ˜¯å¦å¯ä»¥åˆ©ç”¨addä¹‹å‰æ•°æ®æ’åˆ—æ–¹å¼ def __init__(self, k: int, nums: List[int]): self.k=k self.arr=nums self.buildHeap(self.k) while len(self.arr)&gt;self.k: self.heapPop() # ç»´æŠ¤ä¸€ä¸ªå¤§å°çš„ä¸ºkçš„æœ€å°å † def add(self, val: int) -&gt; int: self.heapPush(val) while len(self.arr)&gt;self.k: self.heapPop() return self.arr[0] def buildHeap(self,k): size=len(self.arr) for i in range((size-2)//2,-1,-1): # è‡ªä¸‹å¾€ä¸Šçš„ç»´æŠ¤ä¸€ä¸ªå † self.heapAdjust(i,size-1) def heapAdjust(self,index,end): # indexä»£è¡¨æ˜¯çˆ¶èŠ‚ç‚¹ child_l=index*2+1 child_r=child_l+1 while(child_l&lt;=end): min_index=index if self.arr[child_l]&lt;self.arr[min_index]: min_index=child_l if child_r &lt;=end and self.arr[child_r]&lt;self.arr[min_index]: min_index=child_r if index==min_index: break self.arr[min_index],self.arr[index]=self.arr[index],self.arr[min_index] index=min_index child_l=index*2+1 child_r=child_l+1 def heapPop(self): size=len(self.arr) self.arr[0],self.arr[-1]=self.arr[-1],self.arr[0] top=self.arr.pop() # é‡æ–°æ•´ç† if size&gt;0: self.heapAdjust(0,size-2) return top def heapPush(self,val): self.arr.append(val) size=len(self.arr) i=size-1 cur_root=(i-1)//2 while(cur_root&gt;=0): if self.arr[cur_root]&lt;val: break self.arr[i]=self.arr[cur_root] i=cur_root cur_root=(i-1)//2 self.arr[i]=val T347 å‰Kä¸ªé«˜é¢‘å…ƒç´  è¿™é‡Œä¸ä¹‹å‰ç±»ä¼¼çš„åœ°æ–¹ï¼Œè¿˜æ˜¯æ±‚Kä¸ªæ»¡è¶³æ¡ä»¶çš„å€¼ï¼Œåªä¸è¿‡ä¸æ˜¯å€¼æœ¬èº«ï¼Œè€Œæ˜¯æ¶‰åŠå€¼çš„å…ƒç´ ï¼Œæ‰€ä»¥å¯ä»¥è¯´æ˜¯å †ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ä¼˜å…ˆé˜Ÿåˆ—ï¼Œåªä¸è¿‡ä»£è¡¨çš„å®é™…å€¼éœ€è¦ç¿»è¯‘ä¸€ä¸‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758class Solution: def topKFrequent(self, nums: List[int], k: int) -&gt; List[int]: num_dict=dict() for num in nums: if num in num_dict: num_dict[num]+=1 else: num_dict[num]=1 new_nums=list(set(nums)) def heapfiy(heap,index,end): child_l=index*2+1 child_r=index*2+2 while(child_l&lt;=end): min_index=index if num_dict[heap[min_index]]&gt;num_dict[heap[child_l]]: min_index=child_l if child_r&lt;=end and num_dict[heap[min_index]]&gt;num_dict[heap[child_r]]: min_index=child_r if num_dict[heap[index]]==num_dict[heap[min_index]]: break # äº¤æ¢å †é‡Œé¢çš„ä½ç½® heap[min_index],heap[index]=heap[index],heap[min_index] index=min_index child_l=index*2+1 child_r=index*2+2 def heappush(heap,val): heap.append(val) i=len(heap)-1 while((i-1)//2&gt;=0): cur_root=(i-1)//2 if num_dict[heap[cur_root]]&lt;num_dict[val]: break heap[i]=heap[cur_root] i=cur_root heap[i]=val return heap def heappop(heap): heap[0],heap[-1]=heap[-1],heap[0] heap.pop() heap=heapfiy(heap,0,len(heap)-1) return heap # ç»´æŠ¤ä¸€ä¸ªå †ï¼Œæ¯æ¬¡pushä¸€ä¸ªå…ƒç´  # é•¿åº¦è¶…è¿‡kï¼Œéœ€è¦popä¸€ä¸ªå…ƒç´  # éœ€è¦ç»´æŠ¤çš„æ˜¯æœ€å°å † res=[] for num in new_nums: heappush(res,num) while(len(res)&gt;k): heappop(res) return res T973 æœ€æ¥è¿‘åŸç‚¹çš„Kä¸ªç‚¹ ä¸€æ ·çš„ï¼Œåªä¸è¿‡è®¡æ•°å˜æˆäº†æ¬§æ°è·ç¦»ï¼Œæœ‰ç‚¹æ— èŠçš„ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950class Solution: def kClosest(self, points: List[List[int]], k: int) -&gt; List[List[int]]: def disCounting(point): return point[0]*point[0]+point[1]*point[1] def heapAdjust(heap,index,end): child_l=index*2+1 child_r=index*2+2 while(child_l&lt;=end): max_index=index if disCounting(heap[child_l])&gt;disCounting(heap[max_index]): max_index=child_l if child_r&lt;=end and disCounting(heap[child_r])&gt;disCounting(heap[max_index]): max_index=child_r if max_index==index: break heap[index],heap[max_index]=heap[max_index],heap[index] index=max_index child_l=index*2+1 child_r=index*2+2 def heappush(heap,val): # è·ç¦»ä¸ºä¼˜å…ˆçº§ # é‡Œé¢çš„å…ƒç´ ä¸ºpoint heap.append(val) i=len(heap)-1 while((i-1)//2&gt;=0): cur_root=(i-1)//2 if disCounting(heap[cur_root])&gt;disCounting(val): break heap[i]=heap[cur_root] i=cur_root heap[i]=val def heappop(heap): heap[0],heap[-1]=heap[-1],heap[0] heap.pop() heapAdjust(heap,0,len(heap)-1) res=[] for point in points: heappush(res,point) while(len(res)&gt;k): heappop(res) return res","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"Leetcode","slug":"Leetcode","permalink":"https://blog.tjdata.site/tags/Leetcode/"}]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•05-ç®—æ³•åˆ·é¢˜-å †æ ˆéƒ¨åˆ†","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•05-ç®—æ³•åˆ·é¢˜-å †æ ˆéƒ¨åˆ†","date":"2022-07-08T14:18:18.000Z","updated":"2023-05-13T13:52:49.359Z","comments":true,"path":"posts/3ad3c8e3.html","link":"","permalink":"https://blog.tjdata.site/posts/3ad3c8e3.html","excerpt":"æ•°æ®ç»“æ„ã€ç®—æ³•æ€æƒ³ï¼Œå…·ä½“é—®é¢˜çš„è®¾è®¡èƒ½åŠ›ï¼Œä»¥åŠä¸€äº›é»‘è¯ä¹Ÿæ˜¯æœ‰å¿…è¦çš„ï¼Œæ¯”å¦‚åŒæŒ‡é’ˆã€æ»‘åŠ¨çª—å£ã€å•è°ƒæ ˆã€ä¼˜å…ˆé˜Ÿåˆ—ç­‰","text":"æ•°æ®ç»“æ„ã€ç®—æ³•æ€æƒ³ï¼Œå…·ä½“é—®é¢˜çš„è®¾è®¡èƒ½åŠ›ï¼Œä»¥åŠä¸€äº›é»‘è¯ä¹Ÿæ˜¯æœ‰å¿…è¦çš„ï¼Œæ¯”å¦‚åŒæŒ‡é’ˆã€æ»‘åŠ¨çª—å£ã€å•è°ƒæ ˆã€ä¼˜å…ˆé˜Ÿåˆ—ç­‰ 0x01 å †æ ˆçš„åŸºæœ¬çŸ¥è¯† **å †æ ˆï¼ˆStackï¼‰**ç®€ç§°ä¸ºæ ˆã€‚ä¸€ç§çº¿æ€§è¡¨æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ç§åªå…è®¸åœ¨è¡¨çš„ä¸€ç«¯è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œçš„çº¿æ€§è¡¨ã€‚ æˆ‘ä»¬æŠŠæ ˆä¸­å…è®¸æ’å…¥å’Œåˆ é™¤çš„ä¸€ç«¯ç§°ä¸º **ã€Œæ ˆé¡¶ï¼ˆtopï¼‰ã€ï¼›**å¦ä¸€ç«¯åˆ™ç§°ä¸º ã€Œæ ˆåº•ï¼ˆbottomï¼‰ã€ ã€‚å½“è¡¨ä¸­æ²¡æœ‰ä»»ä½•æ•°æ®å…ƒç´ æ—¶ï¼Œç§°ä¹‹ä¸º ã€Œç©ºæ ˆã€ã€‚ ä¸»è¦æ“ä½œåˆ†ä¸ºæ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œåˆ†åˆ«æ˜¯å…¥æ ˆæ“ä½œå’Œå‡ºæ ˆæ“ä½œã€‚ è®©æˆ‘ä»¬æ¥è®¾è®¡ä¸€ä¸ªå †æ ˆï¼Œå¯¹ä¸€ä¸ªéç›´è§‚çš„æ•°æ®ç»“æ„æŒæ¡çš„æœ€å¥½æ–¹æ³•æ˜¯ç”¨åŸºæœ¬çš„æ•°æ®ç»“æ„æ¥å®ç°å®ƒï¼Œå‚ç…§ï¼šT155 æœ€å°æ ˆè®¾è®¡ 1234567891011121314151617181920212223242526class MinStack: def __init__(self): self.stack=[] self.topPointer=-1 self.min=[] def push(self, val: int) -&gt; None: self.stack.append(val) self.topPointer+=1 if self.topPointer==0: self.min.append(val) else: if val&lt;self.min[-1]: self.min.append(val) else: self.min.append(self.min[-1]) def pop(self) -&gt; None: self.min.pop() self.stack.pop() self.topPointer-=1 def top(self) -&gt; int: return self.stack[-1] 0x02 å †æ ˆçš„åŸºæœ¬ä½œç”¨ ä¸å…¶è¯´å †æ ˆæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒæ›´å¤šçš„æ˜¯ä¸€ç§è®¾è®¡ç®—æ³•çš„æŠ€å·§ï¼ˆå¦‚æœå•çº¯ä»ç®—æ³•çš„è§’åº¦æ¥è¯´ï¼‰ï¼Œå½“ç„¶åœ¨å®é™…ç¡¬ä»¶ä¸­ä¹Ÿå­˜åœ¨ç”±äºç¡¬ä»¶çš„é™åˆ¶ï¼ˆæ¯”å¦‚ç£å¸¦ï¼‰å¯¼è‡´é¡ºåºçš„é—®é¢˜ã€‚ ä»ç®—æ³•çš„è§’åº¦æ¥è¯´ï¼Œå †æ ˆå…·æœ‰çš„ä½œç”¨ ä½¿ç”¨å †æ ˆå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¿å­˜å’Œå–ç”¨ä¿¡æ¯ï¼Œå› æ­¤é•¿è¢«ç”¨ä½œç®—æ³•å’Œç¨‹åºä¸­çš„è¾…åŠ©å­˜å‚¨ç»“æ„ï¼Œä¸´æ—¶ä¿å­˜ä¿¡æ¯ï¼Œä¾›åé¢æ“ä½œä¸­ä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼šæ“ä½œç³»ç»Ÿä¸­çš„å‡½æ•°è°ƒç”¨æ ˆï¼Œæµè§ˆå™¨ä¸­çš„å‰è¿›ã€åé€€åŠŸèƒ½ã€‚ å †æ ˆçš„åè¿›å…ˆå‡ºè§„åˆ™ï¼Œå¯ä»¥ä¿è¯ç‰¹å®šçš„å­˜å–é¡ºåºã€‚ ä¾‹å¦‚ï¼šç¿»è½¬ä¸€ç»„å…ƒç´ çš„é¡ºåºã€é“è·¯åˆ—è½¦è½¦è¾†è°ƒåº¦ã€‚ 0x03 å †æ ˆçš„é¢˜ç›® 3.1 æœ‰æ•ˆçš„æ‹¬å· T20 æœ‰æ•ˆçš„æ‹¬å· ä¸€ä¸ªéå¸¸ç»å…¸çš„é¢˜ç›®ï¼Œç®—æ˜¯å †æ ˆçš„å…ˆå…¥åå‡ºçš„å…¸å‹çš„åº”ç”¨ 1234567891011121314151617181920class Solution: def isValid(self, s: str) -&gt; bool: if (len(s)%2==1): return False flagStack=[] pair=&#123;&#x27;)&#x27;:&#x27;(&#x27;,&#x27;&#125;&#x27;:&#x27;&#123;&#x27;,&#x27;]&#x27;:&#x27;[&#x27;&#125; for char in s: if len(flagStack)!=0: if char in pair and flagStack[-1]==pair[char]: flagStack.pop() else: flagStack.append(char) else: flagStack.append(char) if flagStack: return False else: return True 3.2 åŸºæœ¬è®¡ç®—å™¨II T227 åŸºæœ¬è®¡ç®—å™¨II é‡ç‚¹æ€æƒ³æ˜¯å°†æ¯ä¸ªå…ƒç´ ï¼Œéƒ½çœ‹æˆnumåœ¨optionçš„åé¢ï¼Œä½†æ˜¯é€ä¸ªå–å‡ºnumå’Œoptionï¼›zè¿™é‡Œæ²¡æœ‰è€ƒè™‘ åˆ°pythonçš„å­—ç¬¦ä¸²æ“ä½œåŠŸèƒ½ 123456789101112131415161718192021222324252627282930s Solution: def calculate(self, s: str) -&gt; int: size=len(s) stack=[] op=&#x27;+&#x27; index=0 num=&#x27;&#x27; while(index&lt;size): if s[index] in &#x27;+-*/&#x27;: # å¦‚æœæ˜¯è¿ç®—ç¬¦ num=&#x27;&#x27; op=s[index] index+=1 else: # éœ€è¦å°†numå–å‡ºæ¥ while(index&lt;size and s[index] not in &#x27;+-*/&#x27;): num+=s[index] index+=1 num=int(num) if op==&#x27;+&#x27;: stack.append(num) elif op==&#x27;-&#x27;: stack.append(-num) elif op==&#x27;*&#x27;: top=stack.pop() stack.append(top*num) elif op==&#x27;/&#x27;: top=stack.pop() stack.append(int(top/num)) 3.3 é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼ T150 é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼ æ€è·¯å’ŒT227å·®ä¸å¤š 12345678910111213141516171819class Solution: def evalRPN(self, tokens: List[str]) -&gt; int: numStack=[] for char in tokens: if char in &#x27;+-*/&#x27;: # å–å‡ºæ¥å‰ä¸¤ä¸ªæ•°å­— num1=numStack.pop() num2=numStack.pop() if char==&#x27;+&#x27;: numStack.append(num1+num2) elif char==&#x27;-&#x27;: numStack.append(num2-num1) elif char==&#x27;*&#x27;: numStack.append(num1*num2) else: numStack.append(int(num2/num1)) else: numStack.append(int(char)) return numStack.pop() 3.4 å­—ç¬¦ä¸²è§£ç  ç”¨è¿™ä¸ªæ ˆæ¥è®°å½•å½“å‰çš„å…ƒç´ ï¼Œå¦‚æœä¸ºã€‘å°±å‘åä¸€ç›´æœå¯»åˆ°ã€ï¼Œå¾—åˆ°numå’Œstrï¼Œæ¥åå¤ 12345678910111213141516171819202122232425class Solution: def decodeString(self, s: str) -&gt; str: elementStack=[] temp=&#x27;&#x27; num=&#x27;&#x27; for char in s: elementStack.append(char) if char==&#x27;]&#x27;: # æå–å­—ç¬¦ä¸² elementStack.pop() while(elementStack[-1]!=&#x27;[&#x27;): top=elementStack.pop() temp+=top[::-1] elementStack.pop() while(len(elementStack)&gt;0 and elementStack[-1].isdigit()): num+=elementStack.pop() # æ–°çš„å­—ç¬¦ for i in range(int(num[::-1])): elementStack.append(temp[::-1]) num=&#x27;&#x27; temp=&#x27;&#x27; res=&#x27;&#x27; for e in elementStack: res+=e return res 3.5 éªŒè¯æ ˆåºåˆ— T946 éªŒè¯æ ˆåºåˆ— æ„Ÿè§‰è¿™ä¸ªå°±éå¸¸è€ƒéªŒæ€ç»´èƒ½åŠ›ï¼Œå› ä¸ºpushedå’Œpoppedç›¸å½“äºä¸ºé€†åæ“ä½œï¼Œå› æ­¤å¯ä»¥ç¿»å½’æ¥æŒ‰ç…§å †æ ˆçš„æ–¹å¼ç»§ç»­ 1234567891011121314class Solution: def validateStackSequences(self, pushed: List[int], popped: List[int]) -&gt; bool: # å’Œæ‹¬å·ä¸€æ ·çš„ # æ—¢ç„¶pushedå’Œpoppedéƒ½æ˜¯æŒ‰ç…§stackçš„è§„åˆ™ # åè¿‡æ¥ä¹Ÿå¯ä»¥ç”¨stackçš„è§„åˆ™æ¥è¿›è¡Œæ’åº j=0 stack=[] j=0 for p in pushed: stack.append(p) while(stack and stack[-1]==popped[j]): stack.pop() j+=1 return j==len(pushed) 0x04 å•è°ƒæ ˆï¼ˆMonotone stackï¼‰åŸºç¡€çŸ¥è¯† å•è°ƒæ ˆåªæ˜¯å…·æœ‰æ›´å¼ºé™åˆ¶çš„æ ˆï¼Œå®ƒéœ€è¦äººä¸ºè®¾ç½®è§„åˆ™ï¼ˆè®¾ç½®é€’å¢æˆ–è€…é€’å‡ï¼‰çš„å•è°ƒæ ˆï¼Œç”±æ­¤å¯ä»¥å®ç°çš„ç›®çš„ä¸ºï¼šã€å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…æ‰¾åˆ°ä¸€å®šæ•°ç»„å†…çš„æœ€å¤§å€¼æˆ–è€…æœ€å°å€¼ï¼›åŒæ—¶ç²¾ç®€åˆ é™¤ä¸€äº›æ— ç”¨çš„ä¿¡æ¯ã€‘ï¼Œæ‰€ä»¥åœ¨ç®—æ³•è®¾è®¡ä¸Šéœ€è¦æ›´åŠ å·§å¦™ã€‚ é€šå¸¸å¯ä»¥åˆ†ä¸ºå•è°ƒé€’å¢æ ˆå’Œå•è°ƒé€’å‡æ ˆï¼Œè¿™ä¸ªé¡ºåºå’Œä»€ä¹ˆæ˜¯æ ˆé¡¶ã€ä»€ä¹ˆæ˜¯æ ˆåº•ä¸€æ ·å¾ˆéš¾è®©äººç†æ¸…æ¥šé¡ºåºï¼Œå› æ­¤åªéœ€è¦è€ƒè™‘åœ¨å•è°ƒæ ˆä¸­æ ˆçš„å¤§å°é¡ºåºæ˜¯å•è°ƒçš„ï¼Œç”±æ­¤å¯ä»¥è®¾è®¡è¿›å‡ºæ ˆçš„é¡ºåºï¼Œä»¥å•è°ƒé€’å¢æ ˆä¸ºä¾‹ï¼š å‡è®¾å½“å‰è¿›æ ˆå…ƒç´ ä¸º xï¼Œå¦‚æœ x æ¯”æ ˆé¡¶å…ƒç´ å°ï¼Œåˆ™ç›´æ¥å…¥æ ˆã€‚ å¦åˆ™ä»æ ˆé¡¶å¼€å§‹éå†æ ˆä¸­å…ƒç´ ï¼ŒæŠŠå°äº x æˆ–è€…ç­‰äº x çš„å…ƒç´ å¼¹å‡ºæ ˆï¼Œç›´åˆ°é‡åˆ°ä¸€ä¸ªå¤§äº x çš„å…ƒç´ ä¸ºæ­¢ï¼Œç„¶åå†æŠŠ x å‹å…¥æ ˆä¸­ã€‚ 0x05 å•è°ƒæ ˆçš„ä½¿ç”¨åœºæ™¯ ç½‘ä¸Šæœ‰å¾ˆå¤šåšå®¢ï¼Œä¹Ÿæœ‰å¾ˆå¤šçš„æ•™å­¦è§†é¢‘ï¼Œè¿™é‡Œæ‘˜é€‰ä¸€äº›æ€»ç»“çš„ï¼Œå•è°ƒæ ˆä¸»è¦è§£å†³çš„é—®é¢˜ä¸ºï¼š å·¦ä¾§ç¬¬ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´  å·¦ä¾§ç¬¬ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å°çš„å…ƒç´  å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´  å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å°çš„å…ƒç´  åœ¨å®é™…çš„åº”ç”¨ä¸­ï¼Œéœ€è¦å…ˆå°†å®é™…é—®é¢˜æŠ½è±¡ç§°ä¸ºä¸Šè¿°çš„å››ç§é—®é¢˜ï¼Œå†åˆ©ç”¨å•è°ƒæ ˆæ±‚è§£ï¼Œæœ‰ç‚¹è¿‡äºæŠ½è±¡äº†ï¼Œç»“åˆé—®é¢˜æ¥çœ‹ä¼šå¥½ä¸€ç‚¹ 5.1 å¯»æ‰¾å·¦ä¾§ç¬¬ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´  ä»å·¦åˆ°å³éå†å…ƒç´ ï¼Œæ„é€ å•è°ƒé€’å¢æ ˆï¼ˆä»æ ˆé¡¶åˆ°æ ˆåº•é€’å¢ï¼‰ï¼šä¸€ä¸ªå…ƒç´ å·¦ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ å°±æ˜¯å°†å…¶ã€Œæ’å…¥å•è°ƒé€’å¢æ ˆã€æ—¶çš„æ ˆé¡¶å…ƒç´ ã€‚å¦‚æœæ’å…¥æ—¶çš„æ ˆä¸ºç©ºï¼Œåˆ™è¯´æ˜å·¦ä¾§ä¸å­˜åœ¨æ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´ ã€‚ 5.2 å¯»æ‰¾å·¦ä¾§ç¬¬ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å°çš„å…ƒç´  # ä»å·¦åˆ°å³éå†å…ƒç´ ï¼Œæ„é€ å•è°ƒé€’å‡æ ˆï¼ˆä»æ ˆé¡¶åˆ°æ ˆåº•é€’å‡ï¼‰ï¼šä¸€ä¸ªå…ƒç´ å·¦ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å…ƒç´ å°±æ˜¯å°†å…¶ã€Œæ’å…¥å•è°ƒé€’å‡æ ˆã€æ—¶çš„æ ˆé¡¶å…ƒç´ ã€‚å¦‚æœæ’å…¥æ—¶çš„æ ˆä¸ºç©ºï¼Œåˆ™è¯´æ˜å·¦ä¾§ä¸å­˜åœ¨æ¯”å½“å‰å…ƒç´ å°çš„å…ƒç´ ã€‚ 5.3 å¯»æ‰¾å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´  # ä»å·¦åˆ°å³éå†å…ƒç´ ï¼Œæ„é€ å•è°ƒé€’å¢æ ˆï¼ˆä»æ ˆé¡¶åˆ°æ ˆåº•é€’å¢ï¼‰ï¼šä¸€ä¸ªå…ƒç´ å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ å°±æ˜¯å°†å…¶ã€Œå¼¹å‡ºå•è°ƒé€’å¢æ ˆã€æ—¶å³å°†æ’å…¥çš„å…ƒç´ ã€‚å¦‚æœè¯¥å…ƒç´ æ²¡æœ‰è¢«å¼¹å‡ºæ ˆï¼Œåˆ™è¯´æ˜å³ä¾§ä¸å­˜åœ¨æ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´ ã€‚ ä»å³åˆ°å·¦éå†å…ƒç´ ï¼Œæ„é€ å•è°ƒé€’å¢æ ˆï¼ˆä»æ ˆé¡¶åˆ°æ ˆåº•é€’å¢ï¼‰ï¼šä¸€ä¸ªå…ƒç´ å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ å°±æ˜¯å°†å…¶ã€Œæ’å…¥å•è°ƒé€’å¢æ ˆã€æ—¶çš„æ ˆé¡¶å…ƒç´ ã€‚å¦‚æœæ’å…¥æ—¶çš„æ ˆä¸ºç©ºï¼Œåˆ™è¯´æ˜å³ä¾§ä¸å­˜åœ¨æ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´ ã€‚ 5.4 å¯»æ‰¾å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å°çš„å…ƒç´  # ä»å·¦åˆ°å³éå†å…ƒç´ ï¼Œæ„é€ å•è°ƒé€’å‡æ ˆï¼ˆä»æ ˆé¡¶åˆ°æ ˆåº•é€’å‡ï¼‰ï¼šä¸€ä¸ªå…ƒç´ å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å…ƒç´ å°±æ˜¯å°†å…¶ã€Œå¼¹å‡ºå•è°ƒé€’å‡æ ˆã€æ—¶å³å°†æ’å…¥çš„å…ƒç´ ã€‚å¦‚æœè¯¥å…ƒç´ æ²¡æœ‰è¢«å¼¹å‡ºæ ˆï¼Œåˆ™è¯´æ˜å³ä¾§ä¸å­˜åœ¨æ¯”å½“å‰å…ƒç´ å°çš„å…ƒç´ ã€‚ ä»å³åˆ°å·¦éå†å…ƒç´ ï¼Œæ„é€ å•è°ƒé€’å‡æ ˆï¼ˆä»æ ˆé¡¶åˆ°æ ˆåº•é€’å‡ï¼‰ï¼šä¸€ä¸ªå…ƒç´ å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„å…ƒç´ å°±æ˜¯å°†å…¶ã€Œæ’å…¥å•è°ƒé€’å‡æ ˆã€æ—¶çš„æ ˆé¡¶å…ƒç´ ã€‚å¦‚æœæ’å…¥æ—¶çš„æ ˆä¸ºç©ºï¼Œåˆ™è¯´æ˜å³ä¾§ä¸å­˜åœ¨æ¯”å½“å‰å…ƒç´ å°çš„å…ƒç´ ã€‚ 123456def é€’å¢æ ˆ(nums): stack=[] for num in nums: while stack and num&gt;=stack[-1]: stack.pop() stack.append(num) 0x06 å•è°ƒæ ˆçš„å®é™…åº”ç”¨ 6.1 ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ I T496 ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I è¿™ä¸ªå¾ˆç¬¦åˆå•è°ƒæ ˆä½¿ç”¨çš„åœºæ™¯çš„ï¼Œæ‰€ä»¥ä¸»è¦æ˜¯éœ€è¦ç†Ÿæ‚‰å•è°ƒæ ˆæ±‚è§£é—®é¢˜çš„æ–¹æ³• 1234567891011121314151617181920212223242526272829class Solution: def nextGreaterElement(self, nums1: List[int], nums2: List[int]) -&gt; List[int]: # ç¬¬äºŒç§ä½¿ç”¨å•è°ƒé€’å¢æ ˆï¼Œå› ä¸ºnums1æ˜¯num2çš„å­é›†ï¼Œæ‰€ä»¥å¯ä»¥éå†nums2 # æ„é€ å•è°ƒé€’å¢æ ˆï¼Œæ±‚å‡ºnums2æ¯ä¸ªå…ƒç´ å³ä¾§ä¸‹ä¸€ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œç„¶åå­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­ # # ã€å…·ä½“åšæ³•ã€‘ # reså­˜å‚¨ç­”æ¡ˆï¼Œä½¿ç”¨stackè¡¨ç¤ºå•è°ƒé€’å¢æ ˆï¼Œä½¿ç”¨å“ˆå¸Œè¡¨num-mapå­˜å‚¨nums2ä¸­æ¯”ä¸‹ä¸€ä¸ªå½“å‰ # å…ƒç´ å¤§çš„æ•°å€¼ï¼Œå½“å‰æ•°å€¼ï¼šä¸‹ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„æ•°å€¼ # # éå†nums2ï¼Œå¯¹äºå½“å‰å…ƒç´ ï¼Œå¦‚æœå°åˆ™å…¥æ ˆï¼Œå¦‚æœå…ƒç´ å¤§åˆ™ä¸€ç›´å‡ºæ ˆï¼Œå‡ºæ ˆå…ƒç´ æ˜¯ç¬¬ä¸€ä¸ªå¤§ # äºå½“å‰å…ƒç´ å€¼çš„å…ƒç´  # # éå†ç©æ•°ç»„nums2å‘¨ï¼Œå»ºç«‹å¥½å“ˆå¸Œè¡¨ä¹‹åï¼Œéå†æ•°ç»„1 # # ä»num-mapä¸­å–å‡ºå¯¹åº”çš„å€¼ res=[] stack=[] num_map=dict() for num in nums2: while(stack) and num&gt;stack[-1]: num_map[stack[-1]]=num stack.pop() stack.append(num) print(stack) for num in nums1: res.append(num_map.get(num,-1)) return res 6.2 ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ II T503 ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ II å’Œä¸Šé¢ä¸€æ ·ï¼Œéå†ä¸¤æ¬¡å°±å¥½äº† 123456789101112131415class Solution: def nextGreaterElements(self, nums: List[int]) -&gt; List[int]: res=[] stack=[] temp=[-1 for _ in range(len(nums))] stack_index=[] for i in range(len(nums)*2): while stack and nums[i%len(nums)]&gt;stack[-1]: index=stack_index.pop() stack.pop() temp[index]=nums[i%len(nums)] stack_index.append(i%len(nums)) stack.append(nums[i%len(nums)]) return temp 6.3 æ¯æ—¥æ¸©åº¦ T739 æ¯æ—¥æ¸©åº¦ ä¹Ÿæ˜¯å•è°ƒæ ˆè§£é¢˜çš„å¸¸è§„æ€è·¯ 12345678910111213class Solution: def dailyTemperatures(temperatures): # å› ä¸ºç­‰ä»·äºæ‰¾ç¬¬iå…ƒç´ åï¼Œé«˜äºè¿™ä¸ªå…ƒç´ çš„indexä¹‹å·® # å¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸€ä¸ªstackæ¥è®°å½•é€’å‡å…ƒç´ çš„ä¸‹æ ‡ size=len(temperatures) ans=[0 for _ in range(size)] stack=[] for i in range(size): while( stack and temperatures[i]&gt;temperatures[stack[-1]]): index=stack.pop() ans[index]=i-index stack.append(i) return ans 6.4 è‚¡ç¥¨æ—¶é—´è·¨åº¦ T901 è‚¡ç¥¨ä»·æ ¼è·¨åº¦ å•è°ƒæ ˆå¯ä»¥å­˜å‚¨å€¼ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨å¯¹åº”çš„ä¸‹æ ‡ 1234567891011121314151617class StockSpanner: # å°äºæˆ–ç­‰äºä»Šå¤©ä»·æ ¼çš„æœ€å¤§è¿ç»­æ—¥æ•° # ç­‰ä»·äºæ±‚è§£å·¦ä¾§æœ€è¿‘çš„ä¸€æ¬¡å¤§äºä»·æ ¼çš„æ—¥æ•° def __init__(self): self.stack=[] self.day=[] def next(self, price: int) -&gt; int: dayT=1 while(self.stack and price&gt;=self.stack[-1]): dayT+=self.day.pop() self.stack.pop() self.day.append(dayT) self.stack.append(price) return dayT 6.5 å»é™¤é‡å¤å­—æ¯ T316 å»é™¤é‡å¤å­—æ¯ è¿™ä¸€é¢˜çœ‹ä¸Šå»æ˜¯å’Œå•è°ƒæ ˆæ²¡æœ‰å…³ç³»çš„ï¼Œè¿™é‡Œå°±éœ€è¦å°†ç°å®é—®é¢˜è½¬æ¢ç§°ä¸ºå•è°ƒæ ˆçš„é—®é¢˜ï¼›é¦–å…ˆç»“æœçš„å­—å…¸åºæœ€å°ï¼Œå°±æ˜¯å°½å¯èƒ½çš„å°†aæ”¾åˆ°bå‰é¢ã€cæ”¾åˆ°då‰é¢ï¼Œå› æ­¤æˆ‘ä»¬æ¯æ¬¡éå†çš„æ—¶å€™éœ€è¦å¯¹åº”å­—ç¬¦æ”¾å…¥ç»“æœå¹¶æ’åºã€‚ä½†æ˜¯æˆ‘ä»¬è¦è­¦æƒ•åé¢æ˜¯å¦è¿˜å‰©å­—ç¬¦ï¼Œå› æ­¤å°±éœ€è¦å…ˆéå†å­—ç¬¦ä¸²ä¸­å­—ç¬¦å¯¹åº”çš„æ•°é‡ï¼Œç„¶ååœ¨éå†åˆ é™¤çš„æ—¶å€™æ ¹æ®å­—ç¬¦ä¸²æ˜¯å¦æœ‰å‰©ä½™æ¥å†³å®šåˆ ä¸åˆ å­—ç¬¦ã€‚amazingï¼ 1234567891011121314151617181920212223242526class Solution: def removeDuplicateLetters(self, s: str) -&gt; str: # é¦–å…ˆéœ€è¦ç»Ÿè®¡å„ç§å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•° # å¯¹sè¿›è¡Œéå† # è¦æ±‚å­—å…¸åºæœ€å°ï¼Œä¹Ÿå°±æ˜¯aè¦å°½å¯èƒ½åœ¨bå‰é¢ï¼Œbè¦å°½å¯èƒ½åœ¨cå‰é¢ # è¿™å°±éœ€è¦ç”¨å•è°ƒæ ˆæ¥çº¦æŸï¼Œä½†æ˜¯éœ€è¦æ³¨æ„å•è°ƒæ ˆä¸­å…ƒç´ æ˜¯å¦å­˜åœ¨ charMap=dict() resStack=[] for char in s: if char in charMap: charMap[char]+=1 else: charMap[char]=1 for char in s: if char not in resStack: # å¦‚æœä¸åœ¨resStackä¸­,æˆ‘éœ€è¦è®¾ç½®ä¸€ä¸ªå°½å¯èƒ½å°çš„åºåˆ— # åŒæ—¶éœ€è¦ä¿è¯è¿˜æœ‰æ•° while resStack and char&lt;resStack[-1] and charMap[resStack[-1]]&gt;0: resStack.pop() resStack.append(char) charMap[char]-=1 else: charMap[char]-=1 return &#x27;&#x27;.join(resStack) 6.6 æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„ T581 æœ€çŸ­æ— åºå­æ•°ç»„ åŒæ ·çš„è¿™ä¸ªéœ€è¦å…ˆåˆ†æé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä»€ä¹ˆï¼Œéšå«çš„å°±æ˜¯åºåˆ—ä¸€å®šæ˜¯å…ˆé€’å¢ã€ç„¶åä¹±åºã€ç„¶åé€’å¢ï¼Œè¿™ä¸ªç¬¬ä¸€ä¸ªé€’å¢åºåˆ—çš„æœ€å¤§å€¼æ˜¯åé¢çš„æœ€å°å€¼ã€ç¬¬äºŒä¸ªé€’å¢åºåˆ—çš„æœ€å°å€¼æ˜¯åé¢çš„æœ€å¤§å€¼ï¼›ç”±æ­¤å°±å¯ä»¥ç”¨å•è°ƒæ ˆçš„æ–¹å¼æ¥æ±‚è§£é—®é¢˜ 123456789101112131415161718192021222324class Solution: def findUnsortedSubarray(self, nums: List[int]) -&gt; int: # å¦‚æœå¿…ç„¶å­˜åœ¨è¿™æ ·çš„ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯å•è°ƒé€’å¢ï¼Œç„¶å***ã€ç„¶åå•è°ƒé€’å¢ # ä»å°åˆ°å¤§ï¼Œæ‰¾åˆ°å·¦è¾¹ç•Œ if len(nums)&lt;2: return 0 stack=[] size=len(nums) left=size-1 right=0 for i in range(size): while(stack and nums[i]&lt;nums[stack[-1]]): left=min(left,stack.pop()) stack.append(i) stack[:]=[] for i in range(size-1,-1,-1): while(stack and nums[i]&gt;nums[stack[-1]]): right=max(right,stack.pop()) stack.append(i) if right-left+1&gt;0: return right-left+1 else: return 0","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"Leetcode","slug":"Leetcode","permalink":"https://blog.tjdata.site/tags/Leetcode/"}]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•04-ç®—æ³•åˆ·é¢˜-æ•°ç»„éƒ¨åˆ†","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•04-ç®—æ³•åˆ·é¢˜-æ•°ç»„éƒ¨åˆ†","date":"2022-07-03T13:56:28.000Z","updated":"2023-05-13T13:52:45.590Z","comments":true,"path":"posts/ee1b4739.html","link":"","permalink":"https://blog.tjdata.site/posts/ee1b4739.html","excerpt":"æ— è®ºæ¦‚å¿µçœ‹çš„æœ‰å¤šå°‘ï¼Œéƒ½éœ€è¦è‡ªå·±å®æˆ˜ã€‚åˆ·é¢˜çš„è¿‡ç¨‹å¹¶ä¸æ˜¯ä¸€ä¸ªç ”ç©¶çš„è¿‡ç¨‹ï¼Œè€Œæ˜¯æ›´å¥½çš„ç†è§£äººä½œä¸ºæœºå™¨çš„è®¡ç®—æ–¹å¼ï¼Œemmmå…¶å®æ˜¯è®©äººå˜å¾—æ›´åƒè®¡ç®—å™¨å¹¶æ‰¾åˆ°ä¸€äº›è®¡ç®—æœºå¼çš„ä¾¿æ·æ€è€ƒæ–¹å¼ã€‚æ‰¯çš„è¿œäº†ï¼Œæ•°ç»„ä½œä¸ºä¸€ç§æ¯”è¾ƒåŸºæœ¬çš„æ•°æ®ç»“æ„æ–¹å¼ï¼Œå¸¸è§çš„ç®—æ³•æŠ€å·§æœ‰æ’åºç®—æ³•ã€äºŒåˆ†æŸ¥æ‰¾ã€åŒæŒ‡é’ˆã€æ»‘åŠ¨çª—å£","text":"æ— è®ºæ¦‚å¿µçœ‹çš„æœ‰å¤šå°‘ï¼Œéƒ½éœ€è¦è‡ªå·±å®æˆ˜ã€‚åˆ·é¢˜çš„è¿‡ç¨‹å¹¶ä¸æ˜¯ä¸€ä¸ªç ”ç©¶çš„è¿‡ç¨‹ï¼Œè€Œæ˜¯æ›´å¥½çš„ç†è§£äººä½œä¸ºæœºå™¨çš„è®¡ç®—æ–¹å¼ï¼Œemmmå…¶å®æ˜¯è®©äººå˜å¾—æ›´åƒè®¡ç®—å™¨å¹¶æ‰¾åˆ°ä¸€äº›è®¡ç®—æœºå¼çš„ä¾¿æ·æ€è€ƒæ–¹å¼ã€‚æ‰¯çš„è¿œäº†ï¼Œæ•°ç»„ä½œä¸ºä¸€ç§æ¯”è¾ƒåŸºæœ¬çš„æ•°æ®ç»“æ„æ–¹å¼ï¼Œå¸¸è§çš„ç®—æ³•æŠ€å·§æœ‰æ’åºç®—æ³•ã€äºŒåˆ†æŸ¥æ‰¾ã€åŒæŒ‡é’ˆã€æ»‘åŠ¨çª—å£ æ•°æ®ç»“æ„ä¸ç®—æ³•01- å‘é‡ ï½œ åˆ—è¡¨ ï½œ æ ˆå’Œé˜Ÿåˆ— 0x01 æ•°ç»„æ’åº 1.1 å†’æ³¡æ’åº 1234567891011121314def bubbleSort(arr): # å†’æ³¡æ’åºçš„æ€æƒ³ # ç›¸é‚»å…ƒç´ ä¹‹é—´çš„æ¯”è¾ƒå’Œå˜æ¢ï¼Œå°†å€¼è¾ƒå°çš„å…ƒç´ é€æ­¥ä»åé¢ç§»åˆ°å‰é¢ï¼Œå€¼è¾ƒå¤§çš„å…ƒç´ ä»å‰é¢ç§»åˆ°åé¢ # # å†’æ³¡æ’åºçš„æ­¥éª¤ # é€æ­¥å°†iå’Œi+1å…ƒç´ ç›¸æ¯”è¾ƒï¼Œå¦‚æœå¤§å°ä¸åˆé€‚åˆ™äº¤æ¢ï¼Œè¿™æ ·é‡å¤ä¸€æ¬¡å¯ä»¥ä¿è¯ä¸‹æ ‡ä¸ºnçš„å€¼æœ€å¤§ # ä¹‹åå¯¹n-2å…ƒç´ é‡å¤æ“ä½œï¼Œä¸€ç›´åˆ°æ’åºç»“æŸ # for i in range(len(arr)): for j in range(len(arr)-i-1): if arr[j]&gt;arr[j+1]: arr[j],arr[j+1]=arr[j+1],arr[j] return arr 1.2 é€‰æ‹©æ’åº 123456789101112131415161718def selectSort(arr): # é€‰æ‹©æ’åºçš„æ€æƒ³ # æ¯ä¸€æ¬¡æ’åºä¸­ï¼Œä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­é€‰æ‹©ä¸€ä¸ªæœ€å°çš„å…ƒç´ ï¼Œæœªæ’å¥½åºçš„å…ƒç´ æœ€å‰é¢çš„é‚£ä¸ªå…ƒç´ äº¤æ¢ä½ç½® # # é€‰æ‹©æ’åºç®—æ³•æ­¥éª¤ # åœ¨ç®—æ³•ä¸­è®¾ç½®æ•´å‹å˜é‡iï¼Œæ—¢å¯ä»¥ä½œä¸ºæ’åºæ ‘æœ¨çš„è®¡ç®—ã€åŒæ—¶iä¹Ÿä½œä¸ºæ‰§è¡Œç¬¬iæ¬¡æ’åºçš„æ—¶å€™ï¼Œå‚åŠ æ’åºçš„ån-i+1å…ƒç´ çš„ä½ç½® # æ•´å‹å˜é‡ min_iè®°å½•æœ€å°å…ƒç´ çš„ä¸‹æ ‡ # ç»“æŸä¹‹ä¸­äº¤æ¢ä¸¤è€…ä¹‹é—´çš„é¡ºåº for i in range(len(arr)-1): min_i=i for j in range(i+1,len(arr)): if arr[j]&lt;arr[min_i]: min_i=j if i!=min_i: arr[i],arr[min_i]=arr[min_i],arr[i] return arr 1.3 æ’å…¥æ’åº 123456789101112131415161718def insertSort(arr): # æ’å…¥æ’åºçš„åŸºæœ¬æ€æƒ³ # æ¯ä¸€æ¬¡æ’åºä¸­ï¼Œå°†å‰©ä½™æ— åºåˆ—åºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ’å…¥åˆ°æœ‰åºåºåˆ—çš„é€‚å½“ä½ç½®ä¸Š # # æ’å…¥æ’åºçš„åŸºæœ¬æ­¥éª¤ # å°†ç¬¬ä¸€ä¸ªå…ƒç´ çœ‹ä½œä¸€ä¸ªæœ‰åºåºåˆ— # ä»å¤´åˆ°å°¾æ‰«ææ— åºåºåˆ—ï¼Œå°†æ‰«æåˆ°çš„æ¯ä¸ªå…ƒç´ æ’å…¥åˆ°æœ‰åºåºåˆ—çš„é€‚å½“ä½ç½®ä¸Š for i in range(1,len(arr)): temp=arr[i] j=i # 0-ï¼ˆi-1ï¼‰éƒ½æ˜¯æœ‰åºæ•°ç»„ while j&gt;0 and arr[j-1]&gt;temp: arr[j]=arr[j-1] # å› ä¸ºè‚¯å®šéœ€è¦ç§»åŠ¨ä¸€ä¸ªä½ç½® j-=1 arr[j]=temp return arr 1.4 å¸Œå°”æ’åºï¼ˆæ²¡ææ‡‚å¹²ä»€ä¹ˆï¼‰ 1234567891011121314151617181920212223242526def shellSort(arr): # å¸Œå°”æ’åºçš„åŸºæœ¬æ€æƒ³ # æŒ‰ç…§ä¸€å®šçš„é—´éš”å–å€¼åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå­åºåˆ—ï¼Œæ¯ä¸ªå­åºåˆ—æŒ‰ç…§æ’å…¥æ’åºï¼Œç„¶åé€æ¸ç¼©å°é—´éš”è¿›è¡Œ # ä¸‹ä¸€è½®åˆ’åˆ†å­åºåˆ—å’Œæ’å…¥æ’åºï¼Œä¸€ç›´åˆ°æœ€åä¸€è½®æ’åºé—´éš”ä¸º1 # # å¸Œå°”æ’åºæ˜¯åœ¨æ’å…¥æ’åºçš„åŸºç¡€ä¸Šè¿›è¡Œæ”¹è¿›çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ’å…¥æ’åºåœ¨å·²ç»æ’å¥½åºçš„æ•ˆç‡éå¸¸é«˜ # ä½†æ˜¯æ’å…¥æ’åºæ•ˆç‡æ¯”è¾ƒä½çš„åŸå› æ˜¯æ¯æ¬¡åªèƒ½å°†æ•°æ®ç§»åŠ¨ä»¥ä¸º # # å¸Œå°”æ’åºçš„ç®—æ³•æ­¥éª¤ # 1. ç¡®å®šå…ƒç´ é—´éš”Gapï¼Œå°†åºåˆ—æŒ‰ç…§1å¼€å§‹åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå­åºåˆ—ï¼Œä¹‹é—´å…ƒç´ çš„é—´éš”ä¸ºä¸€ä¸ªgap # 2. å‡å°‘é—´éš”æ•°ï¼Œå¹¶é‡æ–°å°†æ•´ä¸ªåºåˆ—æŒ‰ç…§æ–°çš„é—´éš”æ•°åˆ†æˆè‹¥å¹²ä¸ªå­åºåˆ—ï¼Œå¹¶å¯¹æ¯ä¸ªå­åºåˆ—è¿›è¡Œæ’åº # # size=len(arr) gap=size//2 while gap&gt;0: for i in range(gap,size): temp=arr[i] j=i while j&gt;=gap and arr[j-gap]&gt;temp: arr[j]=arr[j-gap] j-=gap arr[j]=temp gap=gap//2 return arr 1.5 å½’å¹¶æ’åºï¼ˆå¾ˆå–œæ¬¢çš„æ’åºï¼‰ 1234567891011121314151617181920212223242526272829303132333435def mergeSort(arr): # å½’å¹¶æ’åºçš„åŸºæœ¬æ€æƒ³ï¼š # é‡‡ç”¨ç»å…¸çš„åˆ†æ²»ç­–ç•¥ï¼Œå…ˆé€’å½’å°†å½“å‰åºåˆ—å¹³å‡åˆ†æˆä¸¤åŠï¼Œç„¶åå°†æœ‰åºåºåˆ—åˆå¹¶ï¼Œæœ€ç»ˆåˆå¹¶æˆä¸€ä¸ªæœ‰åºåºåˆ— # # ã€ç®—æ³•æ­¥éª¤ã€‘ # 1. å°†æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°æ®å ªç§°næœ‰åºçš„å­åºåˆ— # 2. å°†å½“å‰åºåˆ—ç»„ä¸­çš„æœ‰åºåºåˆ—ä¸¤ä¸¤å½’å¹¶ï¼Œå®Œæˆä¸€éä¹‹ååºåˆ—ç»„é‡Œçš„æ’åºåºåˆ—çš„ä¸ªæ•°å‡ç‰ˆï¼Œæ¯ä¸ªå­åºåˆ—çš„é•¿åº¦åŠ å€ # 3. é‡å¤ä¸Šè¿°æ“ä½œå¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æœ‰åºåºåˆ— # def merge(left_arr,right_arr): arr=[] while left_arr and right_arr: if left_arr[0]&lt;=right_arr[0]: arr.append(left_arr.pop(0)) else: arr.append(right_arr.pop[0]) while left_arr: arr.append(left_arr.pop(0)) while right_arr: arr.append(right_arr.pop(0)) return arr size =len(arr) # è¾¹ç•Œæƒ…å†µ if size&lt;2: return arr mid =size//2 left_arr,right_arr=arr[0:mid],arr[mid:] return merge(mergeSort(left_arr),mergeSort(right_arr)) 1.6 å¿«é€Ÿæ’åºï¼ˆç¬¬äºŒå–œæ¬¢ï¼‰ 1234567891011121314151617181920212223242526272829303132333435def quickSort(arr,low,high): # å¿«é€Ÿæ’åºï¼Œæ’åºçš„è¾¹ç•Œæ¡ä»¶ lowæ¯”highå° def resort(arr,low,high): # è¿™é‡Œçš„æ•°ç»„ä¸­ï¼Œç›®æ ‡æ•°å·²ç»æ”¾åˆ°çš„æœ€å³è¾¹ # ç°åœ¨éœ€è¦æŠŠå¤§äºç›®æ ‡å€¼çš„æ•°æ®æ”¾åˆ°å³è¾¹ flag=low-1 for j in range(low,high+1): # åŒæŒ‡é’ˆ if arr[j]&lt;=arr[high]: flag+=1 arr[flag],arr[j]=arr[j],arr[flag] return flag def random_index(arr,low,high): # å½“ç„¶è¿˜éœ€è¦è¿›è¡Œä¸€äº›å°çš„æ“ä½œ index=(low+high)//2 # é»˜è®¤å·¦è¾¹éƒ½æ˜¯æœ€å°çš„ arr[index],arr[high]=arr[high],arr[index] return resort(arr,low,high) if low&lt;high: # æ¯æ¬¡æŒ‰ç…§é˜Ÿåˆ—æ’åº # éœ€è¦è¿”å›æ ‡æ†çš„ä¸‹æ ‡ index =random_index(arr,low,high) # ä¹‹åè¿˜éœ€è¦ç»§ç»­åˆ†è§£ quickSort(arr,low,index-1) quickSort(arr,index+1,high) return arr 1.7 å †æ’åºï¼ˆæ²¡çœ‹æ‡‚ï¼Œæ„Ÿè§‰å¤ªéš¾äº†ï¼‰ 1234567891011121314151617181920212223242526272829303132333435363738394041def heapSort(arr): # å€Ÿç”¨å †ç»“æ„æ‰€è®¾è®¡çš„æ’åºç®—æ³•ï¼Œå°†æ•°ç»„è½¬æ¢ä¸ºå¤§é¡¶å †ï¼Œé‡å¤ä»å¤§é¡¶å †ä¸­å–å‡ºæ•°å€¼æœ€å¤§çš„èŠ‚ç‚¹ï¼Œå¹¶è®©å‰©ä½™çš„å †ç»´æŒå¤§é¡¶å †çš„æ€§è´¨ # # ã€å †çš„å®šä¹‰ã€‘ # å¤§é¡¶å †ï¼Œæ ¹èŠ‚ç‚¹å€¼å¤§äºå­èŠ‚ç‚¹å€¼ # å°é¡¶å †ï¼Œæ ¹èŠ‚ç‚¹å€¼å°äºç­‰äºå­èŠ‚ç‚¹å€¼ # # ã€ç®—æ³•æ­¥éª¤ã€‘ # 1. é¦–å…ˆå°†æ— åºåºåˆ—æ„é€ æˆç¬¬1ä¸ªå¤§é¡¶å †ï¼Œä½¿å¾—mä¸ªå…ƒç´ çš„æœ€å¤§å€¼åœ¨åºåˆ—çš„ç¬¬ä¸€ä¸ªå€¼ # 2. äº¤æ¢åºåˆ—çš„æœ€å¤§å€¼å…ƒç´ ä¸æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½® # 3. å°†å‰é¢n-1å…ƒç´ ç»„æˆçš„åºåˆ—è°ƒæ•´ç§°ä¸ºä¸€ä¸ªæ–°çš„å¤§é¡¶å †ï¼Œè¿™æ ·å¾—åˆ°ç¬¬2ä¸ªæœ€å¤§å€¼å…ƒç´  # 4. å¦‚æ­¤å¾ªç¯ä¸‹å»ï¼ŒçŸ¥é“ç§°ä¸ºä¸€ä¸ªæœ‰åºåºåˆ— # arrLen =len(arr) def heapify(arr,i): left=2*i+1 right=2*i+2 largest=i if left&lt;arrLen and arr[left]&gt;arr[largest]: largest=left if right&lt;arrLen and arr[right]&gt;arr[largest]: largest=right if largest!=i: arr[i],arr[largest]=arr[largest],arr[i] heapify(arr,largest) print(arr) def buileMaxHeap(arr): for i in range(len(arr)//2,-1,-1): heapify(arr,i) buileMaxHeap(arr) print(&#x27;buil&#x27;) for i in range(arrLen-1,0,-1): arr[0],arr[i]=arr[i],arr[0] arrLen-=1 heapify(arr,0) return arr 1.8 è®¡æ•°æ’åº(æ²¡æ„æ€) 12345678910111213141516171819def countingSort(arr): # ã€åŸºæœ¬æ€æƒ³ã€‘ # ä½¿ç”¨ä¸€ä¸ªé¢å¤–çš„æ•°ç»„countsï¼Œå…¶ä¸­countså…ƒç´ æ˜¯æ’åºæ•°ç»„ä¸­arrç­‰äºiçš„ä¸ªæ•° # æ ¹æ®æ•°ç»„countsæ¥å°†arrçš„å…ƒç´ æ’åˆ—åˆ°æ­£ç¡®ä½ç½® min_arr,max_arr=min(arr),max(arr) counts =[0 for _ in range(max_arr-min_arr+1)] for num in arr: counts[num-min_arr]+=1 for j in range(1,max_arr-min_arr+1): counts[j]+=counts[j-1] res=[0 for _ in range(len(arr))] for i in range(len(arr)-1,-1,-1): res[counts[arr[i]-min_arr]-1]=arr[i] counts[arr[i]-min_arr]-=1 return res 1.9 åŸºæ•°æ’åºï¼ˆå¾ˆæœ‰æ„æ€ï¼Œæ³¨æ„æœ‰è´Ÿæ•°çš„æƒ…å†µï¼‰ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647def raidxSort(arr): # åŸºæ•°æ’åºradix sortã€åŸºæœ¬æ€æƒ³ã€‘ # å°†æ•´æ•°æŒ‰ç…§ä½åˆ‡å‰²ç§°ä¸ºä¸åŒçš„æ•°å­—ï¼Œç„¶åæŒ‰ç…§ä¸ªä½æ•°æ¥ä»å°åˆ°è¾¾è¿›è¡Œæ’åˆ— # æ³¨æ„è¿™ä¸ªæ’åºæ–¹å¼æ˜¯å…ˆæ¯”è¾ƒä¸ªä½æ•°ï¼Œç„¶åé€æ¸å‘é«˜ä½æ•° # é¦–å…ˆéœ€è¦äº†è§£åˆ°åŸºæ•°æ’åºä¸­æœ€å¤§ä½æ•° max_radix=0 for num in arr: if num&gt;0: temp=len(str(num)) if max_radix&lt;temp: max_radix=temp else: temp=len(str(num))-1 if max_radix&lt;temp: max_radix=temp for radix in range(max_radix): # ä»æœ€ä½ä½åˆ°æœ€é«˜ä½å¼€å§‹è®¡ç®— # æŒ‰ç…§ä½æ•°æ¥ç”Ÿæˆ buckets=[[] for _ in range(10)] # æŒ‰ç…§ä¸ªä½æ•°ï¼Œæ”¾åˆ°æ¯ä¸ªç¯®å­ï¼Œå†æŒ‰ç…§åä½æ•°æ”¾åˆ°ç¯®å­ for num in arr: # æå–radixå¯¹åº”çš„ä½æ•°ï¼Œ0ä»£è¡¨ä¸ªä½ # è¿™é‡Œä½¿ç”¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ–¹å¼æ¥æ–¹ä¾¿ç†è§£ if len(str(abs(num)))&lt;(radix+1): # ä½æ•°ä¸å¤Ÿçš„æ—¶å€™ï¼Œè¯´æ˜è¿™ä¸ªä½ç½®æ²¡æœ‰0ï¼Œå°±éœ€è¦æ”¾åˆ°ç¬¬ä¸€æ ¼ buckets[0].append(num) else: index=str(abs(num))[len(str(abs(num)))-1-radix] buckets[int(index)].append(num) # æå–åˆ°bucketsä¹‹åéœ€è¦é‡æ–°è§£æarrä¸­ arr.clear() for bukcet in buckets: for num in bukcet: arr.append(num) neg_arr=[] pos_arr=[] for num in arr: if num&gt;0: pos_arr.append(num) else: neg_arr.append(num) return neg_arr[::-1]+pos_arr 1.10 æ¡¶æ’åºï¼ˆå¬ç€å°±æ²¡æ„æ€ï¼‰ è·³è¿‡ æ’åºç›¸å…³çš„é¢˜ç›®ï¼š 189 è½®è½¬æ•°ç»„ 66 åŠ ä¸€ 724 å¯»æ‰¾æ•°ç»„ä¸­å¿ƒä¸‹æ ‡ 485 æœ€å¤§è¿ç»­1çš„ä¸ªæ•° 238é™¤è‡ªèº«ä»¥å¤–ä¹˜ç§¯ 498å¯¹è§’çº¿éå† 48æ—‹è½¬å›¾åƒ 118 æ¨è¾‰ä¸‰è§’ 119 æ¨è¾‰ä¸‰è§’2 73çŸ©é˜µç½®é›¶ 54èºæ—‹æ•°ç»„ 59 èºæ—‹æ•°ç»„2 ç§»åŠ¨é›¶ 215æ•°ç»„ç¬¬Kå¤§å…ƒç´  75é¢œè‰²åˆ†ç±» 506 ç›¸å¯¹åæ¬¡ 912æ’åºæ•°ç»„ 88åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ 169 å¤šæ•°å…ƒç´  æœ€å¤§é—´è· 0x02 äºŒåˆ†æŸ¥æ‰¾ æ³¨æ„äºŒåˆ†æŸ¥æ‰¾ä¸åŒè¾¹ç•Œæ¡ä»¶å¯ä»¥æ±‚è§£ä¸åŒçš„é—®é¢˜ï¼Œå¯ä»¥ç®€å•çš„æŸ¥æ‰¾æ•°ç»„ä¸­å­˜åœ¨å…ƒç´ çš„ä½ç½®ï¼Œä¹Ÿå¯ä»¥æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºæ•°ç»„çš„ä¸‹æ ‡ï¼Œä¹Ÿå¯ä»¥æŸ¥æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äºè¯¥æ•°æ®çš„ä¸‹æ ‡ï¼Œä¹Ÿå¯ä»¥æŸ¥è¯¢ç›¸å…³çš„å…ƒç´ çš„å€¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677# ====================================================================## ==========================äºŒåˆ†æŸ¥æ‰¾====================================## # ã€ç®—æ³•æ¦‚è¿°ã€‘# ç¡®å®šå¾…æŸ¥æ‰¾å…ƒç´ æ‰€åœ¨çš„åŒºé—´èŒƒå›´ï¼Œå†é€æ­¥ç¼©å°èŒƒå›´ï¼Œç›´åˆ°æ‰¾åˆ°å…ƒç´ æˆ–è€…æ‰¾ä¸åˆ°è¯¥å…ƒç´ ä¸ºæ­¢# # ã€ç®—æ³•æ€æƒ³ã€‘# ç»å…¸çš„å‡è€Œæ²»ä¹‹çš„æ€æƒ³ï¼Œå‡å°é—®é¢˜è§„æ¨¡æ¥è§£å†³é—®é¢˜ï¼Œæ¯ä¸€æ¬¡æŸ¥æ‰¾æ’é™¤æ‰ä¸€å®šä¸å­˜åœ¨ç›®æ ‡å…ƒç´ çš„# åŒºé—´ï¼Œåœ¨å‰©ä¸‹å¯èƒ½å­˜åœ¨çš„ç›®æ ‡å…ƒç´ çš„åŒºé—´ä¸­ç»§ç»­æŸ¥æ‰¾ï¼Œæ¯ä¸€æ¬¡é€šè¿‡ä¸€äº›æ¡ä»¶åˆ¤æ–­ï¼Œå°†å¾…æœç´¢çš„# åŒºé—´é€æ¸ç¼©å°ï¼Œæ¥è¾¾åˆ°å‡å°‘é—®é¢˜è§„æ¨¡çš„ç›®çš„# # ã€ç®—æ³•è¿‡ç¨‹ã€‘# 1. æ¯æ¬¡æŸ¥æ‰¾ä»æ•°ç»„çš„ä¸­é—´å…ƒç´ å¼€å§‹ï¼Œå¦‚æœä¸­é—´å…ƒç´ æ­£å¥½æ˜¯æŸ¥æ‰¾çš„å…ƒç´ ï¼Œåˆ™æœç´¢è¿‡ç¨‹ç»“æŸ# 2. å¦‚æœç‰¹å®šå…ƒç´ å¤§äºæˆ–è€…å°äºä¸­é—´å…ƒç´ ï¼Œåˆ™åœ¨å¤§äºæˆ–è€…å°äºçš„å…ƒç´ ä¸­æŸ¥æ‰¾# 3. å¦‚æœåœ¨æŸä¸€æ­¥éª¤æ•°ç»„ä¸ºç©ºåˆ™ä»£è¡¨æ‰¾ä¸åˆ°# # ã€ç®—æ³•é‡ç‚¹ã€‘# 1. åŒºé—´çš„å¼€é—­é—®é¢˜ï¼Ÿ# 2. midçš„å–å€¼é—®é¢˜# 3. å‡ºç•Œæ¡ä»¶çš„åˆ¤æ–­ï¼Ÿ# 4. æœç´¢åŒºé—´çš„èŒƒå›´é€‰æ‹©é—®é¢˜ï¼Ÿ# =====================================================================## def baseBinarySearch(nums,target): # numsæ˜¯ä¸€ä¸ªå‡åº # å­˜åœ¨ä¸‹æ ‡å°±è¿”å› # ä¸å­˜åœ¨å°±è¿”å›-1 # å› ä¸ºè¦è¿”å›ä¸‹æ ‡ï¼Œæ‰€ä»¥é‡‡ç”¨indexé‡‡ç”¨ left=0 right=len(nums)-1 #=========================================# # ã€äºŒåˆ†æŸ¥æ‰¾çš„å¼€é—­é—®é¢˜ã€‘ # ç¬¬ä¸€ç§ï¼šå·¦é—­å³é—­ï¼ŒåŒºé—´ä¸­æ‰€æœ‰çš„ç‚¹éƒ½å¯ä»¥å¾—åˆ° # ç¬¬äºŒç§ï¼šå·¦é—­å³å¼€ï¼Œå³è¾¹ç•Œçš„ç‚¹ä¸èƒ½è¢«å–åˆ° #=========================================# while(left&lt;=right): #=========================================# # ã€å‡ºç•Œæ¡ä»¶çš„åˆ¤æ–­ã€‘ # left&lt;=right # è¯´æ˜æŸ¥æ‰¾çš„å…ƒç´ ä¸å­˜åœ¨ # left&lt;right # æ­¤æ—¶æŸ¥æ‰¾çš„åŒºé—´ä¸ # #=========================================# mid=(left+right)//2 #=========================================# # ã€MIDçš„å–å€¼é—®é¢˜ã€‘ # ç¬¬ä¸€ç§ï¼š(left+right)//2 # ç¬¬äºŒç§ï¼šleft+ï¼ˆright-leftï¼‰//2 # å‰è€…æ˜¯å¸¸è§å†™æ³•ï¼Œåè€…æ˜¯ä¸ºäº†é˜²æ­¢æ•´å‹æº¢å‡ºã€‚//2çš„ä»£è¡¨çš„ä¸­é—´æ•°æ˜¯å‘ä¸‹å–æ•´ # åŒæ—¶è¿™ç§å€¾å‘äºå¯»æ‰¾å·¦è¾¹çš„æ•°ç»„ï¼Œè¿™é‡Œå¯ä»¥é€‰æ‹© # mid=(left+right+1)//2æˆ–è€…mid=leftï¼ˆright-left+1ï¼‰//2 # åŒæ—¶è¿™é‡Œçš„æŸ¥æ‰¾è¿‡æˆåŠŸ1/2ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©é å·¦ä¸€ç‚¹ã€æˆ–è€…é å³ä¸€ç‚¹ # ä»ä¸€èˆ¬çš„æ„ä¹‰ä¸Šæ¥è¯´ï¼Œè¶£ä¸­é—´ä½ç½®å…ƒç´ åœ¨å¹³å‡æ„ä¹‰ä¸­è¾¾åˆ°çš„æ•ˆæœæœ€å¥½ #=========================================# if nums[mid]&lt;target: #=========================================# # ã€æœç´¢åŒºé—´çš„é€‰æ‹©ã€‘ # ç›´æ¥æ³•ï¼Œåœ¨å¾ªç¯ä½“ä¸­å…ƒç´ ä¹‹é—´è¿”å› # æ’é™¤æ³•ï¼Œåœ¨å¾ªç¯ä½“ä¸­æ’å‡ºç›®æ ‡å…ƒç´ ä¸€å®šä¸å­˜åœ¨åŒºé—´ #=========================================# # è¯´æ˜targetåœ¨å³è¾¹ left=mid+1 elif nums[mid]&gt;target: # è¯´æ˜targetåœ¨å·¦è¾¹ right=mid-1 else: return mid return -1nums=[1,1,2,3,4,44]target=4# print(baseBinarySearch(nums,target)) 704 äºŒåˆ†æŸ¥æ‰¾ 374 çŒœæ•°å­—å¤§å° 35 æœç´¢æ’å…¥ä½ç½® 34 æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´  167ä¸¤æ•°ä¹‹å’Œ 153 å¯»æ‰¾æ—‹è½¬æ•°ç»„æœ€å°å€¼ 74 æœç´¢äºŒç»´çŸ©é˜µ xçš„å¹³æ–¹æ ¹ 0x3 åŒæŒ‡é’ˆ 123456789101112131415161718192021222324252627282930313233343536373839404142434445# ====================================================================## ==========================æ•°ç»„åŒæŒ‡é’ˆ====================================## # ã€ç®—æ³•æ¦‚è¿°ã€‘# åœ¨éå†å…ƒç´ çš„è¿‡ç¨‹ä¸­ï¼Œä¸æ˜¯ä½¿ç”¨å•ä¸ªæŒ‡é’ˆè¿›è¡Œè®¿é—®ï¼Œè€Œæ˜¯ä½¿ç”¨åŒæŒ‡é’ˆæ¥è®¿é—®è¾¾åˆ°ç›®çš„# # ã€ç®—æ³•æ€æƒ³ã€‘# æ ¹æ®æŒ‡é’ˆçš„æ–¹å‘ï¼Œå¯ä»¥åˆ†ä¸º# å¯¹æ’æŒ‡é’ˆï¼šä¸¤ä¸ªæŒ‡é’ˆçš„æ–¹å‘ç›¸å# å¿«æ…¢æŒ‡é’ˆï¼šæŒ‡é’ˆæ–¹å‘ç›¸åŒ# åˆ†ç¦»åŒæŒ‡é’ˆï¼šå¦‚æœä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«å±äºä¸åŒçš„æ•°ç»„æˆ–è€…é“¾è¡¨# # =====================================================================## def threeSum(nums): res=[] def twoSum(arr,target): left=0 print(arr) print(target) right=len(arr)-1 while(left&lt;right): temp_sum=arr[left]+arr[right] if temp_sum==target: res.append([target*(-1),arr[left],arr[right]]) left+=1 right-=1 elif temp_sum&lt;target: left+=1 elif temp_sum&gt;target: right-=1 nums.sort() for i in range(len(nums)): if nums[i]&gt;0: break if i&gt;0 and nums[i]==nums[i-1]: continue twoSum(nums[i+1:],(-1)*nums[i]) return resnums = [-1,0,1,2,-1,-4]# print(threeSum(nums))# # 167 ä¸¤æ•°ä¹‹å’Œ 344 åè½¬å­—ç¬¦ä¸² 345åè½¬å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯ 11 æœ€å¤šçš„å®¹å™¨ 15ä¸‰æ•°ä¹‹å’Œ 16æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ 0x04 æ»‘åŠ¨çª—å£ ä¸‹å‘¨ä»»åŠ¡ 0x05 ç®€å•é¢˜ä¸­ä¹Ÿä¼šè•´å«ç€ä¸€äº›åŸºæœ¬çš„æ“ä½œ æ¯”å¦‚è®¾ç½®ä¸€äº›æ ‡å¿—ä½ã€è¾¹ç•Œæ¡ä»¶çš„è®¾è®¡ã€è¾…åŠ©å…ƒç´ çš„è®¾ç½®ï¼Œè¿™äº›éœ€è¦æ½œç§»é»˜åŒ–çš„åˆ·é¢˜çš„è¿‡ç¨‹ä¸­æ‰èƒ½çœ‹åˆ°","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"Leetcode","slug":"Leetcode","permalink":"https://blog.tjdata.site/tags/Leetcode/"}]},{"title":"è®¡ç®—æœºç½‘ç»œ-04-Chapter04 ç½‘ç»œå±‚åè®®","slug":"è®¡ç®—æœºç½‘ç»œ-04-Chapter04 ç½‘ç»œå±‚åè®®","date":"2022-06-28T03:17:18.000Z","updated":"2023-05-13T13:53:42.470Z","comments":true,"path":"posts/582ef9f0.html","link":"","permalink":"https://blog.tjdata.site/posts/582ef9f0.html","excerpt":"åœ¨åº”ç”¨å±‚æˆ‘ä»¬å¯ä»¥è§£é‡Šæ•°æ®ä¼ è¾“çš„ç›®çš„ã€åœ¨è¿è¾“å±‚åˆ†æå¯ä»¥çœ‹å‡ºä¸¤ä¸ªä¸»æœºè¿›ç¨‹ä¹‹é—´é€»è¾‘é€šä¿¡ã€åœ¨æœ¬æ¬¡çš„ç½‘ç»œå±‚å°†æ¶‰åŠä¸»æœºä¸ä¸»æœºä¹‹é—´çš„é€šä¿¡æœåŠ¡æ˜¯å¦‚ä½•å®ç°çš„ã€‚ç”±äºç½‘ç»œå±‚çš„å¤æ‚æ€§ï¼Œå…¶å¯ä»¥åˆ†ä¸ºæ•°æ®å±‚é¢å’Œæ§åˆ¶å±‚é¢ã€‚","text":"åœ¨åº”ç”¨å±‚æˆ‘ä»¬å¯ä»¥è§£é‡Šæ•°æ®ä¼ è¾“çš„ç›®çš„ã€åœ¨è¿è¾“å±‚åˆ†æå¯ä»¥çœ‹å‡ºä¸¤ä¸ªä¸»æœºè¿›ç¨‹ä¹‹é—´é€»è¾‘é€šä¿¡ã€åœ¨æœ¬æ¬¡çš„ç½‘ç»œå±‚å°†æ¶‰åŠä¸»æœºä¸ä¸»æœºä¹‹é—´çš„é€šä¿¡æœåŠ¡æ˜¯å¦‚ä½•å®ç°çš„ã€‚ç”±äºç½‘ç»œå±‚çš„å¤æ‚æ€§ï¼Œå…¶å¯ä»¥åˆ†ä¸ºæ•°æ®å±‚é¢å’Œæ§åˆ¶å±‚é¢ã€‚ 0x01 è¿è¾“å±‚overview å‡è®¾ä»H1å‘H2è½¬é€ä¿¡æ¯ H1ä¸­çš„ç½‘ç»œå±‚å–å¾—æ¥è‡ªäºH1è¿è¾“å±‚çš„æŠ¥æ–‡æ®µï¼Œå°†æ¯ä¸ªæŠ¥æ–‡æ®µå°è£…æˆä¸€ä¸ªæ•°æ®æŠ¥ï¼Œç„¶åå‘ç›¸é‚»è·¯ç”±å™¨R1å‘é€æ•°æ®ï¼Œ åœ¨ç½‘ç»œä¸­ç»è¿‡å¤šä¸ªè·¯ç”±å™¨çš„è½¬å‘å’Œæ§åˆ¶ï¼Œåˆ°è¾¾æ¥æ”¶æ–¹çš„è·¯ç”±å™¨ï¼› åœ¨ç½‘ç»œçš„è¿‡ç¨‹ä¸­æ¯å°è·¯ç”±å™¨çš„åŠŸèƒ½æ˜¯ä»è¾“å…¥é“¾è·¯å‘è¾“å‡ºé“¾è·¯çš„è½¬å˜ï¼›æ§åˆ¶å±‚é¢æ˜¯åè°ƒæœ¬åœ°çš„è·¯ç”±å™¨è½¬å‘åŠ¨ä½œï¼Œç„¶åæ•´ä¸ªè¿‡ç¨‹çš„æ•°æ®æŠ¥æ²¿ç€originå’Œendä¸»æœºä¹‹é—´çš„è·¯ç”±å™¨è·¯å¾„è¿›è¡Œä¸»æœºä¹‹é—´ç«¯åˆ°ç«¯ä¼ é€ã€‚ åœ¨æ¥æ”¶æ–¹ä¸»æœºH2æ”¶åˆ°æ¥è‡ªç›¸é‚»è·¯ç”±å™¨çš„R2çš„æ•°æ®æŠ¥ï¼Œæå–å‡ºè¿è¾“å±‚çš„æ•°æ®æ®µï¼Œå¹¶å°†å…¶ä¸Šäº¤ç»™H2çš„è¿è¾“å±‚ï¼Œåœ¨ä¼ é€’ç»™åº”ç”¨å±‚ è½¬å‘ï¼ˆforwardingï¼‰ï¼šæŒ‡çš„å°†åˆ†ç»„ä»ä¸€ä¸ªè¾“å…¥é“¾è·¯æ¥å£è½¬ç§»åˆ°é€‚å½“çš„è¾“å‡ºé“¾è·¯æ¥å£çš„è·¯ç”±æœ¬åœ°å·¥ä½œ è·¯ç”±é€‰æ‹©ï¼ˆroutingï¼‰ï¼šç¡®å®šåˆ†ç»„ä»originåˆ°endæ¬¡çš„ç½‘ç»œèŒƒå›´å¤„ç†è¿‡ç¨‹ è½¬å‘è¡¨ï¼ˆforwarding tableï¼‰ï¼šè·¯ç”±å™¨æ£€æŸ¥åˆ°è¾¾åˆ†ç»„é¦–éƒ¨çš„ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ®µå€¼ï¼Œè¿›è€Œå®ç°è¿™äº›é¦–éƒ¨å€¼åœ¨å…¶è½¬å‘è¡¨ä¸­ç´¢å¼•ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•æ¥è½¬å‘åˆ†ç»„ è½¬å‘è¡¨åˆ¶å®šçš„æ–¹æ³•ï¼Ÿï¼Ÿ ä¼ ç»Ÿæ–¹æ³•ï¼Œè·¯ç”±å™¨ä¸­ç‰©ç†å­˜åœ¨çš„æ‰€æœ‰è½¬å‘è¡¨çš„å†…å®¹æ˜¯ç”±äººç±»ç½‘ç»œæ“ä½œå‘˜ç›´æ¥é…ç½®çš„ SDNæ–¹æ³•ï¼Œè¿œç¨‹æ§åˆ¶å™¨è®¡ç®—å’Œåˆ†å‘è½¬å‘è¡¨æ¥ä¾›æ¯å°è·¯ç”±å™¨é€‰æ‹©ï¼›è¿™ä¸ªéœ€è¦è®¾è®¡åœ¨å…·æœ‰é«˜å¯é æ€§å’Œå†—ä½™æ€§çš„è¿œç¨‹æ•°æ®ä¸­å¿ƒï¼Œç”±IDPæˆ–è€…ç¬¬ä¸‰æ–¹ç®¡ç†ã€‚æ­¤æ—¶è·¯ç”±å™¨å’Œè¿œç¨‹æ§åˆ¶å™¨ä¹‹é—´çš„é€šä¿¡é€šè¿‡è½¯ä»¶å®šä¹‰ç½‘ç»œï¼ˆsoftware defined networkingï¼ŒSDNï¼‰æ¥æ§åˆ¶ 0x02 è¿è¾“å±‚åˆ†æ æˆ‘ä»¬å¯ä»¥ç”¨å¼€é˜”çš„è§†é‡æ¥ä¸“æ³¨äºæˆ‘ä»¬å¼•å…¥çš„æ–°ä¸œè¥¿å¹¶è€ƒè™‘ç½‘ç»œå±‚å¯èƒ½æä¾›çš„ä¸åŒç±»å‹çš„æœåŠ¡ï¼›åœ¨è¿™æ ·ä¸€ä¸ªå¤æ‚çš„æƒ…å†µä¸­å¯èƒ½å­˜åœ¨çš„é—®é¢˜åŒ…æ‹¬ï¼š è¿è¾“å±‚å¦‚ä½•å°†å¤šä¸ªåˆ†ç»„äº¤ä»˜ç»™ç›®çš„åœ°ï¼Ÿ è¿è¾“å±‚ä¹‹åæ˜¯å¦å¯ä»¥ä¿æŒé¡ºåºï¼Ÿ å‘é€ä¸¤ä¸ªåˆ†ç»„å’Œæ¥æ”¶åˆ†ç»„çš„æ—¶é—´é—´éš”ç›¸åŒå—ï¼Ÿ ç½‘ç»œå±‚å¦‚ä½•æä¾›æ‹¥å¡çš„ä¿¡æ¯ç»™è¿è¾“å±‚ï¼Ÿ åœ¨å‘é€ä¸»æœºå’Œæ¥æ”¶ä¸»æœºä¹‹é—´è¿æ¥è¿è¾“å±‚é€šé“çš„æŠ½è±¡ç‰¹æ€§æ˜¯ä»€ä¹ˆï¼Ÿ === è¿™äº›ç­”æ¡ˆéƒ½æ˜¯å¯¹ç½‘ç»œå±‚æä¾›çš„æœåŠ¡æ¨¡å‹è¿›è¡Œæè¿°æ‰€å†³å®šã€‚ç½‘ç»œæœåŠ¡æ¨¡å‹ï¼ˆnetwork service modelï¼‰å®šä¹‰æ•°æ®åˆ†ç»„åœ¨åˆ†é€ä¸æ¥æ”¶ç«¯ç³»ç»Ÿä¹‹é—´ç«¯åˆ°ç«¯çš„è¿è¾“ç‰¹æ€§ æˆ‘ä»¬é¦–å…ˆè€ƒè™‘ç½‘ç»œå±‚æ‰€èƒ½æä¾›å¯èƒ½çš„æœåŠ¡ï¼š ç¡®ä¿äº¤ä»˜ï¼Œè¯¥æœåŠ¡ç¡®ä¿åˆ†ç»„å°†æœ€ç»ˆåˆ°è¾¾ç›®çš„åœ° æ—¶å»¶ä¸Šç•Œï¼Œåœ¨ç‰¹å®šçš„ä¸»æœºä¸ä¸»æœºä¹‹é—´çš„æœ€å¤§å»¶è¿Ÿ æœ‰åºåˆ†ç»„äº¤ä»˜ï¼Œç¡®ä¿åˆ†ç»„æŒ‰ç…§å‘é€é¡ºåºåˆ°è¾¾ç›®çš„åœ° ç¡®ä¿æœ€å°å¸¦å®½ï¼Œæ¨¡ä»¿å‘é€å’Œæ¥æ”¶æŒ‰ç…§ç‰¹å®šé€Ÿç‡ä¼ è¾“é“¾è·¯ å®‰å…¨æ€§ï¼Œç½‘ç»œå±‚èƒ½å¤Ÿåœ¨æºåŠ å¯†æ‰€æœ‰æ•°æ®æŠ¥ï¼Œå¹¶åœ¨ç›®çš„åœ°è§£å¯†è¿™äº›åˆ†ç»„ ä»¥åŠä¸€äº›å…¶ä»–çš„æ–¹å¼ ä½†æ˜¯ï¼å› ç‰¹ç½‘çš„ç½‘ç»œå±‚åªæä¾›ä¸€ç§æœåŠ¡ï¼Œå°½åŠ›è€Œä¸ºæœåŠ¡ï¼ˆbest- effort serviceï¼‰ï¼›å…¶ä»–çš„ç½‘ç»œä½“ç³»ç»“æ„å®šä¹‰å’Œå®ç°äº†è¶…è¿‡å› ç‰¹ç½‘å°½åŠ›è€Œä¸ºæœåŠ¡çš„æœåŠ¡æ¨¡å‹ï¼Œä¾‹å¦‚ATMç½‘ç»œä½“ç³»å®ç°äº†ç¡®ä¿é¡ºåºæ¶åŒ–æ—¶é—´å»¶è¿Ÿã€æœ‰è¾¹ç•Œæ—¶å»¶è¿Ÿçš„ç¡®ä¿è¶³æ ¡å¸¦å®½ã€ä»¥åŠä¸€äº›ç»§æ‰¿æœåŠ¡ä½“ç³»ç»“æ„æä¾›ç«¯åˆ°ç«¯çš„æ—¶å»¶ä¿è¯ã€‚ä½†æ˜¯å› ç‰¹ç½‘è¿™ç§å°½åŠ›è€Œä¸ºçš„æœåŠ¡æ¨¡å‹å·²ç»è¢«è¯æ˜è¶³å¤Ÿå¥½ã€‚ åé¢æˆ‘ä»¬å°†è®¨è®ºï¼š è·¯ç”±å™¨å†…éƒ¨ç¡¬ä»¶æ“ä½œï¼ŒåŒ…æ‹¬è¾“å…¥å’Œè¾“å‡ºåˆ†ç»„ã€å†…éƒ¨äº¤æ¢æœºåˆ¶ä»¥åŠåˆ†ç»„æ’é˜Ÿå’Œè°ƒåº¦ ä¼ ç»Ÿçš„ipè½¬å‘ï¼Œå…¶ä¸­åˆ†ç»„åŸºäºå®ƒä»¬çš„ç›®çš„IPåœ°å€è½¬å‘åˆ°è¾“å‡ºç«¯å£ï¼Œå°†å­¦ä¹ åˆ°IPå¯»å€ ä»¥åŠæ›´è¿‘ä¸€æ­¥çš„ä¸€èˆ¬è½¬å‘ï¼ŒåŸºäºå¤§é‡é¦–éƒ¨å€¼æ¥è½¬å‘åˆ°è¾“å‡ºç«¯å£ è½¬å‘å’Œäº¤æ¢ä¸¤ä¸ªæœ¯è¯­ï¼›çº¦å®š åˆ†ç»„äº¤æ¢æœºï¼šæŒ‡çš„æ˜¯ä¸€å°é€šç”¨åˆ†ç»„äº¤æ¢ï¼Œæ ¹æ®åˆ†ç»„é¦–éƒ¨å­—æ®µçš„å€¼ï¼Œä»è¾“å…¥é“¾è·¯è½¬ç§»åˆ°è¾“å‡ºåˆ†ç»„ é“¾è·¯å±‚äº¤æ¢æœºï¼šæ ¹æ®é“¾è·¯å¸§ä¸­çš„å­—æ®µå€¼åšå‡ºè½¬å‘å†³å®š è·¯ç”±å™¨ï¼ˆrouterï¼‰ï¼šå…¶ä»–çš„åˆ†ç»„äº¤æ¢æœºç§°ä¸ºè·¯ç”±å™¨ï¼ŒåŸºäºç½‘ç»œå±‚çš„æ•°æ®æŠ¥ä¸­çš„é¦–éƒ¨å­—æ®µå€¼åšå‡ºè½¬å‘å†³å®š 0x03 è·¯ç”±å™¨å·¥ä½œåŸç† è¾“å…¥ç«¯å£ï¼ˆinput portï¼‰ï¼ˆç¡¬ä»¶ï¼‰ æ‰§è¡Œè¿›å…¥ ç‰©ç†é“¾è·¯çš„ç‰©ç†å±‚åŠŸèƒ½ é“¾è·¯è¿œç«¯çš„æ•°æ®é“¾è·¯å±‚äº¤äº’æ¥æ‰§è¡Œæ•°æ®é“¾è·¯å±‚åŠŸèƒ½ è¾“å…¥ç«¯å£éœ€è¦æ‰§è¡ŒæŸ¥æ‰¾åŠŸèƒ½ å¯¹äºæ§åˆ¶åˆ†ç»„ä»è¾“å…¥ç«¯å£è½¬å‘åˆ°è·¯ç”±é€‰æ‹©å¤„ç†å™¨ äº¤æ¢ç»“æ„ï¼ˆswitchï¼‰ï¼ˆç¡¬ä»¶ï¼‰ å°†è·¯ç”±å™¨çš„è¾“å…¥ç«¯å£è¿æ¥åˆ°è¾“å‡ºç«¯å£ ç½‘ç»œè·¯ç”±å™¨å†…éƒ¨ç½‘ç»œ è¾“å‡ºç«¯å£ï¼ˆoutput portï¼‰ï¼ˆç¡¬ä»¶ï¼‰ å­˜å‚¨ä»äº¤æ¢ç»“æ„æ¥æ”¶çš„åˆ†ç»„ï¼Œå¹¶æ‰§è¡Œå¿…è¦çš„é“¾è·¯å±‚å’Œç‰©ç†å±‚åŠŸèƒ½ è·¯ç”±é€‰æ‹©å¤„ç†å™¨ï¼ˆrouter select processï¼‰ ä¼ ç»Ÿæ§åˆ¶ï¼Œæ‰§è¡Œè·¯ç”±é€‰æ‹©åè®®ã€ç»´æŠ¤è·¯ç”±é€‰æ‹©è¡¨ä¸å…³è”é“¾è·¯çŠ¶æ€ä¿¡æ¯ SDNæ§åˆ¶ï¼Œä¸è¿œç¨‹æ§åˆ¶å™¨é€šä¿¡ã€è¾“å…¥è¾“å‡ºç«¯å£å®‰è£…è¡¨é¡¹ ä¸ºä»€ä¹ˆè·¯ç”±å™¨éœ€è¦ä½¿ç”¨ç¡¬ä»¶å®ç°ï¼Ÿæ¯”å¦‚10Gpbså’Œ64å­—èŠ‚ä¸ºå•ä½çš„IPæ•°æ®æŠ¥ï¼Œå…¶è¾“å…¥ç«¯å£åœ¨å¦ä¸€ä¸ªæ•°æ®æŠ¥åˆ°è¾¾ä¹‹é—´åªæœ‰51.2nsæ¥å¤„ç†æ•°æ®æŠ¥ï¼Œå¦‚æœNå„ç«¯å£ç»“åˆåœ¨ä¸€å—çº¿è·¯å¡ä¸Šï¼Œæ•°æ®å¤„ç†é€Ÿç‡å¿…é¡»ä»¥Nå€é€Ÿç‡æ¥è¿è¡Œï¼Œè¿œè¿œè¶…è¿‡è½¯ä»¶å®ç°çš„é€Ÿç‡ï¼›æ•°æ®å±‚é¢ä»¥msæˆ–è€…sçš„æ–¹é¢è¿è¡Œï¼Œæ‰§è¡ŒåŒ…æ‹¬è·¯ç”±é€‰æ‹©åè®®ã€ä¸Šä¸‹çº¿è·¯å“åº”ã€è¿œç¨‹æ§åˆ¶é€šä¿¡å’Œæ‰§è¡Œç®¡ç†åŠŸèƒ½ åœ¨æ·±å…¥è®¨è®ºè·¯ç”±å™¨å†…éƒ¨ç»†èŠ‚ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®è·¯ç”±å™¨å¤„ç†éœ€è¦ä»€ä¹ˆä¿¡æ¯ï¼Ÿ æœ‰ç›®çš„åœ°è½¬å‘ é€šç”¨è½¬å‘ 3.1 è¾“å…¥ç«¯å£å¤„ç†å’ŒåŸºäºç›®çš„åœ°è½¬å‘ çº¿è·¯ç«¯æ¥ æ•°æ®é“¾è·¯å¤„ç†ï¼ˆåè®®ã€æ‹†å°ï¼‰ æŸ¥æ‰¾ã€è½¬å‘ã€æ’é˜Ÿ äº¤æ¢ç»“æ„ é¦–å…ˆçœ‹å‡ºä¸€ä¸ªæœ€åŸºæœ¬çš„ä¾‹å­ï¼Œè·¯ç”±å™¨çš„è¾“å…¥ç«¯å£åˆ†ä¸ºå››æ¡é“¾è·¯ï¼Œæˆ‘ä»¬ä¸å¿…å¯¹è·¯ç”±å™¨çš„æ˜ å°„åŒ…æ‹¬40äº¿å¯èƒ½å­˜åœ¨çš„åœ°å€ï¼›æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸åŒçš„åŒ¹é…åŸåˆ™æ¥è¿›è¡Œäº¤æ¢ï¼Œä½†æ˜¯ç”±äºIPåœ°å€ç¼–ç çš„å­˜åœ¨ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æœ€å¤§å‰ç¼€åŒ¹é…è§„åˆ™ï¼ˆlongest prefix matching ruleï¼‰æ¥è¿›è¡ŒåŒ¹é… åœ¨è½¬å‘è¡¨ç¡®å®šçš„æ­¤æŠ€æœ¯ï¼ŒæŸ¥æ‰¾æ˜¯ç®€å•çš„ï¼Œä¹Ÿå°±æ˜¯å®ç°ç¡¬ä»¶é€»è¾‘ä¸‹çš„æœ€å¤§å‰ç¼€IPï¼Œä½†æ˜¯åœ¨Gpbsé€Ÿç‡ä¸‹ï¼Œè¿™ç§æŸ¥æ‰¾å¿…é¡»åœ¨nsæ‰§è¡Œï¼Œå› æ­¤å¿…é¡»è¦ç”¨ç¡¬ä»¶æ‰§è¡ŒæŸ¥æ‰¾ã€è¿˜éœ€è¦å¯¹å¤§å‹è½¬å‘è¡¨ä½¿ç”¨è¶…å‡ºç®€å•çº¿æ€§æœç´¢æŠ€æœ¯ï¼Œç¡¬ä»¶å¸¸æ—¶é—´DRAMã€SRAMã€TCAMç­‰ ç¡®å®šåˆ†ç»„çš„è¾“å‡ºç«¯å£ï¼Œè¯¥åˆ†ç»„èƒ½å¤Ÿå‘é€è¿›å…¥äº¤æ¢ç»“æ„ï¼Œå¦‚æœå…¶ä»–åˆ†ç»„æ­£åœ¨ä½¿ç”¨ï¼Œæˆ‘ä»¬åœ¨è¿›å…¥äº¤æ¢ç»“æ„æ—¶å€™æš‚æ—¶é˜»å¡ï¼Œå› æ­¤ä¸€ä¸ªè¢«é˜»å¡çš„åˆ†ç»„å¿…é¡»åœ¨è¾“å…¥ç«¯å£å‡ºæ’é˜Ÿï¼Œå¹¶ç­‰å¾…ç¨åè¢«åŠæ—¶è°ƒåº¦æ¥é€šè¿‡äº¤æ¢ç»“æ„ å¿…é¡»å‡ºç°ç‰©ç†å±‚å’Œé“¾è·¯å±‚å¤„ç† å¿…é¡»æ£€æŸ¥åˆ†ç»„çš„ç‰ˆæœ¬å·ã€æ£€éªŒå’Œä»¥åŠå¯¿å‘½å­—æ®µï¼Œå¹¶ä¸”é‡å†™è¿™ä¸¤ä¸ªå­—æ®µ å¿…é¡»æ›´æ–°ç”¨æˆ·ç½‘ç»œç®¡ç†çš„è®¡æ•°å™¨ åŒ¹é…+åŠ¨ä½œ 3.2 äº¤æ¢ ä¸‰ç§äº¤æ¢æŠ€æœ¯ å†…å­˜äº¤æ¢ æ€»çº¿äº¤æ¢ äº’è”ç½‘ç»œäº¤æ¢ 3.3 è¾“å‡ºç«¯å£å¤„ç† 3.4 æ’é˜Ÿåˆ†æ åœ¨è¾“å…¥ç«¯å£å’Œè¾“å‡ºç«¯å£éƒ½ä¼šå‡ºç°æ’é˜Ÿçš„ç°è±¡ï¼Œå½“è·¯ç”±å™¨çš„ç¼“å­˜ç©ºé—´è€—å°½çš„æ—¶å€™å°±ä¼šå‡ºç°ä¸¢åŒ…çš„ç°è±¡ é‚£ä¹ˆåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ï¼ˆè¾“å…¥é€Ÿç‡ã€Nå’Œäº¤æ¢é€Ÿç‡ï¼‰åœ¨å¤šå°‘çš„æ—¶å€™ä¼šå‡ºç°æ‹¥å µï¼Ÿå¦‚ä½•ç¼“è§£æ‹¥å µç°è±¡ï¼Ÿ è¾“å…¥æ’é˜Ÿï¼šçº¿è·¯å‰éƒ¨é˜»å¡ï¼ˆHOL head of the lineï¼‰ è¾“å‡ºæ’é˜Ÿï¼Œå¼ƒå°¾ï¼ˆdrop tailï¼‰ã€ä»¥åŠæä¾›ä¸»åŠ¨é˜Ÿåˆ—ç®¡ç†ï¼ˆactive queue managementï¼ŒAQMç®—æ³•ï¼‰ã€éšæœºæ—©æœŸæ£€æµ‹ï¼ˆRandom Early Detectionï¼ŒREDï¼‰ 3.5 åˆ†ç»„è°ƒåº¦ æ’é˜Ÿçš„åˆ†ç»„å¦‚ä½•ç»è¾“å‡ºé“¾è·¯ä¼ è¾“çš„é—®é¢˜ï¼Œè¿™é‡Œå­˜åœ¨ä¸€äº›åŸºæœ¬çš„è§„åˆ™ å…ˆè¿›å…ˆå‡º ä¼˜å…ˆæƒæ’åº priority queuing å¾ªç¯æ’åºè§„åˆ™ round robin queueing discipline 0x04 ç½‘ç»œå±‚åè®® â€“ ç½‘é™…åè®®ï¼ˆIPv4ã€IPv6ï¼‰ 4.1 IPv4æ•°æ®æŠ¥æ ¼å¼ å…³é”®å­—æ®µåˆ†æ ç‰ˆæœ¬å· é¦–éƒ¨é•¿åº¦ æœåŠ¡ç±»å‹TOS æ•°æ®æŠ¥é•¿åº¦ï¼Œå› ä¸ºè¯¥å­—èŠ‚ä¸º16bitï¼Œæ‰€ä»¥IPæ•°æ®æŠ¥ç†è®ºé•¿åº¦ä¸º65536ï¼›ä½†æ˜¯ä¸€èˆ¬å¾ˆå°‘è¶…è¿‡1500 æ ‡è¯†ã€æ ‡å¿—ã€ç‰‡åç§»ï¼Œä¸IPåˆ†åŒºæœ‰å…³ï¼Œä½†æ˜¯IPv6ä¸å…è®¸åˆ†ç»„ å¯¿å‘½TTLï¼Œtime to live åè®®ï¼Œæ¯”å¦‚6æ ‡è¯†TCPã€17è¡¨ç¤ºUDPï¼›åè®®å·ç±»ä¼¼è¿è¾“å±‚æŠ¥æ–‡æ®µä¸­ç«¯å£å·å­—æ®µèµ·åˆ°çš„ä½œç”¨ é¦–éƒ¨æ£€éªŒå’Œ æºå’Œç›®æ ‡IPåœ°å€ é€‰é¡¹ï¼Œæ„å‘³ç€IPé¦–éƒ¨å…è®¸è¢«æ‹“å±• æ•°æ®ï¼Œæœ‰æ•ˆè½½è·ï¼Œå¤„ç†TCPã€UDPè¿˜åŒ…æ‹¬ICMPç­‰åè®® 4.2 IPv4æ•°æ®æŠ¥åˆ‡ç‰‡ ç½‘ç»œå±‚ä¸‹é¢çš„é“¾è·¯å±‚çš„ä¸åŒï¼Œå…¶æ‰¿è½½ç½‘ç»œåˆ†ç»„çš„é•¿åº¦ä¹Ÿä¸åŒï¼Œæœ‰çš„åè®®èƒ½æ‰¿è½½å¤§æ•°æ®æŠ¥ã€æœ‰çš„åè®®åªèƒ½æ‰¿è½½å°çš„åˆ†ç»„ã€‚æ¯”å¦‚ä»¥å¤ªç½‘ä¸èƒ½è¶…è¿‡1500å­—èŠ‚ã€æŸäº›å¹¿åŸŸç½‘ä¸èƒ½è¶…è¿‡576å­—èŠ‚ï¼Œè¿™ä¸ªè¢«ç§°ä¸ºæœ€å¤§ä¼ é€å•å…ƒï¼ˆMaximum Transmission Unitï¼ŒMTUï¼‰ ä¸ºäº†ä¿è¯åœ¨æ‰€ä»¥çš„é“¾è·¯ä¸­éƒ½å¯ä»¥ä¼ è¾“ï¼Œæˆ‘ä»¬éœ€è¦å°†IPæ•°æ®æŠ¥ä¸­çš„æ•°æ®åˆ†ç‰‡æˆå¤šä¸ªè¾ƒå°çš„IPæ•°æ®æŠ¥ï¼Œç”¨å•ç‹¬çš„é“¾è·¯å±‚å¸§ï¼ˆFrameï¼‰æ¥å°è£…è¿™äº›è¾ƒå°çš„IPæ•°æ®æŠ¥ï¼Œç„¶åé€šè¿‡è¾“å‡ºé“¾è·¯å‘é€è¿™äº›å¸§ï¼Œæ¯ä¸ªè¾ƒå°çš„æ•°æ®æŠ¥ç§°ä¸ºç‰‡ï¼ˆFragmentï¼‰ 4.3 IPv4ç¼–å€ åœ¨è®¨è®ºIPç¼–å€ä¹‹å‰ï¼Œæˆ‘ä»¬ç®€è¦äº†è§£ä¸»æœºä¸è·¯ç”±å™¨æ¥å…¥ç½‘ç»œçš„æ–¹æ³•ï¼Œä¸€å°ä¸»æœºé€šå¸¸åªæœ‰ä¸€æ¡é“¾è·¯è¿æ¥åˆ°ç½‘ç»œï¼Œå½“ä¸»æœºä¸­çš„IPæƒ³å‘é€ä¸€ä¸ªæ•°æ®æŠ¥ï¼Œä»–å°±éœ€è¦åœ¨è¯¥é“¾è·¯å‘é€ï¼Œè¿™ä»¶ç§°ä¸ºæ¥å£ï¼ˆinterfaceï¼‰ï¼›è·¯ç”±å™¨ç”±äºæ˜¯ç½‘ç»œä¸­çš„è®¾ç½®ï¼Œå› æ­¤å…·æœ‰å¤šä¸ªæ¥å£ï¼›åŒæ—¶å› ä¸ºä¸»æœºå’Œè·¯ç”±å™¨éƒ½å¯ä»¥å‘é€å’Œæ¥æ”¶IPæ•°æ®æŠ¥ï¼Œå› æ­¤éƒ½éœ€è¦æ‹¥æœ‰è‡ªå·±çš„iPåœ°å€ï¼Œä»æŠ€æœ¯ä¸Šè¯´ï¼ŒIPåœ°å€ä¸ä¸€ä¸ªæ¥å£ç›¸å…³è”ï¼Œè€Œä¸æ˜¯ä¸åŒ…æ‹¬è¯¥æ¥å£çš„ä¸»æœºæˆ–è·¯ç”±å™¨ç›¸å…³è” IPv4é‡‡ç”¨ç‚¹åˆ†åè¿›åˆ¶è®°æ³•ï¼Œæ¯”å¦‚192.168.0.1 åœ¨å…¨çƒå› ç‰¹ç½‘ä¸­æ¯å°ä¸»æœºå’Œè·¯ç”±å™¨ä¸Šçš„æ¯ä¸ªæ¥å£éƒ½å¿…é¡»æœ‰å…¨çƒå”¯ä¸€çš„IPåœ°å€ï¼ˆåœ¨NATåé¢çš„æ¥å£é™¤å¤–ï¼‰ï¼Œè¿™äº›åœ°å€ä¸èƒ½éšæ„è‡ªç”±é€‰æ‹© äº’è”è¿™ä¸»æœºæ¥å£å’Œè·¯ç”±å™¨æ¥å£å½¢æˆä¸€ä¸ªå­ç½‘ï¼ˆsubnetï¼‰ï¼ŒIPç¼–å€ä¸ºè¿™ä¸ªå­ç½‘åˆ†é…ä¸€ä¸ªåœ°å€ï¼Œ223.1.1.0/24.ç§°ä¸ºå­ç½‘æ©ç ï¼ˆnetwork maskï¼‰ å› ç‰¹ç½‘çš„åœ°å€åˆ†é…ç­–ç•¥ä¸ºæ— ç±»åˆ«åŸŸé—´è·¯ç”±é€‰æ‹©ï¼ˆClassless interDomain routingï¼ŒCIDRï¼‰å°†å­ç½‘å¯»å€æ¦‚å¿µåŒ–ä¸ºa.b.c.d/x æ„æˆIPåœ°å€çš„ç½‘ç»œéƒ¨åˆ†ï¼›ç½‘ç»œä¸­å‰©ä½™çš„32-xæ¯”ç‰¹è¢«è®¤ä¸ºæ˜¯ç”¨äºåŒºåˆ†è¯¥ç»„ç»‡å†…éƒ¨è®¾ç½®çš„ï¼Œå…¶ä¸­çš„é¢æ‰€æœ‰çš„è®¾å¤‡å…·æœ‰ç›¸åŒçš„å‰ç¼€ åœ¨CIDRè¢«é‡‡ç”¨ä¹‹å‰ï¼ŒIPåœ°å€çš„ç½‘ç»œéƒ¨åˆ†ä¸ºé€‰å€ä¸º8ã€16ã€24æ¯”ç‰¹ï¼Œç§°ä¸ºåˆ†ç±»ç¼–å€ï¼ˆclassful addressingï¼‰ï¼Œç§°ä¸ºAã€Bå’ŒCç±»ç½‘ç»œï¼Œä½†æ˜¯Cç±»ç½‘ç»œåªèƒ½ä½¿ç”¨254å°ã€Bç±»å¯ä»¥65534å¤ªå¤šäº† ç‰¹æ®Šçš„IPåœ°å€ï¼Œ255.255.255.255ä¸ºIPå¹¿æ’­åœ°å€ï¼Œè¯¥æ•°æ®äº¤ä»˜ç»™åŒä¸€ä¸ªç½‘ç»œçš„æ‰€æœ‰ä¸»æœº åœ¨è¯¦å­¦ä¹ IPç¼–å€ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä¸»æœºæˆ–è€…å­ç½‘æœ€åˆæ˜¯å¦‚ä½•å¾—åˆ°åœ°å€çš„ ç¬¬ä¸€æ­¥ï¼šè·å–åœ°å€ï¼Œå¯ä»¥ä»ISPè·å¾—ã€ISPä»å› ç‰¹ç½‘åå­—å’Œç¼–å·åˆ†é…æœºæ„ï¼ˆInternet corporation for assigned Names and Numbersï¼ŒICANNï¼‰ç®¡ç†ï¼Œå…¶è¿˜ç®¡ç†DNSæœåŠ¡å™¨ ç¬¬äºŒéƒ¨ï¼Œä¸»æœºä¸è·¯ç”±å™¨æ¥å£åˆ†é…IPåœ°å€ï¼Œç³»ç»Ÿç®¡ç†å‘˜é€šå¸¸æ‰‹å·¥é…ç½®IPåœ°å€ï¼Œä¸»æœºåœ°å€ä¹Ÿå¯ä»¥æ‰‹åŠ¨é…ç½®ä½†æ˜¯é€šå¸¸ä½¿ç”¨åŠ¨æ€ä¸»æœºé…ç½®åè®®ï¼ˆDynamic Host configurationï¼ŒDHCPï¼‰ï¼Œå…è®¸ä¸»æœºè‡ªåŠ¨è·å–ä¸€ä¸ªIPåœ°å€ï¼Œå…è®¸ä¸»æœºæ¯æ¬¡å’Œç½‘ç»œè¿æ¥çš„æ—¶å€™éƒ½ä¼šè·å¾—ä¸€ä¸ªç›¸åŒçš„IPåœ°å€æˆ–è€…ä¸´æ—¶çš„IPåœ°å€ 4.4 åœ°å€è½¬æ¢ä¸é€šä¿¡è¿‡ç¨‹ å¯¹äºå®¶åº­ç½‘ç»œç­‰ä¸“ç”¨ç½‘ç»œï¼ˆprivate networkï¼‰å’Œå…·æœ‰ä¸“ç”¨åœ°å€çš„åœ°åŸŸï¼ˆrealm with private addressï¼‰ï¼Œå…¶ä¸­çš„IPåœ°å€åªæœ‰åœ¨ä¸“ç”¨ç½‘ç»œä¸­æ‰æœ‰ä½œç”¨ï¼›ä½†æ˜¯åœ¨ä¸“ç”¨ç½‘ä¸­è‡³å°‘éœ€è¦æœ‰ä¸€ä¸ªå…¬ç½‘IPåœ°å€çš„è®¾å¤‡ï¼Œæ­¤æ—¶è¿™ä¸ªè·¯ç”±å™¨æ˜¯å¦‚ä½•è·å–è‡ªå·±çš„iPåœ°å€çš„ï¼Ÿä½¿ç”¨çš„æ˜¯ISPæä¾›çš„DHCPæœåŠ¡ ä¹‹é—´é€šä¿¡çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š ä¸“ç”¨ç½‘10.0.01:3345æƒ³å’Œå…¬ç½‘IPçš„128.119.40.186:80è¿›è¡Œé€šä¿¡ï¼›ä¸“ç”¨ç½‘ä¸­çš„å…¬ç½‘IPè·¯ç”±å™¨ä¸º138.76.29.7ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥å°†ä¸“ç”¨ç½‘å’Œå…¬ç½‘IPè·¯ç”±å™¨æ–°å¢ä¸€ä¸ªæ˜ å°„ï¼Œ10.0.0.1:3345å’Œ128.76.29.7:5001ï¼ˆ5001ä»»æ„ï¼‰ï¼Œç„¶åæ•°æ®é€šè¿‡128.76.29.7ï¼š5001å’Œ128.119.40.186ï¼š80è¿›è¡Œé€šä¿¡ï¼Œè·¯ç”±å™¨è´Ÿè´£ä¸¤è€…ä¹‹é—´çš„è½¬æ¢ï¼ŒåŒæ—¶è·¯ç”±çš„NATåè®®æ”¯æŒè¶…è¿‡60000ä¸ªå¹¶è¡Œè¿æ¥ NATåè®®çš„æ‰¹è¯„è€…æŒ‡å‡ºï¼š è·¯ç”±å™¨æˆ–è€…è®¾å¤‡æ˜¯ç”¨æ¥è¿›è¡Œè¿›ç¨‹å¯»å€ã€è€Œä¸æ˜¯ä¸»æœºå¯»å€çš„ï¼Œè¿™ç§è¿è§„ç”¨æ³•åœ¨è¿è¡Œå®¶åº­ç½‘ç»œä¸­çš„æœåŠ¡å™¨ä¼šå‡ºç°é—®é¢˜ï¼›è¿™é‡Œéœ€è¦NATç©¿è¶Šï¼ˆtraversalï¼‰æˆ–è€…é€šç”¨å³æ’å³ç”¨ï¼ˆUniversal Plug and playï¼ŒUPnPåè®®ï¼‰ è¿åäº†ä¸»æœºä¹‹é—´åº”å½“ç›´æ¥å¯¹è¯çš„åŸåˆ™ 4.5 IPv6 0x05 æ§åˆ¶å±‚é¢ å…¶ä¸­ç®—æ³•è¿‡äºç¡¬æ ¸ï¼Œè¿™é‡Œä¸åšä»‹ç»ï¼Œå¯ä»¥çœ‹å‡ºè½¬å‘è¡¨çš„åˆ¶ä½œåˆ†ä¸ºä¸¤ç§ é¢„å…ˆç‰©ç†è®¾ç½® ç”±SDNæ¥è½¯ä»¶æ§åˆ¶ è½¯ä»¶æ§åˆ¶é¢ä¸´é›†ä¸­è¿˜æ˜¯åˆ†æ•£çš„åŒºåˆ«ã€é¢ä¸´é™æ€è·¯ç”±å’ŒåŠ¨æ€è·¯ç”±ã€é¢ä¸´è´Ÿè½½æ•æ„Ÿæˆ–è¿Ÿé’çš„é—®é¢˜ 0x06 å®é™…åº”ç”¨å’Œæ„Ÿæ‚Ÿ 6.1 ä¸€ä¸ªå®é™…çš„ä¾‹å­ 6.2 ä¸€äº›å®é™…çš„åº”ç”¨ sshè¿æ¥è¿œç¨‹ä¸»æœº æ­å»ºè‡ªå·±çš„webdaväº‘ç›˜ å¼€æ”¾è‡ªå·±çš„MCæœåŠ¡å™¨ åˆ©ç”¨è…¾è®¯äº‘æœåŠ¡å™¨å®ç°å†…ç½‘ç©¿é€","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"network","slug":"network","permalink":"https://blog.tjdata.site/tags/network/"}]},{"title":"è®¡ç®—æœºç½‘ç»œ-03-Chapter03 è¿è¾“å±‚åè®®","slug":"è®¡ç®—æœºç½‘ç»œ-03-Chapter03 è¿è¾“å±‚åè®®","date":"2022-06-24T02:16:56.000Z","updated":"2023-05-13T13:53:36.145Z","comments":true,"path":"posts/30d17536.html","link":"","permalink":"https://blog.tjdata.site/posts/30d17536.html","excerpt":"å°è¯•å°†è¯¾æœ¬ä¸­çš„çŸ¥è¯†é‡æ–°æ•´ç†æˆä¸ºè‡ªå·±çš„postï¼Œè™½ç„¶ç”¨è‡ªå·±çš„ç†è§£å»æè¿°å¯èƒ½ä¼šå¸¦æ¥é”™è¯¯ï¼Œä½†æ˜¯â€œå¤ªå¯¹çš„è¯å¹¶æ²¡æœ‰æ–°çš„ä»·å€¼â€ï¼Œæœ¬æ¬¡ä¸»è¦æè¿°ä½äºè®¡ç®—å°±ç½‘ç»œåº”ç”¨å±‚å’Œç½‘ç»œå±‚ä¹‹é—´çš„è¿è¾“å±‚çš„é€šä¿¡åè®®ï¼Œä»¥åŠå…¶åœ¨ä¼ é€’è¿‡ç¨‹ä¸­çš„ï¼šå¯é æ€§å’Œæ‹¥å¡æ§åˆ¶ä¸¤ä¸ªåŸºæœ¬é—®é¢˜ã€‚","text":"å°è¯•å°†è¯¾æœ¬ä¸­çš„çŸ¥è¯†é‡æ–°æ•´ç†æˆä¸ºè‡ªå·±çš„postï¼Œè™½ç„¶ç”¨è‡ªå·±çš„ç†è§£å»æè¿°å¯èƒ½ä¼šå¸¦æ¥é”™è¯¯ï¼Œä½†æ˜¯â€œå¤ªå¯¹çš„è¯å¹¶æ²¡æœ‰æ–°çš„ä»·å€¼â€ï¼Œæœ¬æ¬¡ä¸»è¦æè¿°ä½äºè®¡ç®—å°±ç½‘ç»œåº”ç”¨å±‚å’Œç½‘ç»œå±‚ä¹‹é—´çš„è¿è¾“å±‚çš„é€šä¿¡åè®®ï¼Œä»¥åŠå…¶åœ¨ä¼ é€’è¿‡ç¨‹ä¸­çš„ï¼šå¯é æ€§å’Œæ‹¥å¡æ§åˆ¶ä¸¤ä¸ªåŸºæœ¬é—®é¢˜ã€‚ 0x01 èƒŒæ™¯ 1.1 è¿è¾“å±‚æ¦‚è¿° è¿è¾“å±‚ä¸ºè¿è¡Œåœ¨ä¸åŒä¸»æœºä¸Šçš„åº”ç”¨è¿›ç¨‹ä¹‹é—´æä¾›é€»è¾‘é€šä¿¡ï¼ˆlogic communicationï¼‰ï¼Œä»åº”ç”¨ç¨‹åºçš„è§’åº¦æ¥è¯´ï¼Œè¿è¡Œä¸åŒè¿›ç¨‹çš„ä¸»æœºä¹‹é—´å¥½åƒç›´æ¥ç›¸è¿ä¸€æ ·ï¼Œè€Œä¸ç”¨è€ƒè™‘æ‰¿è½½è¿™äº›ç‰©ç†åŸºç¡€è®¾æ–½çš„ç»†èŠ‚ã€‚ è¿è¾“å±‚åè®®æ˜¯åœ¨ç«¯ç³»ç»Ÿä¸­è€Œä¸æ˜¯è·¯ç”±å™¨ä¸­å®ç°çš„ï¼š åœ¨å‘é€ç«¯ï¼Œè¿è¾“å±‚å°†ä»å‘é€åº”ç”¨ç¨‹åºè¿›ç¨‹æ¥æ”¶åˆ°æŠ¥æ–‡è½¬æ¢æˆè¿è¾“å±‚åˆ†ç»„æˆä¸ºè¿è¾“å±‚æŠ¥æ–‡æ®µï¼ˆsegmentï¼‰ï¼Œï¼ˆåç»­ç½‘ç»œå±‚å¯èƒ½ä¼šå°è£…æˆç½‘ç»œå±‚åˆ†ç»„ï¼ˆæ•°æ®æŠ¥ï¼‰å‘ç›®çš„åœ°å‘é€ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ç½‘ç»œè·¯ç”±å™¨ä»…ä½œç”¨äºè¯¥æ•°æ®æŠ¥çš„ç½‘ç»œå±‚å­—æ®µï¼‰ï¼Œåœ¨æ¥æ”¶ç«¯ç½‘ç»œå±‚ä»æ•°æ®æŠ¥ä¸­æå–å‡ºè¿è¾“å±‚å­—æ®µï¼Œå¹¶å°†æŠ¥æ–‡ä¸Šäº¤ç»™è¿è¾“å±‚ ç½‘ç»œåº”ç”¨ç¨‹åºä¸­å¯ä»¥æœ‰å¤šç§è¿è¾“å±‚åè®®ï¼Œåœ¨å› ç‰¹ç½‘ä¸­åŒ…æ‹¬UDPå’ŒTCPåè®®ã€‚ ï¼Ÿè¿è¾“å±‚å’Œç½‘ç»œå±‚åŒºåˆ«ï¼Ÿ è¿è¾“å±‚ä¸»è¦è´Ÿè´£ä¸¤ä¸ªhostä¹‹é—´ä¸åŒè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼›è€Œç½‘ç»œå±‚æä¾›hostä¹‹é—´çš„é€»è¾‘é€šä¿¡ï¼›ä»¥å¯„å¿«é€’çš„æ–¹å¼æ¥æè¿°ï¼š åº”ç”¨å±‚æŠ¥æ–‡æ˜¯å¿«é€’é‡Œé¢çš„ä¸œè¥¿ï¼Œè¿è¾“å±‚ä¸»è¦è´Ÿè´£æ”¶ä»¶äººçš„å…·ä½“ä¿¡æ¯ï¼Œè¿è¾“å±‚åè®®ä¸»è¦è´Ÿè´£å„åœ°åŒºæ”¶é›†å’Œåˆ†å‘å¿«é€’äººå‘˜ï¼›ç½‘ç»œå±‚ä¸»è¦è´Ÿè´£æ”¶è´§åœ°å€ï¼Œç½‘ç»œå±‚åè®®ä¸»è¦è´Ÿè´£è¿è¾“è½¦è¾†ã€æ–¹å¼çš„åˆ†é… è¿™ç§è§£è€¦çš„è¿‡ç¨‹å¯ä»¥ä¸ºä¸åŒè¿›ç¨‹é€šä¿¡ä¹‹é—´è§„å®šä¸åŒçš„åè®®ï¼Œè€Œä¸æ˜¯æ¯ä¸ªäººéƒ½å®‰æ’ä¸€è¾†è½¦æˆ–è€…ä¸€ç§åœ°å€ç¼–ç æ–¹å¼æ¥é€ æˆæ‚ä¹±çš„æƒ…å†µï¼›åŒæ—¶ä¸åŒçš„è¿è¾“å±‚åè®®ä¹Ÿå¯ä»¥æ­é…ä¸åŒçš„ç½‘ç»œå±‚åè®®ã€‚ 1.2 å› ç‰¹ç½‘è¿è¾“å±‚æ¦‚è¿° UDPï¼šç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œè¿™ä¸ªè¿›ç¨‹æä¾›ä¸€ç§ä¸å¯é ã€æ— è¿æ¥çš„æœåŠ¡ TCPï¼šä¼ è¾“æ§åˆ¶åè®®ï¼Œæä¾›å¯é çš„ã€é¢å‘è¿æ¥çš„æœåŠ¡ ç»“åˆIPå±‚ç†è§£å¯èƒ½ä¼šæ›´å¥½ï¼Œè¿™é‡Œéœ€è¦äº†è§£çš„æ˜¯ï¼šå› ç‰¹ç½‘ç½‘ç»œåè®®çš„ä¸ºIPåè®®ï¼ˆç½‘é™…åè®®ï¼‰ï¼Œæä¾›ä¸»æœºä¸ä¸»æœºä¹‹é—´çš„é€»è¾‘é€šä¿¡ï¼ŒæœåŠ¡æ¨¡å‹æ˜¯å°½åŠ›è€Œä¸ºè§’åº¦ï¼Œå¹¶ä¸ä½œä»»ä½•ç¡®ä¿ï¼Œä¹Ÿå°±æ˜¯ç§°ä¸ºä¸å¯é æœåŠ¡ï¼Œåœ¨è¿™ä¸€ç« æˆ‘ä»¬éœ€è¦çŸ¥é“çš„æ˜¯æ¯ä¸€å°ä¸»æœºéƒ½æœ‰ä¸€ä¸ªIPåœ°å€ UDPå’ŒTCPçš„åŸºæœ¬è´£ä»»æ˜¯å°†ä¸¤ä¸ªç«¯ç³»ç»Ÿä¹‹é—´çš„IPäº¤ä»˜æœåŠ¡æ‹“å±•åˆ°ç«¯ç³»ç»Ÿä¸Šä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„äº¤ä»˜æœåŠ¡ï¼Œè¿™ä¸ªç§°ä¸ºå¤šè·¯å¤ç”¨ï¼ˆtransport- layer multiplexingï¼‰å’Œå¤šè·¯åˆ†è§£ï¼ˆdemultiplexingï¼‰ã€‚é™¤æ­¤ä¹‹å¤–TCPè¿˜ä¼šæä¾›å¯é æ•°æ®ä¼ è¾“ï¼ˆreliable data transferï¼‰å’Œæ‹¥å¡æ§åˆ¶ï¼ˆcongestion controlï¼‰ ä¸¾ä¸ªä¾‹å­ï¼šå½“ä½ ååœ¨è®¡ç®—æœºä¸‹è½½webé¡µé¢ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦è¿è¡Œä¸€ä¸ªFTPä¼šè¯å’Œä¸¤ä¸ªTelnetä¼šè¯ï¼Œè¿™æ ·4ä¸ªç½‘ç»œåº”ç”¨è¿›ç¨‹åœ¨è¿è¡Œï¼Œåœ¨è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦å°†ä¸»æœºæ¥å—åˆ°çš„ä¿¡æ¯åˆ†é…ç»™è¿™4ä¸ªè¿›ç¨‹ä¸­çš„ä¸€ä¸ªï¼Œè¿™å°±æ˜¯è¿è¾“å±‚è´Ÿè´£äº‹æƒ…ã€‚åº”ç”¨å±‚é‡Œé¢æ˜¯é€šè¿‡å¥—æ¥å­—ï¼ˆsocketï¼‰å°†æ•°æ®ä»åº”ç”¨å±‚ä¼ å‘è¿è¾“å±‚å’Œå‘è¿è¾“å±‚è¿›ç¨‹ä¼ é€’æ•°æ®çš„é—¨æˆ·ï¼Œå› æ­¤åœ¨ä»»ä½•ä¸€ä¸ªæ—¶åˆ»ä¸»æœºä¸Šå­˜åœ¨å¤šä¸ªå¥—æ¥å­—ï¼Œå¥—æ¥å­—å…·æœ‰å”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚ ï¼Ÿé‚£ä¹ˆä¸»æœºå¦‚ä½•å°†ä¸€ä¸ªåˆ°è¾¾çš„è¿è¾“å±‚æŠ¥æ–‡å®šå‘åˆ°é€‚å½“çš„å¥—æ¥å­—ï¼Ÿ è¿™ä¸ªå°±éœ€è¦æˆ‘ä»¬åœ¨è¿è¾“å±‚æŠ¥æ–‡æ®µä¸­å®šä¹‰ä¸€äº›å­—æ®µï¼Œåœ¨æ¥æ”¶ç«¯è¿è¾“å±‚æ¥è§£æè¿™äº›å­—æ®µæ¥å°†æŠ¥æ–‡å®šå‘åˆ°å¥—æ¥å­—ï¼Œè¿™ä¸ªå°±æ˜¯å¤šè·¯åˆ†è§£ï¼ˆdemultiplexingï¼‰çš„è¿‡ç¨‹ï¼›åœ¨æºä¸»æœºä¸Šå°†æŠ¥æ–‡æ®µä¼ é€’åˆ°è¿è¾“å±‚è¿™ä¸ªå·¥ä½œç§°ä¸ºå¤šè·¯å¤ç”¨ï¼ˆmultiplexingï¼‰ï¼›ä½†æ˜¯å½“ç„¶TCPç›¸æ¯”è¾ƒUDPçš„è§£æè¿‡ç¨‹ä¼šæ›´åŠ å¤æ‚ 1.3 è§„èŒƒè¯­è¨€ æŠ¥æ–‡æ®µï¼ˆsegmentï¼‰ï¼šç»è¿‡ç½‘ç»œå±‚åˆ°è¾¾è¿è¾“å±‚åç”Ÿæˆçš„åˆ†ç»„æŠ¥æ–‡ æ•°æ®æŠ¥ï¼ˆdatagramï¼‰ï¼šè¿è¾“å±‚çš„æŠ¥æ–‡åˆ°è¾¾ç½‘ç»œå±‚ç”Ÿæˆçš„åˆ†ç»„æŠ¥æ–‡ socketï¼šåº”ç”¨å±‚è¿›ç¨‹å’Œè¿è¾“å±‚ä¹‹é—´æ•°æ®é€šä¿¡çš„æ–¹å¼ï¼ŒåŒä¸€ä¸ªhostå­˜åœ¨å¤šä¸ªå¥—æ¥å­—ï¼Œæ¯ä¸ªå¥—æ¥å­—å…·æœ‰å”¯ä¸€æ ‡è¯†ç¬¦ å¤šè·¯å¤ç”¨ï¼šå¤šä¸ªæ•°æ®ä¼ è¾“åˆ°è¿è¾“å±‚ å¤šè·¯åˆ†è§£ï¼šæ”¶åˆ°ä¸‹å±‚æ•°æ®è½¬ç§»åˆ°ä¸Šå±‚å¤šä¸ªè¿›ç¨‹ 0x02 åŸºæœ¬åŸç† 2.1 å¯é æ•°æ®ä¼ è¾“åŸç†ï¼ˆReliable Data Transfer Protocolï¼‰ åœ¨æ•°æ®ä¼ è¾“çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°å·®é”™ã€æŸåå’Œä¸¢å¤±çš„ç°è±¡ï¼Œæƒ³è¦æŒ‰ç…§åŸæ¥æ•°æ®å¤åŸå°±æ˜¯å¯é æ•°æ®ä¼ è¾“åè®®éœ€è¦è§„èŒƒçš„äº‹æƒ…ï¼Œè¿™ç§åè®®å¯ä»¥çœ‹ä½œæ˜¯ç­–ç•¥æ–¹é¢çš„methodï¼Œå› ä¸ºå®ƒä¸ä»…å¯ä»¥é€‚ç”¨äºè¿è¾“å±‚ã€ä¹Ÿå¯ä»¥ç½‘ç»œå±‚æˆ–è€…åº”ç”¨å±‚ï¼Œæ›´é‡è¦çš„æ˜¯å†…åœ¨æ€æƒ³ï¼Œè€ŒTCPç›¸æ¯”è¾ƒUDPçš„ä¸€æ–¹é¢å°±æ˜¯ä½¿ç”¨äº†å¯é æ•°æ®ä¼ è¾“çš„ä¸œè¥¿ å¯ä»¥å‚è€ƒhttps://blog.csdn.net/qq_40177015/article/details/112836182 æœ€åŸºæœ¬çš„æ¨¡å‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåé¢æˆ‘ä»¬å¯ä»¥å±‚å±‚é€’è¿›æ¥çœ‹è¿™ä¸ªæ˜¯å¦‚ä½•å®ç°çš„ï¼š 2.1.1 RDT1.0 â€“ åº•å±‚ä¿¡é“å¯é çš„æƒ…å†µ é‚£å°±åªéœ€è¦ å‘é€ç«¯ï¼šæ¥å—ä¸Šå±‚çš„dataã€è½¬æ¢ï¼ˆmake-pktï¼‰æˆæ•°æ®æ®µpacketã€ç„¶åå‘é€ï¼ˆsendï¼‰ æ¥æ”¶ç«¯ï¼šæ¥å—ä¸‹å±‚çš„packetã€æå–extractå‡ºæ•°æ®dataã€ç„¶åç§»äº¤deliverç»™ä¸Šå±‚ 2.1.2 RDT2.0 â€“ åº•å±‚å·®é”™çš„æƒ…å†µï¼ˆä½†ä¸ä¼šä¸¢å¤±ï¼‰ å‡ºç°å·®é”™æˆ‘ä»¬çš„ç¬¬ä¸€ååº”æ˜¯éœ€è¦ï¼šå¦‚ä½•æ£€æŸ¥å‡ºå·®é”™ã€ä»¥åŠå¦‚æœå‘Šè¯‰å‘é€æ–¹é”™äº†ã€ä»¥åŠé‡æ–°å‘é€ï¼Œè¿™ç§ç§°ä¸ºåŸºäºè‡ªåŠ¨é‡ä¼ è¯·æ±‚ï¼ˆARQã€automatic repeat requestï¼‰ 2.1.3 RDT2.1&amp;2.2 ä½†æ˜¯RDT2.0å¹¶æ²¡æœ‰è€ƒè™‘ACKå’ŒNAKé”™è¯¯çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™å‘ç”Ÿå‘é€ç«¯å¿˜è®°é‡ä¼ æˆ–è€…è¿‡åº¦é‡ä¼ ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦å¯¹æŠ¥æ–‡è¿›è¡Œæ ‡è®°ï¼Œä¹Ÿå°±æ˜¯éœ€è¦å¢åŠ æ•°æ®åˆ†ç»„ç¼–å·ï¼ˆsequence numberï¼‰æ¥å¸®åŠ©åŒºåˆ†ï¼Œè¿™ä¹Ÿå°±æ˜¯RDT2.1çš„å·¥ä½œ ç”±äºåŒæ—¶æ£€éªŒACKå’ŒNAKå¾ˆéº»çƒ¦ï¼Œå› æ­¤å¯ä»¥è®¾è®¡å•çº¯åªç”¨ACKçš„ç¡®è®¤å’Œå¦å®šå°±å¯ã€‚ 2.1.4 RDT3.0 â€“ ç»è¿‡æ¯”ç‰¹å·®é”™å’Œä¸¢åŒ…ä¿¡é“çš„å¯é ä¿¡æ¯ä¼ è¾“ é’ˆå¯¹ä¸¢åŒ…ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®å®šæ—¶å™¨ï¼ˆï¼Ÿå¦‚ä½•é’ˆå¯¹æ¯ä¸ªæŠ¥æ–‡è®¾ç½®ï¼‰ï¼Œåœ¨ä¸€å®šçš„æ—¶é—´é—´éš”ï¼ˆï¼Ÿåé¢ä»‹ç»è¿™ä¹ˆç¡®å®šï¼‰ä¸‹ï¼Œæ²¡æœ‰æ”¶åˆ°ACKå°±é‡æ–°å‘é€ 2.1.4 æš‚åœæ€è€ƒRDT RDTæ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå…¨æ­£ç¡®çš„åè®®ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸€ä¸ªåœç­‰åè®®ï¼Œåœ¨äºæˆ‘æ¯ä¸ªåˆ†ç»„æŠ¥æ–‡éœ€è¦ç­‰åˆ°ä¸Šä¸€ä¸ªACKåˆ°æ¥çš„æ—¶å€™å†é‡æ–°å‘é€ï¼Œä¿¡é“ä¸­åªæœ‰ä¸€ä¸ªæŠ¥æ–‡å¿…ç„¶æ˜¯æµªè´¹çš„ å› æ­¤æˆ‘ä»¬å¯ä»¥é‡‡ç”¨æµæ°´çº¿çš„æ–¹å¼ï¼Œä¸åœçš„å‘é€æŠ¥æ–‡ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™åˆä¼šé¢ä¸´æ–°çš„é—®é¢˜ 2.1.5 æµæ°´çº¿-é€€å›Næ­¥ï¼ˆGBNï¼‰ ç”±äºæµæ°´çº¿å…è®¸å‘é€å‘è¿ç»­å‘é€å¤šä¸ªåˆ†ç»„è€Œä¸éœ€è¦ç­‰å¾…ç¡®è®¤ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å‡ºç°æŸä¸ªæ•°æ®åˆ†ç»„å·®é”™æˆ–è€…ä¸¢å¤±çš„æƒ…å†µå°±éå¸¸éº»çƒ¦ï¼ŒGBNè®¾ç½®æ˜¯é”™è¯¯å°±é€€å›Næ­¥é‡æ–°å‘é€ï¼Œè¿™æ ·çš„ç¼ºç‚¹æ˜¯é€šä¿¡ç³»ç»Ÿå¯èƒ½ä¼šè¢«è®¸è®¸å¤šå¤šçš„æ— ç”¨æŠ¥æ–‡å……æ–¥ 2.1.6 æµæ°´çº¿-é€‰æ‹©é‡ä¼ ï¼ˆSRï¼‰ ä¸ºäº†è§£å†³GBNçš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨é€‰æ‹©é‡ä¼ çš„åè®®ï¼Œå¯¹äºé”™è¯¯ä¹‹åçš„åºåˆ—å·æ¥æ”¶ç«¯ä¿å­˜ 2.1.7 æ€»ç»“ åœ¨ç»è¿‡ä¸Šè¿°å¯é æ•°æ®ä¼ è¾“æœºåˆ¶çš„æè¿°ä¹‹åï¼Œå­˜åœ¨ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼š å·®é”™æ£€éªŒï¼ˆchecksumï¼‰ å®šæ—¶å™¨ï¼ˆtimerï¼‰ åºå·ï¼ˆsequence numberï¼‰ ç¡®è®¤ï¼ˆacknowledgementï¼‰ å¦å®šç¡®è®¤ï¼ˆNAKï¼‰ çª—å£ã€æµæ°´çº¿ï¼ˆwindowsã€pipelineï¼‰ 2.2 æ‹¥å¡æ§åˆ¶åŸç† https://zhuanlan.zhihu.com/p/37379780 2.2.1 ä»€ä¹ˆæ˜¯æ‹¥å¡ ä½œç”¨äºç½‘ç»œçš„ï¼Œé¿å…è¿‡å¤šçš„æ— æ•ˆé‡ä¼ æ•°æ®å……æ–¥åœ¨ä¼ è¾“ç½‘ç»œä¸­ ç¬¬ä¸€ç§æƒ…å†µï¼šä¸¤å°æœºå™¨ä¹‹é—´+æ— é™ç¼“å­˜çš„è·¯ç”±å™¨ ç¬¬äºŒç§æƒ…å†µï¼šä¸¤å°æœºå™¨ä¹‹é—´+æœ‰é™ç¼“å­˜çš„è·¯ç”±å™¨ ç¬¬ä¸‰ç§æƒ…å†µï¼šå¤šå°æœºå™¨ä¹‹é—´+æœ‰é™ç¼“å­˜çš„è·¯ç”±å™¨ 2.2.2 æ‹¥å¡æ§åˆ¶æ–¹æ³• ç¬¬ä¸€ç§æ–¹æ³•ï¼šç«¯åˆ°ç«¯çš„æ‹¥å¡æ§åˆ¶ï¼Œæ¯”å¦‚æ ¹æ®æŠ¥æ–‡ä¸¢åŒ…æƒ…å†µæ¥è§‚å¯Ÿç½‘ç»œæ‹¥å¡çŠ¶æ€ï¼Œè¿›è€Œç¼©å°è‡ªå·±çš„çª—å£ï¼ˆTCPé‡‡ç”¨çš„ï¼‰ ç¬¬äºŒç§æ–¹æ³•ï¼šç½‘ç»œè¾…åŠ©æ‹¥å¡æ§åˆ¶ï¼Œç½‘ç»œä¸­è·¯ç”±å™¨ç­‰ä¼ è¾“ç»™ç«¯è®¾å¤‡ï¼Œé«˜é€Ÿæ‹¥å µæƒ…å†µ 0x03 UDP/TCP 3.1 UDPä¼ è¾“åè®® 3.1.1 UDPæŠ¥æ–‡ æºç«¯å£ï¼šå‘é€æ–¹çš„è¿›ç¨‹å¯¹åº”çš„socketçš„ç«¯å£ ç›®çš„ç«¯å£ï¼šæ¥æ”¶æ–¹çš„è¿›ç¨‹å¯¹åº”çš„socketç«¯å£ æŠ¥æ–‡é•¿åº¦ï¼šç”¨æ¥æ£€æŸ¥æŠ¥æ–‡æ˜¯å¦ä¼šå‡ºé”™ æ£€éªŒå’Œï¼šæœ€åŸºæœ¬çš„å·®é”™çš„checksumæ£€éªŒ 3.1.2 UDPå¥—æ¥å­—ç¼–ç¨‹ 1234567891011121314151617181920UDPClient.pyfrom socket import *serverName=&#x27;hostname;serverPort=12000// å¸¸è§å®¢æˆ·ç«¯çš„å¥—æ¥å­—clientSocket=socket(AF_INETï¼ŒSOCK_DGRAM)// ç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨ä½¿ç”¨äº†ipv4ï¼›ç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨è¯¥å¥—æ¥å­—æ˜¯SOCKâ€”â€”DGRAMç±»å‹çš„message=raw_input(&#x27;Input your message:&#x27;)//æœ‰äº†ä¿¡æ¯å’Œå‘é€ç«¯socketclientSocket.sendto(message.encode(),(serverName,serverPort))//ä¹‹åç­‰å¾…æœåŠ¡å™¨çš„æ•°æ®modifiedMessage,serverAddreess =clientSocket.recvfrom(2048)// 2048ä»£è¡¨åˆ†ç»„ä¿¡æ¯åˆ°è¾¾è¯¥å®¢æˆ·ç«¯å¥—æ¥å­—ï¼Œè¯¥åˆ†ç»„çš„æ•°æ®çš„æ”¾åˆ°å˜é‡modified messageä¸­// æºåœ°å€æ”¾ç½®åˆ°å˜é‡server Addressï¼Œå–ç¼“å­˜é•¿åº¦2048ä½œä¸ºè¾“å…¥print(modifiedMessage.decode())clientSocket.close() 3.2 TCPä¼ è¾“åè®® 3.2.1 TCPæŠ¥æ–‡ é¦–éƒ¨åŒ…æ‹¬16æ¯”ç‰¹æºç«¯å£å·å’Œ16æ¯”ç‰¹ç›®çš„ç«¯å£å·ï¼Œè¢«ç”¨äºå¤šè·¯å¤ç”¨/åˆ†è§£æ¥è‡ªæˆ–è€…é€åˆ°ä¸Šå±‚åº”ç”¨çš„æ•°æ® 32æ¯”ç‰¹çš„åºå·å­—æ®µï¼ˆsequence number fieldï¼‰å’Œ32æ¯”ç‰¹çš„ç¡®è®¤å·å­—æ®µï¼ˆacknowledgment number fieldï¼‰ç”¨äºå®ç°å¯é æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œéšæœºçš„åˆå§‹åºåˆ—å·è¿˜æ˜¯å¾ˆæœ‰æ„æ€çš„ï¼›è®¨è®ºè§å 4æ¯”ç‰¹çš„é¦–éƒ¨å­—æ®µé•¿åº¦ï¼ˆheader length fieldï¼‰ï¼ŒæŒ‡ç¤ºä»¥32æ¯”ç‰¹çš„å­—ä¸ºå•ä½çš„TCPé¦–éƒ¨é•¿åº¦ï¼Œç”±äºTCPé€‰é¡¹å­—æ®µçš„åŸå› ï¼ŒTCPé¦–éƒ¨çš„é•¿åº¦æ˜¯å¯å˜çš„ï¼Œä¸€èˆ¬ä¸ºç©ºåˆ™è¯´æ˜å…¸å‹é•¿åº¦ä¸º20å­—èŠ‚ 8æ¯”ç‰¹çš„æ ‡å¿—å­—æ®µï¼ˆflag fieldï¼‰ ACKï¼ŒæŒ‡ç¤ºç¡®è®¤å­—æ®µçš„å€¼æ˜¯æœ‰æ•ˆçš„ RSTã€SYNã€FINï¼Œç”¨äºè¿æ¥å’Œæ‹†é™¤ CWRã€ECEï¼Œæ‹¥å¡é€šçŸ¥é‡Œé¢ä½¿ç”¨ PSHï¼Œæœ‰å€¼æ—¶ï¼Œåº”å½“æŒ‡ç¤ºæ¥æ”¶æ–¹ç«‹å³å°†æ•°æ®äº¤ç»™ä¸Šå±‚ URGï¼ŒæŒ‡ç¤ºæŠ¥æ–‡æ®µä¸­å­˜åœ¨çš„è¢«å‘é€ç«¯çš„ä¸Šå±‚è®¾ç½®ä¸ºç´§æ€¥çš„æ•°æ®ï¼Œæœ€åä¸€ä¸ªå­—èŠ‚æœ‰ç´§æ€¥æ•°æ®æŒ‡é’ˆå­—æ®µç»™å‡º 16æ¯”ç‰¹çš„æ¥å—çª—å£ï¼ˆreceive windows fieldï¼‰ï¼Œç”¨äºæµé‡æ§åˆ¶ï¼Œç”¨äºæŒ‡ç¤ºæ¥æ”¶æ–¹æ„¿æ„æ¥å—çš„å­—èŠ‚æ•°é‡ æ ¡éªŒå’Œå­—æ®µï¼ˆchecksum fieldï¼‰ 16æ¯”ç‰¹çš„ç´§æ€¥æ•°æ®æŒ‡é’ˆï¼ˆurgent data pointer fieldï¼‰ 3.2.2 TCPæ•´ä¸ªè¿‡ç¨‹ TCPè¿æ¥æ˜¯åœ¨å¤æ‚çš„ç‰©ç†ç½‘ç»œä¸­å»ºç«‹ä¸¤å°ä¸»æœºï¼ˆhostï¼‰ä¹‹é—´çš„ç‚¹å¯¹ç‚¹ï¼ˆpoint to pointï¼‰ä¹‹é—´çš„è¿æ¥ï¼›ä¸¤å°ä¸»æœºä¹‹é—´è¿æ¥çš„ç®€çº¦è¿‡ç¨‹æ˜¯é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹ï¼ˆthree-way handshakeï¼‰è¿›è¡Œçš„ï¼š å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªç‰¹æ®Šçš„TCPæŠ¥æ–‡æ®µï¼ŒæœåŠ¡å™¨ä½¿ç”¨å¦ä¸€ä¸ªç‰¹æ®Šçš„TCPæŠ¥æ–‡æ®µæ¥å“åº”ï¼Œä¹‹åå®¢æˆ·ç«¯åˆ©ç”¨ç¬¬ä¸‰ä¸ªç‰¹æ®ŠæŠ¥æ–‡æ®µä½œä¸ºå“åº”ï¼Œç¬¬ä¸‰ä¸ªå¯ä»¥åŒ…å«æœ‰æ•ˆè´Ÿè·ï¼ˆä¹Ÿå°±æ˜¯åº”ç”¨å±‚æ•°æ®ï¼‰ï¼Œæ•´ä¸ªè¿‡ç¨‹ç§°ä¸ºä¸‰æ¬¡æ¡æ‰‹ï¼›ä¹‹ååŒ…æ‹¬å››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹ï¼›è¯¦ç»†å¦‚ä¸‹ï¼š ç¬¬ä¸€æ­¥ï¼Œclienté¦–å…ˆå‘æœåŠ¡å™¨TCPå‘é€ä¸€ä¸ªç‰¹æ®Šçš„TCPæŠ¥æ–‡æ®µï¼ŒSYNæŠ¥æ–‡æ®µè®¾è®¡ä¸º1ï¼ŒåŒæ—¶clientéšæœºé€‰æ‹©ä¸€ä¸ªåˆå§‹åºå·ï¼ŒåŒ…è£…åœ¨ä¸€ä¸ªIPæ•°æ®æŠ¥å‘é€ç»™server ç¬¬äºŒæ­¥ï¼Œè¿™ä¸ªç‰¹æ®Šçš„TCPæŠ¥æ–‡æ®µåˆ°è¾¾serveråï¼Œè¯¥TCPè¿æ¥åˆ†é…ç¼“å­˜å’Œå˜é‡ï¼Œå¹¶å‘clientå‘é€å…è®¸è¿æ¥çš„æŠ¥æ–‡æ®µï¼Œè¿™ä¸ªå…è®¸çš„æŠ¥æ–‡æ®µåŒ…æ‹¬ä¸‰ä¸ªé‡è¦çš„ä¿¡æ¯ï¼šSYNæ¯”ç‰¹ä¸º1ã€ç¡®è®¤å·è®¾ç½®client-isn+1ã€è®¾ç½®æœåŠ¡å™¨çš„server-isnå­—æ®µï¼Œè¿™ä¸ªè¢«ç§°ä¸ºSYNACK segment clientåœ¨å—åˆ°å›å¤ä¹‹åï¼Œä¸ºè¯¥è¿æ¥åˆ†é…ç¼“å­˜å’Œå˜é‡ï¼Œclientå‘serverå‘é€å¦å¤–ä¸€ä¸ªæŠ¥æ–‡æ®µï¼Œå¯¹äºæœåŠ¡å™¨çš„å…è®¸è¿æ¥çš„æŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ï¼Œserver-isn+1è®¾ç½®åˆ°TCPæŠ¥æ–‡æ®µé¦–éƒ¨ç¡®è®¤å­—èŠ‚ï¼Œè¿™é‡Œå¯ä»¥æŠ¥æ–‡æ®µä¸­æºå¸¦æ•°æ® æ‹†é™¤ï¼š é€šè¿‡FINå­—æ®µæ¥è®¾ç½®å…³é—­æŠ¥æ–‡æ®µï¼Œclientå‘é€åŒ…å«FINæŠ¥æ–‡ï¼Œserverå‘é€ACKï¼›ä¹‹åserverå‘é€FINï¼Œclientå›å¤ACKï¼Œå¦‚æœæ²¡æœ‰å…³é—­è®¾ç½®è¶…æ—¶é‡ä¼ æœºåˆ¶ ä¹‹ååº”ç”¨å±‚é€šè¿‡å¥—æ¥å­—ï¼ˆsocketï¼‰æ¥ä¼ é€’æ•°æ®æµï¼Œè¿™äº›æ•°æ®è¢«å¼•å¯¼åˆ°è¿æ¥åˆ°å‘é€ç¼“å­˜ï¼ˆsend bufferï¼‰ä¸­ï¼Œä¹‹åTCPä¼šæ—¶ä¸æ—¶åœ°ä»å‘é€ç¼“å­˜ä¸­å–å‡ºæ¥ä¸€å—æ•°æ®ï¼Œå¹¶å°†æ•°æ®ä¼ é€’åˆ°ç½‘ç»œå±‚ï¼Œè¿™é‡Œå–å‡ºå¤šå°‘æ•°æ®å—é™äºæœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦ï¼ˆmaximum segment sizeï¼ŒMSSï¼‰ï¼Œè¿™ä¸ªé€šè¿‡ç”±æœ€åˆç¡®å®šçš„æœ€å¤§é“¾è·¯å±‚å¸§é•¿åº¦ï¼ˆMTUï¼‰ç¡®å®š 3.2.3 TCPçš„å¯é æ•°æ®ä¼ è¾“ å®šæ—¶å™¨çš„é‡è¦è®¾è®¡æ˜¯éœ€è¦äº†è§£å¤šé•¿æ—¶é—´æ‰æ˜¯è¶…æ—¶ï¼Ÿå› æ­¤éœ€è¦å¯¹ä¸¤ä¸ªhostä¹‹é—´çš„ä¼ é€æ—¶é—´è¿›è¡Œç¡®è®¤ï¼Œè¿™ä¸ªéœ€è¦è€ƒè™‘çš„è¿™ä¸ªè¶…æ—¶æ—¶é—´é—´éš”é‡ä¼ çš„è®¾ç½®ï¼Œå®ƒå¿…é¡»è¦å¤§äºè¯¥é“¾æ¥çš„å¾€è¿”æ—¶é—´ï¼ˆRTTï¼‰ï¼Œä»¥åŠæ˜¯å¦éœ€è¦ä¸ºæ‰€æœ‰æœªç¡®è®¤çš„æŠ¥æ–‡æ®µå„è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ TCPè¿æ¥ä¸ºæ¯ä¸€ä¸ªæ—¶é—´æ®µåšå‡ºä¸€æ¬¡SampleRTTï¼Œç»“åˆå†å²ä¼°è®¡çš„Estimate RTTæ¥åšç§»åŠ¨å¹³å‡ï¼ˆEWMAï¼Œexponential weighed moving averageï¼‰ï¼›åŒæ—¶å®šä¹‰åå·®DevRTT EstimateRTT=0.875EstimateRTT+0.125SampleRTT DevRTT=0.75DevRTT+0.25ï¼ˆSampleRTT- EstimateRTTï¼‰ è®¾ç½®æ—¶é—´é—´éš”ä¸º Timeout Interval=EstimateRTT+4DevRTT åœ¨å¯é æ€§ä¼ è¾“ç« èŠ‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¯¹äºä¸¢åŒ…æœ€é‡è¦çš„æ˜¯å®šæ—¶å™¨çš„è®¾ç½®ã€å¯¹äºå‘é€æ–¹æœ€é‡è¦çš„æ˜¯å®šä¹‰å¦‚ä½•é‡ä¼ æ•°æ®ï¼Œå› æ­¤åœ¨TCPä¸­é‡‡ç”¨çš„æ–¹æ³•å¦‚å›¾ï¼šä¹Ÿå°±æ˜¯é‡‡ç”¨ä¸€ä¸ªå®šæ—¶å™¨çš„è¶…æ—¶é‡ä¼ æœºåˆ¶ã€‚ è¶…æ—¶é—´éš”åŠ å€ å®šæ—¶å™¨æ—¶é™è¿‡æœŸä¹‹åè¶…æ—¶é—´é—´éš”çš„é•¿åº¦ï¼Œåœ¨è¿™ç§ä¿®æ”¹ä¸­ï¼Œæ²¡å½“è¶…æ—¶äº‹ä»¶å‘ç”Ÿåï¼ŒTCPé‡ä¼ å…·æœ‰æœ€å°åºå·çš„è¿˜æœªè¢«ç¡®è®¤çš„æŠ¥æ–‡æ®µï¼Œåªæ˜¯æ¯æ¬¡TCPé‡ä¼ éƒ½ä¼šå°†ä»¥ä¸‹ä¸€æ¬¡è¶…æ—¶é—´éš”è®¾ç½®ä¸ºå‰é¢çš„2å€ï¼›è¿™ç§ä¿®æ”¹æä¾›äº†ä¸€ç§å½¢å¼å—é™çš„æ‹¥å¡æ§åˆ¶ï¼Œå› ä¸ºæ—¶å»¶å¢åŠ å¹¶ä¸”é‡ä¼ ä¼šå¯¼è‡´æ‹¥å¡æ›´ä¸¥é‡ å¿«é€Ÿé‡ä¼  ä¸Šè¿°çš„è¶…æ—¶é‡ä¼ çš„é—®é¢˜åœ¨äºè¶…æ—¶å‘¨æœŸå¯èƒ½ç›¸å¯¹è¾ƒé•¿ï¼Œå½“ä¸€ä¸ªæŠ¥æ–‡æ®µä¸¢å¤±æ—¶ï¼Œè¿™ç§é•¿è¶…æ—¶å‘¨æœŸä½¿å¾—å‘é€æ–¹å»¶è¿Ÿé‡ä¼ ä¸¢å¤±çš„åˆ†ç»„ï¼Œä»è€Œå¢åŠ äº†ç«¯åˆ°ç«¯çš„æ—¶å»¶ï¼Œè¿™é‡Œå¯ä»¥é‡‡ç”¨å†—ä½™ACKï¼ˆduplicate ACKï¼‰æ¥å¸®åŠ©æ£€æµ‹ä¸¢åŒ… GBN or SR TCPæ›´å¤šçš„äº‹é€‰æ‹©ç¡®è®¤ï¼ˆselective acknowledgementï¼‰ï¼Œå±äºä¸¤è€…ä¹‹é—´balance 3.2.4 TCPçš„æ‹¥å¡æ§åˆ¶ è¿˜æ²¡çœ‹æ‡‚ï½ï½ https://zhuanlan.zhihu.com/p/37379780 è¿™ä½åšä¸»æ€»ç»“ä¸º æ…¢å¼€å§‹ã€æ‹¥å¡é¿å… å¿«é‡ä¼ ã€å¿«æ¢å¤ https://zhangbinalan.gitbooks.io/protocol/content/tcpde_yong_sai_kong_zhi.html æ…¢å¼€å§‹( slow-start )ã€æ‹¥å¡é¿å…( congestion avoidance )ã€å¿«é‡ä¼ ( fast retransmit )å’Œå¿«æ¢å¤( fast recovery )ã€‚ 3.3 ä¸¤è€…å¯¹æ¯” æ—¢ç„¶TCPæ¯”UDPå¤šå‡ºæ¥è¿™ä¹ˆå¤šåŠŸèƒ½ï¼Ÿä¸¤è€…ä¹‹é—´çš„ä¼˜åŠ£åœ¨å“ªé‡Œå‘¢ï¼ŒUDPæä¾›äº†é€Ÿåº¦å¿«ã€æŠ¥æ–‡ä¼ é€’å¤šçš„ç‰¹ç‚¹ï¼Œè€ŒTCPè™½ç„¶ç‚¹å¯¹ç‚¹å®‰å…¨ä¼ é€’ä½†æ˜¯è®¡ç®—å¼€é”€å¤§ï¼Œé€‚åˆç”¨äºå®‰å…¨æ€§è¾ƒå¼ºçš„ä¸šåŠ¡ã€‚ å…³äºå‘é€ä»€ä¹ˆæ•°æ®ä»¥åŠä½•æ—¶å‘é€çš„åº”ç”¨å±‚æ§åˆ¶æ›´ä¸ºç²¾ç»†ï¼›é‡‡ç”¨UDPä¸»éœ€è¦è¿›ç¨‹å°†æ•°æ®ä¼ é€ç»™UDPå³å¯ï¼Œä½†æ˜¯TCPå…·æœ‰æ‹¥å¡æ§åˆ¶æœºåˆ¶ï¼›åœ¨ä¸€äº›åº”ç”¨ä¸­æ›´åŠ å¼ºè°ƒå®æ—¶æ€§ï¼Œè€Œä¸å¿…è¦æ•°æ®çš„å®Œæ•´æ€§ æ— é¡»è¿æ¥å»ºç«‹ï¼Œå¯¹äºç½‘é¡µHTTPè¿æ¥ä¸­å¯é æ€§æ˜¯é‡è¦çš„ï¼ŒåŒæ—¶å®æ—¶æ€§ä¹Ÿæ˜¯é‡è¦çš„ï¼Œæ‰€ä»¥è°·æ­Œçš„QUICåè®®æ˜¯åœ¨UDPåè®®çš„åŸºç¡€ä¸Šåœ¨åº”ç”¨å±‚åè®®ä¸­å®ç°äº†å¯é æ€§ æ— è¿æ¥çŠ¶æ€ï¼ŒTCPéœ€è¦ä¿æŒè¿æ¥çŠ¶æ€ï¼Œè¿™ä¸ªåŒ…æ‹¬æ¥å—å’Œå‘é€ç¼“å­˜ã€æ‹¥å¡æ§åˆ¶iå‚æ•°ä»¥åŠåºå·ä¸ç¡®è®¤å¥½çš„å‚æ•°ï¼Œè€ŒUDPä¸éœ€è¦è¿½è¸ªè¿™äº›å‚æ•°ï¼Œå› æ­¤åœ¨æŸäº›ç‰¹å®šåº”ç”¨ä½¿ç”¨UDPå¯ä»¥æ”¯æŒæ›´å¤šçš„å¹¶å‘ç”¨æˆ· åˆ†ç»„é¦–éƒ¨å¼€é”€å°ï¼ŒTCPæŠ¥æ–‡æ®µ20å­—èŠ‚çš„é¦–éƒ¨å¼€é”€ã€UDPä»…æœ‰8å­—èŠ‚ åŒæ—¶åœ¨UDPä¸å¯é çš„åŸºç¡€ä¸Šï¼Œå¯ä»¥åœ¨åº”ç”¨å±‚ä¸Šå¢åŠ å¯é ä¼ è¾“åè®®æ¥å®ç°å¯é UDPï¼ˆæ¯”å¦‚Googleçš„QUICåè®®ï¼‰ 0x04 å›é¡¾ã€æ”¶è·å’Œå±•æœ› å°†æœ¬ç§‘ä¿¡æ¯ä¼ è¾“åŸç†ã€é€šä¿¡ç½‘ç»œåŸºç¡€æ²¡æœ‰å¬æ‡‚çš„æ•°æ®æŠ¥æ•´æ˜ç™½äº†å‡ºå¤„ï¼›å¹¶ä¸”åœ¨æè¿°ä¸€ä»¶äº‹æƒ…çš„è¿‡ç¨‹æœ€å¥½å…ˆç®€åŒ–ä¸€ä¸ªåŸºæœ¬æ¨¡å‹ã€ç„¶åé€æ­¥æ·»åŠ ã€‚åŒæ—¶ç†æ¸…æ¥šå…¶ä¸­çš„åŸç†ã€ç­–ç•¥å’Œå…·ä½“æ“ä½œä¹‹é—´çš„åŒºåˆ«å’Œè”ç³»","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"network","slug":"network","permalink":"https://blog.tjdata.site/tags/network/"}]},{"title":"è®¡ç®—æœºç½‘ç»œ-02-Chapter02 åº”ç”¨å±‚åè®®","slug":"è®¡ç®—æœºç½‘ç»œ-02-Chapter02 åº”ç”¨å±‚åè®®","date":"2022-06-18T11:43:22.000Z","updated":"2023-05-13T13:53:26.643Z","comments":true,"path":"posts/e75be22e.html","link":"","permalink":"https://blog.tjdata.site/posts/e75be22e.html","excerpt":"ç½‘ç»œåº”ç”¨æ˜¯è®¡ç®—æœºç½‘ç»œå­˜åœ¨çš„ç†ç”±ï¼Œå¦‚æœæˆ‘ä»¬ä¸èƒ½æ„æƒ³å‡ºä»»ä½•æ¸¸æœ‰ç”¨çš„åº”ç”¨ï¼Œä¹Ÿå°±æ²¡æœ‰å¿…è¦æ”¯æŒå®ƒä»¬çš„ç½‘ç»œåè®®æ¥ï¼Œæ­£æ˜¯å› ç‰¹ç½‘çš„å…¨é¢å‘å±•ä»¥æ¥ï¼Œçš„ç¡®å¼€å‘ä¼—å¤šæœ‰ç”¨çš„ã€æœ‰è¶£çš„ç½‘ç»œåº”ç”¨ï¼Œæ­£æ˜¯è¿™äº›åº”ç”¨ç¨‹åºæˆä¸ºå› ç‰¹ç½‘æˆåŠŸçš„é©±åŠ¨åŠ›ã€‚ ä¸€äº›éå¸¸æœ‰æ„æ€çš„å†å²ï¼š 20ä¸–çºª70å¹´å¹´ä»£åˆ°80å¹´å¹´ä»£ï¼Œæµè¡Œçš„ç»å…¸çš„åŸºäºæ–‡æœ¬çš„åº”ç”¨ï¼Œæ¯”å¦‚ç”µå­é‚®ä»¶ã€è¿œç¨‹è®¿é—®è®¡ç®—æœºç­‰ï¼› 20ä¸–çºª90å¹´ä»£ä¸­æœŸå¼•å…¥çš„ä¸‡ç»´ç½‘ï¼ŒåŒ…æ‹¬Webå†²æµªã€æœç´¢å’Œç”µå­å•†åŠ¡ 20ä¸–çºªæœ«ï¼Œå¼•å…¥çš„å³æ—¶é€šè®¯å’Œå¯¹ç­‰P2Pæ–‡ä»¶åˆ†äº« ä¹‹åå‡ºç°æ¥ï¼šIPç”µè¯ã€è§†é¢‘ç”µè¯ã€è§†é¢‘ç½‘ç«™ã€åœ¨çº¿æ¸¸æˆ å†åˆ°æ™ºèƒ½æ‰‹æœºå‘å±•ï¼šç­¾åˆ°ã€çº¦ä¼šå’Œåœ°å›¾å¯¼èˆªç­‰ç­‰ è´²æœ¬ç« ä¸»è¦å­¦ä¹ ç½‘ç»œåº”ç”¨çš„åŸç†å’Œå®ç°æ–¹é¢çš„åªæ˜¯ï¼Œä»å…³é”®çš„åº”ç”¨å±‚æ¦‚å¿µå¼€å§‹ï¼Œæè¿°ç½‘ç»œæœåŠ¡ã€å®¢æˆ·å’ŒæœåŠ¡å™¨ã€è¿›ç¨‹å’Œè¿è¾“å±‚æ¥å£ï¼Œä¹‹åè®¾è®¡å¼€å‘è¿è¡Œåœ¨TCPå’ŒUDPçš„ç½‘ç»œåº”ç”¨ç¨‹åºï¼Œä¹‹åå­¦ä¹ Socketæ¥å£æ¥ç¼–å†™ä¸€äº›ç®€å•çš„å®¢æˆ·-æœåŠ¡å™¨åº”ç”¨ç¨‹åºã€‚","text":"ç½‘ç»œåº”ç”¨æ˜¯è®¡ç®—æœºç½‘ç»œå­˜åœ¨çš„ç†ç”±ï¼Œå¦‚æœæˆ‘ä»¬ä¸èƒ½æ„æƒ³å‡ºä»»ä½•æ¸¸æœ‰ç”¨çš„åº”ç”¨ï¼Œä¹Ÿå°±æ²¡æœ‰å¿…è¦æ”¯æŒå®ƒä»¬çš„ç½‘ç»œåè®®æ¥ï¼Œæ­£æ˜¯å› ç‰¹ç½‘çš„å…¨é¢å‘å±•ä»¥æ¥ï¼Œçš„ç¡®å¼€å‘ä¼—å¤šæœ‰ç”¨çš„ã€æœ‰è¶£çš„ç½‘ç»œåº”ç”¨ï¼Œæ­£æ˜¯è¿™äº›åº”ç”¨ç¨‹åºæˆä¸ºå› ç‰¹ç½‘æˆåŠŸçš„é©±åŠ¨åŠ›ã€‚ ä¸€äº›éå¸¸æœ‰æ„æ€çš„å†å²ï¼š 20ä¸–çºª70å¹´å¹´ä»£åˆ°80å¹´å¹´ä»£ï¼Œæµè¡Œçš„ç»å…¸çš„åŸºäºæ–‡æœ¬çš„åº”ç”¨ï¼Œæ¯”å¦‚ç”µå­é‚®ä»¶ã€è¿œç¨‹è®¿é—®è®¡ç®—æœºç­‰ï¼› 20ä¸–çºª90å¹´ä»£ä¸­æœŸå¼•å…¥çš„ä¸‡ç»´ç½‘ï¼ŒåŒ…æ‹¬Webå†²æµªã€æœç´¢å’Œç”µå­å•†åŠ¡ 20ä¸–çºªæœ«ï¼Œå¼•å…¥çš„å³æ—¶é€šè®¯å’Œå¯¹ç­‰P2Pæ–‡ä»¶åˆ†äº« ä¹‹åå‡ºç°æ¥ï¼šIPç”µè¯ã€è§†é¢‘ç”µè¯ã€è§†é¢‘ç½‘ç«™ã€åœ¨çº¿æ¸¸æˆ å†åˆ°æ™ºèƒ½æ‰‹æœºå‘å±•ï¼šç­¾åˆ°ã€çº¦ä¼šå’Œåœ°å›¾å¯¼èˆªç­‰ç­‰ è´²æœ¬ç« ä¸»è¦å­¦ä¹ ç½‘ç»œåº”ç”¨çš„åŸç†å’Œå®ç°æ–¹é¢çš„åªæ˜¯ï¼Œä»å…³é”®çš„åº”ç”¨å±‚æ¦‚å¿µå¼€å§‹ï¼Œæè¿°ç½‘ç»œæœåŠ¡ã€å®¢æˆ·å’ŒæœåŠ¡å™¨ã€è¿›ç¨‹å’Œè¿è¾“å±‚æ¥å£ï¼Œä¹‹åè®¾è®¡å¼€å‘è¿è¡Œåœ¨TCPå’ŒUDPçš„ç½‘ç»œåº”ç”¨ç¨‹åºï¼Œä¹‹åå­¦ä¹ Socketæ¥å£æ¥ç¼–å†™ä¸€äº›ç®€å•çš„å®¢æˆ·-æœåŠ¡å™¨åº”ç”¨ç¨‹åºã€‚ 2.1 åº”ç”¨å±‚åè®®åŸç† åœ¨åº”ç”¨å±‚ç¨‹åºå¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ä¸å¿…è¦å…³å¿ƒç½‘ç»œä¸­è·¯ç”±è®¾ç½®ç­‰ç­‰æƒ…å†µã€‚ 2.1.1 ç½‘ç»œåº”ç”¨ç¨‹åºä½“ç³»ç»“æ„ï¼ˆ Application architectureï¼‰ åº”ç”¨ç¨‹åºç ”å‘è€…è®¾è®¡ï¼Œè§„å®šå¦‚ä½•åœ¨å„ç§ç«¯ç³»ç»Ÿä¸Šç»„ç»‡è¯¥åº”ç”¨ç¨‹åºï¼Œåœ¨é€‰æ‹©åº”ç”¨ç¨‹åºä½“ç³»ç»“æ„æ—¶ï¼Œåº”ç”¨ç¨‹åºç ”å‘è€…å¾ˆå¯èƒ½åˆ©ç”¨ç°ä»£ç½‘ç»œåº”ç”¨ç¨‹åºæ‰€ä½¿ç”¨çš„ä¸¤ç§ä¸»æµä½“ç³»ç»“æ„ä¹‹ä¸€ï¼šå®¢æˆ·-æœåŠ¡å™¨ä½“ç³»ç»“æ„å’Œå¯¹ç­‰P2Pä½“ç³»ç»“æ„ Client-server architectureï¼Œå¯èƒ½ä¼šå‡ºç°å¤šå°å®¢æˆ·ç«¯æƒ³æœåŠ¡å™¨å“åº”ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹æœåŠ¡å™¨çš„IPåœ°å€æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯ä¼šå‡ºç°å•ç‹¬çš„æœåŠ¡å™¨ä¸»æœºè·Ÿä¸ä¸Šæ‰€æœ‰å®¢æˆ·è¯·æ±‚çš„æƒ…å†µï¼Œå› æ­¤éœ€è¦è®¾ç½®å¤šä¸ªæ•°æ®ä¸­å¿ƒData centerç”¨æ¥åˆ›å»ºå¼ºå¤§çš„è™šæ‹ŸæœåŠ¡å™¨ï¼Œé€šå¸¸ä¸€ä¸ªæ•°æ®ä¸­å¿ƒå¯èƒ½å­˜åœ¨æ•°åä¸‡å°æœåŠ¡å™¨ P2P architectureï¼Œåº”ç”¨ç¨‹åºå¯¹äºä¸“ç”¨æœåŠ¡å™¨çš„å…·æœ‰æœ€å°çš„ä¾èµ–ï¼Œç›¸ååº”ç”¨ç¨‹åºåœ¨é—´æ–­è¿æ¥çš„ä¸»æœºä¹‹é—´ä½¿ç”¨ç›´æ¥é€šä¿¡ï¼Œè¿™äº›ä¸»æœºå¯¹ç§°ä¸ºå¯¹ç­‰æ–¹ï¼ŒæœåŠ¡å™¨ç”¨äºè·Ÿè¸ªç”¨æˆ·çš„IPåœ°å€ï¼Œä½†æ˜¯ç”¨æˆ·åˆ°ç”¨æˆ·çš„æŠ¥æ–‡åœ¨ç”¨æˆ·ä¸»æœºä¹‹é—´æ— é¡»é€šè¿‡ä¸­é—´æœåŠ¡å™¨ç›´æ¥å‘é€ï¼Œä¸€ä¸ªæ¯”è¾ƒå¤§çš„ç‰¹ç‚¹æ˜¯å…·æœ‰è‡ªæ‹“å±•æ€§ï¼ˆself-scalabilityï¼‰ 2.1.2 è¿›ç¨‹é€šä¿¡ï¼ˆProcess communicationï¼‰ åœ¨æ„å»ºç½‘ç»œåº”ç”¨éœ€è¦å¯¹è¿è¡Œåœ¨å¤šä¸ªç«¯ç³»ç»Ÿä¸Šçš„ç¨‹åºæ˜¯å¦‚ä½•è¿›è¡Œé€šä¿¡çš„æƒ…å†µè¿›è¡Œäº†è§£ï¼Œâš ï¸è®¡ç®—æœºç½‘ç»œä¸­å¹¶ä¸å…³æ³¨äºåŒä¸€å°ä¸»æœºçš„è¿›ç¨‹ï¼Œè€Œæ˜¯ä¸åŒç«¯ç³»ç»Ÿçš„è¿›ç¨‹ï¼ˆProcessï¼‰ä¹‹é—´çš„é€šä¿¡æœºåˆ¶ åœ¨è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ä¼šè¯åœºæ™¯ä¸­ï¼Œå‘èµ·é€šä¿¡çš„ç§°ä¸ºå®¢æˆ·ï¼ˆClinetï¼‰ã€åœ¨ä¼šè¯å¼€å§‹ç­‰å¾…è”ç³»çš„æ˜¯æœåŠ¡å™¨ï¼ˆServerï¼‰ è¿›ç¨‹ä¸ç½‘ç»œä¹‹é—´é€šä¿¡çš„æ¥å£éœ€è¦ä½¿ç”¨å¥—æ¥å­—ï¼ˆSocketï¼‰çš„è½¯ä»¶æ¥å£å‘ç½‘ç»œå‘é€messageå’Œæ¥å—messageï¼›è°ƒç”¨ç³»ç»Ÿæä¾›çš„socket apiå’Œæ“ä½œç³»ç»Ÿï¼Œå°†å…¶è½¬æ¢ä¸ºä¸åŒçš„æµé‡çš„tCPå†å‘é€ã€‚æˆ‘ä»¬å¯ä»¥åœ¨Socketä¸­é€‰æ‹©ä»€ä¹ˆï¼Ÿ é€‰æ‹©è¿è¾“å±‚çš„åè®® è®¾å®šå‡ ä¸ªè¿è¾“å±‚å‚æ•°ï¼Œæ¯”å¦‚æœ€å¤§ç¼“å­˜å’Œæœ€å¤§æŠ¥æ–‡é•¿åº¦ åŒæ—¶åœ¨è¿›ç¨‹éœ€è¦è€ƒè™‘åœ°å€IPå’Œç«¯å£Portçš„é€‰æ‹© TCP/UDPç«¯å£åˆ—è¡¨ - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ 2.1.3 å¯ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨çš„è¿è¾“æœåŠ¡ é’ˆå¯¹ä¸åŒçš„Applicationè‡ªç„¶éœ€è¦ä¸åŒçš„è¿è¾“æ–¹å¼ï¼Œæ¯”å¦‚å®é™…çš„ç«è½¦ã€é£æœºå„æœ‰ä¸åŒï¼Œè®¡ç®—æœºç½‘ç»œä¼ è¾“æ–¹å¼ä¹Ÿæ˜¯ç›¸åŒã€‚éœ€æ±‚åˆ†æéœ€è¦ä»ä¹‹é—´çš„è®¡ç®—æœºç½‘ç»œçš„åŸºæœ¬ç‰¹æ€§å‡ºå‘ å¯é æ€§æ•°æ®ä¼ è¾“ï¼ˆreliable data transferï¼‰ ååé‡ï¼ˆBandwidthï¼‰ å®šæ—¶ï¼ˆTime delayï¼‰ å®‰å…¨æ€§ï¼ˆSecurityï¼‰ 2.1.4 å› ç‰¹ç½‘ï¼ˆæˆ–è€…æŠ½è±¡æ¨¡å‹ä¸‹æ¬¡å±‚ï¼‰æä¾›çš„è¿è¾“æœåŠ¡ æä¾›TCPå’ŒUDPä¼ è¾“åè®®ï¼Œè¿™ä¸ªæ˜¯è¿è¾“å±‚æä¾›çš„é€‰æ‹© TCPçš„ä¸»è¦ç‰¹ç‚¹æ˜¯é¢å‘è¿æ¥çš„æœåŠ¡ï¼Œä¼šæœ‰æ¡æ‰‹çš„è¿‡ç¨‹ï¼ŒåŒæ—¶æä¾›å¯é çš„æ•°æ®ä¼ è¾“æœåŠ¡ä»¥åŠæ‹¥å¡æ§åˆ¶æœºåˆ¶ã€‚ UDPæä¾›ä¸å¿…è¦æœåŠ¡çš„è½»é‡çº§è¿è¾“åè®®ï¼Œé¢å‘æ— è¿æ¥çš„ é¢å¤–çš„ä¼šæœ‰Security Socket Layeræ¥å°†è¿›è¡ŒåŠ å¯†ï¼Œæä¾›å…³é”®è¿›ç¨‹åˆ°è¿›ç¨‹çš„å®‰å…¨æ€§æœåŠ¡ 2.1.5 åº”ç”¨å±‚åè®®ï¼ˆapplication-layer protocolï¼‰ å­¦ä¹ å¦‚ä½•æ„é€ æŠ¥æ–‡å‘é€åˆ°Socketå®ç°ç½‘ç»œè¿›ç¨‹ä¹‹é—´çš„ç›¸äº’é€šä¿¡ï¼Œå¦‚ä½•æ„é€ è¿™äº›æŠ¥æ–‡ï¼Ÿå¦‚ä½•æ˜ç¡®è¿™äº›æŠ¥æ–‡ä¸­å­—æ®µçš„å«ä¹‰ï¼Ÿåœ¨ä½•æ—¶å‘é€æŠ¥æ–‡ï¼Ÿè¿™äº›éƒ½æ˜¯ç”±åè®®è§„å®šçš„ï¼š äº¤æ¢çš„æŠ¥æ–‡ç±»å‹ï¼Œåˆ©ç”¨requestå’ŒresponseæŠ¥æ–‡ æŠ¥æ–‡ä¸­å­—æ®µæ˜¯å¦‚ä½•æè¿° å­—æ®µçš„è¯­ä¹‰ ç¡®å®šä¸€ä¸ªè¿›ç¨‹ä½•æ—¶ä»¥åŠå¦‚ä½•å‘é€æŠ¥æ–‡ 2.2 Webå’ŒHTTP Webæ˜¯ä¸€ä¸ªå¼•èµ·å…¬ä¼—æ³¨æ„çš„å› ç‰¹ç½‘åº”ç”¨ï¼Œæå¤§çš„æ”¹å˜äº†äººä¸å·¥ä½œç¯å¢ƒäº¤æµçš„æ–¹å¼ï¼Œå®ƒå°†äººä»¬ä»è¢«åŠ¨æ¥å—è½¬å‘æŒ‰éœ€æ“ä½œ 2.2.1 HTTPæ¦‚å†µï¼ˆHyperText Transfer Protocolï¼ŒHTTPï¼‰ è¶…æ–‡æœ¬ä¼ è¾“åè®®æ˜¯Webçš„æ ¸å¿ƒï¼Œä¸»è¦ç”±å®¢æˆ·ç«¯ç¨‹åºå’ŒæœåŠ¡å™¨ç¨‹åºç»„æˆï¼Œåœ¨ä¸¤ä¸ªä¸åŒçš„hostä¸­ï¼Œé€šè¿‡äº¤æ¢HTTPæŠ¥æ–‡è¿›è¡Œä¼šè¯ï¼Œéœ€è¦å›é¡¾Webæœ¯è¯­ã€‚ Webé¡µé¢ï¼ˆweb pageï¼‰æ˜¯ç”±å¯¹è±¡ï¼ˆObjectï¼‰ç»„æˆçš„ï¼ŒåŒ…æ‹¬HTMLæ–‡ä»¶ã€JPEGå›¾ç‰‡ã€JAVAç¨‹åºæˆ–è€…è§†é¢‘ç­‰ URLæ˜¯è¿™äº›æ–‡ä»¶å¯»æ‰¾åœ°å€çš„ä¸œè¥¿ï¼Œå¤šæ•°Webé¡µé¢åŒ…å«HTMLæ–‡æœ¬å’Œ5ä¸ªJPEGå›¾å½¢ï¼Œæµè§ˆå™¨ï¼ˆWeb browserï¼‰å®ç°äº†HTTPçš„å®¢æˆ·ç«¯ã€æœåŠ¡å™¨ï¼ˆWeb serverï¼‰å®ç°äº†HTPPçš„æœåŠ¡å™¨ç«¯ï¼Œç”¨äºå­˜å‚¨webå¯¹è±¡ HTTPä¹Ÿå®šä¹‰äº†å®¢æˆ·ç«¯è¯·æ±‚å’Œå›å¤Webé¡µé¢çš„æ–¹å¼ï¼ŒHTTPä½¿ç”¨TCPä½œä¸ºæ”¯æ’‘è¿è¾“åè®®ï¼Œå³HTTPä¸€å®šèƒ½ä¿è¯æŠ¥æ–‡å¯ä»¥ä¼ é€’ï¼ŒåŒæ—¶åœ¨è¯·æ±‚å’Œå›å¤çš„çŠ¶æ€ä¸­ï¼ŒæœåŠ¡å™¨å¹¶ä¸ä¼šä¿å­˜å…³äºå®¢æˆ·çš„ä»»ä½•ä¿¡æ¯ï¼Œå› æ­¤æ˜¯ä¸€ä¸ªæ— çŠ¶æ€åè®®ï¼ˆStateless protocolï¼‰ 2.2.2 éæŒç»­è¿æ¥å’ŒæŒç»­è¿æ¥ï¼ˆyes or no persistent connectionï¼‰ ä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼šå­˜åœ¨ä¸€ä¸ªæŒç»­æ–‡ä»¶äº¤äº’æ˜¯é‡‡ç”¨å•ç‹¬çš„TCPè¿æ¥ï¼Œè¿˜æ˜¯ç»è¿‡ä¸åŒçš„TCPè¿æ¥ï¼Œç»è¿‡æ¿€çƒˆçš„è®¨è®ºå¸Œæœ›åœ¨ä¸€å®šæ—¶é—´é—´éš”å†…é‡‡ç”¨æŒç»­æ€§è¿æ¥çš„æ–¹å¼ï¼Œè¶…è¿‡ä¹‹åé‡‡ç”¨éæŒç»­æ€§è¿æ¥çš„æ–¹å¼ 2.2.3 HTTPæŠ¥æ–‡æ ¼å¼ ç¬¬ä¸€ç§è¯·æ±‚æŠ¥æ–‡ï¼Œç¬¬ä¸€è¡Œæ˜¯request lineï¼Œåé¢çš„è¡Œheader lineï¼Œ è¯·æ±‚è¡ŒåŒ…æ‹¬æ–¹æ³•å­—æ®µã€URLå­—æ®µå’ŒHTTPç‰ˆæœ¬ å¸¸ç”¨çš„æ–¹æ³•æœ‰GETã€POSTã€HEADã€PUTã€DELETE HOSTæä¾›ä¿¡æ¯æ˜¯webä»£ç†é«˜é€Ÿç¼“å­˜æ‰€éœ€è¦çš„ Connectionï¼šé«˜é€ŸæœåŠ¡å™¨ä¸è¦ä½¿ç”¨æŒç»­è¿æ¥ User-agentï¼šæŒ‡æ˜ç”¨æˆ·ä»£ç†ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡å™¨çš„ç±»å‹ Accept-languageï¼šè¡¨ç¤ºæ‹¥æŠ¤æƒ³è¦è¯¥å¯¹è±¡çš„ç‰ˆæœ¬ ä¸‰ä¸ªéƒ¨åˆ†ï¼šåˆå§‹çŠ¶æ€è¡Œstatus lineã€å…­ä¸ªé¦–éƒ¨è¡Œheader lineã€å®ä½“è¡Œentity body HTTPä»¥åŠçŠ¶æ€ç  connection è¡¨ç¤ºå‘é€å®Œä¹‹åå°†å…³é—­tcpè¿æ¥ 200 OKè¯·æ±‚æˆåŠŸ 301å¯¹è±¡è¢«æ°¸ä¹…è½¬ç§»äº† 400é€šç”¨å·®é”™ä»£ç  404 è¯·æ±‚çš„æ–‡æ¡£ä¸åœ¨æœåŠ¡å™¨ä¸Š 505 æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚æŠ¥æ–‡ä½¿ç”¨çš„HTTPåè®®ç‰ˆæœ¬ Date è¡¨ç¤ºæœåŠ¡å™¨ä»æ–‡ä»¶ç³»ç»Ÿä¸­æ£€ç´¢åˆ°è¯¥å¯¹è±¡ï¼Œå¹¶æ’å…¥å“åº”æŠ¥æ–‡å¹¶å‘é€è¯¥æŠ¥æ–‡çš„æ—¶é—´ Serverï¼šè¡¨ç¤ºæœåŠ¡å™¨äº§ç”Ÿ Last-modifiedï¼šè¡¨ç¤ºå¯¹è±¡åˆ›å»ºæˆ–è€…æœ€åä¿®æ”¹çš„æ—¥æœŸå’Œæ—¶é—´ Content-Lengthï¼šåŒ…å«çš„å­—èŠ‚æ•° content-typeï¼šå¯¹è±¡æ˜¯HTMLæ–‡æœ¬ 2.2.4 æœåŠ¡å™¨ç¼“å­˜ cookie æ— çŠ¶æ€çš„HTTPæœåŠ¡å™¨ç®€åŒ–äº†è®¾è®¡ï¼Œä½†æ˜¯ä¸ºäº†è¯†åˆ«ç”¨æˆ·ï¼Œè¿˜æ˜¯å¸Œæœ›å°†è¯·æ±‚å†…å®¹ä¸ç”¨æˆ·èº«ä»½è”ç³»èµ·æ¥ï¼Œä¸ºæ­¤ä½¿ç”¨Cookieï¼Œå…¶ä¸»è¦ç”±å››ä¸ªç»„ä»¶æ„æˆ åœ¨HTTPå“åº”æŠ¥æ–‡ä¸­ä¸€ä¸ªcookieé¦–éƒ¨è¡Œ åœ¨HTTPè¯·æ±‚æŠ¥æ–‡ä¸­ä¸€ä¸ªcookieé¦–éƒ¨è¡Œ åœ¨ç”¨æˆ·ç«¯ç³»ç»Ÿä¸­ä¿ç•™æœ‰ä¸€ä¸ªcookieæ–‡ä»¶ï¼Œå¹¶ç”±ç”¨æˆ·çš„æµè§ˆå™¨è¿›è¡Œç®¡ç† ä½äºwebç«™ç‚¹çš„ä¸€ä¸ªåç«¯æ•°æ®åº“ ä½†æ˜¯ç»“åˆcookieç”¨æˆ·æä¾›çš„è´¦æˆ·ä¿¡æ¯ï¼Œwebç«™ç‚¹å¯ä»¥çŸ¥é“è®¸å¤šç”¨æˆ·çš„ä¿¡æ¯ 2.2.5 Webç¼“å­˜ï¼ˆcacheï¼‰ ä¹Ÿå«åšä»£ç†æœåŠ¡å™¨ï¼ˆproxy serverï¼‰ï¼Œæ˜¯èƒ½å¤Ÿä»£è¡¨åˆå§‹WebæœåŠ¡å™¨æ¥æ»¡è¶³HTTPè¯·æ±‚çš„ç½‘ç»œå®ä½“ webç¼“å­˜å¯ä»¥å¤§å¤§å‡å°‘å®¢æˆ·è¯·æ±‚çš„å“åº”æ—¶é—´ï¼Œ åŒæ—¶å¯ä»¥å¤§å¤§å‡å°‘ä¸€ä¸ªæœºæ„çš„æ¥å…¥é“¾è·¯åˆ°å› ç‰¹ç½‘çš„é€šä¿¡é‡ï¼Œé€šè¿‡å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆContent Distribution Networkï¼ŒCDNï¼‰ï¼Œwebç¼“å­˜å™¨æ­£åœ¨è®©å› ç‰¹ç½‘å‘æŒ¥è¶Šæ¥è¶Šå¤šçš„ä½œç”¨ ä½†æ˜¯webç¼“å­˜çš„ä¸€ä¸ªé‡è¦çš„é—®é¢˜å¯èƒ½æ˜¯ï¼Œå­˜æ”¾åœ¨ç¼“å­˜å™¨ä¸­çš„å¯¹è±¡å‰¯æœ¬å¯èƒ½æ˜¯é™ˆæ—§çš„ï¼Œè¿™å°±éœ€è¦ç¼“å­˜å™¨è¯å®å¯¹è±¡æ˜¯æœ€æ–°çš„ï¼Œä¹Ÿå°±æ˜¯æ¡ä»¶GETï¼ˆconditional GETæ–¹æ³•ï¼‰ 2.3 Mailå’ŒSMTPã€POP3ã€IMAPã€HTTP å½“å› ç‰¹ç½‘è¿˜åœ¨è¥è¤“ä¹‹ä¸­ï¼Œç”µå­é‚®ä»¶å·²ç»ç§°ä¸ºæ¥æœ€æµè¡Œçš„åº”ç”¨ç¨‹åºï¼Œæ˜¯ä¸€ç§å¼‚æ­¥é€šä¿¡åª’ä»‹ï¼Œä¹Ÿå°±æ˜¯äººä»¬æ–¹ä¾¿çš„æ—¶å€™å¯ä»¥æ”¶å‘é‚®ä»¶ï¼Œä¸å¿…ä¸ä»–äººè®¡åˆ’è¿›è¡Œåè°ƒã€‚åŒæ—¶ç”µå­é‚®ä»¶çš„ä¼˜åŠ¿åœ¨äºå…·æœ‰é™„ä»¶ã€è¶…é“¾æ¥ã€htmlæ ¼å¼æ–‡æœ¬çš„å›¾ç‰‡çš„æŠ¥æ–‡ã€‚ é¦–å…ˆçœ‹ç”µå­é‚®ä»¶çš„æ€»ä½“ç»“æ„ä»¥åŠå…³é”®ç»„æˆéƒ¨åˆ† ç”¨æˆ·ä»£ç† user-agent é‚®ä»¶æœåŠ¡å™¨ mail-server ç®€å•é‚®ä»¶ä¼ è¾“åè®® simple-Mail-Transfer-Protocolï¼ŒSMTP é‡è¦çš„åœºæ™¯ï¼š SMTPä¸€èˆ¬ä¸ä½¿ç”¨ä¸­é—´é‚®ä»¶æœåŠ¡å™¨å‘é€é‚®ä»¶ï¼Œå³æ—¶è¿™ä¸¤ä¸ªé‚®ä»¶æœåŠ¡å™¨ä½äºåœ°çƒä¸¤ç«¯ä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œå³ä½¿å¦ä¸€ä¸ªæœåŠ¡å™¨æ²¡æœ‰å¼€æœºï¼Œè¿™æ ·çš„æŠ¥æ–‡ä¹Ÿä¼šä¿ç•™åœ¨ALiceçš„é‚®ä»¶æœåŠ¡å™¨ä¸Šç­‰å¾…è¿›è¡Œæ–°çš„å°è¯• 2.3.1 SMTPåè®® 2.3.2 SMTPåè®®ä¸HTTPåè®®å¯¹æ¯” HTTP ä»WebæœåŠ¡å™¨å‘å®¢æˆ·ç«¯ä¼ é€æ–‡ä»¶ï¼›ä½†æ˜¯HTTPæ˜¯ä¸€ä¸ªpull protocolï¼Œåœ¨æ–¹ä¾¿çš„æ—¶å€™ï¼ŒæŸäº›äººåœ¨WebæœåŠ¡å™¨ä¸Šè£…è½½ä¿¡æ¯ï¼Œç”¨æˆ·ä½¿ç”¨HTTPåè®®ä»æœåŠ¡å™¨ä¸Šæ‹‰å–è¿™äº›åè®® SMTP ä»ä¸€ä¸ªé‚®ä»¶æœåŠ¡å™¨å‘å¦ä¸€ä¸ªé‚®ä»¶æœåŠ¡å™¨ä¼ é€æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯å‘é€é‚®ä»¶æœåŠ¡å™¨å°†æ–‡ä»¶æ¨å‘æ¥å—é‚®ä»¶æœåŠ¡å™¨ å…¶ä»–çš„åŒºåˆ«ï¼š STMPè¦æ±‚æ¯ä¸ªæŠ¥æ–‡æŒ‰ç…§7æ¯”ç‰¹ASCIIæ ¼å¼ï¼Œå¦‚æœå«æœ‰éæ³•çš„7æ¯”ç‰¹æˆ–è€…äºŒè¿›åˆ¶çš„å›¾å½¢æ–‡ä»¶ï¼Œéœ€è¦æŒ‰ç…§7æ¯”ç‰¹ASCIIè¿›è¡Œç¼–ç ï¼ŒHTTPä¸å—è¿™æ ·çš„é™åˆ¶ å¦‚ä½•å¤„ç†åŒ…å«æ–‡æœ¬å’Œå›¾å½¢çš„æ–‡æ¡£ï¼ŒHTTPå°†å…¶å°è£…åœ¨HTTPå“åº”æŠ¥æ–‡ä¸­ï¼ŒSMTPåˆ™æŠŠæ‰€æœ‰æŠ¥æ–‡å¯¹è±¡æ”¾åœ¨ä¸€ä¸ªæŠ¥æ–‡ä¸­ 2.3.3 é‚®ä»¶æŠ¥æ–‡æ ¼å¼ ç±»ä¼¼ä¸SPIã€CANï¼Œæ— çº¿ä¼ é€’éƒ½éœ€è¦ä½¿ç”¨é¦–éƒ¨è¡Œæ¥ä½œä¸ºæ ‡è¯†ï¼Œåªæ˜¯ä½œä¸ºåº”ç”¨å±‚çš„æ ‡è¯†å¯èƒ½æ›´äººæ€§åŒ–ä¸€ç‚¹ï¼Œä½†æ˜¯è¿™æ ·çš„äººæ€§åŒ–å¯èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šè®©äººäº§ç”Ÿè´¹è§£ï¼Œä¹‹åç†è§£èƒŒåçš„æœºç†æ‰èƒ½æ›´å¥½ç†è§£åˆ«äººã€‚ 2.3.4 é‚®ä»¶è®¿é—®åè®® ä¹‹å‰è®¨è®ºçš„SMTPåè®®ï¼Œå¿…é¡»è¦æ±‚å‘é€ç«¯å‘é€çš„æ—¶å€™ï¼Œæ¥æ”¶ç«¯åœ¨çº¿ï¼Œä½†æ˜¯ç”±äºPCæˆ–è€…æ‰‹æœºä¸èƒ½ä¸€ç§ä¿æŒåœ¨çº¿ï¼Œå› æ­¤é€šå¸¸éœ€è¦ä¸€ä¸ªå…±äº«çš„é‚®ä»¶æœåŠ¡å™¨ï¼Œä½†æ˜¯è¿™ä¸ªæœåŠ¡å™¨å’Œä»£ç†ä¹‹é—´ä¸èƒ½é€šè¿‡SMTPä¼ é€ï¼Œå› ä¸ºSMTPåªèƒ½Pushï¼Œä¸èƒ½PULLæ–‡ä»¶ï¼Œå› æ­¤éœ€è¦ä¸€äº›æµè¡Œçš„é‚®ä»¶è®¿é—®åè®®ï¼ŒåŒ…æ‹¬ ç¬¬ä¸‰ç‰ˆçš„é‚®å±€åè®®ï¼ŒPOST-OFFCIE-PROTOCOLï¼ŒPOP3 ç¬¬ä¸€ä¸ªé˜¶æ®µï¼šç‰¹è®¸ï¼ˆAuthorizationï¼‰ ç¬¬äºŒä¸ªé˜¶æ®µï¼šäº‹åŠ¡å¤„ç† ç¬¬ä¸‰ä¸ªé˜¶æ®µï¼šæ›´æ–° ç‰¹ç‚¹ï¼Œä¸€æ—¦å°†é‚®ä»¶ä¸‹è½½åˆ°æœ¬åœ°ä¸»æœºå°±èƒ½ç®€å†é‚®ä»¶æ–‡ä»¶å¤¹ï¼Œå¹¶å°†ä¸‹è½½çš„é‚®ä»¶æ”¾å…¥è¯¥æ–‡ä»¶å¤¹ä¸­ï¼Œä¹‹åBobå¯ä»¥åˆ é™¤æŠ¥æ–‡ï¼Œå¯ä»¥åœ¨æ–‡ä»¶å¤¹ä¹‹é—´ç§»åŠ¨æŠ¥æ–‡ï¼Œå¹¶æŸ¥è¯¢æŠ¥æ–‡ï¼Œä½†æ˜¯POP3åè®®æ²¡æœ‰ç»™ç”¨æˆ·æä¾›ä»»ä½•åˆ›å»ºè¿œç¨‹æ–‡ä»¶å¤¹å¹¶ä¸ºæŠ¥æ–‡æŒ‡æ´¾æ–‡ä»¶å¤¹çš„æ–¹æ³• å› ç‰¹ç½‘é‚®ä»¶è®¿é—®åè®® Internet Mail Access Protocolï¼ŒIMAP IMAPåè®®æ˜¯ä¸€ä¸ªé‚®ä»¶è®¿é—®åè®®ï¼Œæ¯ä¸ªæŠ¥æ–‡ä¸ä¸€ä¸ªæ–‡ä»¶å¤¹è”ç³»èµ·æ¥ï¼Œå½“æŠ¥æ–‡ç¬¬ä¸€æ¬¡åˆ°è¾¾æœåŠ¡å™¨æ—¶ï¼Œä¸æ”¶ä»¶äººçš„inboxçš„æ–‡ä»¶å¤¹ç›¸å…³è”ï¼Œæ”¶ä»¶äººåˆ™èƒ½å¤ŸæŠŠé‚®ä»¶è½¬ç§»åˆ°ä¸€ä¸ªæ–°çš„ã€ç”¨æˆ·åˆ›å»ºçš„æ–‡ä»¶å¤¹ä¸­ï¼Œé˜…è¯»é‚®ä»¶ã€åˆ é™¤é‚®ä»¶ç­‰ è¿˜æä¾›äº†åœ¨è¿œç¨‹æ–‡ä»¶å¤¹ä¸­æŸ¥è¯¢é‚®ä»¶çš„å‘½ä»¤ ç»´æŠ¤äº†IMAPä¼šè¯çš„ç”¨æˆ·çŠ¶æ€ä¿¡æ¯ ï¼ˆé‡è¦ï¼‰å…è®¸ç”¨æˆ·ä»£ç†è·å–æŠ¥æ–‡æŸäº›éƒ¨åˆ†çš„å‘½ä»¤ HTTP åœ¨ä¸Šè¿°é€‰æ‹©å’Œè·å–çš„è¿‡ç¨‹é‡‡ç”¨çš„æ˜¯httpçš„åè®® ä½†æ˜¯é‚®ä»¶ä¼ è¾“çš„è¿‡ç¨‹ä¸­ä»ç„¶é‡‡ç”¨çš„æ˜¯SMTPåè®® 2.4 URLå’ŒDNS ä¸€ä»¶äº‹ç‰©é€šå¸¸å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼æ¥è¿›è¡Œæ ‡è¯†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å§“åæ¥æ ‡è¯†ï¼Œä¹Ÿå¯ä»¥é€šè¿‡èº«ä»½è¯æ¥æ ‡è¯†ã€ä¹Ÿå¯ä»¥é€šè¿‡ç¤¾ä¿è´¦å·æ¥æœ‰é™çš„ã€é€šè¿‡æŸä¸ªå­¦æ ¡çš„å­¦å·æ¥ç¡®å®šçš„è®¤è¯†ä¸€ä¸ªäººï¼Œåœ¨ä¸åŒçš„åœºæ™¯ä¸‹å¯ä»¥é‡‡ç”¨ä¸åŒçš„è¯†åˆ«æ–¹å¼ï¼Œå¯¹äºè®¡ç®—æœºç½‘ç»œä¸­çš„ä¸»æœºæœ‰å¤šç§æ–¹å¼ ä¸»æœºåç§°ï¼ˆHost nameï¼‰ï¼Œwww.baidu.comç­‰ï¼Œä½†æ˜¯ä¸»æœºå‡ ä¹æ²¡å“Ÿæä¾›ä¸»æœºåœ¨å› ç‰¹ç½‘ä¸­çš„ä½ç½®ä¿¡æ¯ IPåœ°å€ï¼Œåˆ©ç”¨4å­—èŠ‚ç»„æˆï¼Œå…·æœ‰ä¸¥æ ¼çš„å±‚æ¬¡ç»“æ„ï¼Œè¿™é‡Œå°†åœ¨ç¬¬å››ç« ä¸­è¿›è¡Œè®¨è®º 2.4.1 DNSï¼ˆDomain Name Systemï¼ŒåŸŸåç³»ç»Ÿï¼‰ äººä»¬å®¹æ˜“è®°ä½ä¸»æœºåæ ‡è¯†æ–¹å¼ï¼Œä½†æ˜¯è·¯ç”±å™¨å–œæ¬¢å®šé•¿çš„ã€æœ‰ç€å±‚æ¬¡ç»“æ„çš„IPåœ°å€ï¼Œä¸ºäº†è¿™äº›ä¸åŒçš„åå¥½ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§å°†ä¸»æœºåç§°è½¬æ¢åˆ°IPåœ°å€çš„ç›®å½•æœåŠ¡ï¼Œè¿™å°±æ˜¯åŸŸåç³»ç»Ÿçš„ä¸»è¦åŠŸèƒ½ ä¸€ä¸ªåˆ†å±‚çš„DNSæœåŠ¡å™¨å®ç°çš„åˆ†å¸ƒå¼æ•°æ®åº“ ä¸€ä¸ªæ˜¯çš„ä¸»æœºèƒ½å¤ŸæŸ¥è¯¢åˆ†å¸ƒå¼æ•°æ®åº“çš„é¢åº”ç”¨å±‚åè®® DNSæœåŠ¡å™¨é€šå¸¸æ˜¯è¿è¡ŒBINDï¼ˆBerkeley internet name domainï¼‰è½¯ä»¶çš„UNIXï¼Œä½¿ç”¨53ç«¯å£ï¼Œè€ƒè™‘å®ƒå¦‚ä½•ä½¿ç”¨ï¼Œå¯ä»¥è§‚å¯Ÿä¸€ä¸ªå®¢æˆ·ç«¯å‘é€URLè¯·æ±‚ä¼šå‘ç”Ÿä»€ä¹ˆæ ·çš„è¿‡ç¨‹ï¼š ç”¨æˆ·ä¸»æœºä¸Šè¿è¡ŒDNSåº”ç”¨çš„å®¢æˆ·ç«¯ æµè§ˆå™¨ä»ä¸Šè¿°URLä¸­æŠ½å–å‡ºä¸»æœºåï¼Œä¹Ÿå°±æ˜¯URLï¼Œä¼ é€’ç»™DNSåº”ç”¨çš„å®¢æˆ·ç«¯ DNSå®¢æˆ·ç«¯å‘DNSæœåŠ¡å™¨å‘é€åŒ…å«ä¸»æœºçš„è¯·æ±‚ è¿”å›ipåœ°å€çš„æŠ¥æ–‡ ä¸€æ—¦æµè§ˆå™¨æ²¡æ”¶åˆ°æ¥è‡ªDNSçš„IPåœ°å€ï¼Œå‘è¯¥IPåœ°å€çš„80ç«¯å£çš„HTTPæœåŠ¡å™¨è¿›ç¨‹å‘é€ä¸€ä¸ªTCPè¿æ¥ é™¤è¿›è¡Œä¸»æœºåˆ°IPåœ°å€çš„è½¬æ¢ä¹‹å¤–è¿˜æä¾›æœåŠ¡ ä¸»æœºååˆ°ipåœ°å€è½¬æ¢ ä¸»æœºåˆ«å host aliasing é‚®ä»¶æœåŠ¡å™¨åˆ«å mail server aliasing è´Ÿè½½åˆ†é… load distribution ç”¨äºåœ¨å†—ä½™çš„æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œè´Ÿè½½åˆ†é…ï¼Œç¹å¿™çš„ç«™ç‚¹è¢«å†—ä½™åˆ†å¸ƒåœ¨å¤šå°æœåŠ¡å™¨ä¸­ï¼Œæ¯å°æœåŠ¡å™¨å‡è¿è¡Œåœ¨ä¸åŒçš„ç«¯ç³»ç»Ÿé«˜ä¸Šï¼Œå› æ­¤ipåœ°å€é›†åˆå¯ä»¥ä¸åŒä¸€ä¸ªè§„èŒƒä¸»æœºåç›¸è”ç³»ã€‚ä¸€äº›å†…å®¹åˆ†å‘å…¬å¸ä¹Ÿä»¥æ›´åŠ å¤æ‚çš„æ–¹å¼ä½¿ç”¨DNSæ¥æä¾›webå†…å®¹åˆ†å‘ 2.4.2 DNSå·¥ä½œåŸç†æ¦‚è¿° DNSå®¢æˆ·ç«¯ä½¿ç”¨gethostbyname() çš„æ–¹æ³•å¯ä»¥ç®€å•çš„å¾—åˆ°IPåœ°å€çš„æŠ¥æ–‡ï¼Œä½†æ˜¯å¯¹äºDNSå†…éƒ¨æœºç†å¤æ‚ï¼Œå› ä¸ºå®ƒæ˜¯ç”±åˆ†å¸ƒåœ¨å…¨çƒå¤§é‡çš„DNSæœåŠ¡å™¨ä»¥åŠå®šä¹‰DNSæœåŠ¡å™¨ä¸æŸ¥è¯¢ä¸»æœºé€šä¿¡æ–¹å¼çš„åº”ç”¨å±‚åè®®ç»„æˆ å¦‚æœä¸€ä¸ªç½‘ç»œåªå­˜åœ¨ä¸€ä¸ªDNSæœåŠ¡å™¨ å•ç‚¹æ•…éšœ a single point of failure é€šä¿¡å®¹é‡ traffic volume è¿œè·ç¦»çš„é›†ä¸­å¼æ•°æ®åº“ distant centralized database ç»´æŠ¤ maintenanceï¼Œå› æ­¤éœ€è¦é‡‡ç”¨ä¸åŒå±‚æ¬¡æ–¹å¼ç»„ç»‡ éœ€è¦åˆ†å¸ƒå¼ã€å±‚æ¬¡æ•°æ®åº“ æ ¹DNS é¡¶çº§åŸŸ Top Level Domain TLD æƒå¨DNSæœåŠ¡å™¨ æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œè¿™ä¸ªç”±ISPæä¾›ï¼Œæœ¬åœ°DNSæœåŠ¡å™¨é€šå¸¸ä½¿ç”¨DHCPä¸å…¶ä»–æœ¬åœ°DNSæœåŠ¡å™¨è¿æ¥ï¼Œåœ¨æœ¬æ¬¡ç½‘ç»œä¸­å¯èƒ½ä¸ç”¨æˆ·çš„æœåŠ¡å™¨ä¸´è¿‘ï¼Œèµ·åˆ°äº†ä»£ç†çš„ä½œç”¨ è¿™é‡Œä½¿ç”¨åˆ°äº†é€’å½’æŸ¥è¯¢ï¼ˆrecursive queryï¼‰å’Œè¿­ä»£æŸ¥è¯¢ï¼ˆiterative queryï¼‰ä¸¤ç§æ–¹å¼ ğŸ’¡ DNSç¼“å­˜ ä¸ºäº†æ”¹å–„æ—¶å»¶å’Œå‡å°‘äº’è”ç½‘ä¸Šçš„DNSæŠ¥æ–‡æ•°é‡ï¼Œå¹¿æ³›ä½¿ç”¨ç¼“å­˜çš„æ¦‚å¿µï¼Œä¸€èˆ¬æƒ…å†µä¸‹DNSæœåŠ¡å™¨åœ¨åŒä¸€æ®µæ—¶é—´å†…ä¼šä¸¢å¼ƒç¼“å­˜çš„ä¿¡æ¯ï¼Œè¿™æ ·ä¼šè®©çš„æ ¹æœåŠ¡å™¨æˆ–è€…TLDçš„æœåŠ¡å™¨è¢«ç»•è¿‡ ğŸ’¡ DNSè®°å½•å’ŒæŠ¥æ–‡ å…±åŒå®ç°äº†DNSåˆ†å¸ƒå¼æ•°æ®åº“çš„æ‰€æœ‰DNSæœåŠ¡å™¨å­˜å‚¨çš„èµ„æºè®°å½•ï¼Œåªæœ‰æŸ¥è¯¢å’Œå›ç­”æŠ¥æ–‡ 2.5 File Shareå’ŒP2P åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæœ¬ç« æè¿°çš„åº”ç”¨åŒ…æ‹¬webã€ç”µå­é‚®ä»¶å’ŒDNSéƒ½é‡‡ç”¨äº†å®¢æˆ·-æœåŠ¡å™¨ä½“ç³»ç»“æ„ï¼Œæå¤§ä¾èµ–äºæ€»æ˜¯æ‰“å¼€çš„åŸºç¡€uè®¾æ–½æœåŠ¡å™¨ï¼Œä½¿ç”¨P2Pä½“ç³»ç»“æ„å¯¹äºæ€»æ˜¯æ‰“å¼€çš„åŸºç¡€è®¾ç½®è®¾æ–½æœåŠ¡å™¨æœ‰æœ€å°çš„ä¾èµ–ï¼Œä¸ä¹‹ç›¸åï¼Œæˆé—´æ­‡è¿æ¥çš„ä¸»æœºæ‰¹æ¬¡ç›´æ¥é€šä¿¡ï¼Œè¿™äº›å¯¹ç­‰æ–¹å¹¶ä¸ä¸ºæœåŠ¡æä¾›å•†ISPæ‰€æ‹¥æœ‰ï¼Œè€Œæ˜¯å—ç”¨æˆ·æ§åˆ¶çš„æ¡Œé¢è®¡ç®—æœºå’Œä¸ªäººè®¡ç®—æœº æœ¬æ¬¡ç« èŠ‚å°†ç ”ç©¶ä¸€ä¸ªéå¸¸è‡ªç„¶çš„P2Påº”ç”¨ï¼Œå³ä»å•ä¸€æœåŠ¡å™¨å‘å¤§é‡å¯¹ç­‰æ–¹å‘é€å¤§æ–‡ä»¶ï¼Œè¿™é‡Œå¯èƒ½æ˜¯Linuxæ“ä½œç³»ç»Ÿï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯MP3éŸ³ä¹æ–‡ä»¶ç­‰ï¼Œåœ¨å®¢æˆ·-æœåŠ¡å™¨æ–‡ä»¶åˆ†å‘ä¸­ï¼Œè¯¥æœåŠ¡å™¨å¿…é¡»å‘æ¯ä¸ªå¯¹ç­‰æ–¹å‘é€è¯¥æ–‡ä»¶çš„å‰¯æœ¬ï¼ŒæœåŠ¡å™¨æ‰¿æ‹…äº†æå¤§çš„è´Ÿæ‹…ï¼Œå¹¶ä¸”æ¶ˆè€—äº†å¤§é‡çš„æœåŠ¡å™¨å¸¦å®½ï¼›åœ¨P2Pæ–‡ä»¶åˆ†å‘ä¸­ï¼Œæ¯ä¸ªå¯¹ç­‰æ–¹èƒ½å¤Ÿæ”¶åˆ°ä»»ä½•å…¶ä»–å¯¹ç­‰æ–¹é‡æ–°åˆ†å‘å·²ç»æ”¶åˆ°çš„è¯¥æ–‡ä»¶çš„ä»»ä½•éƒ¨åˆ†ï¼Œè€Œä»åœ¨åˆ†å‘è¿‡ç¨‹ä¸­ååŠ©è¯¥æœåŠ¡å™¨ï¼Œ2016å¹´ä¸­æœ€é‡è¦çš„æ˜¯BitTorrent 2.5.1 P2Pä½“ç³»ç»“æ„çš„æ‹“å±•æ€§ ä¸ºäº†å°†å®¢æˆ·-æœåŠ¡å™¨ä½“ç³»ç»“æ„ä¸P2Pä½“ç³»ç»“æ„è¿›è¡Œæ¯”è¾ƒï¼Œé˜è¿°P2Pçš„å†…åœ¨è‡ªæ‹“å±•æ€§ï¼Œæˆ‘ä»¬ç°åœ¨è€ƒè™‘ä¸€ä¸ªç”¨äºä¸¤ç§ä½“ç³»ç»“æ„ç±»å‹çš„ç®€å•å®šé‡æ¨¡å‹ 2.6 VIdeo Streamå’Œå†…å®¹åˆ†å‘ç½‘CDN åœ¨æœ¬èŠ‚æˆ‘ä»¬å°†å¯¹å¦‚ä½•åœ¨ä»Šå¤©çš„å› ç‰¹ç½‘å®ç°æµè¡Œçš„è§†é¢‘æµæœåŠ¡è¿›è¡Œæ¦‚è¿°ï¼Œå®ç°çš„æ–¹å¼æ˜¯é€šè¿‡åº”ç”¨å±‚åè®®å’Œåƒé«˜é€Ÿç¼“å­˜é‚£æ ·æ–¹å¼è¿è¡Œçš„æœåŠ¡å™¨ã€‚ 2.6.1 å› ç‰¹ç½‘è§†é¢‘ videoæ˜¯ä¸€ç³»åˆ—çš„å›¾åƒï¼Œé€šå¸¸æ˜¯æŒ‰ç…§ä¸€ç§æ’å®šçš„é€Ÿç‡æ¥ï¼Œè¿™äº›æ˜¯é€šè¿‡åƒç´ é˜µåˆ—ç»„æˆï¼Œé€šè¿‡æ¯”ç‰¹ç¼–ç æ¥å®ç°äº®åº¦æˆ–è€…é¢œè‰²ï¼Œå› æ­¤æ¯”ç‰¹ç‡è¶Šé«˜ã€å›¾åƒè´¨é‡è¶Šå¥½ï¼Œç”¨æˆ·çš„æ€»ä½“è§†è§‰æ„Ÿå—è¶Šå¥½ï¼Œå› æ­¤è§†é¢‘ç½‘ç«™ä¹Ÿä¼šæ ¹æ®è§†é¢‘è®¾ç½®ä¸åŒæ¸…æ™°åº¦çš„ç‰ˆæœ¬ 2.6.2 HTTPæµå’ŒDASHï¼ˆdynamic adaptive streaming over HTTPï¼‰ HTTPæµä¸­ï¼Œè§†é¢‘åªæ˜¯å­˜å‚¨åœ¨HTTPæœåŠ¡å™¨ä¸­ä½œä¸ºä¸€ä¸ªæ™®é€šçš„æ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„URLï¼Œå½“ç”¨æˆ·æŸ¥çœ‹è¿™ä¸ªè§†é¢‘çš„æ—¶å€™ï¼Œå®¢æˆ·ä¸æœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªTCPè¿æ¥å¹¶å‘é€å¯¹è¯¥URLçš„getè¯·æ±‚ï¼ŒæœåŠ¡å™¨åˆ™ä»¥åº•å±‚ç½‘ç»œåè®®å’Œæµé‡æ¡ä»¶å…è®¸çš„å°½å¯èƒ½å¿«çš„é€Ÿç‡ï¼Œå‘é€è§†é¢‘æ–‡ä»¶ï¼Œå¦ä¸€ç«¯å­—èŠ‚è¢«æ”¶é›†åˆ°å®¢æˆ·åº”ç”¨ç¼“å­˜ä¸­ï¼Œä¸€æ®µè¶…è¿‡é¢„å…ˆè®¾å®šçš„é—¨é™ï¼Œå®¢æˆ·åº”ç”¨ç¨‹åºå°±å¯ä»¥å¼€å§‹æ’­æ”¾ å¯¹äºç›¸åŒçš„å®¢æˆ·çš„ä¸åŒæ—¶é—´ä¹Ÿæœ‰å¯èƒ½å­˜åœ¨ä¸åŒçš„å¸¦å®½ï¼Œå› æ­¤éœ€è¦æ ¹æ®ä¸åŒæ—¶æ®µï¼Œè®¾è®¡ä¸åŒçš„æ¯”ç‰¹ç‡ï¼Œå¯¹åº”äºä¸åŒçš„è´¨é‡æ°´å¹³ï¼Œå®¢æˆ·åŠ¨æ€é€‰æ‹©æ¥è‡ªé«˜é€Ÿç‡ç‰ˆæœ¬çš„å¿«ï¼Œå½“å¯ç”¨å¸¦å®½é‡è¾ƒä½çš„æ—¶å€™ï¼Œå®¢æˆ·å¯ä»¥è‡ªç„¶é€‰æ‹©æ¥è‡ªä½é€Ÿç‡ç‰ˆæœ¬çš„å¿« 2.6.3 å†…å®¹åˆ†å‘ç½‘ content distribution network å¯¹äºä¸€ä¸ªå› ç‰¹ç½‘è§†é¢‘å…¬å¸ï¼Œæœ€ç›´è§‚çš„æ˜¯å»ºç«‹å•ä¸€çš„å¤§è§„æ¨¡æ•°æ®ä¸­å¿ƒï¼Œåœ¨æ•°æ®ä¸­å¿ƒä¸­å­˜å‚¨æ‰€æœ‰çš„è§†é¢‘ï¼Œå¹¶ç›´æ¥ä»è¯¥æ•°æ®ä¸­å¿ƒå‘ä¸–ç•ŒèŒƒå›´çš„å®¢æˆ·ä¼ è¾“æµå¼è§†é¢‘ï¼Œä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ å¦‚æœå®¢æˆ·è¿œç¦»æ•°æ®ä¸­å¿ƒï¼ŒæœåŠ¡å™¨åˆ°å®¢æˆ·çš„åˆ†ç»„å°†è·¨è¶Šè®¸å¤šé€šä¿¡é“¾è·¯å¹¶è‚¯å‘¢ä¸ªç»è¿‡ä¸åŒçš„ISPï¼Œå¯¼è‡´çƒ¦äººçš„é€šä¿¡æ—¶å»¶ ç»è¿‡å¤šæ¡é“¾è·¯ä¼šæµªè´¹ç½‘ç»œå¸¦å®½ å•ä¸ªæ•°æ®ä¸­å¿ƒä»£è¡¨ç€å•ç‚¹æ•…éšœ 2.7 è¯¾åä¹ é¢˜ è¯¾åä¹ é¢˜å’Œé—®é¢˜_ä¸å›å…±å‹‰çš„æŠ€æœ¯åšå®¢_51CTOåšå®¢ è¯¾åä¹ é¢˜å’Œé—®é¢˜ å¤ä¹ é¢˜ 2.2ï½2.5èŠ‚_ä¸å›å…±å‹‰çš„æŠ€æœ¯åšå®¢_51CTOåšå®¢ 1nslookup blog.tjdata.site","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"network","slug":"network","permalink":"https://blog.tjdata.site/tags/network/"}]},{"title":"å·¥ç§‘ç”Ÿç ”0çš„Macbook Air M1 13inchï¼ˆ16+256ï¼‰æ·±åº¦ä½¿ç”¨æ„Ÿå—","slug":"å·¥ç§‘ç”Ÿç ”0çš„Macbook Air M1 13inchï¼ˆ16+256ï¼‰æ·±åº¦ä½¿ç”¨æ„Ÿå—","date":"2022-06-12T03:49:56.000Z","updated":"2023-05-13T13:52:11.846Z","comments":true,"path":"posts/9148fb62.html","link":"","permalink":"https://blog.tjdata.site/posts/9148fb62.html","excerpt":"åœ¨æ·±åº¦ä½¿ç”¨M1ä¸€å¹´ä¹‹åï¼Œåœ¨å³å°†æ¯”å¦‚ç ”ç©¶ç”Ÿç”Ÿæ´»ä¹‹å‰ï¼Œä»‹ç»ä¸€æ¬¡Macã€‚åŒæ—¶ä¹Ÿä¼šç»“åˆè‡ªå·±çš„åä¸ºMate40proä»‹ç»macOS+ipadOS+harmonyOSåœ¨æ—¥å¸¸ä½¿ç”¨çš„ä¹ æƒ¯ï¼Œè¯´æ˜å¸¸ç”¨çš„è½¯ä»¶ã€ç¡¬ä»¶çš„é…ä»¶ã€æ–‡ä»¶ç®¡ç†å’ŒåŒæ­¥ä»¥åŠpasswordä»¥åŠGTDç®¡ç†ã€ç¯å¢ƒç®¡ç†ä¸­Linuxå’Œpythonç¯å¢ƒä»¥åŠGitä½¿ç”¨ç­‰ï¼Œä½œä¸ºä¸€æ¬¡Summary æœ¬æ¬¡ä»‹ç»çš„ä¸»ä½“æ˜¯2020å¹´å‘å¸ƒçš„M1èŠ¯ç‰‡çš„Macï¼Œä¹Ÿç»å†äº†ç»“æ„æ›´è¿­ä¹‹è‹¦ï¼Œå½“ç„¶ä¸€å¹´ä¹‹åèƒ½çœ‹åˆ°ARMæ¶æ„çš„ä¼˜è¶Šæ€§ã€‚å…·ä½“è§„æ ¼é…ç½®å¦‚å›¾ MacBook Air (M1 èŠ¯ç‰‡æœºå‹) - æŠ€æœ¯è§„æ ¼ ã€å†™ä½œæ—¶é—´ã€‘2022å¹´6æœˆ12æ—¥","text":"åœ¨æ·±åº¦ä½¿ç”¨M1ä¸€å¹´ä¹‹åï¼Œåœ¨å³å°†æ¯”å¦‚ç ”ç©¶ç”Ÿç”Ÿæ´»ä¹‹å‰ï¼Œä»‹ç»ä¸€æ¬¡Macã€‚åŒæ—¶ä¹Ÿä¼šç»“åˆè‡ªå·±çš„åä¸ºMate40proä»‹ç»macOS+ipadOS+harmonyOSåœ¨æ—¥å¸¸ä½¿ç”¨çš„ä¹ æƒ¯ï¼Œè¯´æ˜å¸¸ç”¨çš„è½¯ä»¶ã€ç¡¬ä»¶çš„é…ä»¶ã€æ–‡ä»¶ç®¡ç†å’ŒåŒæ­¥ä»¥åŠpasswordä»¥åŠGTDç®¡ç†ã€ç¯å¢ƒç®¡ç†ä¸­Linuxå’Œpythonç¯å¢ƒä»¥åŠGitä½¿ç”¨ç­‰ï¼Œä½œä¸ºä¸€æ¬¡Summary æœ¬æ¬¡ä»‹ç»çš„ä¸»ä½“æ˜¯2020å¹´å‘å¸ƒçš„M1èŠ¯ç‰‡çš„Macï¼Œä¹Ÿç»å†äº†ç»“æ„æ›´è¿­ä¹‹è‹¦ï¼Œå½“ç„¶ä¸€å¹´ä¹‹åèƒ½çœ‹åˆ°ARMæ¶æ„çš„ä¼˜è¶Šæ€§ã€‚å…·ä½“è§„æ ¼é…ç½®å¦‚å›¾ MacBook Air (M1 èŠ¯ç‰‡æœºå‹) - æŠ€æœ¯è§„æ ¼ ã€å†™ä½œæ—¶é—´ã€‘2022å¹´6æœˆ12æ—¥ 01 Software management åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¤šè½¯ä»¶éƒ½æ²¡æœ‰å…¼å®¹M1ï¼Œå…¼å®¹M1çš„ç ´è§£ç‰ˆä¹Ÿå°‘çš„å¯æ€œ å¸¸ç”¨çš„Macè½¯ä»¶ä¸‹è½½ç½‘ç«™ï¼š MacWk - ç²¾å“macè½¯ä»¶ä¸‹è½½ 1.1 å¤„ç†ä¸åŒæ ¼å¼æ–‡ä»¶è½¯ä»¶ Office ä¸‰ä»¶å¥—ï¼šdocxã€pptã€xlsx WPS ï¼šåŒofficeï¼Œè™½ç„¶åŠŸèƒ½ä¼šå°‘ä¸€ç‚¹ï¼Œä½†æ˜¯å¸¦æ¥çš„æ˜¯æ€§èƒ½çš„æå‡ Typoraï¼šMarkdown Sublime Textï¼šæ‰“å¼€ã€è½»ç¼–è¾‘ ã€codeã€‘ã€markdownã€latexï¼ˆå¿«ï¼‰ Skimï¼šæ‰“å¼€PDFæ–‡ä»¶ï¼Œæ­é…Sublime Textä½¿ç”¨ï¼ˆå¿«ï¼‰ PDF Expertï¼šç¼–è¾‘PDFæ–‡ä»¶ iMovieï¼šç¼–è¾‘è§†é¢‘æ–‡ä»¶ IINAï¼šè§†é¢‘æ’­æ”¾è½¯ä»¶ï¼ˆå¿«ï¼‰ Capture Oneï¼šä¿®å›¾è½¯ä»¶ 1.2 ç‰›åˆ€ç±»å·¥å…· Notionï¼šéå¸¸å¥½ç”¨çš„ç¬”è®°è½¯ä»¶ Zoteroï¼šæ–‡çŒ®ç®¡ç†è½¯ä»¶ï¼Œå¯ä»¥æ­é…notionä½¿ç”¨ Marginnote3 : é˜…è¯»PDFå’ŒçŸ¥è¯†ç®¡ç†è½¯ä»¶ï¼Œä¸å¤ªå¥½ç”¨ OmniGraffle ï¼š æµç¨‹å›¾ç»˜åˆ¶è½¯ä»¶ï¼ˆå¹³æ›¿ draw.ioç½‘ç«™ï¼‰ Xmindï¼šæ€ç»´å¯¼å›¾è½¯ä»¶ï¼Œæ­£åœ¨ç”¨çš„ Edgeï¼šå¾ˆä¸é”™çš„æµè§ˆå™¨ Axure RPï¼šåŸå‹è®¾è®¡è½¯ä»¶ Parallels Desktopï¼šè™šæ‹Ÿæœºç®¡ç† Terminusï¼šç»ˆç«¯å¢å¼º 1.3 æ¶¦ç‰©ç»†æ— å£°çš„å°å·¥å…· ClashXï¼šä»£ç†è½¯ä»¶ç®€ä»‹ Rectangleï¼šçª—å£ç®¡ç† æ¬§è·¯è¯å…¸ï¼šæŸ¥å•è¯ iStatï¼šç¡¬ä»¶çŠ¶æ€ iPic Freeï¼šmarkdownçš„å›¾ç‰‡ä¸Šä¼  Aldenteï¼šå……ç”µç®¡ç† GifSkiï¼šå‹ç¼©ç”ŸæˆGIFæ–‡ä»¶ SVGviewï¼šæŸ¥çœ‹SVG Hidden barï¼šçŠ¶æ€æ è®¾ç½®éšè— iShotï¼šæˆªå›¾è½¯ä»¶ï¼Œå¯ä»¥é•¿æˆªå›¾å’Œæ ‡è®°ï¼ˆcommand shift 4/5å¯ä»¥æˆªå›¾å’Œå½•å±ï¼‰ Better Zipï¼šè§£å‹ç¼©æ–‡ä»¶ ClipborderManagementï¼šå‰ªè´´æ¿ç®¡ç† åšæœäº‘+Nextcloudï¼šWebdavæ–‡ä»¶ç®¡ç† cheetsheetï¼šå¿«æ·é”®æé†’ Monitor Controlï¼šç®¡ç†æ˜¾ç¤ºå™¨çš„äº®åº¦ Mail+Calendar+Reminder+Notes+Musicï¼šè‡ªå¸¦çš„è½¯ä»¶éƒ½éå¸¸é«˜ 1.4 å¨±ä¹ç±»å·¥å…· Bç«™å®¢æˆ·ç«¯ è…¾è®¯è§†é¢‘ è™šæ‹Ÿæœºå†…çš„æ¤ç‰©å¤§æˆ˜åƒµå°¸ å¾®ä¿¡-QQ ç™¾åº¦ç½‘ç›˜+é˜¿é‡Œäº‘ç›˜ 02 Hardware management Anker Nano II 65Wå……ç”µå¤´ å°ç±³100wå¿«å……çº¿ï¼ˆ2mï¼‰ Belkinä¸ƒåˆä¸€æ‹“å±•å ç½—æŠ€Master 2s DP1.4ç»¿è”è½¬æ¥çº¿ è¥¿æ•°ç§»åŠ¨ç¡¬ç›˜*2T åä¸ºåŸè£…TypeCè€³æœº 03 File management and workflow 3.1 Macæœ¬åœ°æ–‡ä»¶ç®¡ç†å’Œå¤‡ä»½ 256Gçš„å›ºæ€ç¡¬ç›˜ç”¨èµ·æ¥æ¯”è¾ƒç€æ€¥ï¼Œå¥½åœ¨é€Ÿåº¦å¾ˆå¿«ï¼Œå…¨æ–° M1 MacBook Air çš„å›ºæ€ç¡¬ç›˜å†™å…¥é€Ÿåº¦ä¸º 2190 MB/sï¼Œè¯»å–é€Ÿåº¦ä¸º 2675 MB/sï¼›ç›¸æ¯”è¾ƒæ‰‹æœºçš„sfsçš„é€Ÿåº¦å¯å‘ç°è¯¥æœºè¿ç»­è¯»å–çº¦ä¸º 1966M/sï¼ŒæŒç»­å†™å…¥ 1280M/sï¼›ç›¸æ¯”è¾ƒUFS3.1é€šå¸¸ä¸º1200M/så’Œ800M/sï¼Œé€Ÿåº¦æ„Ÿè§‰éå¸¸ä¸é”™ã€‚ åœ¨æ—¥å¸¸ä½¿ç”¨çš„æ–‡ä»¶ä¸­ä¸»è¦åˆ†ä¸ºï¼š å¤§æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸‹è½½çš„4Kç”µå½±ã€çˆ±æ­»æœºç³»åˆ—ç‰‡ç­‰ï¼Œè¿™ä¸€ç±»æ–‡ä»¶åœ¨ä½¿ç”¨ä¹‹åå¯ä»¥æ”¾åˆ°ç§»åŠ¨ç¡¬ç›˜ä½œä¸ºå­˜å‚¨ï¼Œæˆ–è€…ä¸Šä¼ åˆ°ç™¾åº¦ç½‘ç›˜ ä¸å¸¸ç”¨çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸‹è½½çš„æ–‡ä»¶PDFã€ä¸‹è½½çš„PPTã€ä¸ç”¨çš„è¯¾ç¨‹PPTï¼Œè¿™ä¸€ç±»æ–‡ä»¶é€šå¸¸åœ¨ä¸€ä¸ªé˜¶æ®µç»“æŸä¹‹åå¯ä»¥å¤‡ä»½ï¼Œæ¯”å¦‚æ”¾åœ¨ç§»åŠ¨ç¡¬ç›˜æˆ–è€…æ”¾åˆ°ç™¾åº¦ç½‘ç›˜ä¸­ å°è€Œæ‚çš„æ–‡ä»¶ï¼Œä¸´æ—¶åšçš„pptã€ä¸‹è½½çš„é€šçŸ¥ï¼Œè¿™æ˜¯ç®¡ç†çš„é‡ç‚¹ ç®¡ç†æ–¹æ³•Tag+Folderï¼š ä½œä¸ºä¸€ä¸ªå¯¹macOSçš„çš„Finderçƒ­çˆ±çš„äººæ¥è¯´ï¼Œéå¸¸å–œæ¬¢æä¾›tagçš„é€‰é¡¹ï¼Œä½†æ˜¯å¸¸å¸¸åˆ©ç”¨Tagä¹Ÿä¼šè®©æˆ‘æ„Ÿåˆ°è‹¦æ¼ï¼Œå› ä¸ºä¼šå› ä¸ºä¸€ä¸ªæ–‡ä»¶æ»¡è¶³å¤šä¸ªtagè€Œä¸çŸ¥é“å¦‚ä½•åŒºåˆ†ï¼Œç„¶åæ–°å»ºä¸€ä¸ªTempæ–‡ä»¶å¤¹ï¼Œä¹…è€Œä¹…ä¹‹æ‰€æœ‰çš„æ–‡ä»¶éƒ½ä¼šè¢«æ”¾åˆ°è¿™ä¸ªä¸´æ—¶æ–‡ä»¶å¤¹ä¸­ã€‚å°±åœ¨è‹¦è‹¦æ€è€ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå‘ç°å¤©ç„¶çš„æ— è®ºæ˜¯windowsè¿˜æ˜¯macOSéƒ½ç»™æˆ‘æä¾›å¥½äº†åº”è¯¥æœ‰çš„æ–¹æ³•Folderï¼ŒæŒ‰ç…§Documentã€Pictureã€Videoã€Downloadã€Desktopçš„æ–‡ä»¶å¤¹æ–¹å¼æ¥è¿›è¡Œåˆ†ç±»ï¼Œè¿™é‡Œçš„ç®¡ç†åŸåˆ™æ˜¯ï¼š é¦–å…ˆæŒ‰ç…§æ–‡ä»¶çš„æ—¶æ•ˆæ€§åŒºåˆ†å¼€ï¼š æ—¶æ•ˆè¾ƒçŸ­çš„ download desktop æ—¶æ•ˆè¾ƒé•¿çš„ documentã€pictureã€video å†æ ¹æ®è‡ªå·±çš„Projectæ¥å¯¹ä¸åŒæ–‡ä»¶ç±»å‹çš„æ–‡ä»¶è¿›è¡Œæ ‡è®°Tagï¼Œæ–¹ä¾¿è‡ªå·±æŸ¥æ‰¾ Tagå­˜åœ¨çš„æ„ä¹‰æ˜¯è®©è‡ªå·±å®¹æ˜“æ‰¾åˆ°ä»–ï¼Œè€Œä¸æ˜¯åˆ†ç±»ï¼Œå› ä¸ºFolderå¤©ç„¶å…·æœ‰åˆ†ç±»çš„ä½œç”¨ 3.2 åŸºäºWebdavçš„å¤šç«¯åŒæ­¥Sync ï¼ï¼macOS12è¿˜æ²¡æœ‰é€‚é…åšæœäº‘çš„äº‘æ¡¥æ¨¡å¼ï¼ï¼ ç½‘ç›˜é€šå¸¸å¯ä»¥åˆ†ä¸ºä¸¤ç§ å¤§å®¹é‡ï¼Œä½œä¸ºèµ„æºåº“ä»…é™Appæ“ä½œçš„ï¼Œæ¯”å¦‚ç™¾åº¦ç½‘ç›˜ã€é˜¿é‡Œäº‘ç›˜ã€å¤¸å…‹äº‘ç›˜ç­‰ åŒæ­¥ç½‘ç›˜ï¼Œæ¯”å¦‚iCloudã€åšæœäº‘ã€DropBoxã€nextcloudã€one driveç­‰ é’ˆå¯¹ç¬¬ä¸€ç§ç½‘ç›˜çº¯ç²¹å¯ä»¥å½“ä½œå¤‡ä»½ç›˜å¤„ç†ï¼Œè™½ç„¶ç™¾åº¦ç½‘ç›˜æ¨å‡ºåŒæ­¥ç©ºé—´ï¼Œä½“éªŒä¾æ—§éå¸¸ä¸å¥½ã€‚ç¬¬äºŒç§ç½‘ç›˜ä¸»è¦é’ˆå¯¹å†™ä½œåŠå…¬å’ŒåŒæ­¥ï¼Œå¦‚æœä½ æ˜¯iPhone+iPad+Macå½“ç„¶iCloudæ˜¯æœ€ä½³çš„é€‰æ‹©ï¼Œæ²¡æœ‰ä¹‹ä¸€ï¼Œåœ¨å›½å†…çš„ç¯å¢ƒä½¿ç”¨éå¸¸çš„èˆ’æœï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰åˆ™éœ€è¦æŒ‘é€‰ï¼Œä¸»è¦çš„é€‰æ‹©æœ‰ï¼š æ—¶ä¸æ—¶æŠ½é£çš„one drive ä¼šå‘˜å½“é“çš„åšæœäº‘ è‡ªå»ºwebdavåè®®çš„nextcloud 3.2.1 ç¬¬ä¸€ç§one drive é€Ÿåº¦æœ‰æ—¶å€™è«åçš„å¿«ï¼Œæœ‰æ—¶å€™è«åçš„æ…¢ï¼Œä½¿ç”¨å¾ˆéš¾å—ã€‚åŒæ­¥å¿…é¡»åœ¨è‡ªå·±çš„ç”µè„‘ä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ä½œä¸ºåŒæ­¥ï¼Œä¸èƒ½å®ç°åŒæ­¥å…¶ä»–ä»»æ„æ–‡ä»¶å¤¹çš„åŠŸèƒ½ï¼Œæ¯”è¾ƒé¸¡è‚‹ã€‚ä½†æ˜¯å¯ä»¥é‡Šæ”¾æœ¬åœ°ç©ºé—´ï¼Œä»¥å¿«æ·æ–¹å¼ä¿å­˜åœ¨æœ¬åœ°ï¼ŒåŒæ—¶ä½œä¸ºå­¦ç”Ÿå¯ä»¥äº«å—è¶…å¤§å®¹é‡ã€‚ 3.2.2 ç¬¬äºŒç§ åšæœäº‘ ç›®å‰å¼€äº†ä¸€å¹´çš„ä¼šå‘˜ï¼Œåœ¨å°è¯•å…¶ä¸­çš„ä½¿ç”¨æŠ€å·§ï¼Œåˆ©ç”¨åšæœäº‘æ¥æ„å»ºMac+iPad+Mate40proä¹‹é—´çš„æ–‡ä»¶å…±äº«ä½“ç³»ï¼ˆé‡ç‚¹ï¼åä¸ºå±…ç„¶å¯ä»¥å°†æ–‡ä»¶å¤¹æ”¾åœ¨æ¡Œé¢ï¼Œå¤ªå¥½ç”¨ï¼‰ï¼Œåœ¨å›½å†…çš„åŒæ­¥é€Ÿåº¦éå¸¸å¿«ï¼Œå¿«åˆ°çœ‹ä¸è§ã€‚ä½†æ˜¯ç›®å‰macOS12åº”è¯¥æ˜¯ä¸æ”¯æŒäº‘æ¡¥æ¨¡å¼çš„apiï¼Œä¹Ÿå°±æ˜¯æˆ‘æ–‡ä»¶éƒ½æ˜¯åŒæ­¥çš„ï¼Œè€Œä¸èƒ½é‡Šæ”¾æœ¬åœ°ç©ºé—´ 3.2.3 ç¬¬ä¸‰ç§ webdavåè®®è‡ªå»ºnextcloud å› ä¸ºæœ¬äººè‡ªå·±æœ‰ä¸€å°è…¾è®¯äº‘æœåŠ¡å™¨ï¼Œæ‰€ä»¥å°è¯•ä½¿ç”¨nextcloudæ„å»ºè‡ªå·±çš„äº‘ç›˜ï¼Œä½†æ˜¯å› ä¸ºåŠŸèƒ½æ¯”è¾ƒåˆçº§ï¼Œæƒ³è¦åœ¨Macç³»ç»Ÿä¸­é›†æˆéœ€è¦èµ°HTTPSåè®®ï¼Œæš‚æ—¶è¿˜æ²¡æœ‰æå¥½ï¼Œä½†æ˜¯webdavåè®®é™¤äº†å¯ä»¥ä¸‹è½½æ–‡ä»¶ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åŒæ­¥æ—¥å†ç­‰ï¼Œæ„å»ºmacOS+iPados+HarmonyOSçš„åŒæ­¥ï¼Œä½†æ˜¯ç›®å‰httpsåè®®è¿˜æ²¡æœ‰æå¥½ï¼ŒæœŸå¾…åé¢çš„ä½¿ç”¨ 3.3 Passwordç®¡ç† å¯†ç ç®¡ç†çš„é‡è¦æ€§ï¼Œæ— è®ºæ˜¯ä¸ªäººä¿¡æ¯ä¸­éœ€è¦çš„å¯†ç ç®¡ç†ï¼Œè¿˜æ˜¯æŒæ¡æœåŠ¡å™¨ä¸­çš„ä½¿ç”¨ï¼Œéƒ½éœ€è¦æŒæ¡è‰¯å¥½çš„ç±³é˜¿ä»¬ æ‹–åº“:æ‹–åº“å°±æ˜¯æŒ‡é»‘å®¢é€šè¿‡å„ç§ç¤¾å·¥æ‰‹æ®µã€æŠ€æœ¯æ‰‹æ®µå°†æ•°æ®åº“ä¸­æ•æ„Ÿä¿¡æ¯éæ³•è·å–ï¼Œä¸€èˆ¬è¿™äº›æ•æ„Ÿä¿¡æ¯åŒ…æ‹¬ç”¨æˆ·çš„è´¦å·ä¿¡ æ¯å¦‚ç”¨æˆ·åã€å¯†ç ;èº«ä»½ä¿¡æ¯å¦‚çœŸå®å§“åã€è¯ä»¶å·ç ;é€šè®¯ä¿¡æ¯å¦‚ç”µå­é‚®ç®±ã€ç”µè¯ã€ä½å€ç­‰ã€‚ æ´—åº“:åœ¨æ‹–åº“åï¼Œå–å¾—å¤§é‡çš„ç”¨æˆ·æ•°æ®ä¹‹åï¼Œé»‘å®¢ä¼šé€šè¿‡ä¸€ç³»åˆ—çš„æŠ€æœ¯æ‰‹æ®µå’Œé»‘è‰²äº§ä¸šé“¾å°†æœ‰ä»·å€¼çš„ç”¨æˆ·æ•°æ®å˜ç°ã€‚ æ’åº“:æ’åº“æ˜¯é»‘å®¢é€šè¿‡æ”¶é›†äº’è”ç½‘å·²æ³„éœ²çš„ç”¨æˆ·å’Œå¯†ç ä¿¡æ¯ï¼Œç”Ÿæˆå¯¹åº”çš„å­—å…¸è¡¨ï¼Œå°è¯•æ‰¹é‡ç™»é™†å…¶ä»–ç½‘ç«™ åï¼Œå¾—åˆ°ä¸€ç³»åˆ—å¯ä»¥ç™»å½•çš„ç”¨æˆ·ã€‚å¾ˆå¤šç”¨æˆ·åœ¨ä¸åŒç½‘ç«™ä½¿ç”¨çš„æ˜¯ç›¸åŒçš„å¸å·å¯†ç ï¼Œå› æ­¤é»‘å®¢å¯ä»¥é€šè¿‡è·å– ç”¨æˆ·åœ¨Aç½‘ç«™çš„è´¦æˆ·ä»è€Œå°è¯•ç™»å½•Bç½‘å€ï¼Œè¿™å°±å¯ä»¥ç†è§£ä¸ºæ’åº“æ”»å‡»ã€‚ æ‰‹æœºå†…éƒ¨åä¸ºè‡ªå¸¦çš„å¯†ç ç®¡ç†å™¨çœŸçš„æ˜¯å¤ªå·®åŠ²äº†ï¼Œä¸ºäº†æ»¡è¶³å¤šç«¯åŒæ­¥çš„åŠŸèƒ½ï¼Œæ—¢ç„¶ç”¨ä¸äº†Appleçš„é’¥åŒ™ä¸²æœåŠ¡ï¼ŒGoogleå¯†ç åœ¨åä¸ºä¸­ç”¨ä¸äº†ï¼Œåªèƒ½ä½¿ç”¨å¾®è½¯çš„EDGEï¼Œç”µè„‘å’Œå¹³æ¿ç«¯ä½¿ç”¨æµè§ˆå™¨ï¼Œæ‰‹æœºç«¯å¼€å¯æµè§ˆå™¨å¤–éƒ¨å¡«å……åŠŸèƒ½ã€‚ å½“æ—¶å®é™…çš„å¯†ç æœ€å¥½è¿˜æ˜¯ç”¨å¤‡å¿˜å½•æˆ–è€…ç¬”è®°æœ¬è®°ä¸‹æ¥ï¼ï¼ 3.4 GTDç®¡ç† å®ƒçš„æ‰€æœ‰æ–¹æ³•éƒ½å›´ç»•ç€æŠŠæ‰€æœ‰äº‹æƒ…éƒ½ä»å¤§è„‘ä¸­å¼„å‡ºæ¥å¹¶ä½“ç³»åŒ–åœ°ç®¡ç†ï¼Œè®©äººä¸“æ³¨äºçœ¼å‰çš„å·¥ä½œï¼Œå®Œå…¨ä¿¡ä»»å¤–éƒ¨ä½“ç³»çš„äº‹åŠ¡ç®¡ç†ã€‚ å› æ­¤ï¼ŒGTDçš„æ–¹æ³•æœ€é€‚ç”¨ä»¥ä¸‹æƒ…å†µï¼š äº‹åŠ¡ç¹æ‚ï¼Œå®¹æ˜“å¿˜è®°å’Œæ··æ·† å®³æ€•å¿˜è®°ä»»åŠ¡è€Œåå¤å›æƒ³ï¼Œæµªè´¹æ—¶é—´é€ æˆå‹åŠ› æ‚åŠ¡çº·æ‰°ï¼Œé‡è¦çš„äº‹å¸¸æ¥ä¸åŠåš é€šå¸¸ä½¿ç”¨reminderæ¥å°†éœ€è¦åšçš„äº‹æƒ…è®°å½•ä¸‹ï¼Œæ”¶é›†æ‰€æœ‰çš„äº‹æƒ…ï¼Œç„¶ååˆ’åˆ†åˆ°é•¿æœŸå’ŒçŸ­æœŸåº”ç”¨ï¼Œä¹‹ååœ¨æ—¥å†calendarä¸­è®°å½•å‡†ç¡®çš„äº‹æƒ…ï¼Œåœ¨åŒæ­¥è¿‡ç¨‹ä¸­ï¼Œä¾æ—§é‡‡ç”¨å¾®è½¯çš„outlooké‚®ç®±æ¥å®ç°å¤šç«¯åŒæ­¥ï¼Œæ‰‹æœºä¸Šéœ€è¦ä¸‹è½½ä¸€ä¸ªMicrosoft ToDoï¼Œå¾ˆç®€æ´ï¼ 3.5 Notesç®¡ç† ç¬”è®°æ•´ç†ä¸­ï¼Œé€šå¸¸çš„æ¥æºåŒ…æ‹¬ è®²åº§ã€ä¼šè®®ç­‰çš„ä¼šè®®è®°å½•å’Œæ€»ç»“ å¯¹äºè§†é¢‘ã€æ–‡æ¡£ã€è¯¾æœ¬çš„é˜…è¯»å’Œæ€»ç»“ ä¸ªäººåšå®¢ è‡ªå·±çš„ä»£ç ä»“åº“ ç”±äºä½¿ç”¨ä¸åŒæ–‡ä»¶å°±è®©è‡ªå·±çš„ç¬”è®°æ•´ç†å›°éš¾ï¼Œå› æ­¤ä¸ªäººé€‰æ‹©çš„ALl in oneçš„Notionæ¥ç®¡ç†è‡ªå·±çš„ç¬”è®°ï¼Œä½œä¸ºä¸€ä¸ªåŸºäºWebçš„ç¬”è®°ç®¡ç†ï¼Œå¾ˆå¥½ç”¨ï¼Œä¸ªäººç¬”è®°çš„ç‰¹å¾ç®¡ç†é€‰æ‹© Area-user ï¼šç¬”è®°ä¸­ä¸»è¦åˆ†ä¸ºpersonï¼ˆè‡ªå·±çš„æ€è€ƒã€è‡ªå·±çš„æ•´ç†ã€è‡ªå·±çš„è¯»ä¹¦è®°å½•ï¼‰ï¼›æˆ–è€…æ˜¯schoolï¼ˆè¯¾é¢˜ç»„çš„é¡¹ç›®ã€è®²åº§ï¼‰ï¼›ä»¥åŠä¸€äº›ç¬¬ä¸‰æ–¹çš„ä¸œè¥¿ï¼Œæˆ‘æ˜¯å»studyï¼Œæˆ–è€…åšä¸€äº›record Group-Tagï¼šç”¨äºåˆ†ç±»çš„ä¾æ®ï¼Œå°†è‡ªå·±çš„ç¬”è®°åˆ†ä¸ºå››ç§ï¼šLibraryï¼ˆä¸ªäººçš„æ±‡æ€»è¡¨ï¼‰ã€Postï¼ˆä¸€äº›å•ç‹¬çš„æ–‡ç« ï¼‰ã€Wikiï¼ˆå®Œæ•´çŸ¥è¯†ä½“ç³»ï¼Œå¸®åŠ©å­¦ä¹ ï¼‰ã€Logï¼ˆé¡¹ç›®çš„æ—¥å¿—ï¼‰ Nameï¼šè¯¥é¡µé¢çš„ä¸»è¦åç§°ï¼Œæ±‡æ€»è¡¨å»ºè®®å¸¦ä¸Šæ±‡æ€»ä¸¤å­—ã€seriesçš„è¯¾ç¨‹æˆ–è€…å¸Œæœ›å¯ä»¥å¸¦ä¸Š&lt;åç§°&gt;ä½œä¸ºæ ‡è¯† Create Dateï¼šåˆ›å»ºæ—¥æœŸ Resourceï¼š è¿™ä¸ªé¡µé¢çš„æ ¹æºæ˜¯ä»€ä¹ˆï¼ŒåŒ…æ‹¬ä¸ªäººçš„ç®¡ç†ç±»æˆ–è€…æ€è€ƒç±»ã€schoolçš„é¡¹ç›®æ—¥å¿—æˆ–ä¸€äº›æ‚äº‹ã€studyçš„è¯¾ç¨‹æˆ–æ–‡æ¡£ Areaï¼šéšä¾¿çš„ä¸€äº›tag 04 Environment management 4.1 Homebrew â€”è½¯ä»¶åŒ…ç®¡ç†å·¥å…· Homebrew Homebrewæ˜¯ä¸€æ¬¾macOSçš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼Œé€šè¿‡å…¶å¯ä»¥å¾ˆæ–¹ä¾¿çš„install or uninstallè½¯ä»¶å·¥å…·ï¼Œç±»ä¼¼ä¸Linuxä¸‹çš„apt-getã€nodeçš„npmç­‰åŒ…ç®¡ç†å·¥å…·ã€centosä¸‹çš„yumï¼Œä½¿ç”¨homebrewå¯ä»¥å®‰è£…ç³»ç»Ÿæ²¡æœ‰é¢„è£…çš„ä¸œè¥¿ï¼Œï¼ŒåŒæ—¶ä¼šå°†è½¯ä»¶åŒ…å®‰è£…åˆ°ç‹¬ç«‹ç›®å½•ï¼Œä¹Ÿå°±æ˜¯localæ–‡ä»¶å¤¹ä¸‹é¢çš„homebrewè‡ªå·±å®‰è£…çš„æ–‡ä»¶ï¼Œç„¶åå†é€šè¿‡è½¯é“¾æ¥åˆ°usr/local 1/bin/bash -c &quot;$(curl -fsSL &lt;https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh&gt;)&quot; ï¼ˆå¯é€‰çš„ï¼Œå¦‚æœå¸Œæœ›å°†homebrewæ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼‰ 12echo &#x27;eval &quot;$(/opt/homebrew/bin/brew shellenv)&quot;&#x27; &gt;&gt; ~/.zprofileeval &quot;$(/opt/homebrew/bin/brew shellenv)&quot; å¸¸ç”¨çš„ä¸€äº›å‘½ä»¤ 1234567891011121314brew install åŒ…åbrew uninstall åŒ…åbrew upgrade åŒ…åbrew updatebrew upgradebrew outdated// æŸ¥çœ‹Homebrewç‰ˆæœ¬brew --versionbrew listbrew homebrew info åŒ…åbrew doctor 4.2 Mini forge3 â€” macOSçš„conda ä¸€ç§æ˜¯ä¸‹è½½shè„šæœ¬ï¼Œç„¶åè‡ªå·±å®‰è£… ä½¿ç”¨homebrewå®‰è£…mini forge3 Anacondaå’ŒMinicondaåˆ°ç°åœ¨éƒ½æ²¡æœ‰æä¾›M1å¤„ç†å™¨çš„condaç¯å¢ƒï¼Œå¯ä»¥ä½¿ç”¨conda-forgeæä¾›miniforgeï¼Œç”¨æ¥æ”¯æŒApple Siliconçš„ç‰ˆæœ¬è½¯ä»¶ ä¸‹è½½è½¯ä»¶çš„åœ°å€ GitHub - conda-forge/miniforge: A conda-forge distribution. ä¸‹è½½å¥½mini forge3ä¸­å¯¹åº”çš„macOS+apple siliconçš„è„šæœ¬ï¼Œå‡è®¾ä¸‹è½½å’‹downloadæ–‡ä»¶å¤¹ 12345678910cd download// ä¹‹åå®‰è£…è„šæœ¬// å‡å¦‚ä¹‹å‰å®‰è£…è¿‡ï¼Œå¯ä»¥é‡æ–°å¸è½½å†å®‰è£…// å¸è½½çš„è„šæœ¬ // rm -rf ~/miniforge3 // rm -rf .conda // rm -rf .condarc// æ²¡æœ‰ä»¥ä¸Šå¯ä»¥ç•¥è¿‡bash Miniforge3-MacOSX-arm64.sh å®Œæˆå®‰è£…ä¹‹åï¼Œéœ€è¦é‡æ–°æ¿€æ´»é…ç½®æ–‡ä»¶ 1source .zshrc å®Œæˆä¹‹åå¯ä»¥æµ‹è¯•condaæ˜¯å¦å®‰è£…å®Œæˆ 1conda --version ç¬¬äºŒç§æ–¹æ³•æ˜¯ä½¿ç”¨homebrewå®‰è£… 1brew install miniforge condaå¸¸è§å‘½ä»¤çš„ä½¿ç”¨ 1234567891011121314151617181920212223242526272829303132333435363738394041// condaç¯å¢ƒçš„åˆ›å»ºã€æ¿€æ´»# æŸ¥çœ‹æ‰€æœ‰condaç¯å¢ƒconda info -e# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒconda create -n env_name python=python_versionEg:conda create -n py39 python=3.9# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒconda activate env_nameEg: conda activate py39# é€€å‡ºè™šæ‹Ÿç¯å¢ƒconda deactivate# åˆ é™¤è™šæ‹Ÿç¯å¢ƒconda remove -n env_name --all// åŒ…çš„æŸ¥çœ‹ã€å®‰è£…ã€åˆ é™¤å’Œæ›´æ–°# æŸ¥çœ‹ç¯å¢ƒä¸‹æ‰€æœ‰å®‰è£…çš„åŒ…conda activate env_nameconda list# æŸ¥çœ‹æ˜¯å¦å®‰è£…ç‰¹å®šçš„åŒ…conda activate env_nameconda list package_name# å®‰è£…åŒ…conda antivate env_nameconda insatall package_name# åˆ é™¤åŒ…conda antivate env_nameconda remove package_name # æ›´æ–°åŒ…conda antivate env_nameconda update package_name// conda å®‰è£…æœ¬åœ°åŒ…# è¿›å…¥åŒ…æ‰€åœ¨è·¯å¾„ cd /dè·¯å¾„cd /dE:\\\\Download# å®‰è£…åŒ… conda install --use-local åŒ…åconda install --use-local pytorch-1.8.0-py3.7_cuda11.1_cudnn8_0.tar.bz2// condaæ¸…ç†ç¯å¢ƒconda clean -pconda clean 4.3 Git â€” ç‰ˆæœ¬æ§åˆ¶ 4.3.1 å¸¸è§æŒ‡ä»¤ Book å¸¸ç”¨ Git å‘½ä»¤æ¸…å• 123456789101112131415161718192021222324252627282930313233343536373839404142// æ–°å»ºä»£ç åº“# åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ª Git ä»£ç åº“$ git init# æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸º Git ä»£ç åº“$ git init [project-name]# ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²$ git clone [url]// é…ç½®gitï¼Œé…ç½®æ–‡ä»¶ä¸ºgitconfigï¼Œå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•ï¼Œä¹Ÿå¯ä»¥åœ¨é¡¹ç›®ç›®å½•# æ˜¾ç¤ºå½“å‰çš„ Git é…ç½®$ git config --list# ç¼–è¾‘ Git é…ç½®æ–‡ä»¶$ git config -e [--global]# è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯$ git config [--global] user.name &quot;[name]&quot;$ git config [--global] user.email &quot;[email address]&quot;ç­‰ç­‰# æ·»åŠ æ‰€æœ‰æ–‡ä»¶git commit -m &#x27;[your message]&#x27;# ä¸Šä¼ ï¼Œåº”è¯¥æ˜¯ä¸Šä¸€æ¬¡addçš„æ–‡ä»¶å¤¹çš„ä¿¡æ¯# GitHubçš„æœ¬åœ°sshçš„è®¾ç½®# GitHubçš„æœ¬åœ°git config --global --listgit config --global user.name &quot;è¿™é‡Œæ¢ä¸Šä½ çš„ç”¨æˆ·å&quot;git config --global user.email &quot;è¿™é‡Œæ¢ä¸Šä½ çš„é‚®ç®±&quot;ssh-keygen -t rsa -C &quot;è¿™é‡Œæ¢ä¸Šä½ çš„é‚®ç®±&quot;# åç»­ç¡®è®¤å°±è¡Œï¼Œåœ¨GitHubä¸Šè¿›è¡ŒGUIçš„è®¾ç½®å°±OKSettings -- SSH and GPG keys# ä¸ºdnfæ·»åŠ sudo dnf config-manager --add-repo https://cli.github.com/packages/rpm/gh-cli.repo# å®‰è£…å°±å¥½dnf install gh# ä¹‹åè®¤è¯gh auto login# æŒ‰ç…§è§„å®šè¾“å…¥é€‰æ‹©è¾“å…¥tokenå°±è¡Œäº† 4.3.2 Git - PyCharm - GitHubæ“ä½œ é¦–å…ˆå®‰è£…å¥½è‡ªå·±çš„gitï¼Œç„¶ååœ¨pycharmä¸­çš„version control systemä¸­ä¸ºå½“å‰çš„é¡¹ç›®æ„å»ºè‡ªå·±çš„gitåŒæ­¥ç›®å½•ï¼Œå…¶ä¸­çš„ gitæ¯æ¬¡çš„æ–‡ä»¶ä¼šå­˜å‚¨åœ¨ç›¸å¯¹åº”çš„.gitæ–‡ä»¶å¤¹çš„ç›®å½•ä¸‹ï¼Œæ‰€ä»¥ä¹Ÿä¼šå¯¼è‡´åœ¨æ¯æ¬¡æå–çš„è¿‡ç¨‹ä¼šé€æ¸å˜çš„è¶Šæ¥è¶Šå¤§ï¼ŒåŒæ—¶ä¸ºè‡ªå·±çš„GitHubè´¦æˆ·ä¸­çš„ä¸€äº›æ“ä½œ chenxia31.github.io ,ä¸»è¦æ˜¯ä¸ªäººblogçš„ä½¿ç”¨ï¼Œåœ¨å…¶ä¸­ä½¿ç”¨markdownæ¥æ’°å†™ç›¸å…³çš„æ¨æ–‡ï¼Œä½¿ç”¨hexo gã€hexo dï¼Œä»¥åŠGitHub pageæ¥ç®¡ç†åŸŸåæ¥å®Œæˆè‡ªå·±çš„å…¬å¼€ code_study_pratice è¿™ä¸ªæ˜¯è¿‡å»çš„ä¸€äº›æ“ä½œï¼Œè¿™é‡Œå°±åˆ é™¤ï¼Œç®—æ˜¯æœ€å¼€å§‹çš„algorithmçš„ä¸œè¥¿ï¼Œå› ä¸ºåå­—ä¸å¥½å¬ä»¥åå°±åˆ é™¤æ¥ï¼Œä¸ºå•¥ä¸æ¢ä¸ªåå­—ï¼Œç®—äº†æ¢ä¸€ä¸ªåå­—é‡æ–°å¼€å§‹ Mercuryè¿™é‡Œä»¥åå°±æ˜¯ä»£ç å­¦ä¹ çš„åœ°æ–¹ï¼Œä¸»è¦åˆ†ä¸ºBaseSkillï¼ˆæ¯”å¦‚pandasçš„æ“ä½œï¼‰ã€Courseï¼ˆæ¯”å¦‚CS229ã€CS61Aã€æå®æ¯…ä¹‹ç±»çš„ï¼‰ã€Kaggleï¼ˆå…¶ä¸­æ¯”èµ›çš„åç§°ï¼‰ã€Leetcdeï¼ˆåŒ…æ‹¬åŠ›æ‰£å®˜ç½‘çš„ï¼Œè¿˜æœ‰ä¸€äº›å…³äºç®—æ³•å¯¼è®ºä¸­ä¹ é¢˜çš„åˆ·ï¼‰ã€latexä¸­çš„ä¸€äº›æ¨¡ç‰ˆã€å¦‚æœæƒ³è¦æ›´è¿‘ä¸€æ­¥è¿˜éœ€è¦æœ‰å…¶ä»–ä»£ç è¯­è¨€æ¯”å¦‚webå¼€å‘ã€C++è¯­è¨€ç­‰å±äºSpecial Area 4.3.3 Git - VsCode - GitHubæ“ä½œ æš‚æ—¶ä¸éœ€è¦ 4.4 ï¼ˆPythonï¼‰Tensorflow + Pytorch 2022-04-09 pytorchæš‚æ—¶æ²¡æœ‰æ”¯æŒGPUåŠ é€Ÿï¼Œä»…ä»…æ˜¯è®¨è®ºé˜¶æ®µï¼Œtensorflowå·²ç»æ”¯æŒGPUåŠ é€Ÿï¼Œä½¿ç”¨çš„æ˜¯appleæä¾›çš„metalçš„toolkit 1conda install -c pytorch pytorch torchvision Tensorflow Plugin - Metal - Apple Developer åœ¨condaç®¡ç†ä¸­ï¼Œç›´æ¥ä½¿ç”¨homebrewå®‰è£…çš„miniforgeå¯èƒ½ä¼šæœ‰é—®é¢˜ï¼Œå¯ä»¥é€‰æ‹©ç¬¬ä¸€ç§ä¸‹è½½ä¹‹åæ‰‹åŠ¨å®‰è£…çš„æ–¹å¼æ¥ç®¡ç† ä¹‹åæ˜¯æ–°å»ºä¸€ä¸ªcondaç¯å¢ƒï¼Œç„¶åactivateè¿›å» åˆ©ç”¨condaå®‰è£…ç›¸å…³ä¾èµ– 12// å¯ä»¥ç®¡ç†å®‰è£…çš„ç‰ˆæœ¬conda install -c apple tensorflow-deps==2.6.0 ç„¶ååœ¨ç¯å¢ƒå†…ä½¿ç”¨pipå®‰è£…ç›¸å¯¹åº”çš„tensorflowå’Œæ’ä»¶ 1234567// å®‰è£…python -m pip install tensorflow-macospython -m pip install tensorflow-metal// å¦‚æœéœ€è¦å¸è½½ä¹‹åé‡æ–°å®‰è£…python -m pip uninstall tensorflow-macospython -m pip uninstall tensorflow-metal æµ‹è¯•ä»£ç  12345678910111213141516171819202122232425262728from tensorflow.keras import layersfrom tensorflow.keras import modelsmodel = models.Sequential()model.add(layers.Conv2D(32, (3, 3), activation=&#x27;relu&#x27;, input_shape=(28, 28, 1)))model.add(layers.MaxPooling2D((2, 2)))model.add(layers.Conv2D(64, (3, 3), activation=&#x27;relu&#x27;))model.add(layers.MaxPooling2D((2, 2)))model.add(layers.Conv2D(64, (3, 3), activation=&#x27;relu&#x27;))model.add(layers.Flatten())model.add(layers.Dense(64, activation=&#x27;relu&#x27;))model.add(layers.Dense(10, activation=&#x27;softmax&#x27;))model.summary()from tensorflow.keras.datasets import mnistfrom tensorflow.keras.utils import to_categorical(train_images, train_labels), (test_images, test_labels) = mnist.load_data()train_images = train_images.reshape((60000, 28, 28, 1))train_images = train_images.astype(&#x27;float32&#x27;) / 255test_images = test_images.reshape((10000, 28, 28, 1))test_images = test_images.astype(&#x27;float32&#x27;) / 255train_labels = to_categorical(train_labels)test_labels = to_categorical(test_labels)model.compile(optimizer=&#x27;rmsprop&#x27;, loss=&#x27;categorical_crossentropy&#x27;, metrics=[&#x27;accuracy&#x27;])model.fit(train_images, train_labels, epochs=5, batch_size=64)test_loss, test_acc = model.evaluate(test_images, test_labels)test_acc https://zhuanlan.zhihu.com/p/408877901) 4.5 Linuxä½¿ç”¨ Linux ç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹ å†…æ ¸çš„å¼•å¯¼ BIOSå¼€æœºè‡ªæ£€ï¼ŒæŒ‰ç…§BIOSä¸­è®¾ç½®çš„å¯åŠ¨è®¾å¤‡æ¥å¯åŠ¨ï¼Œæ“ä½œç³»ç»Ÿæ¥ç®¡ç¡¬ä»¶ä¹‹åï¼Œé¦–å…ˆè¯»å…¥/bootç›®å½•ä¸‹çš„å†…æ ¸æ–‡ä»¶ è¿è¡Œinit initæ˜¯ç³»ç»Ÿæ‰€æœ‰è¿›ç¨‹çš„èµ·ç‚¹ï¼Œé¦–å…ˆè¯»å–é…ç½®æ–‡ä»¶ /etc/inittab ç³»ç»Ÿåˆå§‹åŒ– å»ºç«‹ç»ˆç«¯ ç”¨æˆ·ç™»é™†ç³»ç»Ÿ å‘½ä»¤è¡Œ ssh å›¾å½¢ç•Œé¢ Linux ç³»ç»Ÿç›®å½•ç»“æ„ 12345678910111213141516171819lsï¼šæŸ¥çœ‹æ–‡ä»¶ç›®å½•å¸¸è§ç›®å½•çš„è§£é‡Šï¼š/bin =binaries äºŒè¿›åˆ¶æ–‡ä»¶çš„ç¼©å†™ï¼Œè¿™ä¸ªç›®å½•å­˜æ”¾æœ€å¸¸ç”¨ä½¿ç”¨çš„æ˜æ—/boot å­˜æ”¾å¯åŠ¨Linuxçš„æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸€äº›è¿æ¥æ–‡ä»¶ä»¥åŠé•œåƒæ–‡ä»¶/dev æ˜¯deviceçš„ç¼©å†™ï¼Œå­˜æ”¾çš„æ˜¯Linuxçš„å¤–éƒ¨è®¾å¤‡ï¼ŒLinuxä¸­é¥­æ˜‚é—®è®¾å¤‡å’Œè®¿é—®æ–‡ä»¶çš„æ–¹å¼æ˜¯ç›¸åŒçš„/etc æ˜¯etceteraçš„ç¼©å†™ï¼Œç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•/home ç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•æ˜¯ç”¨ç”¨æˆ·çš„è´¦å·åç§°/lib æ˜¯libraryï¼Œå­˜æ”¾åœ¨å’Œç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€é“¾æ¥åº“/media ç³»ç»Ÿä¼šå°†è¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹/mnt è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ°åˆ«çš„æ–‡ä»¶ç³»ç»Ÿ/opt optionalï¼Œæ˜¯ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ï¼Œå¼„äººæ˜¯ç©ºçš„/proc æ˜¯processesçš„ç¼©å†™ï¼Œæ˜¯è™šæ‹Ÿæ–‡ä»¶ä¸‹iç—›ï¼Œè¿™ä¸ªç›®å½•çš„nettingä¸å†ç¡¬ç›˜ä¸Šè€Œæ˜¯åœ¨å†…å­˜é‡Œé¢ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹é‡Œé¢çš„æ–‡ä»¶æ¥å±è”½å‘½ä»¤/root ç³»ç»Ÿç®¡ç†å‘˜çš„ç”¨æˆ·ä¸»ç›®å½•/sbin superuser binariesçš„ç¼©å†™ï¼Œå­˜æ”¾çš„é¢æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åº/selinux æ˜¯centosç‰¹æœ‰çš„ç›®å½•ï¼Œç±»ä¼¼äºWindowsçš„é¢é˜²ç«å¢™/usr unix shared resourcesçš„ç¼©å†™ï¼Œç”¨æˆ·çš„è®¸å¤šåº”ç”¨ç¨‹åºå’Œæ–‡ä»¶/usr/bin ç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åº/usr/sbin /usr/src å†…æ ¸æºä»£ç é»˜è®¤çš„å­˜æ”¾ç›®å½• Linuxç³»ç»Ÿæ˜¯ä¸€ç§å…¸å‹çš„å¤šç”¨æˆ·ç³»ç»Ÿï¼Œä¸åŒçš„ç”¨æˆ·å¤„äºä¸åŒçš„åœ°ä½ï¼Œæ‹¥æœ‰ä¸åŒçš„æƒé™ï¼Œä¸ºæ¥ä¿æŠ¤ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼ŒLinuxç³»ç»Ÿå¯¹ä¸åŒçš„ç”¨æˆ·è®¿é—®ç›¸åŒçš„æ–‡ä»¶çš„æƒé™åšå‡ºäº†ä¸åŒçš„è§„å®šï¼Œåœ¨Linuxä¸­å¸¸ç”¨ä¸€ä¸‹ä¸¤ä¸ªå‘½ä»¤æ¥ä¿®æ”¹æ–‡ä»¶æˆ–è€…ç›®å½•æ‰€è¿°çš„ç”¨æˆ·ä¸æƒé™ chownï¼ˆchange ownerï¼‰ä¿®æ”¹æ‰€å±çš„userå’Œgroup chmodï¼ˆchange modeï¼‰ä¿®æ”¹ç”¨æˆ·çš„æƒé™ 12ll æˆ–è€…ls-læ¥æ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶çš„å±æ€§ä»¥åŠæ–‡ä»¶æ‰€å±äºçš„userå’Œgroup Linux æ–‡ä»¶å’Œç›®å½•ç®¡ç† Linuxçš„ç›®å½•ç»“æ„ä¸ºtreeç»“æ„ï¼Œæœ€é¡¶çº§çš„ç›®å½•ä¸ºæ ¹ç›®å½•ï¼Œå…¶ä»–ç›®å½•é€šè¿‡æŒ‚è½½å¯ä»¥æ·»åŠ åˆ°treeä¸­ï¼Œé€šè¿‡è§£é™¤æŒ‚è½½å¯ä»¥ç§»é™¤ä»–ä»¬ï¼Œé¦–å…ˆåŒºåˆ†ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„ ç»å¯¹è·¯å¾„ /usr/share/doc ç›¸å¯¹è·¯å¾„ â€¦/man å¤„ç†ç›®å½•çš„å¸¸ç”¨å‘½ä»¤ 123456789lsï¼šlist file åˆ—å‡ºç›®å½•åŠæ–‡ä»¶åcdï¼šchange directory åˆ‡æ¢ç›®å½•pwdï¼šä½©å†…å¡” work directory æ˜¾ç¤ºç›®å‰çš„ç›®å½•mkdirï¼šmake directory åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•rmdirï¼šremove directory åˆ é™¤ä¸€ä¸ªç©ºçš„ç›®å½•cpï¼šcopy fileå¤åˆ¶æ–‡ä»¶rmï¼šremoveåˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½•mvï¼šmove file ç§»åŠ¨æ–‡ä»¶ä¸ç›®å½•man ã€commandã€‘æ¥æŸ¥çœ‹ä½¿ç”¨æ–‡æ¡£ Linuxçš„æ–‡ä»¶å†…å®¹æŸ¥çœ‹ 1234567cat ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºæ–‡æœ¬å†…å®¹tac ä»æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤ºnl æ˜¾ç¤ºçš„æ—¶å€™è¾“å‡ºè¡Œå·more ä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºå†…å®¹less å¯ä»¥head å‰å‡ è¡Œtail åªçœ‹åå‡ è¡Œ Linuxçš„è¿æ¥linkçš„æ¦‚å¿µï¼Œä¸€ç§æ˜¯ç¡¬è¿æ¥ï¼Œå¦å¤–ä¸€ç§æ˜¯ç¬¦å·è¿æ¥ hard link é€šè¿‡ç´¢å¼•ç•Œé¢çš„æ¥è¿æ¥ï¼Œä¿å­˜åœ¨ç£ç›˜åˆ†åŒºæ±‡æ€»çš„æ–‡ä»¶ä¸ç®¡æ˜¯ä»€ä¹ˆç±»å‹éƒ½ç»™å®ƒåˆ†é…ä¸€ä¸ªç¼–å·æˆä¸ºinode indexï¼Œåœ¨Linuxæ±‡æ€»å¤šä¸ªæ–‡ä»¶åæŒ‡å‘åŒä¸€ä¸ªç´¢å¼•å±Šç”µè§†å­˜åœ¨çš„ï¼Œç¡¬è¿æ¥å…è®¸ä¸€ä¸ªæ–‡ä»¶æ‹¥æœ‰å¤šä¸ªæœ‰æ•ˆçš„æ–‡ä»¶å symbolic linkï¼šç±»ä¼¼äºå¿«æ·æ–¹å¼ Linux ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç† Linuxç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤šç”¨æˆ·å¤šä»»åŠ¡çš„åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªè¦ä½¿ç”¨ç³»ç»Ÿèµ„æºçš„ç”¨æˆ·éƒ½å¿…é¡»é¦–å…ˆå‘ç³»ç»Ÿç®¡ç†å‘˜ç”³è¯·ä¸€ä¸ªè´¦å·ï¼Œç„¶åç”¨è´¦å·çš„èº«ä»½è¿›å…¥ç³»ç»Ÿ ç”¨æˆ·çš„è´¦å·ä¸€æ–¹é¢å¯ä»¥å¸®åŠ©ç³»ç»Ÿç®¡ç†å‘˜å¯¹ä½¿ç”¨ç³»ç»Ÿå¾—åˆ°ç”¨æˆ·è¿›è¡Œè·Ÿè¸ªå¹¶æ§åˆ¶ä»–ä»¬å¯¹ç³»ç»Ÿèµ„æºçš„è®¿é—®ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿå¯ä»¥å¸®åŠ©ç”¨æˆ·ç»„ç»‡æ–‡ä»¶ï¼Œå¹¶ä¸ºç”¨æˆ·æä¾›å®‰å…¨æ€§é˜²æŠ¤ å®ç°ç”¨æˆ·è´¦å·çš„ç®¡ç†ï¼Œè¦å®Œæˆçš„å·¥ä½œä¸»è¦æœ‰å‡ ä¸ªæ–¹é¢ ç”¨æˆ·è´¦å·çš„æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹ ç”¨æˆ·å£ä»¤çš„ç®¡ç† ç”¨æˆ·ç»„çš„ç®¡ç† Linuxç£ç›˜ç®¡ç†å¥½åç›´æ¥å…³ç³»åˆ°æ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜ Linuxç£ç›˜ç®¡ç†å¸¸ç”¨çš„å‘½ä»¤ä¸ºdfã€duã€fidsk disk fullï¼ˆdfï¼‰ disk usedï¼ˆduï¼‰ fdisk ç”¨äºç£ç›˜åˆ†åŒº æˆ‘çš„baseç¯å¢ƒæ˜¯æˆ‘ä¹‹å‰ç”¨çš„ é¦–å…ˆå®‰è£…anacondaï¼š wget -P /tmp https://repo.anaconda.com/archive/Anaconda3-2021.11-Linux-x86_64.sh wgetæ˜¯å·¥å…·çš„åç§°ï¼Œåé¢çš„ğŸ”—æ˜¯å¯¹åº”çš„ä¸‹è½½åœ°è½´ åé¢çš„/tmpæ˜¯è®©ä¸‹è½½æ–‡ä»¶å­˜å‚¨åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢ å¸¸è§çš„command yum yellow dog update modified æ˜¯ä¸€ä¸ªåœ¨fedoraå’Œredhatä»¥åŠsuseçš„shellå‰ç«¯è½¯çœ‹åŒ…ç®¡ç†å™¨ï¼ŒåŸºäºRPMåŒ…ç®¡ç†ï¼Œèƒ½å¤Ÿä»æŒ‡å®šçš„æœåŠ¡å™¨è‡ªåŠ¨ä¸‹è½½RPMåŒ…å¹¶ä¸”å®‰è£…ï¼Œå¯ä»¥è‡ªåŠ¨å¤„ç†ä¾èµ–æ€§å…³ç³»ï¼Œå¹¶ä¸”ä¸€æ¬¡æ€§å®‰è£…æ‰€æœ‰ä¾èµ–è½¯ä»¶åŒ…ï¼Œæ— é¡»ç¹çå¯¹çš„ä¸€æ¬¡æ¬¡ä¸‹è½½ 1234567891011121314151617grammar of yumï¼šyum ã€optionã€‘ ã€commandã€‘* option å¯é€‰ï¼ŒåŒ…æ‹¬-hï¼ˆhelpï¼‰ -yï¼ˆyesï¼‰ -qï¼ˆä¸æ˜¾ç¤ºå®‰è£…è¿‡ç¨‹ï¼‰* command è¦è¿›è¡Œçš„æ“ä½œ* package å®‰è£…çš„åŒ…åå¸¸è§çš„å‘½ä»¤ï¼šcheck-updateupdateinstall &lt;package-name&gt;update &lt;package -name&gt;yum listyum remove &lt;package -name&gt;yum search &lt;keyword&gt;yum clean packagesyum clean headersyum clean oldheaders apt (advanced packageing tool æ˜¯ä¸€ä¸ªåœ¨debianå’Œubuntuç»ˆç«¯é¢shellå‰ç«¯è½¯ä»¶æŒ‚ä½ äº†å·¥å…· åˆ©ç”¨bash Anaconda3-2021.11-Linux-x86_64.s h æ¥å®‰è£…å¯¹åº”çš„æ–‡ä»¶ å®‰è£…çš„ä½ç½®ä¼šé»˜è®¤åœ¨root/anacondaçš„ç›®å½•ä¸‹é¢ ä»yumå®‰è£…dnf 4.6 Dockerä½¿ç”¨ 123456789101112131415161718yum list installed | grep dockerå¸è½½å®‰è£…yum -y remove docker-ce-cli.x86_64yum -y remove docker-ce.x86_64yum -y remove containerd.ioå®‰è£…ä¾èµ–yum install -y yum-utils device-mapper-persistent-data lvm2å®‰è£…yumåœ†å¤´yum-config-manager --add-repo &lt;https://mirrors.cloud.tencent.com/docker-ce/linux/centos/docker-ce.repo&gt;å®‰è£…Dockeryum install -y docker-ce docker-ce-cli containerd.iodocker version å¯åŠ¨ 123456systemctl start dockerè®¾ç½®ä¸ºå¼€æœºå¯åŠ¨systemctl enable dockeræŸ¥çœ‹è¿è¡ŒçŠ¶æ€ é…ç½® 1234567891011mkdir -p /etc/docker//é…ç½®åŠ é€Ÿtee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;&#123; &quot;registry-mirrors&quot;: [&quot;&lt;https://mirror.ccs.tencentyun.com&gt;&quot;]&#125;EOF// é‡å¯å®ˆæŠ¤è¿›ç¨‹å¹¶é‡å¯dockersystemctl daemon-reload &amp;&amp; systemctl restart docker è¿è¡Œç¬¬ä¸€ä¸ªå®¹å™¨ 1234docker run --name=hello hello-worldæŸ¥çœ‹docker ps -a æˆ–è€…ä¸€æ­¥ä¸€æ­¥è¿è¡Œä¸€ä¸ªå®¹å™¨ 123456789101112131415161718docker pull johngong/calibre-webæŸ¥çœ‹ç°æœ‰docker imagesæ ¹æ®åˆ›å»ºé•œåƒ docker create --name=calibre-web -p 80:8083 -v /data/calibre-web/library:/library -e WEBLANGUAGE=zh_CN johngong/calibre-webdocker create æ˜¯åˆ›å»ºå®¹å™¨çš„å‘½ä»¤--name=calibre-web è¡¨ç¤ºåˆ›å»ºçš„å®¹å™¨çš„åç§°-p 80:8083 è¡¨ç¤ºè¯¥å®¹å™¨å°† 80 ç«¯å£æ˜ å°„åˆ° 8083 ç«¯å£-v /data/calibre-web/librery:/libray è¡¨ç¤ºè¯¥å®¹å™¨å°† /data/calibre-web/library ç›®å½•æ˜ å°„ä¸º /library ç›®å½•-e WEBLANGUAGE=zh_CN è¡¨ç¤ºè¯¥å®¹å™¨å®šä¹‰äº†ä¸€ä¸ªå˜é‡ï¼Œå˜é‡åæ˜¯ WEBLANGUAGEï¼Œå˜é‡å€¼æ˜¯ zh_CNjohngong/calibre-web æ˜¯å®¹å™¨çš„é•œåƒï¼Œè¿™é‡Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å‰é¢æ‹‰å–çš„é•œåƒå¯åŠ¨åˆšæ‰åˆ›å»ºå¥½çš„é•œåƒdocker start calibre-web åœæ­¢é•œåƒ 123456789101112docker stop calibre-webæˆ–è€…docker kill calibre-webåˆ é™¤å®¹å™¨docker rm calibre-webdocker rmi hello-worlddocker rmi `docker images -q`åˆ é™¤æ‰€æœ‰ Dockeréƒ¨ç½²python ç½‘ç«™ å®‰è£…Dockerè™šæ‹Ÿæœºç¯å¢ƒ å­¦ä¹ dockeå¸¸ç”¨å‘½ä»¤ å®‰è£…Python SDKå’ŒMySQLé•œåƒ ä¸ºFlaskæ·»åŠ SQL Alchemyæ‹“å±•åº“ ä¸ºä»€ä¹ˆè¦Docker?è™šæ‹ŸåŒ–ç¯å¢ƒçš„é‡è¦æ€§ ç›´æ¥ç¨‹åºå®‰è£…æˆ–è€…éƒ¨ç½²åœ¨Linuxæ“ä½œç³»ç»Ÿä¸Šé¢ï¼Œå®¹æ˜“å¼•å‘èµ„æºå†²çª ç¨‹åºå¸è½½ä¸å¹²å‡€ï¼Œå¯¼è‡´æ— æ³•å®‰è£…æˆ–è€…éƒ¨ç½²æ–°ç¨‹åº æ¯æ¬¡éƒ¨ç½²ä¹‹å‰è¦å®‰è£…å¾ˆå¤šè½¯ä»¶ï¼Œä¿®æ”¹å¤æ‚çš„é…ç½®æ–‡ä»¶ æ— æ³•è®©æœåŠ¡å™¨ç¡¬ä»¶èµ„æºå®ç°å¤šç§Ÿæˆ·æœåŠ¡ å¢å¤§äº†åœ¨Linuxç³»ç»Ÿä¸Šéƒ¨ç½²é›†ç¾¤å’Œåˆ†å¸ƒå¼çš„éš¾åº¦ åœ¨Linuxä¸Šå®‰è£…dockerï¼Œäº†è§£docker hubçš„ è®¾ç½®dockerhubçš„åŠ é€Ÿå™¨DaoCloud äº†è§£Dockeré•œåƒä¸å®¹å™¨çš„å…³ç³»ï¼Œäº†è§£é•œåƒå’Œå®¹å™¨ä¹‹é—´çš„å…³ç³»ï¼Œå­¦ä¹ å¸¸ç”¨çš„dockerå‘½ä»¤ ä»€ä¹ˆæ˜¯dockeré•œåƒï¼Ÿ ä¸ºäº†å¿«é€Ÿæ‰“åŒ…å’Œéƒ¨ç½²è½¯ä»¶ç¯å¢ƒï¼Œdockerå¼•å…¥imageæœºåˆ¶ é•œåƒæ˜¯ä¸€ä¸ªé…ç½®å¥½çš„åªè¯»å±‚è½¯ä»¶ç¯å¢ƒ å¯ä»¥é€šè¿‡dockerfileæ–‡ä»¶åˆ›å»ºé•œåƒï¼Œä¹Ÿå¯ä»¥ä»dockerä»“åº“ä¸­ä¸‹è½½åˆ°é•œåƒä¸­ ä»€ä¹ˆæ˜¯dockerå®¹å™¨ å®¹å™¨æ˜¯åœ¨é•œåƒåŸºç¡€ä¸Šåˆ›å»ºå‡ºçš„è™šæ‹Ÿå®ä¾‹ï¼Œå†…å®¹å¯è¯»å¯å†™ ä¸€ä¸ªdocker image å¯ä»¥åˆ›å»ºå¤šä¸ªcontainerï¼Œè€Œä¸”containerä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œéƒ¨ç½²çš„ç¨‹åºä¹‹é—´ä¸ä¼šç›¸äº’å¹²æ‰°ï¼Œæ‰€æœ‰çš„å®¹å™¨ç›´æ¥ä½¿ç”¨å®¿ä¸»çš„ä¸»æœºçš„Linuxå†…æ ¸ docker run -it â€”name=p1 python:3.8 bash docker ä¼šä¸ºæ¯ä¸ªå®¹å™¨åˆ›å»ºç½‘å€ å­¦ä¹ dockerç½‘ç»œï¼Œdockerçš„å®¹å™¨ç«¯å£æ˜ å°„ï¼Œç›®å½•æŒ‚è½½æŠ€æœ¯ï¼ŒFTPç¨‹åºæ¥ç®¡ç†æ–‡ä»¶ï¼Œå¯ä»¥å°†å®¿ä¸»æœºæŒ‚è½½åœ¨ç›®å½•æŒ‚è½½ docker network create â€”subnet=172.18.0.0/16 mynet ç½‘æ®µçš„ip 123docker network create --subnet=172.18.0.0/16 mynetdocker network rm mynetdocker run -it --name=p2 --net mynet --ip 172.18.0.2 python:3.8 bash é»˜è®¤æƒ…å†µä¸‹ï¼Œé™¤æ¥å®¿ä¸»æœºä¹‹å¤–ï¼Œä»»ä½•ä¸»æœºæ— æ³•è®¿é—®è¿œç¨‹è®¿é—®çš„dockerå®¹å™¨ï¼Œé€šè¿‡ç«¯å£æ˜ å°„å¯ä»¥æŠŠå®¹å™¨ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„ç«¯å£ï¼Œè¿™æ ·å…¶ä»–çš„ä¸»æœºå°±èƒ½è®¿é—®å®¹å™¨æ¥ï¼Œæ˜ å°„åˆ°å®¿ä¸»æœºçš„ç«¯å£ï¼Œä¸éœ€è¦è®¾ç½®é˜²ç«å¢™è§„åˆ™ 1docker run -it -p9500:5000 -p9600:3306 python3.8:bash ä¸ºèƒ½æŠŠä¸€éƒ¨åˆ†ä¸šåŠ¡æ•°æ®ä¿å­˜åœ¨dockerç¯å¢ƒä¸­ï¼Œå¯ä»¥ä½¿ç”¨ftpï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ç›®å½•æ˜ å°„ã€‚å› ä¸ºftpä¼šå¯¼è‡´æ–‡ä»¶åˆ é™¤ï¼Œåªæ”¯æŒæ–‡ä»¶ç›®å½•æŒ‚è½½ï¼Œä¸æ”¯æŒæ–‡ä»¶æŒ‚è½½ï¼Œè€Œä¸”ä¸€ä¸ªå®¹å™¨å¯ä»¥æŒ‚è½½å¤šä¸ªç›®å½• -v /root/test:/root/project()å‰é¢æ˜¯å®¿ä¸»æœºï¼Œåé¢æ˜¯ docker run -it -p 9500:5000 python:3.8 -v /usr/local/JDBUS:/root/project bash","categories":[{"name":"Memo","slug":"Memo","permalink":"https://blog.tjdata.site/categories/Memo/"}],"tags":[{"name":"PersonPost","slug":"PersonPost","permalink":"https://blog.tjdata.site/tags/PersonPost/"}]},{"title":"è®¡ç®—æœºç½‘ç»œ-01-Chapter01 è®¡ç®—æœºç½‘ç»œå’Œå› ç‰¹ç½‘","slug":"è®¡ç®—æœºç½‘ç»œ-01-Chapter01 è®¡ç®—æœºç½‘ç»œå’Œå› ç‰¹ç½‘","date":"2022-06-11T14:44:25.000Z","updated":"2023-05-13T13:53:19.719Z","comments":true,"path":"posts/f10c5200.html","link":"","permalink":"https://blog.tjdata.site/posts/f10c5200.html","excerpt":"æš‘å‡æ–°å‘ï¼Œè‡ªé¡¶å‘ä¸‹çš„å­¦ä¹ è®¡ç®—æœºç½‘ç»œï¼Œè™½ç„¶ä½œä¸ºäº¤é€šäººå­¦è¿‡äº†ä¿¡å·ä¸ç³»ç»Ÿã€ä¿¡æ¯ä¼ è¾“åŸç†ã€åµŒå…¥å¼ç³»ç»Ÿä¸­ï¼Œäº†è§£åˆ°äº†æ¯”ç‰¹ä¼ è¾“ä»¥åŠåè®®çš„åˆæ­¥æ¦‚å¿µï¼Œä½†æ˜¯å’Œå®é™…åº”ç”¨ä¸­çš„è®¡ç®—æœºç½‘ç»œè¿˜å­˜åœ¨æ¯”è¾ƒå¤§çš„GAPï¼Œè‡ªé¡¶å‘ä¸‹æˆåŠŸçš„ä»‹ç»äº†å¦‚ä½•å»çœ‹è®¡ç®—æœºç½‘ç»œï¼Œè€Œä¸”ä½œè€…è¡Œæ–‡éå¸¸æœ‰è¶£ï¼Computer Networking_ A Top-Down Approach, Global Edition, 8th Edition.pdf,è‡ªå·±nextcloudæ­å»ºçš„webdavç½‘ç›˜åˆ†äº«ï¼","text":"æš‘å‡æ–°å‘ï¼Œè‡ªé¡¶å‘ä¸‹çš„å­¦ä¹ è®¡ç®—æœºç½‘ç»œï¼Œè™½ç„¶ä½œä¸ºäº¤é€šäººå­¦è¿‡äº†ä¿¡å·ä¸ç³»ç»Ÿã€ä¿¡æ¯ä¼ è¾“åŸç†ã€åµŒå…¥å¼ç³»ç»Ÿä¸­ï¼Œäº†è§£åˆ°äº†æ¯”ç‰¹ä¼ è¾“ä»¥åŠåè®®çš„åˆæ­¥æ¦‚å¿µï¼Œä½†æ˜¯å’Œå®é™…åº”ç”¨ä¸­çš„è®¡ç®—æœºç½‘ç»œè¿˜å­˜åœ¨æ¯”è¾ƒå¤§çš„GAPï¼Œè‡ªé¡¶å‘ä¸‹æˆåŠŸçš„ä»‹ç»äº†å¦‚ä½•å»çœ‹è®¡ç®—æœºç½‘ç»œï¼Œè€Œä¸”ä½œè€…è¡Œæ–‡éå¸¸æœ‰è¶£ï¼Computer Networking_ A Top-Down Approach, Global Edition, 8th Edition.pdf,è‡ªå·±nextcloudæ­å»ºçš„webdavç½‘ç›˜åˆ†äº«ï¼ chapter01 è®¡ç®—æœºç½‘ç»œå’Œå› ç‰¹ç½‘ æ¦‚è¿°è®¡ç®—æœºç½‘ç»œå’Œå› ç‰¹ç½‘ï¼Œè¿™ç« çš„ç›®æ ‡æ˜¯ä»æ•´ä½“ä¸Šç²—çº¿æ¡å‹¾å‹’å‡ºè®¡ç®—æœºç½‘ç»œçš„æ¦‚è²Œï¼Œå¹¶ä¸”æè¿°è¿™æœ¬ä¹¦çš„å†…å®¹æ¡†æ¶ï¼ŒåŒ…å«å¤§é‡è®¡ç®—æœºç½‘ç»œçš„èƒŒæ™¯çŸ¥è¯†ï¼Œå¹¶æ”¾åˆ°æ•´ä¸ªç½‘ç»œçš„å¤§ç¯å¢ƒä¸­è®¨è®ºç»“æœã€‚ åœ¨ä»‹ç»åŸºæœ¬æœ¯è¯­å’Œæ¦‚å¿µåï¼Œå°†é¦–å…ˆæŸ¥çœ‹æ„æˆç½‘ç»œçš„åŸºæœ¬ç¡¬ä»¶å’Œè½¯ä»¶ç»„å»ºï¼Œä»ç½‘ç»œçš„è¾¹ç¼˜å¼€å§‹è€ƒå¯Ÿç½‘ç»œä¸­è¿è¡Œçš„ç«¯è®¾å¤‡ï¼›ä¹‹åæ¢ç©¶ç½‘ç»œçš„æ ¸å¿ƒï¼ŒåŒ…æ‹¬ä¼ è¾“æ•°æ®çš„é“¾è·¯å’Œäº¤æ¢æœºï¼Œä»¥åŠå°†ç«¯ç³»ç»Ÿå’Œç½‘ç»œæ ¸å¿ƒç›¸è¿æ¥çš„æ¥å…¥ç½‘å’Œç‰©ç†åª’ä½“ ååŠéƒ¨åˆ†å°†ä»æ›´å¹¿æ³›ã€æ›´æŠ½è±¡çš„è§’åº¦æ¥è€ƒå¯Ÿè®¡ç®—æœºç½‘ç»œï¼ŒåŒ…æ‹¬å…¶ä¸­çš„æ•°æ®çš„æ—¶é—´å»¶è¿Ÿã€ä¸¢åŒ…å’Œååé‡ï¼›ä»‹ç»å…¶ä¸­çš„å…³é”®ä½“ç³»ç»“æ„åŸåˆ™ï¼Œå¦‚åè®®åˆ†å±‚å’ŒæœåŠ¡æ¨¡å‹ï¼Œæˆ‘ä»¬å°†äº†è§£åˆ°è®¡ç®—æœºç½‘ç»œå¯¹äºè®¸å¤šä¸åŒç±»å‹çš„æ”»å‡»æ¥è¯´æ˜¯è„†å¼±çš„ 1.1 æ˜¯ä»€ä¹ˆæ˜¯å› ç‰¹ç½‘ï¼ˆInternetï¼‰ 1.1.1 ç¡¬ä»¶è§’åº¦æè¿° computer networkä¼¼ä¹æœ‰ç‚¹è¿‡æ—¶ï¼Œå› ä¸ºé™¤äº†ç”µè„‘ã€æœåŠ¡å™¨æ™ºèƒ½æ‰‹æœºã€ç”µè§†ã€æ¸¸æˆæœºã€æ¸©åº¦è°ƒèŠ‚è®¾å¤‡éƒ½é€æ¸è¿æ¥åˆ°å› ç‰¹ç½‘ä¸­ï¼Œè€Œè¿™äº›è®¾å¤‡é€šå¸¸ç§°ä¸ºä¸»æœºï¼ˆHostï¼‰æˆ–è€…ç«¯ç³»ç»Ÿï¼ˆEnd systemï¼‰ **ç«¯ç³»ç»Ÿï¼ˆEnd systemï¼‰é€šè¿‡é€šä¿¡é“¾è·¯ï¼ˆCommunication linkï¼‰å’Œåˆ†ç»„äº¤æ¢ï¼ˆPacket switchï¼‰**è¿æ¥åˆ°ä¸€èµ·ï¼Œ å…¶ä¸­é€šä¿¡é“¾è·¯ç”±ä¸åŒçš„ç‰©ç†åª’ä»‹ç»„æˆï¼ŒåŒ…æ‹¬åŒè½´ç”µç¼†ã€é“œçº¿ã€å…‰çº¤ç­‰ï¼Œæœ€é‡è¦çš„æ˜¯ä¼ è¾“é€Ÿç‡ å…¶ä¸­åˆ†ç»„äº¤æ¢æ˜¯å°†ä»ä¸€ç»„è¾“å…¥é“¾è·¯åˆ°è¾¾å¦å¤–ä¸€ä¸ªè¾“å‡ºé“¾è·¯ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ç”±è®¸å¤šç‰¹è‰²çš„åˆ†ç»„äº¤æ¢æœºï¼Œå…¶ä¸­æœ€è‘—åçš„åŒ…æ‹¬è·¯ç”±å™¨ï¼ˆrouterï¼‰å’Œé“¾è·¯å±‚äº¤æ¢æœºï¼ˆlink-layer switchï¼‰ ### 1.1.2 è½¯ä»¶è§’åº¦æè¿° äº’è”ç½‘åº”ç”¨å¤„ç†ä¼ ç»Ÿçš„ç”µå­é‚®ä»¶ã€webå†²æµªç­‰ä¼ ç»Ÿåº”ç”¨å¤–ï¼Œè¿˜åŒ…æ‹¬ç§»åŠ¨æ™ºèƒ½æ‰‹æœºå’Œå¹³æ¿ç”µè„‘åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­åŒ…æ‹¬å³æ—¶é€šè®¯ã€åœ°å›¾å¯¼èˆªã€æµåª’ä½“ç­‰ï¼Œè¿™äº›åº”ç”¨ç¨‹åºæ¶‰åŠå¤šä¸ªç›¸äº’äº¤äº’æ•°æ®çš„ç«¯ç³»ç»Ÿï¼Œå› æ­¤ç§°ä¸ºåˆ†å¸ƒå¼åº”ç”¨ç³»ç»Ÿï¼ˆdistributed applicationï¼‰ ğŸ’¡ ï¼Ÿï¼Ÿå‡è®¾ä½ å¸Œæœ›å¯¹åˆ†å¸ƒå¼å› ç‰¹ç½‘æœ‰ä¸€ä¸ªæ¿€åŠ¨äººå¿ƒçš„æƒ³æ³•ï¼Œå¦‚ä½•å°†è¿™ç§æƒ³æ³•è½¬æ¢ç§°ä¸ºä¸€ç§å®é™…çš„å› ç‰¹ç½‘åº”ç”¨å‘¢ï¼Ÿï¼Ÿä¹Ÿå°±æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„åº”ç”¨ç¨‹åºæ€æ ·æ‰èƒ½é€šè¿‡äº’è”ç½‘è·å¾—åœ¨å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„è½¯ä»¶å‘é€çš„æ•°æ®ï¼Ÿ ä¸å› ç‰¹ç½‘çš„ç«¯ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªå¥—æ¥å­— socket interfaceï¼Œè§„å®šäº†è¿è¥åœ¨ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„ç¨‹åº è¯·æ±‚å› ç‰¹ç½‘åŸºç¡€è®¾æ–½å‘è¿è¡Œåœ¨å¦ä¸€ä¸ªç«¯ç³»ç»Ÿä¸Šçš„ç‰¹å®šç›®çš„åœ°ç¨‹åºäº¤ä»˜æ•°æ®çš„æ–¹å¼ï¼Œæ˜¯å‘é€ç¨‹åºå¿…é¡»éµå¾ªçš„è§„åˆ™é›†åˆ åè®®ï¼ˆprotocolï¼‰å®šä¹‰äº†ä¸¤ä¸ªæˆ–å¤šä¸ªé€šä¿¡å®ä½“ä¹‹é—´äº¤æ¢çš„æŠ¥æ–‡çš„æ ¼å¼å’Œé¡ºåºï¼Œä»¥åŠæŠ¥æ–‡å‘é€å’Œæˆ–æ¥å—ä¸€æ¡æŠ¥æ–‡æˆ–å…¶ä»–æ—¶é—´æ‰€é‡‡å–çš„åŠ¨ä½œ ä¸åŒçš„åè®®ç”¨äºå®Œæˆä¸åŒçš„é€šä¿¡ä»»åŠ¡ 1.2 ç½‘ç»œè¯¦ç»† â€” ç½‘ç»œè¾¹ç¼˜ ç«¯ç³»ç»Ÿç§°ä¸ºä¸»æœºï¼ˆhostï¼‰ï¼Œä¹Ÿè¢«å«åšç«¯ç³»ç»Ÿï¼ˆEnd systemï¼‰ï¼Œä¸»æœºå¯ä»¥è¿›ä¸€æ­¥åˆ’åˆ†ä¸ºå®¢æˆ·ï¼ˆClientï¼‰å’ŒæœåŠ¡å™¨ï¼ˆServerï¼‰ ä¼ è¾“çš„ç‰©ç†åª’ä»‹åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿä¹Ÿå°±æ˜¯ä¿¡æ¯ä¼ è¾“åŸç†ä¸­ä¼ é€’ä¿¡æ¯çš„æ–¹å¼ï¼Œä»å‘å°„å™¨åˆ°æ¥æ”¶å™¨ä¸­çš„ç‰©ç†åª’ä»‹å’Œå¼•å¯¼å‹åª’ä»‹ ç‰©ç†åª’ä»‹ï¼ˆPhysical mediumï¼‰ åŒç»é“œçº¿ï¼Œç”¨æ¥å‡å°‘ä¸´è¿‘ç±»ä¼¼çš„åŒç»çº¿çš„å—²ä½ å»å¹²æ‰°ï¼Œæ— å±è”½åŒç»çº¿ï¼ˆUTPï¼‰é€šå¸¸ç”¨äºå»ºç­‘ç‰©å†…çš„è®¡ç®—æœºç½‘ç»œï¼ˆLANï¼‰ åŒè½´ç”µç¼†ï¼Œç”±ä¸¤ä¸ªé“œå¯¼ä½“ç»„æˆçš„ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªå¯¼ä½“æ˜¯åŒå¿ƒçš„è€Œä¸æ˜¯å¹¶è¡Œçš„ï¼Œå¯ä»¥è¾¾åˆ°è¾ƒå¿«çš„æ•°æ®ä¼ è¾“é€Ÿç‡ å…‰çº¤ï¼Œä¸€ç§ç»†è€ŒæŸ”è½¯çš„èƒ½å¤Ÿå¼•å¯¼å…‰è„‰å†²çš„åª’ä»‹ï¼Œè¡°å‡ä½åŒæ—¶éš¾ä»¥çªƒå¬ï¼Œç”±äºå…‰é¢‘ç‡çš„ç‰¹æ®Šæ€§ï¼Œä»¥51.8Mpbsä½œä¸ºæ ‡å‡†ç‰ˆ å¯¼å¼•æ€§åª’ä»‹ï¼ˆGuided mediaï¼‰ é™†åœ°æ— çº¿ç”µä¿¡é“ï¼Œæå¤§çš„ä¾èµ–äºä¼ æ’­ç¯å¢ƒå’Œä¿¡å·ä¼ è¾“çš„ä¸¾ä¾‹ï¼Œåˆ†ä¸ºçŸ­ã€ä¸­ã€é•¿ä¸‰ç±» å«æ˜Ÿæ— çº¿ä¿¡é“ï¼Œé€šå¸¸ä½¿ç”¨ä¸¤ç±»å«æ˜Ÿï¼ŒåŒæ­¥å«æ˜Ÿï¼ˆgeostationary satelliteï¼‰å’Œè¿‘åœ°è½¨é“ï¼ˆlow-earth satelliteï¼‰ è¾¹ç¼˜è®¾å¤‡å’Œç½‘ç»œé“¾æ¥éœ€è¦è€ƒè™‘æ¥å…¥ç½‘ï¼Œä¹Ÿå°±æ˜¯å°†ç«¯ç³»ç»Ÿç‰©ç†è®¾å¤‡è¿æ¥åˆ°è¾¹ç¼˜è·¯ç”±å™¨ï¼ˆEdge routerï¼‰ï¼Œå¸¸è§çš„æ–¹å¼æœ‰ï¼š å®¶åº­æ¥å…¥ï¼ŒDSLã€ç”µç¼†ã€FTTHã€æ‹¨å·å’Œå«æ˜Ÿ DSLï¼ˆDigital Subscriber Lineï¼‰æ•°å­—ç”¨æˆ·çº¿ï¼Œå—é™äºä»·æ ¼æˆ–è€…ç‰©ç†è´·æ¬¾ï¼Œä¸Šè¡Œé€Ÿç‡å’Œä¸‹è¡Œé€Ÿç‡å¹¶ä¸ç›¸åŒ ç”µç¼†ï¼ˆCable Internet Accessï¼‰åˆ©ç”¨æœ‰çº¿ç”µè§†å…¬å¸ç°æœ‰çš„æœ‰çº¿ç”µè§†åŸºç¡€è®¾æ–½ï¼Œé€šå¸¸ä½¿ç”¨åŒè½´ç”µç¼†å’Œå…‰çº¤æ··åˆçš„æ–¹å¼ï¼ˆHybrid Fiber Coaxï¼ŒHFCï¼‰ å…‰çº¤åˆ°æˆ·ï¼ˆFiber to the homeï¼ŒFTTH)ï¼Œåˆ†ä¸ºä¸»åŠ¨å…‰çº¤ç½‘ç»œå’Œè¢«åŠ¨å…‰çº¤ç½‘ç»œ éå¸¸æ…¢ã€é€‚åˆåè¿œåœ°åŒºçš„å«æ˜Ÿå’Œæ‹¨å·ï¼ˆä¼ ç»Ÿç”µè¯çº¿ï¼‰ å…¬å…±åœºæ‰€ï¼Œä»¥å¤ªç½‘å’ŒWiFi ä½¿ç”¨å±€åŸŸä»¥å¤ªç½‘å°†è®¾å¤‡è¿æ¥åˆ°äº¤æ¢æœºï¼Œæ¯”å¦‚ä½¿ç”¨åŒç»é“œçº¿è¿æ¥åˆ°å‡ç¼“é›† ä¸€ç§åŸºäºIEEE802.11çš„LANä»‹å…¥æ–¹å¼ è™½ç„¶ä»¥å¤ªç½‘å’ŒWi-Fiæ¥å…¥ç½‘æœ€æ—©å‡ºç°åœ¨ä¼ä¸šæˆ–å¤§å­¦ï¼Œä½†æ˜¯ä»Šå¹´æ¥ä¹Ÿå·²ç»æˆä¸ºå®¶åº­ç½‘ç»œä¸­ç›¸å½“å¸¸è§çš„éƒ¨ä»¶ ç§»åŠ¨ç½‘ç»œï¼Œ3Gã€LTEã€5G åˆ©ç”¨åŸºç«™å¸ƒè®¾æ¥è·å–é€Ÿåº¦ LTEï¼ˆlong term evolutionï¼‰æœ€å·®é¦–å­—æ¯ç¼©å†™è¯ï¼Œå–å¾—äº†10Mpbsçš„é€Ÿç‡ 1.3 ç½‘ç»œè¯¦ç»† â€”ç½‘ç»œæ ¸å¿ƒ ç”±é€šä¿¡é“¾è·¯å’Œäº¤æ¢æœºç»„æˆçš„ç½‘çŠ¶ç³»ç»Ÿï¼Œåœ¨ç½‘ç»œé“¾è·¯å’Œäº¤æ¢æœºç§»åŠ¨æ•°æ®çš„ä¸¤ç§åŸºæœ¬æ–¹æ³•ï¼Œç”µè·¯äº¤æ¢ï¼ˆcircuit switchingï¼‰å’Œåˆ†ç»„äº¤æ¢ï¼ˆpacket switchingï¼‰ 1.3.1 åˆ†ç»„äº¤æ¢ ä¼ é€’æŠ¥æ–‡ï¼Œä½†æ˜¯ä¼šæ ¹æ®æ•°æ®åŒ…æœ‰æ—¶å»¶ï¼Œå› ä¸ºäº¤æ¢æœºéœ€è¦å­˜å‚¨æ–‡ä»¶ç„¶åå‘å‡ºå» 1.3.2 ç”µè·¯äº¤æ¢ é¢å‘ç”µè·¯çš„è¿æ¥ï¼Œæ— è®ºæ—¶æ—¶åˆ†å¤ç”¨ã€é¢‘åˆ†å¤ç”¨è¿˜æ˜¯ç åˆ†å¤ç”¨ 1.4 ç½‘ç»œè¯¦ç»† â€” è¯„ä»·æŒ‡æ ‡ï¼šæ—¶å»¶ã€ä¸¢åŒ…å’Œååé‡ åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›å› ç‰¹ç½‘æœåŠ¡èƒ½å¤Ÿåœ¨ä»»æ„ä¸¤ä¸ªç«¯ç³»ç»Ÿä¹‹é—´éšå¿ƒæ‰€æ¬²ç¬é—´ç§»åŠ¨æ•°æ®è€Œæ²¡æœ‰ä»»ä½•æ•°æ®ä¸¢å¤±ï¼Œä½†æ˜¯å—é™äºç³»ç»Ÿçš„å®é™…ä¼ é€’é€Ÿç‡ï¼Œå¯èƒ½ä¼šä¸¢åˆ°åˆ†ç»„çš„æŠ¥æ–‡ï¼Œä¸€æ–¹é¢è¿™ä¸ªæ˜¯ç½‘ç»œçš„å·¨å¤§é—®é¢˜ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿæ˜¯è®¡ç®—æœºç½‘ç»œå­˜åœ¨çš„æ„ä¹‰ 1.4.1 æ—¶å»¶çš„æ¦‚è¿° å½“åˆ†ç»„æŠ¥æ–‡ä»ä¸€ä¸ªèŠ‚ç‚¹æ²¿ç€è¿™æ¡è·¯åˆ°è¾¾ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¯¥åˆ†ç»„åœ¨æ²¿é€”ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ç»å—äº†å‡ ç§ä¸åŒç±»å‹çš„æ—¶å»¶ï¼Œå…¶ä¸­æœ€é‡è¦çš„åŒ…æ‹¬ èŠ‚ç‚¹å¤„ç†æ—¶å»¶ï¼ˆNodal processing delayï¼‰ï¼Œæ¯”å¦‚æ£€æŸ¥æ¯”ç‰¹å·®é”™æ‰€éœ€è¦çš„æ—¶é—´ã€ç­‰æ—¶é—´ æ’é˜Ÿæ—¶å»¶ï¼ˆQueuing delayï¼‰ï¼Œåœ¨é˜Ÿåˆ—ä¸­ï¼Œåœ¨é“¾è·¯ä¸Šç­‰å¾…ä¼ ä¸–çš„æ—¶é—´ï¼Œå¦‚æœæµé‡å¾ˆå¤§ï¼Œåˆ™ä¸èƒ½ä¼ è¾“æ— éœ€ç­‰å¾… ä¼ è¾“æ—¶å»¶ï¼ˆTransmission delayï¼‰ï¼Œè¿™ä¸ªé€‚ç”¨äºæŠ¥æ–‡åˆ†ç»„æ‰€éœ€è¦çš„æ—¶é—´æ¯«ç§’çº§åˆ°å¾®ç§’çº§åˆ« ä¼ æ’­æ—¶å»¶ï¼ˆPropagation delayï¼‰ï¼Œè¿™ä¸ªæ˜¯å®é™…ä¸Šåœ¨è·¯å¾„ä¸Šè¿è¡Œçš„é¢è®°å½•ï¼Œä¸€æ—¦ä¸€ä¸ªæ¯”ç‰¹èµ°å‘äº†é“¾è·¯ï¼Œè¯¥æ¯”ç‰¹æ‰€éœ€è¦çš„è·¯ç”±å™¨ä¼ æ’­ ä¸åŒä¸šåŠ¡åœºæ™¯å¯¹äºè®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½å¤„ç†æ–¹å¼å¹¶ä¸ç›¸åŒã€‚ 1.4.2 æ’é˜Ÿæ—¶å»¶å’Œä¸¢åŒ…çš„å…³ç³» å½“ç„¶æ˜¯æ—¶å»¶è¶Šé•¿ï¼Œä¸¢åŒ…è¶Šå¤šå•¦ 1.4.3 ç«¯åˆ°ç«¯æ—¶å»¶ ç•¥ 1.4.4 è®¡ç®—æœºç½‘ç»œçš„ååé‡ ç•¥ 1.5 ç½‘ç»œè¯¦ç»† â€” åè®®å±‚æ¬¡å’ŒæœåŠ¡æ¨¡å‹ åœ¨è®¡ç®—æœºç½‘ç»œä¸­è™½ç„¶å­˜åœ¨å¤§é‡çš„é¥®ç”¨ç¨‹åºåè®®ã€å„ç§ä¸ªæ ·çš„ç«¯ç³»ç»Ÿã€åˆ†ç»„äº¤æ¢æœºä»¥åŠå„ç§ç±»å‹çš„é“¾è·¯çº§åª’ä½“ï¼Œé¢å¯¹è¿™ç§å¤æ‚æ€§ï¼Œè¿˜å­˜åœ¨ç»„ç»‡ç½‘ç»œä½“ç³»ç»“æ„çš„å¸Œæœ›å—ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼ŒOSIå‚è€ƒæ¨¡å‹ 1.5.1 åˆ†ç»„çš„ä½“ç³»ç»“æ„ åˆ©ç”¨åˆ†å±‚çš„ä½“ç³»ç»“æ„å°±å¯ä»¥è®¨è®ºä¸€ä¸ªå¤§è€Œå¤æ‚ç³»ç»Ÿçš„å®šä¹‰è‰¯å¥½çš„ç‰¹å®šéƒ¨åˆ†ï¼Œè¿™ç§ç®€åŒ–æœ¬èº«ç”±äºæä¾›æ¨¡å—åŒ–è€Œå…·æœ‰å¾ˆé«˜ä»·å€¼ï¼Œè¿™æ˜¯çš„æŸå±‚æ‰€æä¾›çš„æœåŠ¡å®¹æ˜“æ”¹å˜ï¼Œåªè¦è¯¥æ›¾å¯¹ä¸Šé¢æä¾›ç›¸åŒçš„æœåŠ¡å¹¶ä¸”ä½¿ç”¨æ¥è‡ªä¸‹å±‚çš„ç›¸åŒæœåŠ¡ï¼Œå°±å¯ä»¥ä¿æŒä¸æ–­æ›´æ–°ï¼Œè¿™ç§æ”¹å˜æœåŠ¡çš„å®ç°è€Œä¸å½±å“è¯¥ç³»ç»Ÿå…¶ä»–ç»„ä»¶æ˜¯åˆ†ç»„çš„å¦ä¸€ç§é‡è¦ä¼˜ç‚¹ã€‚ä½†æ˜¯åˆ†å±‚çš„ä¸€ä¸ªæ½œåœ¨ç¼ºç‚¹æ˜¯ä¸€å±‚å¯èƒ½å®¹æ˜“è¾ƒä½å±‚çš„åŠŸèƒ½ã€‚å°†è¿™äº›ç»¼åˆèµ·æ¥ï¼Œå„å±‚çš„æ‰€æœ‰åè®®è¢«æˆä¸ºåè®®æ ˆï¼ˆprotocol stackï¼‰ åº”ç”¨å±‚ï¼Œæ¯”å¦‚HTTPã€SMTPã€FTPã€SFTPã€DNSè§£æ è¿è¾“å±‚ï¼ŒTCPã€UDP ç½‘ç»œå±‚ï¼Œå°†æ•°æ®æŠ¥datagramä»ä¸€å°ä¸»æœºç§»åŠ¨åˆ°å¦ä¸€å¤ªä¸»æœºï¼ŒåŒ…æ‹¬è‘—åçš„ç½‘é™…åè®®ä½ IPï¼Œä¹ŸåŒ…æ‹¬è·¯ç”±é€‰æ‹©åè®®ç­‰ï¼Œç»Ÿä¸€ç§°ä½œIPå±‚ é“¾è·¯å±‚ï¼ŒåŒ…æ‹¬ä»¥å¤ªç½‘ã€WIFIã€ç”µç¼†æ¥å…¥ç½‘DOCSISåè®®ï¼Œè¿™é‡Œçš„åˆ†ç»„æˆä¸ºframe ç‰©ç†å±‚ï¼Œé€šè¿‡ç‰©ç†åè®®ä¼ è¾“","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"netowrk","slug":"netowrk","permalink":"https://blog.tjdata.site/tags/netowrk/"}]},{"title":"Single-02-å†³ç­–æ ‘ä¸­çš„Boostingæ–¹æ³•","slug":"Single-02-å†³ç­–æ ‘ä¸­çš„Boostingæ–¹æ³•","date":"2022-05-22T13:36:41.000Z","updated":"2023-05-13T13:50:55.859Z","comments":true,"path":"posts/cc1abdc.html","link":"","permalink":"https://blog.tjdata.site/posts/cc1abdc.html","excerpt":"å¯¹å†³ç­–æ ‘ä¸­æœ‰å…³çš„boostingæ–¹æ³•è¿›è¡Œæ€»ç»“ï¼ŒåŒ…æ‹¬æœ€åŸºæœ¬çš„Adaboostã€ç„¶åäº†è§£ä»æå‡æ ‘ï¼ˆBoosting Treeï¼‰åˆ°ä¹‹åçš„æ¢¯åº¦æå‡å›å½’æ ‘ï¼ˆGradient boosting decision treeï¼‰ï¼Œå¸Œæœ›å¯ä»¥äº†è§£å…¶ä¸­çš„Boostingæ–¹æ³•çš„è„‰ç»œï¼Œä¹Ÿä¸ºä¹‹åçš„XGBoostå’ŒLightGBMçš„å­¦ä¹ å¥ å®šåŸºç¡€","text":"å¯¹å†³ç­–æ ‘ä¸­æœ‰å…³çš„boostingæ–¹æ³•è¿›è¡Œæ€»ç»“ï¼ŒåŒ…æ‹¬æœ€åŸºæœ¬çš„Adaboostã€ç„¶åäº†è§£ä»æå‡æ ‘ï¼ˆBoosting Treeï¼‰åˆ°ä¹‹åçš„æ¢¯åº¦æå‡å›å½’æ ‘ï¼ˆGradient boosting decision treeï¼‰ï¼Œå¸Œæœ›å¯ä»¥äº†è§£å…¶ä¸­çš„Boostingæ–¹æ³•çš„è„‰ç»œï¼Œä¹Ÿä¸ºä¹‹åçš„XGBoostå’ŒLightGBMçš„å­¦ä¹ å¥ å®šåŸºç¡€ 0x01 èƒŒæ™¯çŸ¥è¯† 1.1 å†³ç­–æ ‘ï¼ˆDecision treeï¼‰ å†³ç­–æ ‘æ˜¯ä¸€ç§åŸºæœ¬çš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œå…·æœ‰åˆ†ç±»å’Œå›å½’çš„åŠŸèƒ½ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯å…·æœ‰åˆ†ç±»é€Ÿåº¦å¿«ï¼Œæ¨¡å‹å®¹æ˜“å¯è§†åŒ–çš„è§£é‡Šï¼Œç¼ºç‚¹æ˜¯å®¹æ˜“å‘ç”Ÿè¿‡æ‹Ÿåˆ å†³ç­–å¯ä»¥åˆ†ä¸ºåˆ†ç±»æ ‘å’Œå›å½’æ ‘ 1.2 é›†æˆå­¦ä¹  ï¼ˆEnsemble learningï¼‰ ä¸ºäº†å°†å¼±å­¦ä¹ å™¨ï¼ˆWeak learnerï¼‰é›†ä¸­å…¶ä¸­å½¢æˆè¿™ä¸ªå…·æœ‰å¤šå­¦ä¹ å™¨ç»¼åˆçš„æ¡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸åŒçš„ç®—æ³•å’Œæ•°æ®é›†èåˆçš„æ–¹å¼æ¥æ„å»ºæ¨¡å‹ã€ä¹Ÿå¯ä»¥é‡‡ç”¨ä¸åŒçš„èåˆæ–¹æ³•æ¯”å¦‚å¹³å‡æ³•æŠ•ç¥¨æ³•stackingã€æˆ–è€…é‡‡ç”¨ç‰¹æ®Šçš„æŠ€å·§æ¯”å¦‚baggingå’Œboostingçš„æ–¹å¼ å…¶ä¸­XGboostå’ŒGDéƒ½å±äºboostingçš„æ–¹æ³•èŒƒç•´ï¼Œå…¶å·¥ä½œåŸç†æ˜¯åˆå§‹è®­ç»ƒé›†è®­ç»ƒå¾—åˆ°ä¸€ä¸ªåŸºå­¦ä¹ å™¨ï¼Œå†æ ¹æ®åŸºå­¦ä¹ å™¨çš„è¡¨ç°å¯¹è®­ç»ƒæ ·æœ¬åˆ†å¸ƒè¿›è¡Œè°ƒæ•´ï¼Œä½¿å¾—ä¹‹å‰åŸºå­¦ä¹ å™¨å‡ºé”™çš„è®­ç»ƒæ ·æœ¬åç»­å¯ä»¥å¾—åˆ°æ›´å¤šçš„å…³æ³¨ï¼Œç„¶ååŸºäºè°ƒæ•´åçš„æ ·æœ¬åˆ†å¸ƒæ¥é‡æ–°è®­ç»ƒå­¦ä¹ å™¨ï¼Œæœ€ç»ˆç»§æ‰¿å¤šä¸ªå­¦ä¹ å™¨å¹¶æ ¹æ®é”™è¯¯è¿›è¡ŒåŠ æƒæ¥å¾—åˆ°æœ€ç»ˆçš„å­¦ä¹ å™¨ f(x)=w_0+\\Sigma_{m=1}^Mw_m\\phi_m(x)\\\\w\\ for\\ weigths\\\\ \\phi\\ is\\ weaker\\ learner 1.3 å›é¡¾æœºå™¨å­¦ä¹  æœºå™¨å­¦ä¹ ä»ç»„æˆéƒ¨åˆ†ä¸­æœ€é‡è¦å¯ä»¥è¯´åˆ†ä¸ºå››ä¸ªéƒ¨åˆ† æ•°æ®é›†ï¼ˆdatasetï¼‰ æ¨¡å‹ï¼ˆmodelï¼‰å’Œå‚æ•°ï¼ˆparametersï¼‰ ç›®æ ‡å‡½æ•°ï¼ˆobjectiveï¼‰= æŸå¤±ï¼ˆlossï¼‰+æ­£åˆ™åŒ–ï¼ˆregularizationï¼‰ ä¼˜åŒ–æ–¹æ³•ï¼ˆoptimization methodï¼‰ 0x02 AdaBoostç®—æ³• 2.1 ç®€ä»‹ æ¯æ¬¡å­¦ä¹ ä¹‹åï¼Œè¿­ä»£æ›´æ–°æ ·æœ¬æ•°æ®é›†ä¸­çš„æƒé‡æ¥é‡æ–°ç”Ÿæˆä¸€é¢—å†³ç­–æ ‘ï¼Œä¹‹åæ ¹æ®å‡†ç¡®ç‡æ¥ç»„åˆæ‰€æœ‰çš„å­¦ä¹ å™¨å®ä¾‹å¾—åˆ°æœ€ç»ˆçš„ç»“æœ 2.2 ç®—æ³•è¿‡ç¨‹ ç»™å®šä¸€ä¸ªäºŒåˆ†ç±»çš„æ•°æ®é›†T={(xi,yi)}i=1i=NT=\\{(x_i,y_i)\\}_{i=1}^{i=N}T={(xâ€‹iâ€‹â€‹,yâ€‹iâ€‹â€‹)}â€‹i=1â€‹i=Nâ€‹â€‹ï¼ŒXæ˜¯ç‰¹å¾é›†åˆï¼Œyæ˜¯æ ‡è®°é›†åˆã€‚ ç®—æ³•çš„æµç¨‹(AdaBoost) è¾“å‡ºä¸ºGï¼ˆXï¼‰ 1-1 é¦–å…ˆï¼Œåˆå§‹åŒ–è®­ç»ƒæ•°æ®ä¸­çš„æƒé‡åˆ†å¸ƒï¼Œæœ€åˆéƒ½ç›¸åŒæƒé‡ D1=(w11,...,w1N),w1i=1/ND_1=(w_{11},...,w_{1N}),w_{1i}=1/N Dâ€‹1â€‹â€‹=(wâ€‹11â€‹â€‹,...,wâ€‹1Nâ€‹â€‹),wâ€‹1iâ€‹â€‹=1/N ä¹‹åè®­ç»ƒMé¢—æ ‘ï¼Œå¯¹äºM=1ï¼Œ2ï¼Œâ€¦ï¼ŒM 2-1 æ ¹æ®æƒé‡åˆ†å¸ƒDmD_mDâ€‹mâ€‹â€‹è®­ç»ƒæ•°æ®é›†æ¥å¾—åˆ°åŸºæœ¬åˆ†ç±»å™¨ ã€Šæèˆªç»Ÿè®¡å­¦ä¹ ã€‹æ²¡æœ‰æåˆ°çš„éƒ¨åˆ†å°±æ˜¯å¦‚ä½•æ ¹æ®æƒé‡æ¥é‡æ–°è®¡ç®—åˆ†ç±»å™¨ï¼›ä¸ªäººæ¨æµ‹æ˜¯åœ¨å†³ç­–æ ‘åˆ†ç±»çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹ä¸åŒç±»åˆ«çš„æ¯”ä¾‹æŒ‰ç…§æƒé‡æ¥é‡æ–°è®¡ç®—ï¼Œæ¯”å¦‚å‡åŒ€åˆ†å¸ƒçš„æ—¶å€™1å’Œ-1çš„æ¯”ä¾‹ä¸º6:4ï¼›å¦‚æœæœ‰æƒé‡éœ€è¦æ ¹æ®å¯¹å…¶ä¸­é”™è¯¯çš„ç±»åˆ«è¿›è¡Œåˆ†ç±»ï¼šï¼ˆ30.07+30.16ï¼‰ï¼š4*0.07 Gm(x)âˆ’&gt;:{âˆ’1,+1}G_m(x)-&gt;:\\{-1,+1\\} Gâ€‹mâ€‹â€‹(x)âˆ’&gt;:{âˆ’1,+1} 2-2 è®¡ç®—å¾—åˆ°çš„åˆ†ç±»å™¨åœ¨è®­ç»ƒæ•°æ®é›†ä¸­çš„è¯¯å·®ç‡ em=P(Gm(Xi)â‰ yi)e_m=P(G_m(X_i) \\neq y_i) eâ€‹mâ€‹â€‹=P(Gâ€‹mâ€‹â€‹(Xâ€‹iâ€‹â€‹)â‰ yâ€‹iâ€‹â€‹) 2-3 ç”±æ­¤æ¥å¾—åˆ°åˆ†ç±»å™¨å¯¹åº”çš„æƒé‡ Î±m=12log1âˆ’emem\\alpha_m=\\frac{1}{2}log\\frac{1-e_m}{e_m} Î±â€‹mâ€‹â€‹=â€‹2â€‹â€‹1â€‹â€‹logâ€‹eâ€‹mâ€‹â€‹â€‹â€‹1âˆ’eâ€‹mâ€‹â€‹â€‹â€‹ 2-4 åœ¨è¿›è¡Œä¸‹ä¸€æ­¥è®¡ç®—çš„è¿‡ç¨‹ä¸­ï¼Œæ›´æ–°ä¸‹ä¸€æ¬¡çš„è®­ç»ƒçš„æƒé‡ï¼ŒZmZ_mZâ€‹mâ€‹â€‹çš„ä½œç”¨æ˜¯ä¸ºæ¥å½’ä¸€åŒ– W_{m+1}=\\frac{w_m}{Z_m}exp(-\\alpha_my_iG_m(X_i))\\\\Z_m=\\Sigma w_m exp(-\\alpha_my_iG_m(X_i)) 3-1 è¿™æ ·åå¤è¿­ä»£å¾—åˆ°åŸºæœ¬åˆ†ç±»å™¨çš„çº¿æ€§ç»„åˆ f(x)=\\Sigma \\alpha_mG_m(X)\\\\G(X)=sign(f(x)) G(x)å°±æ˜¯æœ€ç»ˆçš„è¾“å‡ºï¼Œæœ‰æ—¶å€™ä¸ºäº†é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å­¦ä¹ ç‡æ¥æ§åˆ¶f(x)f(x)f(x)çš„å¢åŠ é€Ÿåº¦ 2.3 AdaBoostä¾‹å­ è§ã€Šæèˆªç»Ÿè®¡å­¦ä¹ 131é¡µã€‹ 2.4 ç®—æ³•çš„åˆ†æå’Œè§£é‡Š å…³äºAdaBoostçš„è§£é‡Šå¯ä»¥åˆ†ä¸ºä¸¤ç§ æ˜¯é€šè¿‡ç»Ÿè®¡å­¦ä¹ çš„ç†è®ºæ¥æ¨åˆ°å‡ºAdaBoostçš„è®­ç»ƒè¯¯å·®è¾¹ç•Œã€å’Œç›¸å…³æ¨å¹¿çš„å®šç† è®¤ä¸ºå®ƒæ˜¯æ¨¡å‹ä¸ºé›†æˆç­–ç•¥ä¸ºadditiveã€æŸå¤±å‡½æ•°ä¸ºexpã€å­¦ä¹ ç®—æ³•ä¸ºå‰å‘åˆ†å¸ƒç®—æ³•ï¼ˆforward Stagewise algorithmï¼‰ å…¶å®AdaBoostä¸­ä¸€ä¸ªé—®é¢˜å°±æ˜¯æƒé‡çš„é€‰å–ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ ·å­çš„ï¼Ÿ è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç»“åˆå‰å‘åˆ†å¸ƒæ¥è¿›è¡Œæ¨å¯¼,è¿™é‡Œçš„ç›®æ ‡å‡½æ•°æ˜¯ loss=exp(âˆ’yâˆ—y^)loss=exp(-y*\\hat y) loss=exp(âˆ’yâˆ—â€‹yâ€‹^â€‹â€‹) ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™ä¸ªé™åˆ¶ï¼ŒAdaBooståªèƒ½ä½œä¸ºäºŒåˆ†ç±»æ¥å­¦ä¹ ï¼Œ 1-1 åŠ æ³•æ¨¡å‹ï¼Œå°±æ˜¯æˆ‘ä»¬å¯ä»¥ Gm(x)=Gmâˆ’1(x)+Î±mâˆ—fm(x)G_{m}(x)=G_{m-1}(x)+\\alpha_m*f_m(x) Gâ€‹mâ€‹â€‹(x)=Gâ€‹mâˆ’1â€‹â€‹(x)+Î±â€‹mâ€‹â€‹âˆ—fâ€‹mâ€‹â€‹(x) å…¶ä¸­ Î±m\\alpha_mÎ±â€‹mâ€‹â€‹ä¸ºæƒé‡ï¼Œfm(x)f_m(x)fâ€‹mâ€‹â€‹(x)æ˜¯æ ¹æ®ç¬¬Mæ¬¡è®­ç»ƒå¾—åˆ°çš„åˆ†ç±»å™¨ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç¡®å®šè¿™ä¸¤è€…çš„å–å€¼ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ min exp(âˆ’yâˆ—Gm(X))=min exp(âˆ’y[Gmâˆ’1(x)+Î±mâˆ—fm(x)])min\\ exp(-y*G_m(X))=min\\ exp(-y[G_{m-1}(x)+\\alpha_m*f_m(x)]) min exp(âˆ’yâˆ—Gâ€‹mâ€‹â€‹(X))=min exp(âˆ’y[Gâ€‹mâˆ’1â€‹â€‹(x)+Î±â€‹mâ€‹â€‹âˆ—fâ€‹mâ€‹â€‹(x)]) ç”±äºåœ¨Mæ¬¡è®­ç»ƒçš„æ—¶å€™ï¼ŒGmâˆ’1(X)G_{m-1}(X)Gâ€‹mâˆ’1â€‹â€‹(X)æ²¡æœ‰å½±å“ï¼Œæ‰€ä»¥å¯ä»¥åˆ†ç¦»å¼€æ¥ä½œä¸ºæ¯”ä¾‹é¡¹ min wmexp(âˆ’yÎ±mfm(x))min\\ w_mexp(-y\\alpha_mf_m(x)) min wâ€‹mâ€‹â€‹exp(âˆ’yÎ±â€‹mâ€‹â€‹fâ€‹mâ€‹â€‹(x)) æ ¹æ®åŠ æƒæ•°æ®æ¥é‡æ–°è®­ç»ƒå¾—åˆ°fm(X)f_m(X)fâ€‹mâ€‹â€‹(X)ã€‚ å¯¹äºÎ±m\\alpha_mÎ±â€‹mâ€‹â€‹å¯æ ¹æ®æ±‚å¯¼å¾—åˆ°ç­”æ¡ˆ [âˆ’yfm(X)]âˆ—exp(âˆ’yÎ±mfm(X))=0[-yf_m(X)]*exp(-y\\alpha_mf_m(X))=0 [âˆ’yfâ€‹mâ€‹â€‹(X)]âˆ—exp(âˆ’yÎ±â€‹mâ€‹â€‹fâ€‹mâ€‹â€‹(X))=0 æ³¨æ„è¿™é‡Œåªæ˜¯ä¸€ä¸ªäºŒåˆ†ç±»çš„é—®é¢˜ï¼Œæ‰€ä»¥åŒ–ç®€ä¹‹åå¾—åˆ°çš„ç­”æ¡ˆ â 2.5 ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ï¼š åˆ†ç±»ç²¾åº¦é«˜ï¼Œå¯ä»¥ç”¨å„ç§å›å½’åˆ†ç±»æ¨¡å‹ä½œä¸ºæ„å»ºå­¦ä¹ ï¼Œéå¸¸çµæ´»ï¼Œä¸å®¹æ˜“è¿‡æ‹Ÿåˆ ç¼ºç‚¹ï¼š å¯¹äºå¼‚å¸¸å€¼æ•æ„Ÿï¼Œä¼šè·å¾—è¾ƒé«˜çš„æƒé‡ 0x03 æ¢¯åº¦æå‡ç®€ä»‹ Gradient Boosting 3.0 ç›´è§‰background å‚è€ƒé“¾æ¥5ï¼Œä¸‹æ–‡ç»™å‡ºï¼Œå†™çš„éå¸¸å¥½ 3.1 æå‡æ ‘ Boosting Tree æå‡æ ‘æ˜¯æŒ‰ç…§åˆ†ç±»æ ‘æˆ–è€…å›å½’æ ‘ä½œä¸ºåŸºæœ¬åˆ†ç±»å™¨çš„æå‡æ–¹æ³•ï¼Œæå‡æ ‘è¢«è®¤ä¸ºæ˜¯ç»Ÿè®¡å­¦ä¹ ä¸­æ€§èƒ½æœ€å¥½çš„æ–¹æ³•ä¹‹ä¸€ï¼Œé’ˆå¯¹ä¸åŒé—®é¢˜çš„æå‡æ ‘çš„å­¦ä¹ ç®—æ³•ä¸»è¦åœ¨äºæŸå¤±å‡½æ•°ä¸åŒï¼ŒåŒ…æ‹¬å¹³æ–¹è¯¯å·®æŸå¤±å‡½æ•°ã€æŒ‡æ•°æŸå¤±å‡½æ•°çš„åˆ†ç±»é—®é¢˜å’Œä¸€èˆ¬æŸå¤±å‡½æ•°çš„ä¸€èˆ¬å†³ç­–é—®é¢˜ å›å½’é—®é¢˜ä¸­çš„æå‡æ ‘ç®—æ³• 1-1 åˆå§‹åŒ–æ¨¡å‹ 2-1 å¯¹äºm=1ï¼Œ2ï¼Œâ€¦ï¼ŒMä¸æ–­è¿­ä»£ 2-2 è®¡ç®—ä¸Šä¸€ä¸ªæ¨¡å‹ç•™ä¸‹æ¥çš„æ®‹å·® rmi=yâˆ’fmâˆ’1(x)r_{mi}=y-f_{m-1}(x) râ€‹miâ€‹â€‹=yâˆ’fâ€‹mâˆ’1â€‹â€‹(x) 2-3 é‡æ–°è®¡ç®—ä¸€ä¸ªå›å½’æ ‘ 2-4 æ›´æ–°ç°æœ‰çš„æ¨¡å‹ 2-5 å¾—åˆ°æœ€ç»ˆçš„å›å½’æ ‘ gradient_boosting.pdf æ¯ä¸€æ¬¡å»ºç«‹æ¨¡å‹æ˜¯åœ¨ä¹‹å‰å»ºç«‹æ¨¡å‹æŸå¤±å‡½æ•°çš„æ¢¯åº¦ä¸‹é™æ–¹æ³•ï¼ŒæŸå¤±å‡½æ•°æ˜¯è¯„ä»·æ¨¡å‹æ€§èƒ½ï¼Œå¦‚æœå¯ä»¥è®©æŸå¤±å‡½æ•°å¯ä»¥æŒç»­ä¸‹é™ï¼Œå°±èƒ½å¤Ÿä½¿å¾—æ¨¡å‹å¯ä»¥ä¸æ–­æ”¹å˜æå‡æ€§èƒ½ï¼Œå…¶ä¸­æœ€å¥½çš„æ–¹æ³•æ˜¯è®©æŸå¤±å‡½æ•°å¯ä»¥æ²¿ç€æ¢¯åº¦çš„ä¸‹é™è¿›è¡Œæ›´æ–°è¿­ä»£ 3.2 æ¢¯åº¦æå‡ Gradient Boostingï¼ˆfor regression DTï¼‰ æœ€å¼€å§‹GBDTåªèƒ½è§£å†³å›å½’é—®é¢˜ï¼Œä½†æ˜¯åç»­å·¥ä¸šçš„è°ƒæ•´ä¹‹åå…è®¸åˆ†ç±» ä»ä¸Šè¿°æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå¯¹äºåˆ†ç±»å’Œå›å½’æ¨¡å‹ä¸‹æ¥çš„æ€è·¯ï¼Œä½†æ˜¯åç»­æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåŠï¼Ÿå¯¹äºå…¶ä»–ç±»å‹çš„æŸå¤±å‡½æ•°ï¼Œæˆ‘ä»¬å¦‚ä½•å»è®­ç»ƒæ•´ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦åˆ©ç”¨æ¢¯åº¦ä¸‹é™ï¼ˆGradient decentçš„æ€è·¯ï¼‰ æ®‹å·®å…¶å®æ˜¯æ ¹æ®å¾ˆç›´è§‰çš„æƒ³æ³•æ¥å¾—åˆ°çš„ï¼Œä½†æ˜¯å¯¹äºæ›´åŠ å¤æ‚çš„æŸå¤±å‡½æ•°æ¯”å¦‚äº¤å‰ç†µä¹‹ç±»çš„ï¼Œç®€å•çš„æ®‹å·®æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥ä¸ºäº†ä¿è¯æ•´ä¸ªç®—æ³•å¯ä»¥èµ°ä¸‹å»ï¼Œä½¿ç”¨æ¢¯åº¦ä¸‹é™çš„æ–¹æ³• âˆ’âˆ‚L(y,fmâˆ’1(x))fmâˆ’1(x)-\\frac{\\partial L(y,f_{m-1}(x))}{f_{m-1}(x)} âˆ’â€‹fâ€‹mâˆ’1â€‹â€‹(x)â€‹â€‹âˆ‚L(y,fâ€‹mâˆ’1â€‹â€‹(x))â€‹â€‹ åœ¨å…¶ä¸­ä½¿ç”¨shrinkageçš„æ–¹æ³•ï¼Œæ¥ä¿è¯æ¯æ¬¡ä»…ä»…æ”¹å˜ä¸€ä¸ï¼Œæ¥é€æ¸çš„å¾—åˆ°æ¢¯åº¦æå‡å›å½’æ ‘ â å¯ä»¥çœ‹å‡ºæ¢¯åº¦æå‡ï¼ˆGradient Boostingï¼‰å’ŒAdaBoostä¹‹é—´çš„ç»†å¾®çš„åŒºåˆ«åœ¨äºï¼šå¯¹äºé”™è¯¯çš„æ•°æ®ï¼ŒAdaBoosté‡‡ç”¨æ”¹å˜å…¶æ ·æœ¬åˆ†å¸ƒçš„æƒé‡å¢å¤§æ¯”ä¾‹ï¼Œè€Œæ¢¯åº¦æå‡æ˜¯åˆ©ç”¨æ®‹å·®çš„å¤§å°æ¥æé«˜é”™è¯¯æ•°æ®åœ¨æ¨¡å‹ä¸­çš„é‡è¦æ€§ referenceï¼š ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹-æèˆª ã€Šæœºå™¨å­¦ä¹ ã€‹-å‘¨å¿—å https://blog.csdn.net/shine19930820/article/details/65633436 https://www.ccs.neu.edu/home/vip/teach/MLcourse/4_boosting/slides/gradient_boosting.pdf [https://blog.csdn.net/shine19930820/article/details/65633436](","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"Single","slug":"Single","permalink":"https://blog.tjdata.site/tags/Single/"}]},{"title":"åŠ›æ‰£top100-1ï½20","slug":"åŠ›æ‰£top100-1ï½20","date":"2022-05-13T15:18:46.000Z","updated":"2023-05-13T13:51:35.355Z","comments":true,"path":"posts/67984991.html","link":"","permalink":"https://blog.tjdata.site/posts/67984991.html","excerpt":"é€‚åˆåˆå§‹ç®—æ³•ä¸æ•°æ®ç»“æ„çš„æ–°æ‰‹å’Œæƒ³è¦åœ¨çŸ­æ—¶é—´å†…é«˜æ•ˆæå‡çš„äººï¼Œç†Ÿç»ƒæŒæ¡è¿™100é“é¢˜ï¼Œå¯ä»¥å…·å¤‡åœ¨ä»£ç ä¸–ç•Œé€šè¡Œçš„åŸºæœ¬èƒ½åŠ›ã€‚æƒ³å€Ÿè¿™ä¸€ç™¾é“é¢˜æ¥äº†è§£ä¸€ä¸‹ç®—æ³•çš„ä¸€äº›åŸºæœ¬æ€æƒ³ã€‚æœ¬æ¬¡ä¸»è¦ä¸ºé¢˜å·1ï½20å…±11é“é¢˜ã€‚ç¬¬å››é¢˜æ˜¯é‡ç‚¹ã€‚","text":"é€‚åˆåˆå§‹ç®—æ³•ä¸æ•°æ®ç»“æ„çš„æ–°æ‰‹å’Œæƒ³è¦åœ¨çŸ­æ—¶é—´å†…é«˜æ•ˆæå‡çš„äººï¼Œç†Ÿç»ƒæŒæ¡è¿™100é“é¢˜ï¼Œå¯ä»¥å…·å¤‡åœ¨ä»£ç ä¸–ç•Œé€šè¡Œçš„åŸºæœ¬èƒ½åŠ›ã€‚æƒ³å€Ÿè¿™ä¸€ç™¾é“é¢˜æ¥äº†è§£ä¸€ä¸‹ç®—æ³•çš„ä¸€äº›åŸºæœ¬æ€æƒ³ã€‚æœ¬æ¬¡ä¸»è¦ä¸ºé¢˜å·1ï½20å…±11é“é¢˜ã€‚ç¬¬å››é¢˜æ˜¯é‡ç‚¹ã€‚ 0x00 è‡ªæˆ‘æ€»ç»“ æ•°æ®ç»“æ„å’Œç®—æ³•æ˜¯çœ‹å¾…ä¸€é“é¢˜ç›®çš„ä¸åŒè§£è¯»ã€‚æ•°æ®ç»“æ„æ›´å¤šçš„æ˜¯å¦‚ä½•å»è¡¨è¿°ä¸€ä»¶äº‹æƒ…ï¼Œä¸åŒçš„æ•°æ®ç»“æ„å…·æœ‰ä¸åŒçš„æ—¶é—´ç©ºé—´å¤æ‚åº¦çš„æ€§èƒ½å’Œä¸åŒçš„æ¥å£ï¼Œè¿™ä¹Ÿæ˜¯ä¸åŒæ•°æ®ç»“æ„çš„ç‰¹ç‚¹æ‰€åœ¨ï¼Œç®—æ³•æ›´å¤šçš„æ˜¯è§£å†³é—®é¢˜çš„æµç¨‹ï¼Œå¦‚ä½•æŠŠæ‰‹é‡Œé¢å·²ç»æœ‰çš„æ•°æ®ç»“æ„é€šè¿‡ä¸‰ç§åŸºæœ¬çš„é€»è¾‘è¿ç®—ç»“åˆå½¢æˆé«˜æ•ˆçš„æ“ä½œæµç¨‹ã€‚ åœ¨åˆ·é¢˜ä¹‹å‰æŒæ¡å…·æœ‰å“ªäº›å¸¸è§çš„æ•°æ®ç»“æ„å’Œç®—æ³•æ˜¯æœ‰å¿…è¦çš„ï¼Œæ•°æ®ç»“æ„å¯ä»¥åˆ†ä¸ºçº¿æ€§æ•°æ®ç»“æ„ï¼šæ ˆå’Œé˜Ÿåˆ—ã€æ•°æ®ä¸çŸ©é˜µï¼›åŠçº¿æ€§ç»“æ„ï¼šæ ‘ï¼Œéçº¿æ€§ç»“æ„ï¼šé“¾è¡¨ã€æ•°ç»„ã€å›¾ã€ä½è¿ç®—ç­‰ï¼›ä»ç®—æ³•çš„è§’åº¦å¯ä»¥åˆ†ä¸ºåŸºæœ¬ï¼šåˆ†æ²»ã€è´ªå¿ƒã€åŠ¨æ€è§„åˆ’ã€å›æº¯ã€åˆ†æå®šç•Œï¼›å’Œä¸€äº›ç‰¹æ®Šçš„æŠ€å·§åŒæŒ‡é’ˆã€äºŒåˆ†æŸ¥æ‰¾ã€æœç´¢æ³•ç­‰ï¼Œä»¥åŠç‰¹å®šçš„åœºæ™¯æ’åºã€æ ‘çš„æœç´¢ç­‰ 0x01 T1 ä¸¤æ•°ä¹‹å’Œ æ ‡ç­¾ï¼šæ•°ç»„ã€å“ˆå¸Œè¡¨ éš¾åº¦ï¼šç®€å• ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ target çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚ 12345678910class Solution: def twoSum(self, nums: List[int], target: int) -&gt; List[int]: hashtable=dict() # æ–°å»ºä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œæ¥è®°å½•æ¯ä¸ªæ•°å­—å®ƒå¯¹åº”çš„è¡¥æ•° for i in range(len(nums)): if target-nums[i] in hashtable: # åœ¨è¿™ä¸ªå“ˆå¸Œè¡¨ä¸­å°±OKäº†ï¼Œè€Œä¸”è¿™ä¸ªæ—¶é—´å¤æ‚åº¦å¹¶ä¸é«˜ return [hashtable[target-nums[i]],i] hashtable[nums[i]]=i return [] 0x02 T2 ä¸¤æ•°ç›¸åŠ  æ ‡ç­¾ï¼šé€’å½’ã€é“¾è¡¨ã€æ ‡ç­¾ éš¾åº¦ï¼šä¸­ç­‰ ç»™ä½ ä¸¤ä¸ª éç©º çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§ é€†åº çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚ è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚ ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142# Definition for singly-linked list.# class ListNode:# def __init__(self, val=0, next=None):# self.val = val# self.next = nextclass Solution: def addTwoNumbers(self, l1,l2): def addTwoNumbers2(l1, l2, flag): &#x27;&#x27;&#x27; ä¸‰ç§æƒ…å†µ æƒ…å†µ1ï¼šé“¾è¡¨éƒ½å­˜åœ¨ï¼Œl1!=None æƒ…å†µ2ï¼šé“¾è¡¨ä¸å­˜åœ¨ï¼Œèµ‹å€¼ä¸º0 è®¡ç®—ä¸¤æ•°ä¹‹å’Œ å¦‚æœå¤§äº10ï¼Œåˆ™valä¸ºä½™æ•° flagå€¼ä¸º1 é“¾è¡¨ä¸å­˜åœ¨å¹¶ä¸”flag==0ï¼Œåˆ™å¾ªç¯ç»ˆæ­¢ï¼Œè¾“å‡ºæœ€ç»ˆçš„é“¾è¡¨ é“¾è¡¨å­˜åœ¨ï¼Œåˆ™ç»§ç»­ä¸‹ä¸€ä¸ªå¾ªç¯ &#x27;&#x27;&#x27; if l1!=None: num1=l1.val l1=l1.next else: num1 = 0 if l2!=None: num2=l2.val l2=l2.next else: num2 = 0 # æ›´æ–°æ±‚å’Œ sum_result = num1 + num2 + flag # ç»“æœæ±‚ä½™ val = sum_result % 10 # æ›´æ–°flagï¼Œå¤§äº9è®¾ç½®ä¸º1ï¼Œå…¶ä»–çš„åˆ™ä¸º0 if sum_result &gt; 9: flag = 1 else: flag = 0 # ç»ˆæ­¢æ¡ä»¶ï¼Œl1ä¸ºç©ºï¼Œå¹¶ä¸”flagä¸º0 if l1 == None and l2==None and flag == 0: return ListNode(val) return ListNode(val, addTwoNumbers2(l1, l2, flag)) return addTwoNumbers2(l1,l2,0) 0x03 T3 æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² æ ‡ç­¾ï¼šå­—ç¬¦ä¸²ï¼Œæ»‘åŠ¨çª—å£å“ˆå¸Œè¡¨ éš¾åº¦ï¼šä¸­ç­‰ ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ 123456789101112131415161718class Solution: def lengthOfLongestSubstring(self, s: str) -&gt; int: # æ„Ÿè§‰æ¯”è¾ƒç®€å• if not s:return 0 left = 0 lookup = set() n = len(s) max_len = 0 cur_len = 0 for i in range(n): cur_len += 1 while s[i] in lookup: lookup.remove(s[left]) left += 1 cur_len -= 1 if cur_len &gt; max_len:max_len = cur_len lookup.add(s[i]) return max_len 0x04 T4 å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•° æ ‡ç­¾ï¼šæ•°ç»„ã€äºŒåˆ†æŸ¥æ‰¾ã€åˆ†æ²» éš¾åº¦ï¼šå›°éš¾ ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º m å’Œ n çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„ nums1 å’Œ nums2ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ ä¸­ä½æ•° ã€‚ ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º O(log (m+n)) ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344class Solution(object): def findMedianSortedArrays(self, nums1, nums2): # even éœ€è¦æ‰¾ï¼ˆm+n+1ï¼‰/2 # odd éœ€è¦æ‰¾ï¼ˆm+nï¼‰/2 ï¼ˆm+nï¼‰/2+1 m=len(nums1) n=len(nums2) if (m+n)%2 ==1: # odd return self.getK(nums1,nums2,(m+n+1)/2) else: # even a=self.getK(nums1,nums2,(m+n)/2) b=self.getK(nums1,nums2,(m+n)/2+1) return (a+b)/2 def getK(self,nums1,nums2,k): # nums1ï¼šç¬¬ä¸€ä¸ªæ­£åºçš„æ•°ç»„ # nums2ï¼šç¬¬äºŒæ­£åºçš„æ•°ç»„ # kï¼šä¸¤ä¸ªå¹¶åˆ—æ•°ç»„ä¸­ç¬¬kå¤§çš„æ•°ç»„ # ç»ˆæ­¢æ¡ä»¶ä¸ºï¼Œkä¸º1 k=int(k) m=len(nums1) n=len(nums2) index1,index2=int(min(k//2,m))-1,int(min(k//2,n))-1 # ä¸¤ä¸ªæ­£åºæ•°ç»„ä¸­çš„å€¼ if m==0: # ç¬¬ä¸€ä¸ªæ•°ç»„åˆ°å¤´ return nums2[k-1] if n==0: # è¯´æ˜ç¬¬äºŒä¸ªæ•°ç»„åˆ°å¤´ return nums1[k-1] if k==1: return min(nums1[0],nums2[0]) # ä¸‹é¢æ¥çœ‹å¦‚ä½•æ›´æ–°è¿­ä»£ value1=nums1[index1] value2=nums2[index2] if value1 &lt;= value2: k=k-index1-1 nums1=nums1[index1+1:] else: k=k-index2-1 nums2=nums2[index2+1:] return self.getK(nums1,nums2,k) 0x05 T5 æœ€é•¿å›æ–‡å­ä¸² æ ‡ç­¾ï¼šå­—ç¬¦ä¸²ï¼ŒåŠ¨æ€è§„åˆ’ éš¾åº¦ï¼šä¸­ç­‰ ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œæ‰¾åˆ° s ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚ 123456789101112131415161718192021222324252627class Solution: def longestPalindrome(self, s: str) -&gt; str: ## dynamic programing ,åŸºæœ¬æ­¥éª¤æ˜¯ç¡®å®šä¸‹æ ‡çš„å«ä¹‰å’Œé€’æ¨å…¬å¼çš„å«ä¹‰ # ç¬¬ä¸€æ­¥ï¼Œç¡®å®šdpæ•°æ®ï¼Œç”¨dpã€i,jã€‘æ¥è¡¨ç¤ºåŒºé—´èŒƒå›´å†…çš„æ·„å·æ˜¯å¦ä¸ºå›æ–‡å­ä¸²dp[i][j]æ˜¯å¦ä¸ºtrue # ç¬¬äºŒæ­¥ï¼Œç¡®å®šé€’æ¨çš„ä¸‰ç§æƒ…å†µï¼Œå›æ–‡æ•°å–çœŸçš„æƒ…å†µåˆ†ä¸º # 1. i=jç›¸ç­‰ï¼Œtrue # 2. iå’Œjç›¸å·®ç­‰äº1ï¼Œtrue # 3. iå’Œjç›¸å·®å¤§äº1çš„æƒ…å†µï¼Œå¦‚æœiå’Œjç›¸ç­‰ï¼Œéœ€è¦æŸ¥çœ‹iå’Œjçš„åŒºé—´å†…éƒ¨æ˜¯ä¸æ˜¯ç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯dp[i+1][j-1]æ˜¯ä¸æ˜¯true # ç¬¬ä¸‰æ­¥ï¼Œç¡®å®šdpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–ï¼Œå½“ç„¶éƒ½æ˜¯false # ç¬¬å››æ­¥ï¼Œä¸ºäº†ä¿è¯dp[i+1][j-1]è¦æœ€æ–°å¼€å§‹è®¡ç®—,æ‰€ä»¥å¯ä»¥å…ˆå°†ç¬¬ä¸€ç§æƒ…å†µå’Œç¬¬äºŒç§æƒ…å†µå…ˆå¾—åˆ° dp=[[0 for i in range(len(s))] for j in range(len(s))] left = 0 right = 0 maxlength=0 for i in range(len(s)-1,-1,-1): for j in range(i, len(s)): if s[i]==s[j]: if (j - i &lt;= 1): dp[i][j] = 1 elif dp[i + 1][j - 1] == 1: dp[i][j] = 1 if dp[i][j] == 1 and j - i + 1 &gt; maxlength: maxlength = j - i + 1 left = i right = j return s[left:right + 1] 0x06 T10 æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… æ ‡ç­¾ï¼šå­—ç¬¦ä¸²ã€é€’å½’ã€åŠ¨æ€è§„åˆ’ éš¾åº¦ï¼šå›°éš¾ ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªå­—ç¬¦è§„å¾‹ pï¼Œè¯·ä½ æ¥å®ç°ä¸€ä¸ªæ”¯æŒ â€˜.â€™ å’Œ â€˜*â€™ çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚ â€˜.â€™ åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ â€˜*â€™ åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´  æ‰€è°“åŒ¹é…ï¼Œæ˜¯è¦æ¶µç›– æ•´ä¸ª å­—ç¬¦ä¸² sçš„ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†å­—ç¬¦ä¸²ã€‚ 1234567891011121314151617181920212223class Solution: def isMatch(self, s: str, p: str) -&gt; bool: m, n = len(s), len(p) def matches(i: int, j: int) -&gt; bool: if i == 0: return False if p[j - 1] == &#x27;.&#x27;: return True return s[i - 1] == p[j - 1] f = [[False] * (n + 1) for _ in range(m + 1)] f[0][0] = True for i in range(m + 1): for j in range(1, n + 1): if p[j - 1] == &#x27;*&#x27;: f[i][j] |= f[i][j - 2] if matches(i, j - 1): f[i][j] |= f[i - 1][j] else: if matches(i, j): f[i][j] |= f[i - 1][j - 1] return f[m][n] 0x07 T11 ç››æœ€å¤šæ°´çš„å®¹å™¨ æ ‡ç­¾ï¼šè´ªå¿ƒã€æ•°ç»„ã€åŒæŒ‡é’ˆ éš¾åº¦ï¼šä¸­ç­‰ ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ height ã€‚æœ‰ n æ¡å‚çº¿ï¼Œç¬¬ i æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ (i, 0) å’Œ (i, height[i]) ã€‚ æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ x è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚ è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚ è¯´æ˜ï¼šä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚ 123456789101112131415class Solution: def maxArea(self, height): # æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œæ‰¾å‡ºå…¶ä¸­ä¸xè½´æ„æˆå¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ left=0 right=len(height)-1 result=0 while left &lt; right: result=max(result,min(height[right],height[left])*(right-left)) # æ›´æ–°rightå’Œleft # æå‡çš„æ„ä¹‰ï¼Œåœ¨äºåˆ é™¤å°äºå½“å‰å€¼ if height[right]&gt;height[left]: left=left+1 else: right=right-1 return result 0x08 T15 ä¸‰æ•°ä¹‹å’Œ æ ‡ç­¾ï¼šæ•°ç»„ã€åŒæŒ‡é’ˆã€æ’åº éš¾åº¦ï¼šä¸­ç­‰ ç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚ 12345678910class Solution: def twoSum(self, nums: List[int], target: int) -&gt; List[int]: hashtable=dict() # æ–°å»ºä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œæ¥è®°å½•æ¯ä¸ªæ•°å­—å®ƒå¯¹åº”çš„è¡¥æ•° for i in range(len(nums)): if target-nums[i] in hashtable: # åœ¨è¿™ä¸ªå“ˆå¸Œè¡¨ä¸­å°±OKäº†ï¼Œè€Œä¸”è¿™ä¸ªæ—¶é—´å¤æ‚åº¦å¹¶ä¸é«˜ return [hashtable[target-nums[i]],i] hashtable[nums[i]]=i return [] 0x09 T17ç”µè¯å·ç çš„å­—ç¬¦ç»„åˆ æ ‡ç­¾ï¼šå­—ç¬¦ä¸²ã€å“ˆå¸Œè¡¨ã€å›æº¯ éš¾åº¦ï¼šä¸­ç­‰ ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— 2-9 çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ã€‚ 1234567891011121314151617181920212223class Solution: def letterCombinations(self, digits: str) -&gt; List[str]: if not digits: return [] phone = &#123;&#x27;2&#x27;:[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;], &#x27;3&#x27;:[&#x27;d&#x27;,&#x27;e&#x27;,&#x27;f&#x27;], &#x27;4&#x27;:[&#x27;g&#x27;,&#x27;h&#x27;,&#x27;i&#x27;], &#x27;5&#x27;:[&#x27;j&#x27;,&#x27;k&#x27;,&#x27;l&#x27;], &#x27;6&#x27;:[&#x27;m&#x27;,&#x27;n&#x27;,&#x27;o&#x27;], &#x27;7&#x27;:[&#x27;p&#x27;,&#x27;q&#x27;,&#x27;r&#x27;,&#x27;s&#x27;], &#x27;8&#x27;:[&#x27;t&#x27;,&#x27;u&#x27;,&#x27;v&#x27;], &#x27;9&#x27;:[&#x27;w&#x27;,&#x27;x&#x27;,&#x27;y&#x27;,&#x27;z&#x27;]&#125; def backtrack(conbination,nextdigit): if len(nextdigit) == 0: res.append(conbination) else: for letter in phone[nextdigit[0]]: backtrack(conbination + letter,nextdigit[1:]) res = [] backtrack(&#x27;&#x27;,digits) return res 0x10 T19 åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹ æ ‡ç­¾ï¼šé“¾è¡¨ï¼ŒåŒæŒ‡é’ˆ éš¾åº¦ï¼šä¸­ç­‰ ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚ 1234567891011121314151617181920# Definition for singly-linked list.# class ListNode:# def __init__(self, val=0, next=None):# self.val = val# self.next = nextclass Solution: def removeNthFromEnd(self, head: ListNode, n: int) -&gt; ListNode: dummy = ListNode(0, head) first = head second = dummy for i in range(n): first = first.next while first: first = first.next second = second.next second.next = second.next.next return dummy.next 0x11 T20 æœ‰æ•ˆçš„æ‹¬å· æ ‡ç­¾ï¼šæ ˆã€å­—ç¬¦ä¸² éš¾åº¦ï¼šç®€å• ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬ â€˜(â€™ï¼Œâ€˜)â€™ï¼Œâ€˜{â€™ï¼Œâ€˜}â€™ï¼Œâ€˜[â€™ï¼Œâ€˜]â€™ çš„å­—ç¬¦ä¸² s ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚ æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚ å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚ 1234567891011121314151617class Solution: def isValid(self, s: str) -&gt; bool: stack = [] for item in s: if item == &#x27;(&#x27;: stack.append(&#x27;)&#x27;) elif item == &#x27;[&#x27;: stack.append(&#x27;]&#x27;) elif item == &#x27;&#123;&#x27;: stack.append(&#x27;&#125;&#x27;) elif not stack or stack[-1] != item: return False else: stack.pop() return True if not stack else False","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"LeetCode","slug":"LeetCode","permalink":"https://blog.tjdata.site/tags/LeetCode/"}]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•03-æœç´¢æ ‘","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•03-æœç´¢æ ‘","date":"2022-05-08T09:45:56.000Z","updated":"2023-05-13T13:52:42.043Z","comments":true,"path":"posts/1866a43d.html","link":"","permalink":"https://blog.tjdata.site/posts/1866a43d.html","excerpt":"äºŒå‰æ ‘ä¸­ä¸‰ç§éå†æ–¹å¼ï¼šå‰åºéå†ã€ååºéå†å’Œä¸­åºéå†ï¼›åœ¨æ™®é€šäºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢searchã€æ’å…¥insertã€åˆ é™¤removeä¸­çš„ç®—æ³•æ•ˆç‡æˆ–è€…è¯´å¤æ‚åº¦å’Œæ ‘çš„æ·±åº¦æœ‰å…³ã€‚å› æ­¤åœ¨æ ‘çš„ç­‰ä»·äº¤æ¢å’ŒåŸºæœ¬æ“ä½œçš„åŸºç¡€ä¸Šï¼Œæå‡ºäº†å¹³è¡¡äºŒå‰æ ‘ï¼ˆBBSTï¼ŒBalanced binary search treeï¼‰çš„æ¦‚å¿µï¼Œç”±æ­¤å»¶ä¼¸å¾—åˆ°AVLã€ä¼¸å±•æ ‘ï¼ˆSplay treeï¼‰ã€Bæ ‘ã€çº¢é»‘æ ‘ã€KD-æ ‘çš„æ¦‚å¿µï¼Œå¹¶å¯ä»¥çœ‹åˆ°è¿™äº›åœ¨å®é™…ç”Ÿæ´»ä¸­çš„åº”ç”¨ã€‚","text":"äºŒå‰æ ‘ä¸­ä¸‰ç§éå†æ–¹å¼ï¼šå‰åºéå†ã€ååºéå†å’Œä¸­åºéå†ï¼›åœ¨æ™®é€šäºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢searchã€æ’å…¥insertã€åˆ é™¤removeä¸­çš„ç®—æ³•æ•ˆç‡æˆ–è€…è¯´å¤æ‚åº¦å’Œæ ‘çš„æ·±åº¦æœ‰å…³ã€‚å› æ­¤åœ¨æ ‘çš„ç­‰ä»·äº¤æ¢å’ŒåŸºæœ¬æ“ä½œçš„åŸºç¡€ä¸Šï¼Œæå‡ºäº†å¹³è¡¡äºŒå‰æ ‘ï¼ˆBBSTï¼ŒBalanced binary search treeï¼‰çš„æ¦‚å¿µï¼Œç”±æ­¤å»¶ä¼¸å¾—åˆ°AVLã€ä¼¸å±•æ ‘ï¼ˆSplay treeï¼‰ã€Bæ ‘ã€çº¢é»‘æ ‘ã€KD-æ ‘çš„æ¦‚å¿µï¼Œå¹¶å¯ä»¥çœ‹åˆ°è¿™äº›åœ¨å®é™…ç”Ÿæ´»ä¸­çš„åº”ç”¨ã€‚ 0x01 äºŒå‰æ ‘çš„éå†traversal å¯¹äºŒå‰æ ‘çš„è®¿é—®å¯ä»¥æŠ½è±¡ä¸ºå¦‚ä¸‹å½¢å¼ï¼šæŒ‰ç…§æŸç§çº¦å®šçš„æ¬¡åºï¼Œå¯¹èŠ‚ç‚¹è®¿é—®ä¸”ä»…ä¸€æ¬¡ã€‚éå†ä¹‹äºäºŒå‰æ ‘çš„æ„ä¹‰ï¼ŒåŒæ ·åœ¨äºä¸ºç›¸å…³ç®—æ³•çš„å®ç°æä¾›é€šç”¨çš„æ¡†æ¶ï¼Œæ­¤å¤–è¿™ä¸€è¿‡ç¨‹ç­‰æ•ˆäºå°†åŠçº¿æ€§çš„æ ‘å½¢ç»“æ„è½¬æ¢ä¸ºçº¿æ€§ç»“æ„ï¼Œä½†æ˜¯äºŒå‰æ ‘ä¸åœ¨å±äºçº¿æ€§ç»“æ„ï¼Œå› æ­¤éå†è¿‡ç¨‹æ›´ä¸ºå¤æ‚ã€‚ 1.1 é€’å½’å¼éå† recursively traversal äºŒå‰æ ‘æœ¬èº«å¹¶ä¸å…·æœ‰å¤©ç„¶çš„å…¨å±€æ¬¡åºï¼Œæ•…ä¸ºå®ç°éå†ï¼Œé¦–é€‰éœ€è¦åœ¨å„èŠ‚ç‚¹ä¸å…¶å­©å­ä¹‹é—´çº¦å®šæŸç§å±€éƒ¨æ¬¡åºï¼Œä»è€Œé—´æ¥å®šä¹‰å…¨å±€æ¬¡åºã€‚åˆ†ä¸ºå·¦ï¼ˆLï¼Œleftï¼‰ã€å³ï¼ˆRï¼Œrightï¼‰ã€èŠ‚ç‚¹ï¼ˆRï¼Œrootï¼‰ï¼Œå› æ­¤åˆ†ä¸ºVLRã€LVRã€LRVä¸‰ä¸­å¿ƒé€‰æ‹©ï¼Œä¹Ÿå°±æ˜¯å…ˆåºéå†ï¼ˆpreorderï¼‰ã€ä¸­åºéå†ï¼ˆinorderï¼‰ã€ååºéå†ï¼ˆpostorderï¼‰ å…ˆåºéå†ï¼ˆpreorderï¼‰ é¦–å…ˆæ ¸å¯¹Xæ˜¯ä¸æ˜¯ç©ºé›†ï¼Œè‹¥xä¸ºç©ºåˆ™ç›´æ¥é€€å‡º è‹¥xéç©ºï¼Œåˆ™æŒ‰ç…§å…ˆåºéå†ï¼Œä¼˜å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åè®¿é—®å·¦å­æ ‘å’Œå³å­æ ‘ 12345def travPre_R(set,visit): if(!x) return; visit(x.data); travPre_R(X.lc,visit) travPre_R(x.rc,visit) ä¸­åºéå†ï¼ˆinorderï¼‰ å„èŠ‚ç‚¹åœ¨ä¸­åºéå†åºåˆ—ä¸­ ååºéå†ï¼ˆpostorderï¼‰ é€’å½’éå†ç®—æ³•å’Œè¿­ä»£éå†ç®—æ³•éƒ½éœ€è¦æ¸è¿›çš„çº¿æ€§æ—¶é—´ï¼Œè€Œä¸”ç›¸å¯¹è€Œè¨€ï¼Œå‰è€…æ›´åŠ ç®€æ˜ï¼›ä½†æ˜¯è¿­ä»£ç®—æ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦çš„å¸¸ç³»æ•°ç›¸æ¯”è¾ƒé€’å½’æ›´å°ï¼ŒåŒæ—¶ä»è¿­ä»£éå†å®Œæˆå¯ä»¥åŠ æ·±å¯¹ç›¸å…³è¿‡ç¨‹å’ŒæŠ€å·§çš„ç†è§£ 1.2 é€’å½’å¼éå† recursively traversal æ¯”è¾ƒéš¾ï¼Œä½†å¯ä»¥åŠ æ·±ç†è§£ å…ˆåºéå†å¯ä»¥åˆ†è§£ä¸ºä¸¤æ®µï¼Œæ²¿ç€æœ€å·¦ä¾§é€šè·¯è‡ªä¸Šè€Œä¸‹çš„è®¿é—®å„èŠ‚ç‚¹ï¼Œä»¥åŠè‡ªåº•å‘ä¸Šéå†çš„å¯¹åº”å³å­æ ‘ 1.3 ä¸€äº›ç®—æ³•çš„å®ç° 123456789101112131415161718192021222324252627282930313233343536373839404142# Definition for a binary tree node.class TreeNode: def __init__(self, val=0, left=None, right=None): self.val = val self.left = left self.right = right# é¢˜ç›®debugåœ°å€ï¼šhttps://leetcode-cn.com/problems/binary-tree-inorder-traversal/class Solution: def inorderTraversal(self, root): &#x27;&#x27;&#x27; é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹rootï¼Œè¿”å›å®ƒçš„ä¸­åºéå† äºŒå‰æ ‘çš„éå†åˆ†ä¸ºæ·±åº¦éå†å’Œå¹¿åº¦éå† æ·±åº¦éå†åˆ†ä¸ºå‰åºã€ä¸­åºå’Œååºä¸‰ç§éå†æ–¹æ³• - å‰åºï¼Œæ ¹èŠ‚ç‚¹ã€å·¦å­æ ‘ã€å³å­æ ‘ - ä¸­åºï¼Œå·¦å­æ ‘ã€æ ¹èŠ‚ç‚¹ã€å³å­æ ‘ - ååºï¼Œå·¦å­æ ‘ã€å³å­æ ‘ã€æ ¹èŠ‚ç‚¹ å¹¿åº¦éå†å°±æ˜¯å¸¸è¯´çš„å±‚æ¬¡éå†çš„æ–¹æ³• :param root: :return: &#x27;&#x27;&#x27; stack,ret=[],[] # è®¾è®¡ä¸€ä¸ªæ ˆä½œä¸ºä¸­é—´å˜é‡ # retä¸ºæœ€ç»ˆç»“æœ cur=root # åˆå§‹åŒ–æœ€åˆçš„å€¼ä¸ºcur while stack or cur: # å½“stackä¸ºç©ºå¹¶ä¸”curä¸ºç©ºåœæ­¢ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰éƒ½éå†å®Œï¼ŒåŒæ—¶ä¹Ÿä¸å­˜åœ¨å·¦å­æ ‘ if cur: # å¦‚æœå½“å‰èŠ‚ç‚¹éç©ºï¼Œåˆ™å–è¿™ä¸ªèŠ‚ç‚¹åˆ°stackä¸­ # å°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸ºèŠ‚ç‚¹çš„left node stack.append(cur) cur=cur.left else: # å¦‚æœstackéç©ºï¼Œä½†æ˜¯å½“å‰èŠ‚ç‚¹ä¸ºç©ºã€‚è¯´æ˜éå†åˆ°æœ€å·¦è¾¹çš„ # å–å½“å‰èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ª cur=stack.pop() ret.append(cur.val) cur=cur.right return ret 0x02 äºŒå‰æœç´¢æ ‘ï¼ˆBinary Search tree) äºŒå‰æœç´¢æ ‘æ˜¯æ»¡è¶³é¡ºåºæ€§çš„äºŒå‰æ ‘ ä»»ä¸€èŠ‚ç‚¹rçš„å·¦å³å­æ ‘ä¸­ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹ï¼ˆè‹¥å­˜åœ¨ï¼‰å‡ä¸å¤§äºï¼ˆä¸å°äºï¼‰r ä¸ºå›é¿è¾¹ç•Œæƒ…å†µï¼Œæš‚å®šå‡è®¾æ‰€æœ‰èŠ‚ç‚¹ä¸æƒ³ç­‰ï¼Œå› æ­¤å¯ä»¥ç®€åŒ–ä¸º ä»»æ„èŠ‚ç‚¹rçš„å·¦ï¼ˆå³ï¼‰å­æ ‘ä¸­ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹ï¼ˆè‹¥å­˜åœ¨ï¼‰å‡å°äºï¼ˆå¤§äºï¼‰r ä»æœ¬ç« å¼€å§‹ï¼Œè®¨è®ºçš„é‡ç‚¹å°†é€æ­¥è½¬å‘æŸ¥æ‰¾æŠ€æœ¯ï¼Œå®é™…ä¸Šåœ¨ä¹‹å‰çš„ç« èŠ‚å·²ç»å°±æ­¤åšè¿‡ä¸€äº›è®¨è®ºï¼Œæ¯”å¦‚åœ¨vectorå’Œlistç­‰ç»“æœä¸­ï¼Œå·²ç»ç»™å‡ºäº†å¯¹åº”çš„ADTç»“æ„ï¼Œä½†æ˜¯é—æ†¾çš„æ˜¯è¿™ç§æ¥å£çš„æ•ˆç‡æ— æ³•ä»¤äººæ»¡æ„ã€‚ æ¯”å¦‚vectorå‘é‡æ¨¡ç‰ˆï¼Œé’ˆå¯¹æ— åºå’Œæœ‰åºå‘é‡çš„æŸ¥æ‰¾æä¾›äº†find()å’Œsearchï¼ˆï¼‰æ¥å£ã€‚å‰è€…çš„å®ç°ç­–ç•¥æ˜¯å°†ç›®æ ‡å¯¹è±¡ä¸å‘é‡å­˜æ”¾çš„å¯¹è±¡é€ä¸ªå¯¹æ¯”ï¼Œç¡¬åˆºéœ€è¦O(n)æ—¶é—´ï¼Œåè€…åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾ç­–ç•¥å¯ä»¥ç¡®ä¿O(logN)æ—¶é—´å†…å®Œæˆå•æ¬¡æŸ¥æ‰¾ï¼Œä½†æ˜¯ä¸€æ—¦å‘é‡æœ¬èº«éœ€è¦ä¿®æ”¹ï¼Œæ— è®ºæ˜¯æ’å…¥è¿˜æ˜¯åˆ é™¤ï¼Œåœ¨æœ€åæƒ…å†µä¸‹æ¯æ¬¡éœ€è¦Oï¼ˆnï¼‰çš„æ—¶é—´ã€‚ æ‰€ä»¥å¯¹äºçº¿æ€§ç»“æ„æ¥è¯´ï¼Œæ—¢è¦æ±‚å¯¹è±¡é›†åˆçš„ç»„æˆå¯ä»¥é«˜æ•ˆç‡åœ°åŠ¨æ€è°ƒæ•´ï¼ŒåŒæ—¶ä¹Ÿè¦æ±‚èƒ½å¤Ÿé«˜æ•ˆç‡æŸ¥æ‰¾ï¼ŒlInear data structureå¾ˆéš¾èƒœä»»ï¼Œé‚£ä¹ˆé«˜æ•ˆç‡çš„åŠ¨æ€ä¿®æ”¹å’Œé«˜æ•ˆç‡çš„é™æ€æŸ¥æ‰¾èƒ½å¦åŒæ—¶å…¼é¡¾ï¼Œå¦‚æœ‰å¯èƒ½åˆåº”è¯¥é‡‡ç”¨ä»€ä¹ˆæ ·çš„æ•°æ®ç»“æ„ï¼Ÿ ä¹‹åä¸¤ç« å¸Œæœ›é€æ­¥äº†è§£å…¶ä¸­çš„æ•…äº‹ï¼Œæ¶‰åŠåˆ°çš„æ•°æ®ç»“æ„ç§ç±»æ¯”è¾ƒå¤šï¼ŒæŒ‰ç…§åŸºæœ¬å’Œé«˜çº§ä¸¤ç« åˆ†åˆ«è¿›è¡Œè®²è§£ æœ¬ç« é¦–å…ˆä»‹ç»æ ‘å¼æŸ¥æ‰¾çš„æ€»ä½“æ„æ€ã€åŸºæœ¬ç®—æ³•ä»¥åŠæ•°æ®ç»“æ„ï¼Œé€šè¿‡å¯¹äºŒåˆ†æŸ¥æ‰¾ç­–ç•¥çš„æŠ½è±¡ä¸æ¨å¹¿æ¥å®šä¹‰å¹¶å®ç°äºŒå‰æœç´¢æ ‘ï¼ˆBinary search tree)ç»“æ„ï¼Œè™½ç„¶åœ¨æœ€åæƒ…å†µä¸‹æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸ä¹‹å‰å¹¶æ— å®è´¨æ€§æ”¹å˜ï¼Œä½†æ˜¯è¿™ç»™å‡ºæ¥ä¸€ç§åŸºäºåŠçº¿æ€§çš„æ ‘å½¢ç»“æ„ã€‚ ä¹‹åæå‡ºç†æƒ³å¹³è¡¡å’Œé€‚åº¦å¹³è¡¡ç­‰æ¦‚å¿µï¼Œå¹¶ç›¸åº”å¼•å…¥å’Œå®ç°AVLæ ‘è¿™ç§å…¸å‹çš„å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆBalanced binary search tree)ï¼Œå€ŸåŠ©ç²¾å·§çš„å¹³è¡¡è°ƒæ•´ç®—æ³•ï¼ŒAVLæ ‘å¯ä»¥ä¿è¯å³ä½¿åœ¨æœ€åæƒ…å†µä¸‹ï¼Œå•æ¬¡åŠ¨æ€ä¿®æ”¹å’Œé™æ€æŸ¥æ‰¾ä¹Ÿå¯ä»¥åœ¨O(logN)çš„æ—¶é—´å†…å®Œæˆï¼Œåœ¨ä¹‹åçš„é€‰æ‹©ä¸­ç»™å‡ºbalanced m-way search trees 2.1 æŸ¥æ‰¾ç®—æ³•ï¼ˆSearchï¼‰ é‡‡ç”¨å‡è€Œæ²»ä¹‹çš„æ€è·¯ä¸ç­–ç•¥ï¼Œæ‰§è¡Œçš„è¿‡ç¨‹å¯ä»¥æè¿°ä¸º ä»æ ‘æ ¹å‡ºå‘ï¼Œé€æ­¥ç¼©å°æŸ¥æ‰¾èŒƒå›´ï¼Œç›´åˆ°å‘ç°ç›®æ ‡æˆ–ç¼©å°åˆ°ç©ºæ ‘ã€‚èŠ‚ç‚¹çš„æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œéƒ½éœ€è¦é¦–å…ˆè°ƒç”¨æŸ¥æ‰¾ç®—æ³•ï¼Œå¹¶æ ¹æ®æŸ¥æ‰¾ç»“æœç¡®å®šååºçš„å¤„ç†æ–¹å¼ï¼Œå› æ­¤è¿™é‡Œå¼•ç”¨æ–¹å¼ä¼ é€’å­æ ‘æ ¹èŠ‚ç‚¹ï¼Œä¸ºåç»­æ“ä½œæä¾›å¿…è¦çš„ä¿¡æ¯ æ•ˆç‡ï¼šåœ¨äºŒå‰æœç´¢æ ‘çš„æ¯ä¸€å±‚ï¼ŒæŸ¥æ‰¾ç®—æ³•è‡³å¤šè®¿é—®ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸”åªéœ€å¸¸æ•°æ—¶é—´ï¼Œå› æ­¤æ€»ä½“æ‰€éœ€è¦æ—¶é—´åº”çº¿æ€§æ­£æ¯”äºæŸ¥æ‰¾è·¯å¾„çš„é•¿åº¦ï¼Œæˆ–æœ€ç»ˆè¿”å›èŠ‚ç‚¹çš„æ·±åº¦ï¼Œåœ¨æœ€åçš„æƒ…å†µä¸‹å¯ä»¥è¾¾åˆ°\\omiga nçš„å¤æ‚åº¦ï¼›ç”±æ­¤æˆ‘ä»¬å¾—åˆ°æ±½æ°´ï¼Œè‹¥è¦æ§åˆ¶å•æ¬¡æŸ¥æ‰¾åœ¨æœ€åæƒ…å†µä¸‹çš„è¿è¡Œæ—¶é—´ï¼Œéœ€è¦ä»äºŒå‰æœç´¢æ ‘çš„é«˜åº¦å…¥æ‰‹ï¼Œåé¢è®¨è®ºçš„å¹³è¡¡äºŒå‰æœç´¢æ ‘æ­£æ˜¯åŸºäºè¿™ä¸ªæ€è·¯çš„æ”¹è¿› 2.2 æ’å…¥ç®—æ³•ï¼ˆInsertï¼‰ ä¸€èˆ¬åœ¨äºŒå‰æœç´¢æ ‘ä¸­æ’å…¥æ–°èŠ‚ç‚¹eçš„è¿‡ç¨‹ï¼Œå¯ä»¥æè¿°ä¸ºå‡½æ•°insert(): å®ƒçš„è¿‡ç¨‹æ˜¯é¦–å…ˆè°ƒç”¨search() æŸ¥æ‰¾eï¼Œå¦‚æœè¿”å›ä½ç½®éç©ºï¼Œåˆ™è¯´æ˜å·²æœ‰é›·åŒèŠ‚ç‚¹ä»ï¼Œæ’å…¥æ“ä½œå¤±è´¥ï¼Œå¦åˆ™xå¿…ç„¶æ˜¯_hotèŠ‚ç‚¹çš„æŸä¸€ä¸ªç©ºå­©å­ï¼Œäºæ˜¯åˆ›å»ºè¿™ä¸ªå­©å­å¹¶å­˜å…¥eï¼Œä¹‹åæ›´æ–°å…¨æ ‘çš„è§„æ¨¡è®°å½•ï¼Œå¹¶è°ƒç”¨updateHeightAboveï¼ˆï¼‰æ¥æ›´æ–°xå’Œå†ä»£ç¥–å…ˆçš„é«˜åº¦ æ•ˆç‡ï¼š ä¸»è¦å°å­©åœ¨å¯¹ç®—æ³•search()å’ŒupdateHeightAbove()çš„è°ƒç”¨ï¼Œæ—¶é—´å¤æ‚åº¦åŒæ ·å–å†³ä¸æ–°èŠ‚ç‚¹çš„æ·±åº¦ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ä¸è¶…è¿‡å…¨æ ‘çš„é«˜åº¦ 2.3 åˆ é™¤ç®—æ³•ï¼ˆRemoveï¼‰ ä»äºŒå‰æœç´¢æ ‘ä¸­åˆ é™¤èŠ‚ç‚¹ï¼Œé¦–å…ˆéœ€è¦è°ƒç”¨BST::searchï¼ˆï¼‰æ¥åˆ¤æ–­ç›®æ ‡ç‚¹æ˜¯å¦çš„ç¡®å­˜åœ¨æ ‘ä¸­ï¼Œå¦‚æœå­˜åœ¨åˆ™éœ€è¦è¿”å›å…¶ä½ç½®ï¼Œæ–¹èƒ½å¯¹å…¶è¿›è¡Œå…·ä½“å®æ–½åˆ é™¤æ“ä½œï¼Œåœ¨åˆ é™¤çš„è¿‡ç¨‹ä¸­åˆ†ä¸ºå•åˆ†æ”¯æƒ…å†µå’ŒåŒåˆ†æ”¯æƒ…å†µ æ•ˆç‡ï¼š åˆ é™¤æ“ä½œæ‰€éœ€è¦çš„æ—¶é—´ä¸»è¦æ¶ˆè€—åœ¨å¯¹search()ã€succï¼ˆï¼‰å’ŒupdateHeightAboveï¼ˆï¼‰ çš„è°ƒç”¨ï¼Œåœ¨æ ‘ä¸­çš„ä»»ä½•é«˜åº¦ï¼Œå®ƒä»¬éƒ½è‡³å¤šæ¶ˆè€—Oï¼ˆ1ï¼‰æ—¶é—´ï¼Œæ•…æ€»ä½“çš„æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¹Ÿä¸ä¼šè¶…è¿‡å…¨æ ‘çš„é«˜åº¦ 0x03 å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆBalanced binary search treeï¼‰ 3.1 æ ‘é«˜å’Œæ€§èƒ½ æ ¹æ®å¯¹äºŒå‰æœç´¢æ ‘çš„å®ç°ä¸åˆ†æï¼Œsearch()ã€insert()å’Œremoveï¼ˆï¼‰ç­‰ä¸»è¦æ¥å£çš„è¿è¡Œæ—¶é—´ï¼Œå‡çº¿æ€§æ­£æ¯”äºäºŒå‰æœç´¢æ ‘çš„é«˜åº¦ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼ŒäºŒå‰æœç´¢æ ‘å¯èƒ½å½»åº•é€€åŒ–ä¸ºåˆ—è¡¨ï¼Œæ­¤æ—¶æŸ¥æ‰¾æ•ˆç‡ç”šè‡³ä¼šé™ä½O(n)ï¼Œå› æ­¤å¦‚æœä¸èƒ½æœ‰æ•ˆæ§åˆ¶æ ‘é«˜ï¼Œå®é™…æ€§èƒ½æ¯”ä¹‹å‰çš„å‘é‡å’Œåˆ—è¡¨å¹¶æ²¡æœ‰æ˜æ˜¾çš„åŒºåˆ«ã€‚ ä¸ºäº†æè¿°å‡ºç°è¿™ç§æœ€åçš„æƒ…å†µçš„æ¦‚ç‡ï¼Œè¿™é‡Œä½¿ç”¨å¹³å‡å¤æ‚åº¦çš„æ¦‚å¿µæ¥çœ‹äºŒå‰æœç´¢æ ‘çš„æ€§èƒ½ï¼Œä½¿ç”¨ä¸¤ç§å¸¸è§çš„éšæœºç»Ÿè®¡å£å¾„æ¥è¿›è¡Œåˆ†æ éšæœºç”Ÿæˆ(randomly generated)ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å¯ä»¥çœ‹å‡ºäºŒå‰æœç´¢æ ‘çš„å¹³å‡é«˜åº¦ä¸º\\Omega(LogN) éšæœºç»„æˆ(randomly composed)ï¼Œ å¹³å‡æŸ¥æ‰¾é•¿åº¦ä¸º \\Omega(\\Sqrt(N)) å¯¹æ¯”ä¸¤ç§æƒ…å†µï¼Œå¯ä»¥çœ‹å‡ºä¸¤ç§ä¸åŒçš„ç»Ÿè®¡å£å¾„ä¸­å¯¹äºå¹³è¡¡äºŒå‰æ ‘çš„ç»Ÿè®¡æ¬¡æ•°çš„é‡å ï¼Œåœ¨ç¬¬ä¸€ç§å¹³è¡¡ä¸­ä¼šè¶Šæ˜¯å¹³è¡¡çš„æ ‘è¶Šä¼šè¢«ç»Ÿè®¡å¤šæ¬¡ï¼Œå› æ­¤ç›¸å¯¹è€Œè¨€ï¼ŒæŒ‰ç…§åé¢å£å¾„å¤šå¾—åˆ°çš„ä¼°è®¡å€¼æ›´åŠ å¯ä¿¡ã€‚ 3.2 ç†æƒ³å¹³è¡¡å’Œé€‚åº¦å¹³è¡¡ åœ¨ä¹‹å‰çœ‹å¯¹äºäºŒå‰æ ‘ï¼ˆBinary treeï¼‰çš„åŸºæœ¬æ“ä½œï¼Œæ¯”å¦‚search()ã€insertï¼ˆï¼‰ã€removeï¼ˆï¼‰çš„æ€§èƒ½ä¸»è¦å–å†³ä¸æ ‘çš„é«˜åº¦ï¼Œå› æ­¤åœ¨èŠ‚ç‚¹æ•°ç›®å›ºå®šçš„æƒ…å†µä¸‹ï¼Œåº”å½“å°½å¯èƒ½çš„é™ä½é«˜åº¦ï¼Œä¹Ÿå°±æ˜¯å°½å¯èƒ½çš„è®©å…„å¼Ÿå­æ ‘çš„é«˜åº¦å½¼æ­¤æ¥è¿‘ï¼Œè®©å…¨æ ‘æ›´åŠ å¹³è¡¡ï¼Œæ¯”å¦‚å¯¹äºåŒ…å«nèŠ‚ç‚¹çš„äºŒå‰æ ‘ï¼Œæœ€ç†æƒ³çš„æƒ…å†µæ˜¯é«˜åº¦ä¸ºlog_2N,è¿™ç§å°±æ˜¯ç†æƒ³å¹³è¡¡çš„æƒ…å†µï¼›ä½†æ˜¯é€‚å½“æ”¾æ¾è¦æ±‚å¯ä»¥è®©æˆ‘ä»¬å¾—åˆ°æ¯”è¾ƒå¥½çš„æ•ˆæœï¼Œä¹Ÿå°±æ˜¯é€‚åº¦å¹³è¡¡ã€‚ æ¯”å¦‚å°†æ ‘é«˜é™åˆ¶åœ¨æ¸è¿›ä¸è¶…è¿‡O(logN),ç›¸æ¯”è¾ƒä¸¥æ ¼çš„ç†æƒ³å¹³è¡¡äºŒå‰æ ‘ä¼šæ›´åŠ æ”¾æ¾ï¼Œè¿™é‡Œä»‹ç»çš„AVLæ ‘ã€ä¼¸å±•æ ‘ã€çº¢é»‘æ ‘ã€KDæ ‘ç­‰éƒ½å±äºé€‚åº¦å¹³è¡¡çš„ç±»åˆ«ï¼Œå› æ­¤ä¹Ÿå¯ä»¥å½’çº³ä¸ºå¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆBalanced binary search treeï¼‰ å¹³è¡¡äºŒå‰æœç´¢æ ‘çš„é€‚åº¦å¹³è¡¡æ€§å°±æ˜¯é€šè¿‡å¯¹æ ‘ä¸­æ¯ä¸€ä¸ªå±€éƒ¨å¢åŠ æŸç§é™åˆ¶æ¡ä»¶æ¥ä¿è¯çš„ï¼Œ æ¯”å¦‚åœ¨çº¢é»‘æ ‘ä¸­ï¼Œä»æ ‘æ ¹åˆ°å¶èŠ‚ç‚¹çš„é€šè·¯æ€»æ˜¯åŒ…å«ä¸€æ ·å¤šçš„é»‘èŠ‚ç‚¹ï¼› æ¯”å¦‚åœ¨AVLæ ‘ä¸­ï¼Œå…„å¼ŸèŠ‚ç‚¹çš„é«˜åº¦ç›¸å·®ä¸è¿‡1 è¿™ç§é™åˆ¶æ¡ä»¶è®¾å®šæ˜¯éå¸¸ç²¾å¦™çš„ï¼Œé™¤äº†é€‚åº¦å¹³è¡¡æ€§ï¼Œè¿˜å…·æœ‰å±€éƒ¨æ€§ ç»è¿‡å•æ¬¡åŠ¨æ€ä¿®æ”¹æ“ä½œåï¼Œè‡³å¤šä¹‹åOï¼ˆlogNï¼‰å¤„å±€éƒ¨ä¸åœ¨æ»¡è¶³é™åˆ¶æ¡ä»¶ å¯ä»¥åœ¨O(logN)çš„æ—¶é—´å†…ï¼Œè®©è¿™Oï¼ˆlogNï¼‰å¤„å±€éƒ¨ä¹ƒè‡³å…¨æ ‘é‡æ–°æ»¡è¶³é™åˆ¶æ¡ä»¶ ç”±æ­¤æ¥è®©å¤±å»å¹³è¡¡çš„äºŒå‰æœç´¢æ ‘ï¼Œå¿…ç„¶å¯ä»¥è¿…é€Ÿè½¬æ¢ç§°ä¸ºä¸€é¢—ç­‰ä»·çš„å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼Œç­‰ä»·äºŒå‰æœç´¢æ ‘ä¹‹é—´çš„è½¬æ¢è¿‡ç¨‹ç§°ä¸ºç­‰ä»·äº¤æ¢ 3.3 ç­‰ä»·äº¤æ¢ é¦–å…ˆå®šä¹‰ç­‰ä»·ï¼Œä¹Ÿå°±æ˜¯ä¸­åºéå†ç›¸åŒçš„äºŒå‰æ ‘ä¹‹é—´æ˜¯ç­‰ä»·çš„ï¼Œè¿™ç§ç‰¹ç‚¹å¯ä»¥æ¦‚æ‹¬ä¸ºâ€œä¸Šä¸‹å¯å˜ï¼Œå·¦å³ä¸ä¹±â€ è™½ç„¶äºŒå‰æœç´¢æ ‘å¯ä»¥è½¬æ¢ä¸ºç†æƒ³å¹³è¡¡çš„å®Œå…¨äºŒå‰æ ‘ï¼Œä½†æ˜¯è¿™ç§è½¬æ¢ä¹Ÿæ˜¯éœ€è¦æ—¶é—´çš„ï¼Œå¦‚ä½•å®ç°è¿™ç§å±€éƒ¨å¤±è¡¡çš„è°ƒæ•´çš„åŒæ—¶æ¥ä¿è¯ä¿®å¤çš„é€Ÿåº¦ï¼Ÿ 3.4 æ—‹è½¬è°ƒæ•´ æœ€åŸºæœ¬çš„ä¿®å¤æ‰‹æ®µå°±æ˜¯é€šè¿‡å›´ç»•ç‰¹å®šèŠ‚ç‚¹çš„é€‰è£…æ¥å®ç°ç­‰ä»·å‰æä¸‹çš„å±€éƒ¨æ‹“æ‰‘è°ƒæ•´ï¼Œä¹Ÿå°±æ˜¯å•æ—‹å’ŒåŒæ—‹ï¼Œzigå’Œzag zigå’Œzagå‡å±äºå±€éƒ¨æ“ä½œï¼Œä»…æ¶‰åŠå¸¸ç†Ÿä¸ªèŠ‚ç‚¹åŠå…¶ä¹‹é—´çš„é“¾æ¥å…³ç³»ï¼Œæ•…å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…å®Œæˆï¼Œåœ¨åé¢å®ç°å„ç§äºŒå‰æœç´¢æ•°å¹³è¡¡åŒ–ç®—æ³•æ˜¯æ”¯æ’‘æ€§çš„åŸºæœ¬æ“ä½œã€‚ 0x04 å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆBBSTï¼ŒBalanced binary search treeï¼‰çš„æ€»ç»“ æœ¬æ¥ç›´æ¥çœ‹AVLçš„ï¼Œä½†æ˜¯ç”±äºå¤ªéš¾äº†ï¼Œä¸å¦‚åœ¨æ­¤å¯¹è¿™ä¸€ç±»çš„å¹³è¡¡äºŒå‰æœç´¢æ ‘åšä¸€ä¸ªæ€»ç»“ï¼Œé˜²æ­¢ä»¥åæ¦‚å¿µçš„æ··æ·†ï¼ŒåŒæ—¶åœ¨å­¦ä¹ è¿™äº›BBSTçš„æ—¶å€™è¦æ³¨æ„åŸºæœ¬æ¦‚å¿µäº§ç”Ÿçš„æ ‘çš„æ·±åº¦å’Œç®—æ³•ï¼ˆåŸºæœ¬æ“ä½œinsert()ã€remove()ã€search() ä¹‹é—´çš„å…³ AVLæ ‘ï¼Œå¹³è¡¡äºŒå‰æ ‘ä¹‹ä¸€ï¼Œåº”ç”¨ç›¸å¯¹å…¶ä»–æ•°æ®ç»“æ„æ¯”è¾ƒå°‘ï¼Œwindowså¯¹è¿›ç¨‹åœ°å€ç©ºé—´çš„ç®¡ç†ç”¨åˆ°äº†AVLï¼›ç”±G. M. Adelson-Velskyå’ŒE. M. Landisä¸1962å¹´åæ˜[36] ï¼Œå¹¶ä»¥ä»–ä»¬åå­—çš„é¦–å­—æ¯å‘½å ä¼¸å±•æ ‘ï¼ˆSplay treeï¼‰ï¼ŒæŒ‰ç…§â€œæœ€å¸¸ç”¨è€…ä¼˜å…ˆâ€çš„å¯å‘å¼ç­–ç•¥ï¼Œå¼•å…¥å¹¶å®ç°ä¼¸å±•æ ‘ï¼Œï¼›ç”±D. D. Sleatorå’ŒR. E. Tarjanäº1985å¹´å‘æ˜ Bã€B-ã€B+æ ‘ï¼Œå¹³è¡¡å¤šè·¯æŸ¥æ‰¾æ ‘ï¼ˆæŸ¥æ‰¾è·¯å¾„ä¸åªä¸¤ä¸ªï¼‰ï¼Œä¸»è¦ç”¨åœ¨æ–‡ä»¶ç³»ç»Ÿä»¥åŠæ•°æ®åº“ä¸­åšç´¢å¼•ç­‰ çº¢é»‘æ ‘ï¼Œå¹¿æ³›åº”ç”¨åœ¨C++STLä¸­ï¼Œæ¯”å¦‚mapå’Œsetã€Javaçš„TreeMap KD-æ ‘ç»“æ„ï¼Œåœ¨å››å‰æ ‘ï¼ˆquadtreeï¼‰å’Œå…«å‰æ ‘ï¼ˆoctreeï¼‰çš„ä¸€èˆ¬æ€§æ¨å¹¿ï¼Œæ˜¯åœ¨è®¡ç®—å‡ ä½•ç±»é—®é¢˜çš„æ±‚è§£çš„æ¨¡å¼ 4.1 AVLæ ‘ åœ¨äºŒå‰æŸ¥æ‰¾æ ‘ä¸­ï¼Œä»»ä¸€èŠ‚ç‚¹å¯¹åº”çš„ä¸¤æ£µå­æ ‘çš„æœ€å¤§é«˜åº¦å·®ä¸º 1ï¼Œè¿™æ ·çš„äºŒå‰æŸ¥æ‰¾æ ‘ç§°ä¸ºå¹³è¡¡äºŒå‰æ ‘ ç‰¹ç‚¹ï¼š å°½ç®¡å¯ä»¥ä¿è¯æœ€åæƒ…å†µä¸‹çš„å•æ¬¡æ“ä½œé€Ÿåº¦ï¼Œä½†éœ€åœ¨èŠ‚ç‚¹ä¸­åµŒå…¥å¹³è¡¡å› å­ç­‰æ ‡è¯†ï¼›æ›´é‡è¦çš„æ˜¯ï¼Œåˆ é™¤æ“ä½œä¹‹åçš„é‡å¹³è¡¡å¯èƒ½éœ€åšå¤š è¾¾ï—(logn)æ¬¡æ—‹è½¬ï¼Œä»è€Œé¢‘ç¹åœ°å¯¼è‡´å…¨æ ‘æ•´ä½“æ‹“æ‰‘ç»“æ„çš„å¤§å¹…åº¦å˜åŒ–ã€‚ ä¿æŒæ ‘å¹³è¡¡çš„ç›®çš„æ˜¯å¯ä»¥æ§åˆ¶æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤åœ¨å¹³å‡å’Œæœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(log n)ï¼Œç›¸æ¯”æ™®é€šäºŒå‰æ ‘æœ€åæƒ…å†µçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n) ï¼ŒAVLæ ‘æŠŠæœ€åæƒ…å†µçš„å¤æ‚åº¦æ§åˆ¶åœ¨å¯æ¥å—èŒƒå›´ï¼Œéå¸¸åˆé€‚å¯¹ç®—æ³•æ‰§è¡Œæ—¶é—´æ•æ„Ÿç±»çš„åº”ç”¨ã€‚ 4.2 ä¼¸å±•æ ‘ï¼ˆSplay treeï¼‰ 1ï¼‰åˆšåˆšè¢«è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œææœ‰å¯èƒ½åœ¨ä¸ä¹…ä¹‹åå†æ¬¡è¢«è®¿é—®åˆ° 2ï¼‰å°†è¢«è®¿é—®çš„ä¸‹ä¸€èŠ‚ç‚¹ï¼Œææœ‰å¯èƒ½å°±å¤„äºä¸ä¹…ä¹‹å‰è¢«è®¿é—®è¿‡çš„æŸä¸ªèŠ‚ç‚¹çš„é™„è¿‘ ç‰¹ç‚¹ï¼š ä¼¸å±•æ ‘å®ç°ç®€ä¾¿ã€æ— éœ€ä¿®æ”¹èŠ‚ç‚¹ ç»“æ„ã€åˆ†æ‘Šå¤æ‚åº¦ä½ï¼Œä½†å¯æƒœæœ€åæƒ…å†µä¸‹çš„å•æ¬¡æ“ä½œéœ€è¦(n)æ—¶é—´ï¼Œæ•…éš¾ä»¥é€‚ç”¨äºæ ¸ç”µç«™ã€åŒ» é™¢ç­‰å¯¹å¯é æ€§å’Œç¨³å®šæ€§è¦æ±‚æé«˜çš„åœºåˆã€‚ 4.3 Bã€B-ã€B+æ ‘ ä¸ºæ­¤ï¼Œéœ€è¦å……åˆ†åˆ©ç”¨ç£ç›˜ä¹‹ç±»å¤–éƒ¨å­˜å‚¨å™¨çš„å¦ä¸€ç‰¹æ€§ï¼šå°±æ—¶é—´æˆæœ¬è€Œè¨€ï¼Œè¯»å–ç‰©ç†åœ°å€è¿ç»­ çš„ä¸€åƒä¸ªå­—èŠ‚ï¼Œä¸è¯»å–å•ä¸ªå­—èŠ‚å‡ ä¹æ²¡æœ‰åŒºåˆ«ã€‚æ—¢ç„¶å¤–éƒ¨å­˜å‚¨å™¨æ›´é€‚å®œäºæ‰¹é‡å¼è®¿é—®ï¼Œä¸å¦¨é€šè¿‡ æ—¶é—´æˆæœ¬ç›¸å¯¹æä½çš„å¤šæ¬¡å†…å­˜æ“ä½œï¼Œæ¥æ›¿ä»£æ—¶é—´æˆæœ¬ç›¸å¯¹æé«˜çš„å•æ¬¡å¤–å­˜æ“ä½œã€‚ç›¸åº”åœ°ï¼Œéœ€è¦å°† é€šå¸¸çš„äºŒå‰æœç´¢æ ‘ï¼Œæ”¹é€ ä¸ºå¤šè·¯æœç´¢æ ‘åœ¨ä¸­åºéå†çš„æ„ä¹‰ä¸‹ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§ç­‰ä»·å˜æ¢ã€‚ ç‰¹ç‚¹ï¼š Bæ ‘æ˜¯æ‰€æœ‰èŠ‚ç‚¹çš„å¹³è¡¡å› å­å‡ç­‰äº0çš„å¤šè·¯æŸ¥æ‰¾æ ‘ï¼ˆAVLæ ‘æ˜¯å¹³è¡¡å› å­ä¸å¤§äº 1 çš„äºŒè·¯æŸ¥æ‰¾æ ‘ï¼‰ã€‚B æ ‘èŠ‚ç‚¹å¯ä»¥ä¿å­˜å¤šä¸ªæ•°æ®ï¼Œä½¿å¾— B æ ‘å¯ä»¥ä¸ç”¨åƒ AVL æ ‘é‚£æ ·ä¸ºäº†ä¿æŒå¹³è¡¡é¢‘ç¹çš„æ—‹è½¬èŠ‚ç‚¹ã€‚Bæ ‘çš„å¤šè·¯çš„ç‰¹æ€§ï¼Œé™ä½äº†æ ‘çš„é«˜åº¦ï¼Œæ‰€ä»¥Bæ ‘ç›¸æ¯”äºå¹³è¡¡äºŒå‰æ ‘æ˜¾å¾—çŸ®èƒ–å¾ˆå¤šã€‚Bæ ‘éå¸¸é€‚åˆä¿å­˜åœ¨ç£ç›˜ä¸­çš„æ•°æ®è¯»å–ï¼Œå› ä¸ºæ¯æ¬¡è¯»å–éƒ½ä¼šæœ‰ä¸€æ¬¡ç£ç›˜IOï¼Œé«˜åº¦é™ä½å‡å°‘äº†ç£ç›˜IOçš„æ¬¡æ•°ã€‚ 4.4 çº¢é»‘æ ‘ ä¸ºæ­¤é¦–å…ˆéœ€åœ¨AVLæ ‘â€œé€‚åº¦å¹³è¡¡â€æ ‡å‡†çš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥æ”¾å®½æ¡ä»¶ã€‚å®é™…ä¸Šï¼Œçº¢é»‘æ ‘ æ‰€é‡‡ç”¨çš„â€œé€‚åº¦å¹³è¡¡â€æ ‡å‡†ï¼Œå¯å¤§è‡´è¡¨è¿°ä¸ºï¼šä»»ä¸€èŠ‚ç‚¹å·¦ã€å³å­æ ‘çš„é«˜åº¦ï¼Œç›¸å·®ä¸å¾—è¶…è¿‡ä¸¤å€ ç‰¹ç‚¹ï¼š è€ŒèŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦å†³å®šç€å¯¹èŠ‚ç‚¹çš„æŸ¥è¯¢æ•ˆç‡ï¼Œè¿™æ ·æˆ‘ä»¬ç¡®ä¿äº†ï¼Œæœ€åæƒ…å†µä¸‹çš„æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸è¶…è¿‡O(log n)ï¼Œå¹¶ä¸”æœ‰è¾ƒé«˜çš„æ’å…¥å’Œåˆ é™¤æ•ˆç‡ã€‚ 4.5 KD-æ ‘ç»“æ„ éœ€è¦åœ¨ç†è§£å¤šç»´æŸ¥è¯¢çš„åŸºç¡€ä¸ŠæŸ¥è¯¢ å¾ªç€ä¸Šä¸€èŠ‚é‡‡ç”¨å¹³è¡¡äºŒå‰æœç´¢æ ‘å®ç°ä¸€ç»´æŸ¥è¯¢çš„æ„æ€ï¼Œå¯ä»¥å°†å¾…æŸ¥è¯¢çš„äºŒç»´ç‚¹é›†ç»„ç»‡ä¸ºæ‰€è°“ çš„kd-æ ‘ï¼ˆkd-treeï¼‰â‘¥ç»“æ„ã€‚åœ¨ä»»ä½•çš„ç»´åº¦ä¸‹ï¼Œkd-æ ‘éƒ½æ˜¯ä¸€æ£µé€’å½’å®šä¹‰çš„å¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"TsinghuaBook","slug":"TsinghuaBook","permalink":"https://blog.tjdata.site/tags/TsinghuaBook/"}]},{"title":"æ“ä½œç³»ç»Ÿ-01--åŸºæœ¬æ¦‚å¿µ","slug":"æ“ä½œç³»ç»Ÿ-01--åŸºæœ¬æ¦‚å¿µ","date":"2022-05-01T13:52:42.000Z","updated":"2023-05-13T13:52:26.079Z","comments":true,"path":"posts/ac6f4ba.html","link":"","permalink":"https://blog.tjdata.site/posts/ac6f4ba.html","excerpt":"å¸Œæœ›è·Ÿç€æè€å¸ˆæ¥äº†è§£ä¸€ä¸‹ï¼ŒåµŒå…¥å¼ç³»ç»Ÿå’Œå¾®æœºåŸç†æ²¡æœ‰äº†è§£çš„åœ°æ–¹ï¼Œæ¥è§è¯è®¡computeræ˜¯å¦‚ä½•ä»è®¡ç®—æœºå˜æˆç”µè„‘çš„ã€‚å¯èƒ½éœ€è¦çœ‹ä¸€ä¸‹&lt;è®¡ç®—æœºç»„æˆåŸç†&gt;,ä½†æ˜¯å› ä¸ºå¤ªä¸‹é¥­äº†ï¼Œå°±çœ‹ä¸€ä¸‹è¿™ä¸ªå§,æŒæ¡æ¦‚å¿µå°±å¥½ã€‚Learning OS concepts by coding them!","text":"å¸Œæœ›è·Ÿç€æè€å¸ˆæ¥äº†è§£ä¸€ä¸‹ï¼ŒåµŒå…¥å¼ç³»ç»Ÿå’Œå¾®æœºåŸç†æ²¡æœ‰äº†è§£çš„åœ°æ–¹ï¼Œæ¥è§è¯è®¡computeræ˜¯å¦‚ä½•ä»è®¡ç®—æœºå˜æˆç”µè„‘çš„ã€‚å¯èƒ½éœ€è¦çœ‹ä¸€ä¸‹&lt;è®¡ç®—æœºç»„æˆåŸç†&gt;,ä½†æ˜¯å› ä¸ºå¤ªä¸‹é¥­äº†ï¼Œå°±çœ‹ä¸€ä¸‹è¿™ä¸ªå§,æŒæ¡æ¦‚å¿µå°±å¥½ã€‚Learning OS concepts by coding them! 0x01 ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿ è®¡ç®—æœºæ˜¯ç”¨æ¥å¸®åŠ©äººä»¬è§£å†³ä¸€äº›å®é™…é—®é¢˜çš„ï¼Œå®ƒéœ€è¦é€šè¿‡æ€»çº¿æ¥è¿æ¥è¾“å…¥è¾“å‡ºè®¾å¤‡ã€å­˜å‚¨ã€CPUå’Œå†…å­˜ç­‰è®¾å¤‡ã€‚å…¶ä¸­æœ€é‡è¦çš„CPUï¼ˆCentral Processing Unitï¼Œä¸­å¤®å¤„ç†å™¨ï¼‰ä¸»è¦æ˜¯è§£é‡Šè®¡ç®—æœºä¸­çš„æŒ‡ä»¤å¹¶å¤„ç†æ•°æ®çš„å•å…ƒã€‚ æ¯”å¦‚è®¡ç®—æœºåœ¨ç»ˆç«¯è¾“å…¥helloçš„è¿‡ç¨‹ cpuå‘å‡ºæŒ‡ä»¤ï¼Œå–å†…å­˜ å†…å­˜å–å¯¹åº”åœ°å€çš„å†…å®¹ é€šè¿‡æ§åˆ¶å™¨ã€æ€»çº¿æ¥ä¼ é€’åˆ°å›¾å½¢æ§åˆ¶å™¨ æ“ä½œç³»ç»Ÿï¼ˆoperation systemï¼‰å°†è®¡ç®—æœºç¡¬ä»¶è®¾å¤‡ç®¡ç†ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šå®ç°åº”ç”¨è½¯ä»¶ã€‚åŸºæœ¬çš„è½¯ä»¶åŒ…æ‹¬CPUã€å†…å­˜ã€ç»ˆç«¯ã€ç£ç›˜ã€æ–‡ä»¶ï¼›åœ¨ä¹‹å¤–çš„é«˜çº§æ“ä½œç³»ç»Ÿä¸­æ·»åŠ ä¸åŒè®¡ç®—æœºä¹‹å‰çš„ä½¿ç”¨ã€‚ æˆ‘ä»¬éœ€è¦å­¦ä¹  ä»åº”ç”¨è½¯ä»¶å‡ºå‘çœ‹æ“ä½œç³»ç»Ÿï¼Œåªèƒ½æ˜¯ä»…ä»…åœç•™åœ¨æ“ä½œç³»ç»Ÿçš„æ¥å£ ä»åº”ç”¨è½¯ä»¶å‡ºå‘è¿›å…¥åˆ°æ“ä½œç³»ç»Ÿï¼Œç†è§£å…¶ä¸­å‘½ä»¤çš„è¿‡ç¨‹ï¼Œç†è§£é‡æ‰èƒ½çŸ¥é“èƒŒåçš„åŠŸèƒ½å¹¶å¼€å‘ ä»ç¡¬ä»¶å‡ºå‘è®¾è®¡å¹¶å®ç°æ“ä½œç³»ç»Ÿ å¸Œæœ›äº†è§£æ“ä½œç³»ç»Ÿæ˜¯å¦‚ä½•è¿è½¬çš„ï¼Œå…«ä¸ªå®éªŒ 0x02 bootsect.s 2.1 è®¡ç®—æœºå‘å±•çš„å†å² ä»ç™½çº¸åˆ°å›¾çµæœºï¼Œ1936å¹´ï¼Œé€šè¿‡æ¨¡æ‹Ÿäººå¯¹è®¡ç®—è¿‡ç¨‹å¾—åˆ°è®¡ç®—æ¨¡å‹ ä»å›¾çµæœºåˆ°é€šç”¨å›¾çµæœºçš„è¿‡ç¨‹ ä»é€šç”¨å›¾çµæœºåˆ°è®¡ç®—æœºï¼ˆ1946å¹´ï¼Œå†¯Â·æ´›ä¾æ›¼ï¼‰ 2.2 è®¡ç®—æœºå¼€æœºçš„è¿‡ç¨‹ è®¡ç®—æœºä¸­å¼€å§‹ç”µæºçš„æœ€åˆçš„IPæ˜¯ç”±ç¡¬ä»¶è®¾è®¡è€…å†³å®šï¼Œæ¯”å¦‚x86çš„å¼€æœºCS=0xffffï¼Œip=0x0000ï¼Œä»¥åŠå¯»å€ï¼ˆBiosæ˜ å°„åŒºï¼‰ï¼Œæ£€æŸ¥RAMã€é”®ç›˜ã€æ˜¾ç¤ºå™¨å’Œè½¯ç¡¬ç£ç›˜ï¼Œæ±‡ç¼–ä¸­çš„æ¯ä¸€æ¡æŒ‡ä»¤ä¸­æœ‰ç€æ“ä½œ BIOSçš„å¼•å¯¼æ‰‡åŒºä»£ç ï¼ˆbootsect.sï¼‰ 0x03 setup.s and head.s åœ¨ä¸Šè¿°bootsec.sè¿è¡Œå®Œä¹‹åï¼Œå¯ä»¥æ˜¯å¯¼å…¥setup.sï¼Œå®ƒä¸»è¦åšäº†ä¸¤ä»¶äº‹æƒ… æ·»åŠ æ“ä½œç³»ç»Ÿä»£ç åˆ°å†…å­˜ä¸­ï¼Œå¹¶ä¸ºäº†ä¿è¯æ“ä½œç³»ç»Ÿçš„å®Œæ•´æ€§ï¼Œç§»åŠ¨åˆ°0åœ°å€,ç¬¬ä¸€ä¸ªä»£ç æ˜¯head.s è¯»å–ç¡¬ä»¶ä¿¡æ¯å¹¶åˆå§‹åŒ–ï¼Œmem_init è¿è¡Œsetup.sçš„è¿‡ç¨‹ä¸­ä¼šçŸ­æš‚çš„å®šä¹‰GDTå’ŒIDTè¡¨æ ¼ï¼Œä¹‹åç³»ç»Ÿä¼šè¿›è¡Œæ¨¡å¼çš„è½¬æ¢ï¼Œå°†16ä½æ¨¡å¼æ¥å˜ä¸º32ä½æ¨¡å¼ï¼Œæé«˜å¯¹å†…å­˜ä½¿ç”¨çš„æƒé™ 16ä½æ¨¡å¼çš„å¯»å€è§£æç”µè·¯ï¼šCS&lt;&lt;4+ip ï¼ˆç§°ä¸ºå®æ¨¡å¼ï¼‰ 32ä½æ¨¡å¼çš„å¯»å€è§£æç”µè·¯ï¼šæ ¹æ®CSæŸ¥è¡¨+IPï¼ˆç§°ä½ä¿æŠ¤æ¨¡å¼ï¼‰ åœ¨è¿è¡Œå®Œhead.sä¹‹åä¾¿å¯ä»¥å­©å­é€‰å“ªä¸ªmain.c,è¿™é‡Œæ˜¯æ ¹æ®æ ˆæ¥è¿›è¡Œå¤„ç†çš„ï¼Œä¹Ÿå°±æ˜¯å†…å­˜ä¸­å‡½æ•°çš„è®°å½•å’Œè¿”å› 0x04 Interface æ¥å£å°±æ˜¯ç³»ç»Ÿæä¾›çš„ä¸€äº›å¯ä»¥è°ƒç”¨çš„å‡½æ•°ï¼Œå› ä¸ºæ¥å£æ˜¯å‡½æ•°ï¼Œå‡½æ•°æ˜¯é€šè¿‡è°ƒç”¨å®ç°çš„ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºç³»ç»Ÿè°ƒç”¨ åœ¨å…·ä½“åˆ°æ“ä½œç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿçš„æ¥å£éœ€è¦ä¸€äº›ç»Ÿä¸€çš„è§„èŒƒï¼Œæœ€åŸºæœ¬çš„æ˜¯POSIXä¸­çš„æ¥å£åˆ—è¡¨","categories":[{"name":"RL","slug":"RL","permalink":"https://blog.tjdata.site/categories/RL/"}],"tags":[{"name":"è˜‘è‡ä¹¦","slug":"è˜‘è‡ä¹¦","permalink":"https://blog.tjdata.site/tags/%E8%98%91%E8%8F%87%E4%B9%A6/"}]},{"title":"ä¼˜åŒ–ç®—æ³•-01--pyomoçš„ç®€å•å­¦ä¹ ","slug":"ä¼˜åŒ–ç®—æ³•-01--pyomoçš„ç®€å•å­¦ä¹ ","date":"2022-05-01T13:24:56.000Z","updated":"2023-05-13T13:51:27.233Z","comments":true,"path":"posts/903b7e5.html","link":"","permalink":"https://blog.tjdata.site/posts/903b7e5.html","excerpt":"pyomoæ˜¯Pythonä¸­çš„ä¸€ä¸ªå»ºæ¨¡æ±‚è§£è¯­è¨€ Pyomo(Python Optimization Modeling Objects):ä¼˜åŒ–å»ºæ¨¡å¯¹è±¡ï¼Œæ”¯æŒå¤æ‚ä¼˜åŒ–åº”ç”¨çš„æ•°å­¦æ¨¡å‹çš„å»ºç«‹å’Œåˆ†æ,æ˜¯ä¸€ç§åŠŸèƒ½é½å…¨çš„é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…å«ä¸€ç»„ä¸°å¯Œçš„æ”¯æŒåº“ï¼›å»ºæ¨¡çš„è¿‡ç¨‹æ˜¯ç§‘å­¦ç ”ç©¶ã€å·¥ç¨‹å’Œå•†ä¸šè®¸å¤šæ–¹é¢çš„åŸºæœ¬è¿‡ç¨‹ï¼Œå»ºæ¨¡æ¶‰åŠç³»ç»Ÿæˆ–ç°å®ä¸–ç•Œå¯¹è±¡çš„ç®€åŒ–è¡¨ç¤ºçš„åˆ¶å®šã€‚å¯ä»¥è°ƒç”¨cplexè¿™æ ·çš„æ±‚è§£å™¨æ¥è¿›è¡Œè®¡ç®—ã€‚","text":"pyomoæ˜¯Pythonä¸­çš„ä¸€ä¸ªå»ºæ¨¡æ±‚è§£è¯­è¨€ Pyomo(Python Optimization Modeling Objects):ä¼˜åŒ–å»ºæ¨¡å¯¹è±¡ï¼Œæ”¯æŒå¤æ‚ä¼˜åŒ–åº”ç”¨çš„æ•°å­¦æ¨¡å‹çš„å»ºç«‹å’Œåˆ†æ,æ˜¯ä¸€ç§åŠŸèƒ½é½å…¨çš„é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…å«ä¸€ç»„ä¸°å¯Œçš„æ”¯æŒåº“ï¼›å»ºæ¨¡çš„è¿‡ç¨‹æ˜¯ç§‘å­¦ç ”ç©¶ã€å·¥ç¨‹å’Œå•†ä¸šè®¸å¤šæ–¹é¢çš„åŸºæœ¬è¿‡ç¨‹ï¼Œå»ºæ¨¡æ¶‰åŠç³»ç»Ÿæˆ–ç°å®ä¸–ç•Œå¯¹è±¡çš„ç®€åŒ–è¡¨ç¤ºçš„åˆ¶å®šã€‚å¯ä»¥è°ƒç”¨cplexè¿™æ ·çš„æ±‚è§£å™¨æ¥è¿›è¡Œè®¡ç®—ã€‚ Cplex12.10â€“Linuxâ€“(Py3~Py38å®‰è£…è¿‡ç¨‹ï¼ˆé™„å®‰è£…åŒ…ï¼‰) å› æ­¤åƒPyomoçš„å»ºæ¨¡å·¥å…·å¯ä»¥ç”¨äºï¼š è§£é‡Šç³»ç»Ÿä¸­å‡ºç°çš„ç°è±¡ é¢„æµ‹ç³»ç»Ÿçš„æœªæ¥çŠ¶æ€ è¯†åˆ«ç³»ç»Ÿä¸­å¯èƒ½çš„æœ€åæƒ…å†µæˆ–è€…æœ€ä½æˆæœ¬çš„æå€¼ç‚¹ åˆ†ææƒè¡¡æ¥ç»™äºˆå†³ç­–è€…æ”¯æŒ å¸¸è§çš„æ±‚è§£å™¨ï¼š CBCï¼Œå¼€æºæ±‚è§£å™¨ï¼ˆCOIN-ORï¼‰å¼€å‘çš„çº¿æ€§è§„åˆ’æ±‚è§£å™¨ï¼Œæ€§èƒ½ä¸è¶³ GLPKï¼ˆGNU Linear Programmed Kitï¼‰æ˜¯GNUç»´æŠ¤ä¸€ä¸ªçº¿å½¢è§„åˆ’å·¥å…·åŒ…ï¼Œå¯¹äºæ±‚è§£å¤§è§„æ¨¡çš„é¢çº¿æ€§è§„åˆ’é—®é¢˜é€Ÿåº¦ç¼“æ…¢ CPLEXï¼Œæ˜¯IBMå¼€å‘çš„å•†ä¸šçº¿æ€§è§„åˆ’æ±‚è§£å™¨ï¼Œå¯ä»¥æ±‚è§£LP,QP,QCQP,SOCPç­‰å››ç±»åŸºæœ¬é—®é¢˜å’Œå¯¹åº”çš„MIPï¼Œç¤¾åŒºç‰ˆä»…æ”¯æŒä½äº1000å˜é‡çš„ä½¿ç”¨ï¼Œæ•™è‚²ç‰ˆæ— é™åˆ¶ï¼Œå»ºæ¨¡æ—¶é—´é•¿ï¼Œä½†æ˜¯æ±‚è§£é€Ÿåº¦éå¸¸å¿« Gurobiï¼Œæ˜¯CPLEXå›¢é˜Ÿåˆ›å§‹äººé‡æ–°åˆ›å»ºçš„å•†ä¸šæ±‚è§£å™¨ï¼Œå’Œcplexé€Ÿåº¦å·®åˆ«ä¸å¤§ï¼Œç›¸å¯¹æ¥è¯´æ¯”Cplexå¥½ä¸€ç‚¹ Pyomoçš„å­¦ä¹ ç½‘ç«™ Installation - Pyomo 6.4.0 documentation 0x01 Pyomo overview 1.1 Mathematical modeling æ•°å­¦å»ºæ¨¡ æ•°å­¦æ¨¡å‹æ˜¯ç”¨å½¢å¼åŒ–çš„è¯­è¨€è¡¨ç¤ºç³»ç»Ÿåªæ˜¯ï¼Œä»¥ä¸‹æ•°å­¦æ¦‚å¿µæ˜¯ç°ä»£å»ºæ¨¡æ´»åŠ¨çš„æ ¸å¿ƒ å˜é‡variableï¼Œå˜é‡ä»£è¡¨æ¨¡å‹çš„æœªçŸ¥æˆ–å˜åŒ–éƒ¨åˆ†ï¼Œï¼ˆä¾‹å¦‚æ˜¯å¦åšå‡ºå†³å®šï¼Œæˆ–ç³»ç»Ÿç»“æœçš„ç‰¹å¾ï¼‰ï¼Œå˜é‡æ‰€å–çš„å€¼é€šå¸¸ç§°ä¸ºè§£ï¼Œé€šå¸¸æ˜¯ä¼˜åŒ–è¿‡ç¨‹çš„è¾“å‡º å‚æ•°parametersï¼Œå‚æ•°è¡¨ç¤ºä¸ºæ‰§è¡Œä¼˜åŒ–å¿…é¡»æä¾›çš„æ•°æ®ï¼Œå®é™…ä¸Šåœ¨æŸäº›è®¾ç½®ä¸­dataç”¨æ¥ä»£æ›¿parameters å…³ç³»relationsï¼Œè¿™é‡Œæ˜¯åœ¨å®šä¹‰æ¨¡å‹çš„ä¸åŒéƒ¨åˆ†å¦‚ä½•ç›¸äº’é“¾æ¥çš„æ–¹ç¨‹ã€ä¸ç­‰å¼æˆ–è€…å…¶ä»–çš„æ•°å­¦å…³ç³» ç›®æ ‡goalï¼Œååº”è¢«å»ºæ¨¡ç³»ç»Ÿçš„ç›®æ ‡å’ŒåŠŸèƒ½ åœ¨è®¡ç®—æœºæ±‚è§£çš„è¿‡ç¨‹ä¸­å¯ä»¥åˆ†ä¸ºå»ºæ¨¡å’Œæ±‚è§£ä¸¤ä¸ªæ–¹é¢ï¼Œè®¡ç®—æ€§èƒ½çš„æ›¿åƒ§æ˜¯çš„æ•°å­¦æ¨¡å‹çš„æ•°å€¼åˆ†æç§°ä¸ºä¸€é¡¹å¸ç©ºè§æƒ¯çš„æ´»åŠ¨ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰å»ºæ¨¡è¯­è¨€ï¼Œè®¾ç½®è¾“å…¥æ–‡ä»¶ã€æ‰§è¡Œæ±‚è§£å™¨ä»¥åŠä»æ±‚è§£å™¨ä¸­è¾“å‡ºä¸­æå–ç»“æœçš„è¿‡ç¨‹å³ç¹çåˆå®¹æ˜“å‡ºé”™ï¼Œåœ¨å‘ç”Ÿé”™è¯¯æ—¶éš¾ä»¥è°ƒè¯•ï¼Œåœ¨å¤§è§„æ¨¡çš„å®é™…åº”ç”¨ç¨‹åºä¸­è¿™ç§å›°éš¾æ›´åŠ å¤æ‚ï¼Œæ­¤å¤–ä¼˜åŒ–è½¯ä»¶åŒ…ä½¿ç”¨çš„æ ¼å¼å¾ˆå¤šï¼Œè€Œè®¸å¤šä¼˜åŒ–å™¨å®é™…è¯†åˆ«çš„æ ¼å¼å¾ˆå°‘ï¼Œå› æ­¤åº”ç”¨å¤šä¸ªä¼˜åŒ–å™¨æ±‚è§£æ¥åˆ†ææ¨¡å‹ä¼šå¸¦æ¥é¢å¤–çš„å¤æ‚æ€§ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­pyomoå¸Œæœ›æ‹“å±•ç”¨äºpythonçš„æ•°å­¦å»ºæ¨¡ï¼Œå¹¶è°ƒç”¨å¯¹åº”çš„ä¼˜åŒ–æ±‚è§£å™¨æ¥è¾…åŠ©æ±‚è§£ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å…¶å…·æœ‰çš„ç‰¹å¾æœ‰ å¼€æº å¯å®šåˆ¶ æ±‚è§£å™¨é›†æˆ å…·æœ‰éå¸¸robustçš„è¯­è¨€ã€å¹¿æ³›çš„æ–‡æ¡£ã€ä¸°å¯Œçš„æ ‡å‡†åº“é›†ï¼Œå¯¹ç°ä»£ç¼–ç¨‹ä¸­ç±»å’Œå‡½æ•°çš„æ”¯æŒ 1.2 Overview of modeling components and processeså»ºæ¨¡ç»„å»ºå’Œè¿‡ç¨‹æè¿° ç®€å•å»ºæ¨¡è¿‡ç¨‹çš„åŸºæœ¬æ­¥éª¤ åˆ›å»ºæ¨¡å‹å¹¶å£°æ˜ç»„å»º å®ä¾‹åŒ–æ¨¡å‹ åº”ç”¨æ±‚è§£å™¨ è¯¢é—®æ±‚è§£å™¨ç»“æœ åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­pyomoçš„å»ºæ¨¡ç»„ä»¶å®šä¹‰æ¥æ¨¡å‹çš„ä¸åŒæ–¹é¢ï¼ŒåŒ…æ‹¬ç°ä»£AMLé€šå¸¸æ”¯æŒçš„å»ºæ¨¡ç»„ä»¶ï¼Œ sets, symbolic parameters, decision variables, objectivesï¼Œconstraints åœ¨pyomoä¸­å®šä¹‰ç›¸å…³çš„pythonç±» Setï¼Œç”¨äºå®šä¹‰æ¨¡å‹å®ä¾‹çš„æ•°æ® Paramï¼Œç”¨äºå®šä¹‰æ¨¡å‹å®ä¾‹çš„å‚æ•°æ•°æ® Varã€‚æ¨¡å‹ä¸­çš„å†³ç­–å˜é‡ Objectiveï¼Œæ¨¡å‹ä¸­æœ€å°åŒ–æˆ–æœ€å¤§åŒ–çš„ç›®æ ‡å‡½æ•° Constraintï¼Œå¯¹æ¨¡å‹ä¸­çš„Varæ–½åŠ çº¦æŸé™åˆ¶çš„è¡¨è¾¾å¼ 0x02 Abstract versus concrete modelsæŠ½è±¡æ¨¡å‹å’Œå…·ä½“æ¨¡å‹ ä½¿ç”¨ç±»AbstractModelï¼ˆï¼‰å¯ä»¥ä½¿ç”¨è¡¨ç¤ºæ•°æ®å€¼çš„ç¬¦å·æ¥å®šä¹‰æ•°å­¦æ¨¡å‹ï¼Œï¼Œä¾‹å¦‚ä¸‹åˆ—è¡¨ç¤ºä¸€ä¸ªçº¿æ€§ç¨‹åºï¼Œç”¨äºæ‰¾åˆ°å‘é‡çš„æœ€ä¼˜å€¼xï¼ŒåŒ…æ‹¬å‚æ•°nå’Œbï¼Œå’Œå‚æ•°å‘é‡aå’Œc ä½¿ç”¨ç±»ConcreteModelï¼ˆï¼‰æ¥å»ºç«‹å…·ä½“æ¨¡å‹ pythonç¨‹åºå¯èƒ½æ›´å–œæ¬¢ ç¼–å†™å…·ä½“æ¨¡å‹ï¼Œè€Œå…¶ä»–çš„ä¸€äº›ä»£æ•°å»ºæ¨¡è¯­è¨€çš„ç”¨æˆ·å¯èƒ½æ›´å–œæ¬¢ç¼–å†™æŠ½è±¡æ¨¡å‹ 2.1 Simple modelsç®€å•æ¨¡å‹ 12345import pyomo.environ as pyomodel=pyo.ConcreteModel()model.x=pyo.Var([1,2],domain=pyo.NonNegativeReals)model.Obj=pyo.Objective(expr=2*model.x[1]+3*model.x[2])model.Constraint1=pyo.Constraint(expr=3*model.x[1]+4*model.x[2]&gt;=1) è™½ç„¶è§„åˆ™å‡½æ•°ä¹Ÿå¯ä»¥ç”¨äºæŒ‡å®šConstraintå’ŒObjectiveï¼Œä½†æ˜¯åœ¨æ­¤ç¤ºä¾‹ä¸­ä½¿ç”¨expræ¥ä»…åœ¨å…·ä½“æ¨¡å‹ä¸­å¯ç”¨çš„é€‰é¡¹ï¼Œæ¥ç›´æ¥æŒ‡å®šè¡¨è¾¾å¼ 2.2 Abstract ModelsæŠ½è±¡æ¨¡å‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849from _future_ import divisionimport pyomo.environ as pyomodel=pyo.AbstractModel()// å®šä¹‰ä¸€äº›å‚æ•°çš„é›†åˆ// within ç”¨äºéªŒè¯åˆ†é…ç»™å‚æ•°æ•°æ®å€¼çš„é€‰é¡¹çš„ä½¿ç”¨model.m=pyo.Param(within=pyo.NonNegativeReals)model.n=pyo.Param(within=pyo.NonNegativeReals)// ä½¿ç”¨rangesetæ¥å£°æ˜é›†åˆæ˜¯ä¸€ä¸ªæ•´æ•°åºåˆ—Model.I=Pyo.RangeSet(1,model.m)Model.J=Pyo.RangeSet(1,model.n)// å½“é›†åˆSetä½œä¸ºParamçš„ç»„ä»¶å‚æ•°ç»™å‡ºä¹‹åï¼Œè¡¨æ˜è¯¥é›†åˆå°†ç´¢å¼•å‚æ•°model.a=pyo.Param(model.I,model.J)model.b=pro.Param(model.I)model.c=pyo.Param(model.J)//æ ¹æ®å‚æ•°jå®šä¹‰å˜é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºVariableæŒ‡å®šçš„å‚æ•°åŸŸmodel.x=pyo.Var(model.J,domain=pyo.NonNegativeReals)/*åœ¨æŠ½è±¡æ¨¡å‹ä¸­ï¼Œpromoè¡¨è¾¾å¼é€šå¸¸é€šè¿‡defæ¥å®šä¹‰å‡½æ•°ç»™å®šç›®æ ‡å’Œçº¦æŸå£°æ˜ï¼Œè¯¥defä¸ºå‡½æ•°åŠå…¶å‚æ•°å»ºç«‹ä¸€ä¸ªåç§°ï¼Œå½“pyomoä½¿ç”¨å‡½æ•°æ¥è·å–objectiveæˆ–è€…constraintæ—¶å€™ï¼Œæ€»æ˜¯å°†æ¨¡å‹ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°è¾“å…¥å› æ­¤åœ¨pyomoä¸­å£°æ˜æ­¤ç±»å‡½æ•°æ—¶ï¼Œæ¨¡å‹å§‹ç»ˆæ˜¯ç¬¬ä¸€ä¸ªå½¢å¼å‚æ•°ï¼Œå¦‚æœéœ€è¦è¯·éµå¾ªå…¶ä»–å‚æ•°å®šä¹‰çš„è¿‡ç¨‹ä¸­æœ‰ï¼Œå¸¸è§çš„sumå‡½æ•°ï¼Œæ¥è¡¨ç¤ºæ±‚å’Œsummationï¼ˆï¼‰è¡¨ç¤ºä¸¤ä¸ªå‚æ•°åœ¨ä»–ä»¬çš„ç´¢å¼•çš„ä¹˜ç§¯ä¹‹å’Œï¼Œé»˜è®¤æœ€å°åŒ–ï¼Œå¦‚æœå¸Œæœ›æœ€å¤§åŒ–éœ€è¦åŠ å…¥senese=pyo.maximize*///å®šä¹‰ç›®æ ‡å‡½æ•°def obj_experssion(m): return pyo.summation(m.c,m.x)//??è¿™é‡Œåº”è¯¥æ˜¯çŸ©é˜µç›¸ä¹˜model.OBJ=pyo.Objective(rule=obj_experssion)//ï¼Ÿï¼Ÿè¿™é‡Œçš„å‚æ•°è¾“å…¥ä¸ºä»€ä¹ˆæ˜¯ruledef ax_constraint_rule(m, i): # return the expression for the constraint for i return sum(m.a[i,j] * m.x[j] for j in m.J) &gt;= m.b[i]/*ä»æŠ½è±¡æ¨¡å‹ä¸­å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæ¯ä¸ªå€¼è®¾ç½®ä¸€ä¸ªçº¦æŸiä»1åˆ°mä¸ºå‚æ•°åŒ–è¡¨è¾¾å¼iï¼Œæˆ‘ä»¬å°†å®ƒä½œä¸ºå½¢å¼å‚æ•°åŒ…å«åœ¨å£°æ˜çº¦æŸè¡¨è¾¾å¼çš„å‡½æ•°ä¸­ï¼Œä½¿ç”¨pyomo.constraintå‚æ•°å› ä¸ºæˆ‘ä»¬æ¨¡å‹å…·æœ‰è®¸å¤šç›¸åŒå½¢å¼çš„çº¦æŸï¼Œå¹¶ä¸”æˆ‘ä»¬åˆ›å»ºæ¥ä¸€ä¸ªé›†åˆï¼Œmodel.Iè¿™äº›çº¦æŸå¯ä»¥åœ¨å…¶ä¸Šè¢«ç´¢å¼•ï¼Œå› æ­¤è¿™æ˜¯çº¦æŸå£°æ˜çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¸‹ä¸ªå‚æ•°ç»™å‡ºæ¥å°†ç”¨äºç”Ÿæˆçº¦æŸè¡¨è¾¾å¼çš„è§„åˆ™ï¼Œè¿™ä¸ªçº¦æŸå£°æ˜model.Iå°†åˆ›å»ºä¸€ä¸ªç”±é›†åˆç´¢å¼•çš„çº¦æŸåˆ—è¡¨ï¼Œå¹¶ä¸”å¯¹äºæ¯ä¸ªæˆå‘˜model.Iéƒ½ä¼šè°ƒç”¨å‡½æ•°ax-constraint-ruleå¹¶ä¼ é€’ç»™æ¨¡å‹å¯¹è±¡ä»¥åŠæˆå‘˜model.I*/# the next line creates one constraint for each member of the set model.Imodel.AxbConstraint = pyo.Constraint(model.I, rule=ax_constraint_rule) ä¸ºäº†ä½¿ç”¨è¿™ä¸ªæ¨¡å‹ï¼Œå¿…é¡»ç»™å‡ºå‚æ•°å€¼çš„æ•°æ®ï¼Œå¯ä»¥æä¾›æ•°æ®çš„æ–‡ä»¶ï¼Œæ ¼å¼ä¸ºdat 0x03 Pyomo model setting Any= æ‰€æœ‰å¯èƒ½çš„å€¼ Reals= æµ®ç‚¹å€¼ PositiveReals= ä¸¥æ ¼çš„æ­£æµ®ç‚¹å€¼ NonPositiveReals= éæ­£æµ®ç‚¹å€¼ NegativeReals= ä¸¥æ ¼çš„è´Ÿæµ®ç‚¹å€¼ NonNegativeReals= éè´Ÿæµ®ç‚¹å€¼ PercentFraction= åŒºé—´ [0,1] ä¸­çš„æµ®ç‚¹å€¼ UnitInterval= PercentFraction çš„åˆ«å Integers= æ•´æ•°å€¼ PositiveIntegers= æ­£æ•´æ•°å€¼ NonPositiveIntegers= éæ­£æ•´æ•°å€¼ NegativeIntegers= è´Ÿæ•´æ•°å€¼ NonNegativeIntegers= éè´Ÿæ•´æ•°å€¼ Boolean å¸ƒå°”å€¼ï¼Œå¯ä»¥è¡¨ç¤ºä¸º False/Trueã€0/1ã€â€˜Falseâ€™/â€˜Trueâ€™ å’Œ â€˜Fâ€™/â€˜Tâ€™ Binary= æ•´æ•° {0, 1} 3.1 Sets 1234567891011pyo.Set()* dimen,é›†åˆå‚æ•°çš„ç»´åº¦* docï¼Œæè¿°é›†åˆçš„å­—ç¬¦ä¸²* filterï¼Œåœ¨æ„é€ è¿‡ç¨‹ä¸­ä½¿ç”¨å¸ƒå°”å‡½æ•°* initializeï¼ŒåŒ…å«setçš„åˆå§‹æˆå‘˜çš„å¯è¿­ä»£å¯¹è±¡* orderedï¼Œä¸€ä¸ªboolæ¥è¡¨ç¤ºé›†åˆæ˜¯æœ‰åºçš„* validateï¼ŒéªŒè¯æ–°æˆå‘˜æ•°æ®çš„bool* withinï¼Œç”¨äºéªŒè¯çš„é›†åˆpyo.rangeSet()ç”Ÿæˆä¸€ä¸ªã€min,max,stepã€‘ 3.2 Parameters ä½¿ç”¨è¯¥è¯è¡¨ç¤ºå¿…é¡»æä¾›çš„æ•°æ®ï¼Œä»¥ä¾¿ä¸ºå†³ç­–å˜é‡æ‰¾åˆ°æœ€ä½³çš„åˆ†é… 1234567pyo.Param()* default* doc* initialize è¿”å›ç”¨äºåˆå§‹åŒ–å‚æ•°å€¼çš„æ•°æ®å‡½æ•°* mutableï¼Œboolæ¥è®¾ç½®æ˜¯å¦å…è®¸åœ¨paramåˆå§‹åŒ–åæ›´æ”¹å€¼* validateï¼Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ¥å—æ¨¡å‹ã€å»ºè®®å€¼å’Œå»ºè®®å€¼çš„ç´¢å¼•* withinï¼Œç”¨äºéªŒè¯çš„é›†åˆï¼ŒæŒ‡å®šæœ‰æ•ˆå‚æ•°å€¼çš„åŸŸ 3.3 Varibles 1234pyo.Var()* bounds* domain* initialize,ä¸ºå˜é‡æä¾›åˆå§‹å€¼ï¼Œæˆ–è€…æä¾›åˆå§‹ç´¢å¼•å€¼ 3.4 Objectives è¿”å›è¯•å›¾æœ€å¤§åŒ–æˆ–æœ€å°åŒ–å€¼çš„å˜é‡å‡½æ•°ï¼Œå¯ä»¥æ„å»ºä¸€ä¸ªé»˜è®¤å‚æ•°ä½modelçš„å‡½æ•°æ¥ä½œä¸ºè¾“å…¥ 123def ObjRule(model): return 2*model.x[1] + 3*model.x[2]model.obj1 = pyo.Objective(rule=ObjRule) å¯ä»¥ä½¿ç”¨senseå‚æ•°æ¥æœ€å¤§åŒ– 3.5 Constraints å¤§å¤šæ•°çº¦æŸæ˜¯ä½¿ç”¨è§„åˆ™åˆ›å»ºçš„ç­‰å¼æˆ–ä¸ç­‰å¼æŒ‡å®šè¡¨è¾¾çš„ çº¦æŸå¯ä»¥é€šè¿‡åˆ—è¡¨æˆ–é›†åˆæ¥ç´¢å¼•ï¼Œå½“å£°æ˜ä¸­åŒ…å«åˆ—è¡¨æˆ–é›†åˆä½œä¸ºå‚æ•°ï¼Œå…ƒç´ ä¼šè¿­ä»£ä¼ é€’ç»™è§„åˆ™å‡½æ•° 123456model.A = RangeSet(1,10)model.a = Param(model.A, within=PositiveReals)model.ToBuy = Var(model.A)def bud_rule(model, i): return model.a[i]*model.ToBuy[i] &lt;= iaBudget = Constraint(model.A, rule=bud_rule) æ±‚è§£å®ä¾‹ 123456789101112131415161718# å­¦ä¹ promoä¸­å»ºæ¨¡çš„åŸºæœ¬è¿‡ç¨‹# min 2*x+3*y# s.t. 3x+4y&gt;=1# x,y&gt;=0# å°è¯•æ„å»ºæ¨¡å‹ï¼Œæ±‚è§£å¹¶å¾—åˆ°æœ€ç»ˆçš„ç»“æœfrom pyomo.environ import *import pyomo.environ as pyo# å»ºç«‹å®é™…æ¨¡å‹model=ConcreteModel()model.x=Var([1,2],domain=pyo.NonNegativeReals)model.Obj=Objective(expr=2*model.x[1]+3*model.x[2])model.Constraint1=Constraint(expr=3*model.x[1]+4*model.x[2]&gt;=1)opt=pyo.SolverFactory(&#x27;cplex&#x27;)opt.solve(model)print(pyo.value(model.x[1]))print(pyo.value(model.x[2]))","categories":[{"name":"Baseline","slug":"Baseline","permalink":"https://blog.tjdata.site/categories/Baseline/"}],"tags":[{"name":"Pyomo","slug":"Pyomo","permalink":"https://blog.tjdata.site/tags/Pyomo/"}]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•02-å›¾","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•02-å›¾","date":"2022-04-23T09:26:05.000Z","updated":"2023-05-13T13:52:38.812Z","comments":true,"path":"posts/36d150d2.html","link":"","permalink":"https://blog.tjdata.site/posts/36d150d2.html","excerpt":"è¿™é‡Œä¸»è¦å€Ÿé‰´Tsinghuaçš„2020fall&lt;æ•°æ®ç»“æ„ä¸ç®—æ³•&gt;è¿™æœ¬ä¹¦ï¼ŒåŒ…å«å¯¹äºä¸€äº›åŸºæœ¬æ•°æ®ç»“æ„çš„æ¢ç´¢ï¼Œå…ˆä»å®šä¹‰æ¢³ç†ï¼Œåœ¨æ•´ç†é¢˜ç›®ï¼Œä¹‹åæ˜¯å®é™…è®­ç»ƒã€‚ç»“åˆä¹‹å‰åœ¨ç¨‹åºè®¾è®¡æˆ–åµŒå…¥å¼ä¸­å¯¹äºæ•°æ®åœ¨å®é™…å­˜å‚¨çš„ä¾‹å­æ¥å­¦ä¹ å¯èƒ½ä¼šæ›´å¥½ã€‚ä»ä¸­ä¹Ÿèƒ½ä½“æ‚Ÿåˆ°ç®—æ³•ä¸€äº›å«ä¹‰ æœ¬æ¬¡ä¸»è¦å¯¹å›¾ï¼ˆGraphï¼‰çš„åŸºæœ¬çŸ¥è¯†ç‚¹ï¼Œå’Œä¸€äº›å®é™…åº”ç”¨çš„ç®—æ³•è¿›è¡Œæè¿°ï¼Œä½†æ˜¯åœ¨å¦å¤–ä¸€æ–¹é¢ï¼Œå›¾ä¹Ÿä¸ä»…ä»…å­˜åœ¨äºæ•°æ®ç»“æ„ä¸­ï¼Œåœ¨è¿ç­¹å­¦ä¸­å¯¹å›¾ä¹Ÿæœ‰ç›¸å…³çš„æè¿°ï¼Œå› æ­¤å¸Œæœ›åœ¨è¿™é‡Œæ•´åˆä¸¤è€…ä¹‹é—´çš„æ¦‚å¿µï¼Œå¹¶åˆ†åˆ«ä»‹ç»ä¸¤è€…çš„åº”ç”¨ï¼ŒæŒºæœ‰æ„æ€çš„ã€‚","text":"è¿™é‡Œä¸»è¦å€Ÿé‰´Tsinghuaçš„2020fall&lt;æ•°æ®ç»“æ„ä¸ç®—æ³•&gt;è¿™æœ¬ä¹¦ï¼ŒåŒ…å«å¯¹äºä¸€äº›åŸºæœ¬æ•°æ®ç»“æ„çš„æ¢ç´¢ï¼Œå…ˆä»å®šä¹‰æ¢³ç†ï¼Œåœ¨æ•´ç†é¢˜ç›®ï¼Œä¹‹åæ˜¯å®é™…è®­ç»ƒã€‚ç»“åˆä¹‹å‰åœ¨ç¨‹åºè®¾è®¡æˆ–åµŒå…¥å¼ä¸­å¯¹äºæ•°æ®åœ¨å®é™…å­˜å‚¨çš„ä¾‹å­æ¥å­¦ä¹ å¯èƒ½ä¼šæ›´å¥½ã€‚ä»ä¸­ä¹Ÿèƒ½ä½“æ‚Ÿåˆ°ç®—æ³•ä¸€äº›å«ä¹‰ æœ¬æ¬¡ä¸»è¦å¯¹å›¾ï¼ˆGraphï¼‰çš„åŸºæœ¬çŸ¥è¯†ç‚¹ï¼Œå’Œä¸€äº›å®é™…åº”ç”¨çš„ç®—æ³•è¿›è¡Œæè¿°ï¼Œä½†æ˜¯åœ¨å¦å¤–ä¸€æ–¹é¢ï¼Œå›¾ä¹Ÿä¸ä»…ä»…å­˜åœ¨äºæ•°æ®ç»“æ„ä¸­ï¼Œåœ¨è¿ç­¹å­¦ä¸­å¯¹å›¾ä¹Ÿæœ‰ç›¸å…³çš„æè¿°ï¼Œå› æ­¤å¸Œæœ›åœ¨è¿™é‡Œæ•´åˆä¸¤è€…ä¹‹é—´çš„æ¦‚å¿µï¼Œå¹¶åˆ†åˆ«ä»‹ç»ä¸¤è€…çš„åº”ç”¨ï¼ŒæŒºæœ‰æ„æ€çš„ã€‚ 0x01 æ•°æ®ç»“æ„ä¸­çš„ å›¾ Graph ä¾‹å¦‚ä¹‹å‰ä¾‹å­ä¸­çš„è¿·å®«ï¼Œå€ŸåŠ©ç»³ç´¢æŒæ¡è¿·å®«å†…å„é€šé“ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œåœ¨å¾ˆå¤šåº”ç”¨ä¸­æˆ‘ä»¬éœ€è¦å‡†ç¡®æœ‰æ•ˆæè¿°å’Œåˆ©ç”¨è¿™ç±»ä¿¡æ¯ï¼Œè¿™ç±»ä¿¡æ¯å¾€å¾€å¯ä»¥è¡¨è¿°ä¸ºå®šä¹‰ä¸ä¸€ç»„å¯¹è±¡ä¹‹é—´çš„äºŒå…ƒå…³ç³»ï¼Œæ¯”å¦‚åŸå¸‚äº¤é€šå›¾ã€æ¯”å¦‚äº’è”ç½‘ä¸­çš„IPåœ°å€ï¼Œå°½ç®¡ä¸Šä¸€ç« çš„æ ‘ Treeç»“æ„ä¹Ÿå¯ä»¥ç”¨æ¥è¡¨ç¤ºè¿™ç§äºŒå…ƒå…³ç³»ï¼Œä½†æ˜¯ä»…é™ä¸Parent Node å’ŒChild Nodeä¹‹é—´ï¼Œè¿™ç§ä¸€èˆ¬æ€§çš„äºŒå…ƒå…³ç³»å±äºå›¾è®º Graph Theoryçš„èŒƒç•´ æœ¬ç« çš„ä¸»è¦ç›®çš„ ç®€è¦ä»‹ç»å›¾ï¼ˆGraphï¼‰çš„åŸºæœ¬æ¦‚å¿µå’Œæœ¯è¯­ å¦‚ä½•å®ç°ä½œä¸ºæŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADTï¼‰çš„å›¾ç»“æ„ï¼Œä¸»è¦è®¨è®ºé‚»æ¥çŸ©é˜µï¼ˆAdjacent matrixï¼‰ï¼Œå’Œé‚»æ¥è¡¨ï¼ˆAdjacent listï¼‰ä¸¤ç§å®ç°æ–¹å¼ ä»éå†ï¼ˆtraverseï¼‰çš„è§’åº¦ä»‹ç»å°†å›¾ï¼ˆGraphï¼‰è½¬æ¢ä¸ºæ ‘ï¼ˆTreeï¼‰çš„å…¸å‹æ–¹æ³•ï¼ŒåŒ…æ‹¬å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰å’Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰ åˆ†åˆ«ä»¥æ‹“æ‰‘æ’åºå’ŒåŒè¿é€šåŸŸåˆ†è§£ä¸ºä¾‹å­ï¼Œä»‹ç»åˆ©ç”¨åŸºæœ¬æ•°æ®ç»“æ„å¹¶åŸºäºéå†æ¨¡å¼ï¼Œè®¾è®¡å›¾ç®—æ³•çš„ä¸»è¦æ–¹æ³• ï¼ˆæ•°æ®ç»“æ„å†³å®šéå†æ¬¡åºï¼‰çš„è§‚ç‚¹å‡ºå‘ï¼Œå°†éå†ç®—æ³•æ¦‚æ‹¬å¹¶ç»Ÿä¸€ä¸ºæœ€ä½³ä¼˜å…ˆéå†è¿™ä¸€æ¨¡å¼ï¼Œå¦‚æ­¤æ¥æ›´åŠ å‡†ç¡®å’Œæ·±åˆ»ç†è§£ä¸åŒå›¾ç®—æ³•ä¹‹é—´çš„å…±æ€§ä¸è”ç³»ï¼Œæ›´å¯ä»¥å­¦ä¼šé€šè¿‡é€‰æ‹©å’Œæ”¹è¿›æ•°æ®ç»“æ„ï¼Œé«˜æ•ˆè®¾è®¡å¹¶å®ç°å„ç§å›¾ç®—æ³• 1.1 æ¦‚è¿° å›¾ï¼ˆGraphï¼‰å®šä¹‰ä¸ºG=ï¼ˆVï¼ŒEï¼‰ã€‚é›†åˆVä¸­çš„å…ƒç´ ä¸ºé¡¶ç‚¹ï¼ˆVertexï¼‰ï¼Œé›†åˆEä¸­çš„å…ƒç´ åˆ†åˆ«å¯¹åº”äºVæ€»çš„æŸä¸€å¯¹é¡¶ç‚¹ï¼ˆu,vï¼‰ï¼Œè¡¨ç¤ºå®ƒä»¬ä¹‹é—´å­˜åœ¨çš„æŸç§å…³ç³»ï¼Œå› æ­¤å¯ä»¥ç§°ä¸ºè¾¹ï¼ˆEdgeï¼‰ï¼Œä»è®¡ç®—éœ€æ±‚çš„è§’åº¦çº¦å®šéƒ½æ˜¯æœ‰é™é›†ï¼Œè§„æ¨¡åˆ†åˆ«è®°ä¸ºnå’Œe æ— å‘å›¾ï¼ˆundirected graphï¼‰ï¼Œè‹¥è¾¹(u,v)æ‰€å¯¹åº”é¡¶ç‚¹çš„uå’Œvçš„æ¬¡åºæ— æ‰€è°“ï¼Œç§°ä½œæ— å‘è¾¹ï¼ˆundirect edgeï¼‰ï¼› æœ‰å‘å›¾ï¼ˆdirected graphï¼‰ã€‚å¦‚æœä¸å¯¹ç­‰ï¼Œç§°ä¸ºdirected edgeï¼Œå¦‚æœä»uæŒ‡å‘vï¼Œåˆ™å…¶ä¸­uæ˜¯è¯¥è¾¹çš„originæˆ–è€…å°¾é¡¶ç‚¹tailï¼Œvæ˜¯è¯¥è¾¹çš„ç»ˆç‚¹destinationæˆ–å¤´é¡¶ç‚¹head å¦‚æœåŒ…å«æœ‰å‘è¾¹å’Œæ— å‘è¾¹ï¼Œå¯ä»¥ç§°ä¸ºæ··åˆå›¾mixed graph åº¦ï¼ˆDegreeï¼‰ï¼Œå¯¹äºä»»ä½•ä¸€è¾¹e=&lt;u,v&gt;ï¼Œå¯ä»¥ç§°é¡¶ç‚¹uå’Œvå½¼æ­¤é‚»æ¥ï¼ˆadjacentï¼‰ï¼ŒåŒæ—¶ä¸è¾¹eå½¼æ­¤å…³è”ï¼ˆincidentï¼‰ã€‚åœ¨æ— å‘å›¾ä¸­ï¼Œä¸é¡¶ç‚¹vå…³è”çš„è¾¹æ•°ç§°ä¸ºvçš„åº¦æ•°ï¼ˆdegreeï¼‰ï¼Œè®°degï¼ˆvï¼‰ï¼›åœ¨æœ‰å‘å›¾ä¸­ï¼Œå‡ºè¾¹æ€»æ•°ç§°ä¸ºå‡ºåº¦ï¼ˆout-degreeï¼‰ã€å…¥è¾¹æ€»æ•°ç§°ä¸ºï¼ˆin-degreeï¼‰ ç®€å•å›¾ï¼ˆSimple Graphï¼‰ï¼ŒæŒ‡çš„æ˜¯ä¸åŒ…å«ä»»ä½•è‡ªç¯çš„å›¾ï¼ˆSelf-loopï¼‰ï¼Œè‡ªç¯æŒ‡çš„æ˜¯è”æ¥ä¸åŒä¸€é¡¶ç‚¹ä¹‹é—´çš„è¾¹ï¼Œåœ¨æŸäº›åœºæ™¯ä¸­å…·æœ‰ç‰¹å®šæ„ä¹‰ï¼Œä½†åœ¨ç®€å•å›¾ä¸­ä¸è®¨è®ºã€‚ é€šè·¯ï¼ˆpathï¼‰å°±æ˜¯ç”±m+1ä¸ªé¡¶ç‚¹äºmæ¡è¾¹äº¤æ›¿è€Œæˆçš„ä¸€ä¸ªåºåˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äº›è¾¹ä¾æ¬¡é¦–å°¾ç›¸è¿ï¼Œå…¶ä¸­æ²¿é€”çš„è¾¹çš„æ€»æ•°mæ˜¯é€šè·¯çš„é•¿åº¦ã€‚æ³¨æ„é€šè·¯ä¸­çš„è¾¹å¿…é¡»äº’å¼‚ï¼Œä½†æ˜¯é¡¶ç‚¹å¯èƒ½é‡å¤ï¼Œå½“é¡¶ç‚¹éƒ½ä¸ç›¸åŒç§°ä¸ºç®€å•é€šè·¯ï¼ˆSimple pathï¼‰ ç¯è·¯ï¼ˆcycleï¼‰å°±æ˜¯åœ¨é€šè·¯çš„åŸºç¡€ä¸ŠåŠ ä¸Šèµ·æ­¢é¡¶ç‚¹ç›¸åŒï¼Œå¯¹äºä¸åŒ…å«ä»»ä½•ç¯è·¯çš„æœ‰å‘å›¾ç§°ä¸ºæœ‰å‘æ— ç¯å›¾ï¼ˆdirected acrylic graphï¼ŒDAGï¼‰ï¼Œå¦‚æœç¯è·¯ä¸­é™¤äº†èµ·ç‚¹å’Œç»ˆç‚¹çš„é¡¶ç‚¹ç›¸åŒï¼Œå…¶ä»–éƒ½æ˜¯ä¸€æ ·çš„ç§°ä¸ºç®€å•ç¯è·¯ï¼ˆSimple cycleï¼‰ã€‚ä¸€äº›ç‰¹æ®Šçš„ç¯è·¯ï¼Œæ¬§æ‹‰ç¯è·¯ï¼ˆEulerian tourï¼‰æ˜¯å›¾ä¸­å„è¾¹ä¸€æ¬¡ä¸”æ°å¥½ä¸€æ¬¡çš„ç¯è·¯ï¼›å¯¹å¶çš„ï¼Œå“ˆå¯†å°”é¡¿ç¯è·¯ï¼ˆHamiltonian tourï¼‰æ˜¯ç»è¿‡å›¾ä¸­å„é¡¶ç‚¹ä¸€æ¬¡ä¸”æ°å¥½ä¸€æ¬¡çš„ç¯è·¯ å¸¦æƒç½‘ç»œï¼ˆweighted networkï¼ŒGï¼ˆVï¼ŒEï¼Œwtï¼ˆï¼‰ï¼‰ï¼‰éœ€è¦é€šè¿‡ä¸€ä¸ªæƒå€¼å‡½æ•°ï¼Œä¸ºæ¯ä¸€è¾¹eæŒ‡å®šä¸€ä¸ªæƒé‡weightï¼Œwtï¼ˆeï¼‰æŒ‡å®šè¾¹eçš„æƒé‡ å¤æ‚åº¦ï¼ˆcomplexityï¼‰ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­nå„é¡¶ç‚¹ï¼Œæœ€å¤šæœ‰e=Oï¼ˆn^2)æ¥è¿›è¡Œæè¿° 1.2 æŠ½è±¡æ•°æ®ç±»å‹çš„å®ç° ä¹Ÿå°±æ˜¯å›¾ï¼ˆGraphï¼‰æ“ä½œçš„ä¸€äº›æ–¹æ³•ï¼Œä¸€èˆ¬å¸¸è§çš„å®é™…æ–¹æ³•ï¼Œå…·ä½“å®ç°è¿‡ç¨‹ç•¥è¿‡ï¼ˆçœ‹ä¸æ‡‚ï¼Œæš‚æ—¶è§‰å¾—æ²¡å¿…è¦ï¼‰ 1.3 é‚»æ¥çŸ©é˜µ Adjacent matrix é‚»æ¥çŸ©é˜µæ˜¯å›¾ï¼ˆGraphï¼‰çš„ADTï¼ˆAbstract Data Typeï¼‰ï¼Œä½¿ç”¨æ–¹é˜µA[n][n] è¡¨ç¤ºç”±né¡¶ç‚¹æ„æˆçš„å›¾ï¼Œå…¶ä¸­çš„æ¯ä¸ªå•å…ƒè´Ÿè´£æè¿°é¡¶ç‚¹ä¹‹é—´å¯èƒ½å­˜åœ¨çš„é‚»æ¥ï¼ˆAdjacentï¼‰å…³ç³» å¯¹äºæ— æƒå›¾ï¼Œå­˜åœ¨å’Œä¸å­˜åœ¨ä½¿ç”¨0-1æ¥è¡¨ç¤º å¯¹äºå¸¦æƒç½‘ç»œï¼Œæ­¤æ—¶å¯ä»¥å°†çŸ©é˜µä¸­å„å•å…ƒä»boolè½¬æ¢ä¸ºintæˆ–è€…floatç±»å‹ï¼Œå¯¹äºä¸å­˜åœ¨çš„è¾¹ä½¿ç”¨0æˆ–è€…âˆæ¥ä»£æ›¿ ä»£ç å®ç°è¿‡ç¨‹ç•¥è¿‡ 1.3.1 æ—¶é—´æ€§èƒ½ å„é¡¶ç‚¹ç¼–å·å¯ä»¥ç›´æ¥è½¬æ¢ä¸ºå…¶Adjacent matrixä¸­å¯¹åº”çš„Rankï¼Œä»è€Œä½¿å¾—ADTä¸­æ‰€æœ‰çš„é™æ€æ“ä½œæ¥å£çš„æ—¶é—´åªéœ€è¦Oï¼ˆ1ï¼‰æ—¶é—´ å¦å¤–è¾¹çš„é™æ€å’ŒåŠ¨æ€æ“ä½œåªéœ€è¦Oï¼ˆ1ï¼‰çš„æ—¶é—´ï¼Œä»£ä»·æ˜¯Adjacent matrixçš„ç©ºé—´å†—ä½™ ä½†æ˜¯è¿™ç§æ–¹æ³•å¹¶éå®Œç¾æ— ç¼ºï¼Œä¸è¶³ç‚¹åœ¨äºé¡¶ç‚¹çš„åŠ¨æ€æ“ä½œæ¥å£ååˆ†è€—è´¹æ—¶é—´ï¼Œä¸ºæ¥æ’å…¥æ–°çš„é¡¶ç‚¹ï¼ŒV[]ä¸­éœ€è¦æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼ŒåŒæ—¶è¾¹é›†å‘é‡E[][]ä¹Ÿéœ€è¦å¢åŠ ä¸€è¡Œï¼Œä¸”æ¯è¡Œéƒ½éœ€è¦æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œé¡¶ç‚¹çš„åˆ é™¤æ“ä½œä¹Ÿæ˜¯ç±»ä¼¼ï¼›åœ¨é€šå¸¸çš„ç®—æ³•ä¸­é¡¶ç‚¹çš„åŠ¨æ€æ“ä½œè¿œå°‘äºå…¶ä»–æ“ä½œï¼Œè€Œä¸”è®¡å…¥å‘é‡æ‰©å®¹çš„ä»£ä»·ï¼Œå•æ¬¡æ“ä½œçš„è€—æ—¶ä¸è¿‡Oï¼ˆnï¼‰ 1.3.2 ç©ºé—´æ€§èƒ½ å¯¹äºæ— å‘å›¾è€Œè¨€ï¼Œé‚»æ¥çŸ©é˜µå¿…é¡»ä¸ºå¯¹ç§°é˜µï¼Œå…¶ä¸­é™¤è‡ªç¯ä»¥å¤–çš„æ¯æ¡è¾¹éƒ½è¢«é‡å¤å­˜æ”¾æ¥ä¸¤æ¬¡ï¼Œå› æ­¤æœ‰ä¸€åŠçš„å•å…ƒéƒ½æ˜¯å†—ä½™çš„ï¼Œä¹Ÿå°±æ˜¯Oï¼ˆn^2ï¼‰ 1.4 é‚»æ¥è¡¨ï¼ˆadjacent listï¼‰ åœ¨ä¸Šè¿°é‚»æ¥çŸ©é˜µï¼ˆAdjacent matrixï¼‰çš„ç©ºé—´è§£é‡Šä¸­å¯ä»¥çœ‹å‡ºå…¶ç©ºé—´çš„ä»å­˜åœ¨æ”¹è¿›çš„ä½™åœ°ï¼Œåœ¨å®é™…åº”ç”¨ä¸­å¤„ç†çš„å›¾æ‰€å«æœ‰çš„è¾¹é€šå¸¸è¿œè¿œå°‘äºOï¼ˆn^2)ï¼Œæ¯”å¦‚åœ¨å¹³é¢å›¾ä¹‹ç±»çš„ç¨€ç–å›¾ï¼ˆsparse graphï¼‰ä¸­ï¼Œè¾¹æ•°æ¸è¿›ä¸è¶…è¿‡Oï¼ˆnï¼‰ï¼Œä»…ä»…ä¸é¡¶ç‚¹æ€»æ•°å¤§è‡´ç›¸å½“ ä¸ºäº†å®Œå–„è¿™ç§é™æ€ç©ºé—´ç®¡ç†ç­–ç•¥æ‰€å¯¼è‡´çš„é—®é¢˜ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨å›¾ç»“æ„çš„å¦å¤–ä¸€ç§è¡¨ç¤ºä¸å®ç°æ–¹å¼ï¼Œå¯ä»¥å°†é‚»æ¥çŸ©é˜µè½¬æ¢ç§°é‚»æ¥è¡¨çš„æ–¹å¼ï¼Œåˆ†åˆ«è®°å½•æ¯ä¸ªé¡¶ç‚¹çš„å…³è”è¾¹ï¼ˆæˆ–è€…ç­‰ä»·çš„é‚»æ¥é¡¶ç‚¹ï¼‰æ¥æ„æˆé‚»æ¥è¡¨ï¼ˆadjacent listï¼‰ 1.4.1 æ—¶é—´å¤æ‚åº¦åˆ†æ å¤æ‚åº¦åˆ†æï¼Œadjacent listä¸­çš„åˆ—è¡¨ç­‰äºé¡¶ç‚¹æ€»æ•°Nï¼Œæ¯æ¡è¾¹åœ¨å…¶ä¸­ä»…å­˜æ”¾ä¸€æ¬¡ï¼ˆfor direct graphï¼‰æˆ–è€…ä¸¤æ¬¡ï¼ˆfor undirected graphï¼‰ï¼Œå› æ­¤ç©ºé—´æ€»é‡ä¸ºO(n+e),ä¸å›¾è‡ªèº«çš„è§„æ¨¡ç›¸å½“ï¼Œç›¸æ¯”è¾ƒadjacent matrixæœ‰å¾ˆå¤§çš„æ”¹è¿› åœ¨ç©ºé—´æ€§èƒ½çš„æ”¹è¿›ï¼Œç›¸å¯¹åº”çš„æ˜¯æ—¶é—´æ€§èƒ½çš„é™ä½ä¸ºä»£ä»·ï¼Œæ¯”å¦‚åˆ¤æ–­é¡¶ç‚¹vä¸é¡¶ç‚¹uçš„è¾¹æ˜¯å¦å­˜åœ¨ï¼Œéœ€è¦O(n)æ—¶é—´ ä¸é¡¶ç‚¹ç›¸å…³çš„åŠ¨æ€æ“ä½œï¼Œé¡¶ç‚¹çš„æ’å…¥æ“ä½œå¯ä»¥åœ¨Oï¼ˆ1ï¼‰çš„æ—¶é—´å†…å®Œæˆï¼Œé¡¶ç‚¹çš„åˆ é™¤æ“ä½œéœ€è¦éå†æ‰€æœ‰çš„adjacent listï¼Œéœ€è¦Oï¼ˆeï¼‰æ—¶é—´ 1.4.2 ç©ºé—´å¤æ‚åº¦åˆ†æ adjacent liståœ¨è®¿é—®å•æ¡è¾¹çš„æ•ˆç‡å¹¶ä¸ç®—é«˜ï¼Œä½†æ˜¯é€‚åˆç”¨å¾ªç¯çš„é¢æ–¹å¼ï¼Œå¤„ç†åŒä¸€é¡¶ç‚¹çš„æ‰€æœ‰å…³è”è¾¹æ¯”å¦‚ä¸ºäº†æšä¸¾ä»é¡¶ç‚¹vå‡ºå‘çš„æ‰€æœ‰è¾¹ï¼Œä»…éœ€è¦theta(1+outdegreee(v))è€Œä¸æ˜¯theta(n)çš„æ—¶é—´ 1.5 å›¾ï¼ˆGraphï¼‰éå†ç®—æ³•æ¦‚è¿°â€“BFSå’ŒDFS å›¾ç®—æ³•ä¸­å¤§éƒ¨åˆ†æˆå‘˜çš„ä¸»ä½“æ¡†æ¶éƒ½å½’ç»“äºå›¾çš„éå†ï¼Œä¸æ ‘çš„éå†ç›¸ä¼¼ï¼Œå›¾çš„éå†éœ€è¦è®¿é—®æ‰€æœ‰é¡¶ç‚¹ä¸€æ¬¡ä¸”ä»…æœ‰ä¸€æ¬¡ï¼Œæ­¤å¤–å›¾éå†åŒæ—¶è¿˜éœ€è¦è®¿é—®æ‰€æœ‰çš„è¾¹ä¸€æ¬¡ä¸”ä»…ä¸€æ¬¡ åŒæ—¶æ— è®ºé‡‡ç”¨ä½•ç§ç­–ç•¥å’Œç®—æ³•ï¼Œå›¾éå†éƒ½å¯ä»¥ç†è§£ä¸ºå°†éçº¿æ€§ç»“è½¬åŒ–ä¸ºåŠçº¿æ€§ç»“æ„çš„è¿‡ç¨‹ï¼Œç»éå†è€Œç¡®å®šçš„è¾¹ç±»å‹ä¸­ï¼Œæœ€é‡è¦çš„ä¸€ç±»å°±æ˜¯æ‰€è°“çš„æ ‘è¾¹ï¼Œå®ƒä»¬ä¸æ‰€æœ‰é¡¶ç‚¹å…±åŒæ„æˆæ¥åŸå›¾çš„ä¸€é¢—æ”¯æ’‘æ ‘ï¼Œç§°ä¸ºéå†æ ‘traversal tree å›¾ä¸­é¡¶ç‚¹ä¹‹é—´å¯èƒ½å­˜åœ¨å¤šæ¡é€šè·¯ï¼Œä¸ºæ¥é¿å…å¯¹é¡¶ç‚¹é‡å¤è®¿é—®ï¼Œåœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œé€šå¸¸è¿˜éœ€è¦åŠ¨æ€è®¾ç½®ä¸åŒé¡¶ç‚¹çš„çŠ¶æ€ï¼Œå¹¶éšç€éå†çš„è¿›ç¨‹ä¸æ–­è½¬æ¢çŠ¶æ€ï¼Œç›´è‡³æœ€åçš„â€œè®¿é—®å®Œæ¯•â€ï¼Œå›¾çš„éå†æ›´åŠ å¼ºè°ƒå¯¹å¤„äºç‰¹å®šçŠ¶æ€é¡¶ç‚¹çš„ç”„åˆ«ä¸æŸ¥æ‰¾ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºå›¾æœç´¢ï¼ˆGraph searchï¼‰ æ·±åº¦ä¼˜å…ˆæœç´¢ã€å¹¿åº¦ä¼˜å…ˆæœç´¢ã€æœ€ä½³ä¼˜å…ˆç­‰åŸºæœ¬è€Œå…¸å‹çš„å›¾æœç´¢ï¼Œéƒ½å¯ä»¥åœ¨çº¿æ€§æ—¶é—´å†…å®Œæˆï¼Œä¹Ÿå°±ç¡è¿™äº›ç®—æ³•ä»…éœ€è¦Oï¼ˆn+eï¼‰çš„æ—¶é—´æ¥è®¿é—®æ‰€æœ‰çš„é¡¶ç‚¹å’Œè¾¹ å„ç§å›¾æœç´¢ä¹‹é—´çš„åŒºåˆ«ä½“ç°åœ¨è¾¹åˆ†ç±»ç»“æœçš„ä¸åŒï¼Œä»¥åŠæ‰€å¾—éå†æ ‘çš„ç»“æ„å·®å¼‚ï¼Œå…¶å†³å®šå› ç´ åœ¨äºæœç´¢è¿‡ç¨‹çš„æ¯ä¸€æ­¥è¿­ä»£ï¼Œå°†ä¾ç…§ä½•ç§ç­–ç•¥æ¥é€‰å–ä¸‹ä¸€æ¥å—è®¿é—®çš„é¡¶ç‚¹ 1.5.1 å¹¿åº¦ä¼˜å…ˆæœç´¢ breadth-first-search BFS è¶Šæ—©è¢«è®¿é—®åˆ°çš„é¡¶ç‚¹ï¼Œå…¶é‚»å±…è¢«ä¼˜å…ˆé€‰ç”¨ æœç´¢çš„è¿‡ç¨‹ï¼šåå¤ä»å‰æ²¿é›†ï¼ˆfrontierï¼‰ä¸­æ‰¾åˆ°æœ€æ—©è¢«è®¿é—®åˆ°é¡¶ç‚¹vï¼Œè‹¥å…¶é‚»å±…å‡å·²è®¿é—®åˆ°ï¼Œåˆ™å°†å…¶é€å‡ºå‰æ²¿é›†ï¼Œå¦åˆ™éšæ„é€‰å‡ºä¸€ä¸ªå°šæœªè®¿é—®åˆ°çš„é‚»å±…ï¼Œå¹¶å°†å…¶åŠ å…¥åˆ°å‰æ²¿é›†ï¼ˆfrontierï¼‰ ç”±äºæ¯ä¸€æ­¥è¿­ä»£éƒ½æœ‰ä¸€ä¸ªé¡¶ç‚¹è¢«è®¿é—®ï¼Œå› æ­¤æœ€å¤šè¿­ä»£Oï¼ˆnï¼‰ï¼Œå¦ä¸€æ–¹é¢å› ä¸ºä¸ä¼šæ³„æ¼æ¯ä¸ªåˆšè¢«è®¿é—®é¡¶ç‚¹çš„ä»»ä½•é‚»å±…ï¼Œå› æ­¤å¯¹åº”æ— å‘å›¾ï¼ˆundirected graphï¼‰å¿…èƒ½è¦†ç›–sæ‰€å±çš„è¿é€šåˆ†é‡ï¼ˆconnected componentï¼‰ï¼Œå¯¹äºæœ‰å‘å›¾å¿…èƒ½è¦†ç›–ä»¥sä¸ºèµ·ç‚¹çš„å¯è¾¾åˆ†é‡ï¼ˆreachable componentï¼‰ 123456789101112131415161718192021222324252627282930// å›¾çš„å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•void Graph::bfs(int s)&#123; //assert 0,nreset();int clock=0;int v=s; //åˆå§‹åŒ–do if (UNDISCOVERED == status(v))// ä¸€æ—¦é‡åˆ°å°šæœªå‘ç°çš„é¡¶ç‚¹ BFS(v,clock);while (s !=(v=(++v %n))// æŒ‰ç…§åºå·æ£€æŸ¥void Graph::BFS(int v, int&amp; clock)&#123; Queue Q;//è¾…åŠ©é˜Ÿåˆ— status(V)=DISCOVERED; Q.enqueue(v);//åˆå§‹åŒ–èµ·ç‚¹ while(!Q.empty())&#123; int v=Q.dequeue(); dTime(v)=++clock;//å–å‡ºé˜Ÿé¦–é¡¶ç‚¹v for(u=firstNbr(v);-1&lt;u;u=nextNbr(v,u)) if(status(u)==UNDISCOVERED)&#123; status(u)=DSICOVERED; Q.enqueue(u);//å‘ç°é¡¶ç‚¹ type(v,u)=TREE; parent(u)=v; &#125;else type(v,u)=CROSS; &#125; status(v)=VISITED&#125;&#125; 1.5.2 æ·±åº¦ä¼˜å…ˆæœç´¢ depth-first-searchï¼ŒDFS ä¼˜å…ˆé€‰å–æœ€åä¸€ä¸ªè¢«è®¿é—®åˆ°çš„é¡¶ç‚¹çš„é‚»å±… ä»¥é¡¶ç‚¹sä¸ºåŸºç‚¹çš„DFSæœç´¢ï¼Œé¦–å…ˆè®¿é—®é¡¶ç‚¹sï¼Œå†ä»sæ‰€æœ‰å°šæœªè®¿é—®åˆ°çš„é‚»å±…ä¸­ä»»å–å…¶ä¸€ï¼Œå¹¶ä»¥ä¹‹ä¸ºåŸºç‚¹ï¼Œé€’å½’åœ°æ‰§è¡ŒDFSæœç´¢ï¼Œæ•…å„é¡¶ç‚¹è¢«è®¿é—®åˆ°çš„æ¬¡åºï¼Œç±»ä¼¼ä¸æ ‘çš„å…ˆåºéå†ï¼Œè€Œå„é¡¶ç‚¹è¢«è®¿é—®å®Œæ¯•çš„æ¬¡åºï¼Œåˆ™ç±»ä¼¼äºæ ‘çš„ååºéå† 0x02 äº¤é€šè¿ç­¹å­¦ä¸­çš„å›¾ 2.1 äº¤é€šä¸­å›¾çš„ä¾‹å­ è½¨é“äº¤é€šä¸­çš„å›¾ 18ä¸–çºªå“¥å°¼æ–¯å ¡åŸçš„ï¼Œæ™®é›·æ ¼å°”çš„ä¸¤å²¸å’Œæ²³ä¸­ä¸¤ä¸ªå²›ä¹‹å‰æœ‰ä¸ƒåº§æ¡¥ ç»å…¸çš„æ”¶å‘é—®é¢˜ 2.2 åŸºæœ¬æ¦‚å¿µâ€“æ— å‘å›¾G æ— å‘å›¾ï¼Œè®¾ V æ˜¯ä¸€ä¸ªæœ‰né¡¶ç‚¹çš„éç©ºé›†åˆï¼šV={v1ï¼Œv2ï¼Œv3ï¼Œâ€¦ï¼Œvn}ï¼›Eæ˜¯ä¸€ä¸ªæœ‰mæ¡æ— å‘è¾¹çš„é›†åˆï¼šE={e1ï¼Œe2ï¼Œâ€¦ï¼Œem}ï¼Œåˆ™ç§°Vå’ŒEè¿™ä¸¤ä¸ªé›†åˆç»„åˆä¸€ä¸ªæ— å‘å›¾ï¼Œè®°åšG=ï¼ˆVï¼ŒEï¼‰ åŸºäºæ— å‘å›¾çš„Gçš„ç»“æ„ç‰¹ç‚¹ï¼Œç»™å‡ºä¸‹åˆ—æœ¯è¯­ å¹³è¡Œè¾¹ï¼Œå¦‚æœä¸¤æ¡ä¸åŒçš„è¾¹å…·æœ‰ç›¸åŒçš„ç«¯ç‚¹ï¼Œç§°ä¸ºeå’Œeâ€˜æ˜¯Gçš„å¹³è¡Œè¾¹ ç®€å•å›¾ï¼Œå¦‚æœå›¾Gä¸­æ²¡æœ‰å¹³è¡Œè¾¹åˆ™ä¸ºç®€å•å›¾ï¼ˆï¼ï¼æœ‰ç‚¹ä¸ä¸€æ ·ï¼‰ å®Œå¤‡å›¾ï¼Œè‹¥å›¾Gä¸­ä»»ä½•ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´æ°å¥½æœ‰ä¸€æ¡è¾¹ç›¸å…³è”ï¼Œåˆ™ç§°å›¾Gæ˜¯å®Œå¤‡å›¾ å­å›¾ï¼ŒG1=ï¼ˆV1ï¼ŒE1ï¼‰å¹¶ä¸”V1å±äºVã€E1å±äºE ç”Ÿæˆå­å›¾ï¼ŒG1æ˜¯Gçš„å­å›¾ï¼Œå¹¶ä¸”V1=Vï¼Œåˆ™ç§°G1æ˜¯Gçš„ç”Ÿæˆå­å›¾ å¯¼å‡ºå­å›¾ï¼Œè‹¥éç©ºE1å±äºEï¼Œåˆ™E1åŠåŒ…å«çš„é¡¶ç‚¹æ—¶Gçš„å¯¼å‡ºå­å›¾ é“¾ï¼Œæ— å‘å›¾ä¸­ä¸€ä¸ªç”±é¡¶ç‚¹å’Œè¾¹äº¤æ›¿è€Œæˆçš„éç©ºæœ‰é™åºåˆ—ï¼ŒQ=v0e0v1e1v2ï¼Œå¦‚æœèµ·å§‹ç‚¹ç›¸åŒæ˜¯é—­é“¾ï¼Œä¸æƒ³ç­‰ä½å¼€é“¾ åˆç­‰é“¾ï¼Œè‹¥å¼€é“¾Qä¸­è¯¸é¡¶ç‚¹éƒ½ä¸ç›¸åŒï¼Œåˆ™ç§°Qä¸ºä¸€æ¡åˆç­‰é“¾ å›è·¯ï¼Œè‹¥ä¸€ä¸ªé—­é“¾é™¤é“¾ç¬¬ä¸€ä¸ªé¡¶ç‚¹å’Œæœ€åä¸€ä¸ªé¡¶ç‚¹ç›¸åŒä¹‹å¤–ï¼Œæ²¡æœ‰å…¶ä»–ç›¸åŒçš„é¡¶ç‚¹å’Œç›¸åŒçš„è¾¹åˆ™ç§°ä¸ºå›è·¯ è¿é€šå›¾ï¼Œè‹¥å›¾Gä¸­ä»»æ„ä¸¤é¡¶ç‚¹uå’Œvä¹‹é—´å­˜åœ¨ä¸€æ¡é“¾ï¼Œåˆ™ç§°ä¸ºå›¾Gä¸ºè¿é€šå›¾ã€‚ å¦åˆ™è¢«ç§°ä¸ºåˆ†ç¦»å›¾ å‰²è¾¹ï¼Œè‹¥Gä¸ºè¿é€šå›¾ï¼Œå°†Gä¸­è¾¹eå–èµ°åæ‰€å¾—å›¾ä¸ºåˆ†ç¦»å›¾ï¼Œåˆ™ç§°eä¸ºå›¾Gçš„å‰²è¾¹ 2.3 åŸºæœ¬æ¦‚å¿µâ€“æœ‰å‘å›¾D æœ‰å‘å›¾ï¼Œè®¾ V æ˜¯ä¸€ä¸ªæœ‰né¡¶ç‚¹çš„éç©ºé›†åˆï¼šV={v1ï¼Œv2ï¼Œv3ï¼Œâ€¦ï¼Œvn}ï¼›Eæ˜¯ä¸€ä¸ªæœ‰mæ¡æœ‰å‘è¾¹çš„é›†åˆï¼šE={e1ï¼Œe2ï¼Œâ€¦ï¼Œem}ï¼Œåˆ™ç§°Vå’ŒEè¿™ä¸¤ä¸ªé›†åˆç»„åˆä¸€ä¸ªæœ‰å‘å›¾ï¼Œè®°åšD=ï¼ˆVï¼ŒEï¼‰ ç±»ä¼¼çš„æœ‰å‘å›¾Dä¹Ÿæœ‰æœ¯è¯­ å¹³è¡Œè¾¹ï¼Œä¸åŒæœ‰å‘è¾¹çš„eä¸eâ€˜çš„èµ·ç‚¹ä¸ç»ˆç‚¹ç›¸åŒ å­¤ç«‹ç‚¹ï¼ŒVä¸­ä¸ä¸Eä»»ä¸€æ¡è¾¹å…³è”çš„ç‚¹ç§°ä¸ºDçš„å­¤ç«‹ç‚¹ ç®€å•å›¾ï¼Œæ— å¹³è¡Œè¾¹çš„ç§°ä¸ºç®€å•å›¾ å®Œå¤‡å›¾ï¼Œå›¾ä¸­ä»»ä½•ä¸¤ä¸ªé¡¶ç‚¹ï¼Œå­˜åœ¨æœ‰å‘è¾¹ï¼ˆuï¼Œvï¼‰å’Œï¼ˆvï¼Œuï¼‰ï¼Œåˆ™è¯¥æœ‰å‘å›¾Dä¸ºå®Œå¤‡å›¾ åŸºæœ¬å›¾ï¼Œå°†æœ‰å‘å›¾Dçš„æ¯æ¡è¾¹é™¤å®šå‘å°±å¾—åˆ°ä¸€ä¸ªç›¸åº”çš„æ— å‘å›¾Gï¼Œåˆ™Gä½Dçš„åŸºæœ¬å›¾ å­å›¾ï¼ŒåŒä¸Š å¯¼å‡ºå­å›¾ï¼ŒåŒä¸Š å¯¼å‡ºç”Ÿæˆå­å›¾ï¼ŒåŒä¸Š åŒæ„å›¾ï¼Œå¦‚ä¸‹å›¾ï¼Œé¡¶ç‚¹å’Œè¾¹æ˜¯ç›¸ç­‰çš„ï¼Œç”±äºåŒæ„å›¾è¢«è®¤ä¸ºæ˜¯ç›¸åŒçš„ï¼Œè¿™å°±ç»™æˆ‘ä»¬åœ¨ç½‘ç»œè§„åˆ’ä¸­å»ºç«‹ç½‘ç»œæ¨¡å‹å¸¦æ¥è®¸å¤šæ–¹ä¾¿ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨å‡ ä½•å›¾æ¥æ„å»ºç½‘ç»œæ¨¡å‹æ—¶ï¼Œç‚¹çš„ä½ç½®å¯ä»¥ä»»æ„å¸ƒç½®ã€‚è¾¹çš„é•¿çŸ­æ›²ç›´å¯ä»¥ä»»æ„ï¼Œå› æ­¤éœ€è¦å°½é‡è®¾è®¡è¿™ç§ååº”é—®é¢˜æ¸…æ™°ã€ç®€ç»ƒçš„å‡ ä½•å›¾ é“¾ï¼Œè‹¥Qæ˜¯æœ‰å‘å›¾Dçš„åŸºæœ¬å›¾Gä¸­çš„ä¸€æ¡é“¾ï¼Œåˆ™Qä¸ºDçš„ä¸€æ¡é“¾ åˆç­‰é“¾ï¼Œè‹¥Qæ˜¯æœ‰å‘å›¾Dçš„åŸºæœ¬å›¾Gçš„ä¸€æ¡åˆç­‰é“¾ï¼Œåˆ™Qè¢«ç§°ä¸ºDçš„ä¸€æ¡åˆç­‰é“¾ è·¯ï¼Œè‹¥Qæ˜¯æœ‰å‘å›¾Dçš„åŸºæœ¬å›¾Gä¸­ä¸€æ¡é“¾ è·¯å¾„ å›è·¯ï¼Œç¬¬ä¸€ä¸ªé¡¶ç‚¹å’Œæœ€åä¸€ä¸ªé¡¶ç‚¹ç›¸åŒ 2.4 åŸºæœ¬æ¦‚å¿µâ€“çŸ©é˜µè¡¨ç¤º å…³è”çŸ©é˜µï¼Œè¡Œè¡¨ç¤ºé¡¶ç‚¹ï¼Œåˆ—è¡¨ç¤ºè¾¹ï¼Œä½¿ç”¨1è¡¨ç¤ºæ˜¯å¦é“¾æ¥ é‚»æ¥çŸ©é˜µï¼Œè¡Œè¡¨ç¤ºé¡¶ç‚¹ï¼Œåˆ—è¡¨ç¤ºé¡¶ç‚¹ï¼Œä½¿ç”¨æ•°ç›®è¡¨ç¤ºä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´çš„é“¾æ¥æ•°é‡ 2.5 æ ‘ ä¸åšèµ˜è¿° 0x03 æ•°æ®ç»“æ„ä¸­å›¾çš„åº”ç”¨ 3.1 æ‹“æ‰‘æ’åºï¼ˆtopological sortingï¼‰ ä»¥æ•™æçš„ç¼–å†™å®é™…é—®é¢˜ä¸ºä¾‹å­ï¼Œä½œè€…å¯ä»¥å€ŸåŠ©æœ‰å‘å›¾çš„ç»“æ„æ•´ç†å‡ºç›¸å…³çŸ¥è¯†ç‚¹ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå› å‘é‡æ˜¯æ•£åˆ—è¡¨å’ŒæŸ¥æ‰¾è¡¨çš„åŸºç¡€çŸ¥è¯†ç‚¹ï¼Œç­‰ç­‰å¾—åˆ°ä¸€ä»½æœ‰å‘å›¾ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šå¦‚ä½•å°†è¿™ä¸ªæœ‰å‘å›¾ï¼ˆundirected graphï¼‰æ¥å¾—åˆ°å…·æœ‰å‰ç«¯çš„é¡ºåºçš„é¢æ‹“æ‰‘æ’åºï¼ˆtopological sortingï¼‰ ç›¸å®¹ï¼šæ¯ä¸€ä¸ªé¡¶ç‚¹éƒ½ä¸ä¼šé€šè¿‡è¾¹ï¼ŒæŒ‡å‘å…¶åœ¨æ­¤åºåˆ—ä¸­çš„å‰é©±é¡¶ç‚¹ï¼Œè¿™æ ·çš„ä¸€ä¸ªçº¿æ€§åºåˆ—ï¼Œç§°ä½œåŸå›¾çš„æ‹“æ‰‘åºåˆ— é’ˆå¯¹æœ‰å‘æ— ç¯å›¾ï¼ˆdirected noloop graphï¼‰ï¼Œé—®é¢˜åœ¨äºtopological sortingæ˜¯å¦å¿…ç„¶å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨æ˜¯å¦å”¯ä¸€ï¼Ÿ åŒç†ï¼Œæœ‰é™ååºé›†ä¸­ä¹Ÿå¿…ç„¶å­˜åœ¨æå°å…ƒç´ ï¼ˆåŒæ ·ï¼Œæœªå¿…å”¯ä¸€ï¼‰ã€‚è¯¥å…ƒç´ ä½œä¸ºé¡¶ç‚¹ï¼Œå‡ºåº¦å¿…ç„¶ ä¸ºé›¶ï‚¾ï‚¾æ¯”å¦‚å›¾6.10(b)ä¸­çš„é¡¶ç‚¹Då’ŒFã€‚è€Œåœ¨å¯¹æœ‰å‘æ— ç¯å›¾çš„DFSæœç´¢ä¸­ï¼Œé¦–å…ˆå› è®¿é—®å®Œæˆè€Œè½¬ æ¢è‡³VISITEDçŠ¶æ€çš„é¡¶ç‚¹mï¼Œä¹Ÿå¿…ç„¶å…·æœ‰è¿™ä¸€æ€§è´¨ï¼›åä¹‹äº¦ç„¶ã€‚ 166 è¿›ä¸€æ­¥åœ°ï¼Œæ ¹æ®DFSæœç´¢çš„ç‰¹æ€§ï¼Œé¡¶ç‚¹mï¼ˆåŠå…¶å…³è”è¾¹ï¼‰å¯¹æ­¤åçš„æœç´¢è¿‡ç¨‹å°†ä¸èµ·ä»»ä½•ä½œç”¨ã€‚ äºæ˜¯ï¼Œä¸‹ä¸€è½¬æ¢è‡³VISITEDçŠ¶æ€çš„é¡¶ç‚¹å¯ç­‰æ•ˆåœ°ç†è§£ä¸ºæ˜¯ï¼Œä»å›¾ä¸­å‰”é™¤é¡¶ç‚¹mï¼ˆåŠå…¶å…³è”è¾¹ï¼‰ä¹‹ åçš„å‡ºåº¦ä¸ºé›¶è€…ï‚¾ï‚¾åœ¨æ‹“æ‰‘æ’åºä¸­ï¼Œè¯¥é¡¶ç‚¹åº”ä¸ºé¡¶ç‚¹mçš„å‰é©±ã€‚ç”±æ­¤å¯è§ï¼ŒDFSæœç´¢è¿‡ç¨‹ä¸­å„é¡¶ ç‚¹è¢«æ ‡è®°ä¸ºVISITEDçš„æ¬¡åºï¼Œæ°å¥½ï¼ˆæŒ‰é€†åºï¼‰ç»™å‡ºäº†åŸå›¾çš„ä¸€ä¸ªæ‹“æ‰‘æ’åºã€‚ æ­¤å¤–ï¼ŒDFSæœç´¢å–„äºæ£€æµ‹ç¯è·¯çš„ç‰¹æ€§ï¼Œæ°å¥½å¯ä»¥ç”¨æ¥åˆ¤åˆ«è¾“å…¥æ˜¯å¦ä¸ºæœ‰å‘æ— ç¯å›¾ã€‚å…·ä½“åœ°ï¼Œ æœç´¢è¿‡ç¨‹ä¸­ä¸€æ—¦å‘ç°åå‘è¾¹ï¼Œå³å¯ç»ˆæ­¢ç®—æ³•å¹¶æŠ¥å‘Šâ€œå› éDAGè€Œæ— æ³•æ‹“æ‰‘æ’åºâ€ã€‚ 3.2 åŒè¿é€šåŸŸåˆ†è§£ è€ƒæŸ¥æ— å‘å›¾Gã€‚è‹¥åˆ é™¤é¡¶ç‚¹våGæ‰€åŒ…å«çš„è¿é€šåŸŸå¢å¤šï¼Œåˆ™vç§°ä½œåˆ‡å‰²èŠ‚ç‚¹ï¼ˆcut vertexï¼‰æˆ– å…³èŠ‚ç‚¹ï¼ˆarticulation pointï¼‰ã€‚å¦‚å›¾6.13ä¸­çš„Cå³æ˜¯ä¸€ä¸ªå…³èŠ‚ç‚¹ï‚¾ï‚¾å®ƒçš„åˆ é™¤å°†å¯¼è‡´è¿é€šåŸŸ å¢åŠ ä¸¤å—ã€‚åä¹‹ï¼Œä¸å«ä»»ä½•å…³èŠ‚ç‚¹çš„å›¾ç§°ä½œåŒè¿é€šå›¾ã€‚ä»»ä¸€æ— å‘å›¾éƒ½å¯è§†ä½œç”±è‹¥å¹²ä¸ªæå¤§çš„åŒè¿ é€šå­å›¾ç»„åˆè€Œæˆï¼Œè¿™æ ·çš„æ¯ä¸€å­å›¾éƒ½ç§°ä½œåŸå›¾çš„ä¸€ä¸ªåŒè¿é€šåŸŸï¼ˆbi-connected componentï¼‰ã€‚ ä¾‹å¦‚å›¾6.14(a)ä¸­çš„æ— å‘å›¾ï¼Œå¯åˆ†è§£ä¸ºå¦‚å›¾(b)æ‰€ç¤ºçš„ä¸‰ä¸ªåŒè¿é€šåŸŸã€‚ 3.3 ä¼˜å…ˆçº§æœç´¢ ä¸Šé¢çš„å›¾æœç´¢åº”ç”¨è™½ç„¶å„æœ‰ç‰¹ç‚¹ï¼Œä½†æ˜¯å…¶åŸºæœ¬æ¡†æ¶ç¼ºåŸºæœ¬ç›¸ä¼¼ï¼Œæ€»ä½“è€Œè¨€éƒ½æ˜¯é€šè¿‡è¿­ä»£é€æ­¥å‘ç°å„é¡¶ç‚¹ï¼Œå°†å…¶çº³å…¥éå†æ ‘ä¸­å¹¶åšç›¸åº”å¤„ç†ï¼ŒåŒæ—¶æ ¹æ®åº”ç”¨é—®é¢˜çš„éœ€æ±‚é€‚å½“ç»™å‡ºè§£ç­”ï¼Œå„ç®—æ³•åœ¨åŠŸèƒ½ä¸Šçš„å·®å¼‚ï¼Œä¸»è¦ä½“ç°åœ¨æ¯ä¸€æ­¥è¿­ä»£ä¸­å¯¹æ–°é¡¶ç‚¹çš„é€‰å–ç­–ç•¥ä¸åŒï¼Œæ¯”å¦‚BFSæœç´¢ä¼šä¼˜å…ˆè€ƒå¯Ÿæ›´æ—©è¢«å‘ç°çš„é¡¶ç‚¹ï¼Œè€ŒDFSä¼šæ›´ä¾§é‡äºæœ€åè¢«å‘ç°çš„é¡¶ç‚¹ æ€»ç»“ä¸Šè¿°ç­–ç•¥ï¼Œå¯ä»¥çœ‹å‡ºå…¶æœ¬è´¨ä¸Šæ˜¯ç»™æ‰€æœ‰é¡¶ç‚¹èµ‹äºˆä¸åŒçš„ä¼˜å…ˆçº§ï¼Œéšç€ç®—æ³•çš„æ¨è¿›ä¸æ–­è°ƒæ•´ï¼Œè€Œæ¯ä¸€æ­¥è¿­ä»£æ‰€é€‰å–çš„é¡¶ç‚¹éƒ½æ˜¯å½“æ—¶çš„ä¼˜å…ˆçº§æœ€é«˜è€…ï¼ŒæŒ‰ç…§è¿™æ ·çš„ç†è§£ï¼Œå¯ä»¥å°†BFSå’ŒDFSçº³å…¥ç»Ÿä¸€çš„æ¡†æ¶ï¼Œç§°ä¸ºPFSï¼ˆpriority-first searchï¼‰ åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¼•å¯¼ä¼˜åŒ–æ–¹å‘çš„æŒ‡æ ‡ï¼Œå¾€å¾€å¯¹åº”äºæŸç§æœ‰é™çš„èµ„æºæˆ–æˆæœ¬ï¼ˆæ¯”å¦‚é€šè®¯å¸¦å®½ã€æœºç¥¨ä»·æ ¼ç­‰ï¼‰å› æ­¤è¿™é‡Œä¸å¦¨çº¦å®šä¼˜å…ˆçº§è¶Šå¤§é¡¶ç‚¹çš„ä¼˜å…ˆçº§è¶Šä½ é€šè¿‡æœ€å°æ”¯æ’‘æ ‘å’Œæœ€çŸ­è·¯å¾„è¿™ä¸¤ä¸ªç»å…¸çš„å›¾ç®—æ³•æ·±å…¥ä»‹ç»è¿™ä¸ªæ¡†æ¶çš„å…·ä½“åº”ç”¨ï¼Œåœ¨å¤æ‚åº¦çš„åˆ†æä¸­ï¼ŒPFSç”±ä¸¤å±‚å¾ªç¯æ„æˆï¼Œå…¶ä¸­å†…å±‚å¾ªç¯åˆå«å¹¶åˆ—çš„ä¸¤ä¸ªå¾ªç¯ï¼Œé‡‡ç”¨é‚»æ¥è¡¨çš„æ–¹å¼ï¼Œæ€»ä½“çš„å¤æ‚åº¦ä¸ºOï¼ˆn^2) 3.4 æœ€å°æ”¯æ’‘æ ‘ è¿é€šå›¾Gçš„æŸä¸€æ— ç¯è¿é€šå­æ ‘Tè‹¥è¦†ç›–Gä¸­æ‰€æœ‰çš„é¡¶ç‚¹ï¼Œåˆ™ç§°ä¸ºGçš„ä¸€é¢—æ”¯æ’‘æ ‘æˆ–ç”Ÿæˆæ ‘ï¼ˆspanning treeï¼‰ å°±ä¿ç•™åŸå›¾ä¸­è¾¹çš„æ•°ç›®è€Œè¨€ï¼Œæ”¯æ’‘æ ‘æ˜¯ç¦æ­¢ç¯è·¯å‰æä¸‹çš„æå¤§å­å›¾ï¼Œä¹Ÿæ˜¯ä¿æŒè¿é€šå‰æä¸‹çš„æœ€å°å­å›¾ï¼Œå…¶å¾€å¾€å¯¹åº”ç³»ç»Ÿä¸­æœ€ç»æµçš„è¿æ¥æ–¹æ¡ˆ 3.4.1 è›®åŠ›ç®—æ³• 3.4.2 primç®—æ³•ï¼ˆå±äºPFSçš„ç‰¹ä¾‹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆn^ 2ï¼‰ 3.5 æœ€çŸ­è·¯å¾„æ ‘ å¯ä»¥çœ‹ä¸‹é¢é—®é¢˜æè¿° Dijkstraç®—æ³•ï¼ˆæ—¶é—´å¤æ‚åº¦O(n^2) ![image-20220423203235868](/Users/chenxia/Library/Application Support/typora-user-images/image-20220423203235868.png) 0x04 äº¤é€šè¿ç­¹å­¦ä¸­çš„å›¾çš„åº”ç”¨ 4.1 æœ€çŸ­è·¯å¾„é—®é¢˜ åœ¨ç”Ÿäº§å®è·µã€è¿è¾“ç®¡ç†å’Œå·¥ç¨‹æ—¶é—´çš„å¾ˆå¤šæ´»åŠ¨ä¸­éƒ½éœ€è¦é¢ä¸´å¯»æ‰¾â€œå›¾çš„æœ€çŸ­è·¯å¾„â€ï¼Œè¿™æ˜¯ç½‘ç»œè§„åˆ’ä¸­çš„ä¸€ä¸ªåŸºæœ¬é—®é¢˜ å‡è®¾å¯¹äºæœ‰å‘å›¾D=ï¼ˆVï¼ŒEï¼‰ï¼Œè®¾å›¾Dçš„æ¯æ¡è¾¹(u,v)éƒ½å’Œä¸€ä¸ªå®æ•°æƒé‡Wï¼ˆeï¼‰=Wï¼ˆuï¼Œvï¼‰å¯¹åº”ï¼Œåˆ™ç§°ä¸ºèµ‹æƒå›¾ã€‚è¿™é‡Œæ‰€è¯´çš„æƒæ˜¯ä¸è¾¹æœ‰å…³çš„æ•°é‡æŒ‡æ ‡ï¼Œå¯ä»¥æ ¹æ®é—®é¢˜çš„éœ€è¦ä¸åŒçš„å«ä¹‰ï¼Œæ¯”å¦‚è·ç¦»ã€æ—¶é—´å’Œè´¹ç”¨ç­‰ Wï¼ˆPï¼‰=\\Sigma W(e) å¸¸è§çš„è§£å†³æ–¹æ³• 4.1.1 Dijkstraç®—æ³•(ç•¥) 4.1.2 Bellman-Fordç®—æ³•ï¼ˆç•¥ 4.2 æœ€é•¿è·¯å¾„é—®é¢˜ 4.3 ç¬¬kçŸ­è·¯å¾„é—®é¢˜ åœ¨æœ€çŸ­è·¯å¾„çš„åŸºç¡€ä¸Šï¼Œè€ƒè™‘ç¬¬kè·¯å¾„æ„Ÿå…´è¶£ 4.4 æœ€å°ç”Ÿæˆæ ‘ ç»™å®šè¿é€šèµ‹æƒæ— å‘å›¾G=ï¼ˆVï¼ŒEï¼‰ï¼Œè‹¥Tä¸ºGçš„ç”Ÿæˆæ ‘ï¼ŒTä¸­è¾¹eçš„æƒ W(T)=Î£W(e)W(T)=\\Sigma W(e)W(T)=Î£W(e) å…¶ä¸­æœ€å°çš„ç§°ä¸ºæœ€å°ç”Ÿæˆæ ‘ï¼Œä¸€äº›å¸¸è§çš„ç®—æ³• 4.4.1 Primç®—æ³•ï¼ˆç•¥ï¼‰ 4.4.2 Kruskal ç®—æ³•ï¼ˆç•¥ï¼‰ 4.5 ä¸­å›½é‚®è·¯é—®é¢˜ ![image-20220423194702621](/Users/chenxia/Library/Application Support/typora-user-images/image-20220423194702621.png) 4.6 è¿è¾“ç½‘ç»œ è®¸å¤šç³»ç»Ÿä¸­å­˜åœ¨æµçš„é—®é¢˜ï¼Œè¿è¾“ç³»ç»Ÿæœ‰ç‰©èµ„æµã€å…¬äº¤ç³»ç»Ÿä¸­æœ‰è½¦è¾†æµã€ä¾›æ°´ç³»ç»Ÿä¸­å­˜åœ¨æ°´æµï¼Œå› æ­¤å¯ä»¥ç”¨å›¾æ¥æè¿°ç½‘ç»œï¼Œå› æ­¤ç»™å®šä¸€äº›æ•°å­¦å®šä¹‰ è¿è¾“ç½‘ç»œ ![image-20220423195949264](/Users/chenxia/Library/Application Support/typora-user-images/image-20220423195949264.png) ç½‘ç»œæµ å‰² æœ€å°å‰² æœ€å¤§æµ 4.7 æœ€å¤§æµï¼ˆ4.6ï¼‰ 4.8 æœ€å°ä»£ä»·æµé—®é¢˜ï¼ˆ4.6ï¼‰","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"TsinghuaBook","slug":"TsinghuaBook","permalink":"https://blog.tjdata.site/tags/TsinghuaBook/"}]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•01-å‘é‡ï½œåˆ—è¡¨ï½œæ ˆä¸é˜Ÿåˆ—ï½œæ ‘","slug":"æ•°æ®ç»“æ„ä¸ç®—æ³•01-å‘é‡ï½œåˆ—è¡¨ï½œæ ˆä¸é˜Ÿåˆ—ï½œæ ‘","date":"2022-04-16T15:10:37.000Z","updated":"2023-05-13T13:52:35.227Z","comments":true,"path":"posts/d1d898bf.html","link":"","permalink":"https://blog.tjdata.site/posts/d1d898bf.html","excerpt":"è¿™é‡Œä¸»è¦å€Ÿé‰´Tsinghuaçš„2020fall&lt;æ•°æ®ç»“æ„ä¸ç®—æ³•&gt;è¿™æœ¬ä¹¦ï¼ŒåŒ…å«å¯¹äºä¸€äº›åŸºæœ¬æ•°æ®ç»“æ„çš„æ¢ç´¢ï¼Œå…ˆä»å®šä¹‰æ¢³ç†ï¼Œåœ¨æ•´ç†é¢˜ç›®ï¼Œä¹‹åæ˜¯å®é™…è®­ç»ƒã€‚ç»“åˆä¹‹å‰åœ¨ç¨‹åºè®¾è®¡æˆ–åµŒå…¥å¼ä¸­å¯¹äºæ•°æ®åœ¨å®é™…å­˜å‚¨çš„ä¾‹å­æ¥å­¦ä¹ å¯èƒ½ä¼šæ›´å¥½ã€‚ä»ä¸­ä¹Ÿèƒ½ä½“æ‚Ÿåˆ°ç®—æ³•ä¸€äº›å«ä¹‰ æœ¬æ¬¡ä¸»è¦å¯¹ç»ªè®ºã€çº¿æ€§ç»“æ„çš„æ•°ç»„ï¼ˆArrayï¼‰ä¸ºåŸºç¡€çš„å‘é‡ï¼ˆVectorï¼‰ã€ä»¥é“¾è¡¨ï¼ˆLinkï¼‰ä¸ºåŸºç¡€çš„åˆ—è¡¨ï¼ˆListï¼‰ã€æ ˆï¼ˆStackï¼‰ä¸é˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼›åŠçº¿æ€§ç»“æ„çš„æ•°ï¼ˆTreeï¼‰åšå®šä¹‰çš„è®°å½•å’Œæ¢³ç†ã€‚","text":"è¿™é‡Œä¸»è¦å€Ÿé‰´Tsinghuaçš„2020fall&lt;æ•°æ®ç»“æ„ä¸ç®—æ³•&gt;è¿™æœ¬ä¹¦ï¼ŒåŒ…å«å¯¹äºä¸€äº›åŸºæœ¬æ•°æ®ç»“æ„çš„æ¢ç´¢ï¼Œå…ˆä»å®šä¹‰æ¢³ç†ï¼Œåœ¨æ•´ç†é¢˜ç›®ï¼Œä¹‹åæ˜¯å®é™…è®­ç»ƒã€‚ç»“åˆä¹‹å‰åœ¨ç¨‹åºè®¾è®¡æˆ–åµŒå…¥å¼ä¸­å¯¹äºæ•°æ®åœ¨å®é™…å­˜å‚¨çš„ä¾‹å­æ¥å­¦ä¹ å¯èƒ½ä¼šæ›´å¥½ã€‚ä»ä¸­ä¹Ÿèƒ½ä½“æ‚Ÿåˆ°ç®—æ³•ä¸€äº›å«ä¹‰ æœ¬æ¬¡ä¸»è¦å¯¹ç»ªè®ºã€çº¿æ€§ç»“æ„çš„æ•°ç»„ï¼ˆArrayï¼‰ä¸ºåŸºç¡€çš„å‘é‡ï¼ˆVectorï¼‰ã€ä»¥é“¾è¡¨ï¼ˆLinkï¼‰ä¸ºåŸºç¡€çš„åˆ—è¡¨ï¼ˆListï¼‰ã€æ ˆï¼ˆStackï¼‰ä¸é˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼›åŠçº¿æ€§ç»“æ„çš„æ•°ï¼ˆTreeï¼‰åšå®šä¹‰çš„è®°å½•å’Œæ¢³ç†ã€‚ Chapter01 ç»ªè®º 1.1 çè¯´ è®¡ç®—æœºæ˜¯äººç±»ä»äº‹è®¡ç®—çš„å·¥å…·ï¼Œä¹Ÿæ˜¯æŠ½è±¡è®¡ç®—æ¨¡å‹çš„å…·ä½“ç‰©åŒ–ï¼ŒåŸºäºå›¾çµæ¨¡å‹çš„ç°ä»£è®¡ç®—æœºï¼Œå³æ˜¯äººç±»ç°ä»£æ–‡æ˜çš„æ ‡å¿—ä¸åŸºç¡€ï¼Œæ›´æ˜¯äººè„‘æ€ç»´çš„æ‹“å±•ä¸å»¶ä¼¸ã€‚å°½ç®¡è®¡ç®—æœºçš„æ€§èƒ½æ—¥ç›Šæé«˜ï¼Œä½†æ˜¯è¿™ç§èƒ½åŠ›åœ¨è§£å†³å®é™…åº”ç”¨é—®é¢˜èƒ½å¤ŸçœŸæ­£å¾—åˆ°å‘æŒ¥ï¼Œå†³å®šæ€§çš„å› ç´ åœ¨äºäººç±»å¦‚ä½•æ·±å…¥æ€è€ƒä¸åˆ†æè·å¾—å¯¹é—®é¢˜æœ¬è´¨çš„é€å½»ç†è§£ï¼Œ éœ€è¦æŒ‰ç…§é•¿æœŸç§¯æ·€çš„æ¡†æ¶å’Œæ¨¡å¼æ¥è®¾è®¡å‡ºåˆä¹é—®é¢˜å†…åœ¨è§„å¾‹çš„ç®—æ³•ï¼Œ é€‰ç”¨ã€æ”¹è¿›æˆ–è€…å®šåˆ¶è¶³ä»¥æ”¯æ’‘ç®—æ³•é«˜æ•ˆå®ç°çš„æ•°æ®ç»“æ„ï¼Œ å¹¶åœ¨çœŸå®çš„åº”ç”¨ç¯å¢ƒä¸­å……åˆ†æµ‹è¯•ã€è°ƒè¯•å’Œæ”¹è¿› é‚£ä¹ˆä»€ä¹ˆæ˜¯ç®—æ³•ï¼Ÿ åŸƒåŠäººçš„ç»³ç´¢æ˜¯ç®—æ³• å°ºè§„ä½œå›¾æ˜¯ç®—æ³• å†’æ³¡æ’åºbubble sortä¹Ÿæ˜¯ç®—æ³• å®è§‚çš„å®šä¹‰æ˜¯åŸºäºç‰¹å®šçš„è®¡ç®—æ¨¡å‹ï¼Œåœ¨è§£å†³æŸä¸€ä¿¡æ¯å¤„ç†é—®é¢˜è€Œè®¾è®¡çš„ä¸€ä¸ªæŒ‡ä»¤åºåˆ—ï¼Œæœ¬ä¹¦æ‰€è¯´çš„ç®—æ³•è¿˜éœ€è¦å…·æœ‰ä»¥ä¸‹çš„ç‰¹ç‚¹ æœ‰inputå’Œoutput å¯æ“ä½œã€ç¡®å®šæ€§ä¸å¯è¡Œæ€§ æœ‰ç©·æ€§å’Œæ­£ç¡®æ€§ï¼Œfiniteness and correctness é€€åŒ–ä¸é²æ£’æ€§ï¼Œdegeneracy and robustness é‡ç”¨æ€§ï¼Œreuse å¦‚ä½•è¯„ä»·ä¸€ä¸ªç®—æ³•å‘¢ï¼Ÿ å¯è®¡ç®—æ€§computability éš¾è§£æ€§ intractabilityï¼Œæœ¬ä¹¦å°†æ›´å¤šçš„å…³æ³¨äºéâ€œä¸å¯è§£å’Œéš¾è§£â€çš„ä¸€èˆ¬æ€§é—®é¢˜ï¼Œå¹¶è®¨è®ºå¦‚ä½•æ•ˆç‡çš„è§£å†³è¿™ä¸€å±‚é¢çš„è®¡ç®—é—®é¢˜ï¼Œå› æ­¤éœ€è¦ç¡®å®šä¸€ç§å°ºåº¦ï¼Œä»æ—¶é—´å’Œç©ºé—´æ–¹é¢åº¦é‡ç®—æ³•çš„è®¡ç®—æˆæœ¬ï¼Œå¹¶ç”±æ­¤å¯¹ä¸åŒç®—æ³•è¿›è¡Œæ¯”è¾ƒå’Œè¯„åˆ¤ï¼Œå½“ç„¶æœ€é‡è¦çš„æ˜¯åœ¨ç ”ç©¶å’Œå½’çº³ç®—æ³•è®¾è®¡æœˆå®ç°è¿‡ç¨‹ä¸­çš„ä¸€èˆ¬æ€§è§„å¾‹ä¸æŠ€å·§ï¼Œä»¥ç¼–å†™å‡ºæ•ˆç‡æ›´é«˜ã€èƒ½å¤Ÿå¤„ç†æ›´å¤§è§„æ¨¡æ•°æ®çš„ç¨‹åºï¼Œè¿™æ˜¯æœ¬ä¹¦çš„åŸºæœ¬ä¸»é¢˜ä¹Ÿæ˜¯è´¯ç©¿ä¸»é¢˜çš„è„‰ç»œ è®¡ç®—æ•ˆç‡ æ•°æ®ç»“æ„ 1.2 å¤æ‚åº¦complexityåº¦é‡ ğŸ’¡ æ—¶é—´å¤æ‚åº¦ï¼ˆTime complexityï¼‰ï¼Œè¿è¡Œæ—¶é—´æ˜¯ç”±å¤šç§ç»¼åˆå› ç´ ä½œç”¨è€Œå†³å®šçš„ï¼Œå› ä¸ºå¯¹äºåŒç§ç®—æ³•ï¼Œå¯¹äºä¸åŒçš„è¾“å…¥æ‰€éœ€çš„è¿è¡Œæ—¶é—´å¹¶ä¸ç›¸åŒï¼Œæ¯”å¦‚å¯¹äºæ’åºé—®é¢˜ï¼Œè¾“å…¥åºåˆ—çš„è§„æ¨¡å…¶ä¸­å„å…ƒç´ çš„å…ƒç´ ä»¥åŠæ¬¡åºå‡ä¸ç¡®å®šï¼Œè¿™äº›å› ç´ éƒ½å°†å½±å“åˆ°æ’åºç®—æ³•æœ€ç»ˆçš„è¿è¡Œæ—¶é—´ï¼Œå› æ­¤**ä¸ºæ¥è¿è¡Œæ—¶é—´å»ºç«‹ä¸€ç§å¯è¡Œã€å¯ä¿¡çš„è¯„ä¼°æ ‡å‡†ï¼Œéœ€è¦è€ƒè™‘å…¶ä¸­çš„å…³é”®å› ç´  å› æ­¤å¯ä»¥å°†è¿™ä¸ªé—®é¢˜è½¬åŒ–æˆä¸ºï¼šéšç€è¾“å…¥æ¨¡å¼çš„æ‰©å¤§ï¼Œç®—æ³•çš„æ‰§è¡Œæ—¶é—´å°†å¦‚ä½•å¢é•¿ï¼Ÿæ‰§è¡Œæ—¶é—´çš„è¿™ä¸€å˜åŒ–è¶‹åŠ¿å¯è¡¨ç¤ºä¸ºè¾“å…¥æ¨¡å¼çš„ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥è®²èµ·ç§°ä¸ºæ—¶é—´å¤æ‚åº¦time complexityï¼Œå¯¹äºç‰¹å®šç®—æ³•å¤„ç†è§„æ¨¡ä¸ºnçš„é—®é¢˜æ‰€éœ€è¦çš„æ—¶é—´å¯ä»¥ä½œT(n)** ğŸ’¡ æ¸è¿›å¤æ‚åº¦ï¼ˆasymptotic analysisï¼‰ï¼Œä¸€äº›ç®—æ³•é€‚ç”¨äºå°è§„æ¨¡è¾“å…¥ï¼Œä¸€äº›ç®—æ³•é€‚ç”¨äºå¤§è§„æ¨¡è¾“å…¥ï¼Œåœ¨è¯„ä»·ç®—æ³•è¿è¡Œæ•ˆç‡æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€å¯ä»¥å¿½ç•¥å…¶å¤„ç†å°è§„æ¨¡é—®é¢˜çš„å·®å¼‚ï¼Œè½¬è€Œå…³æ³¨åœ¨å¤„ç†æ›´å¤§è§„æ¨¡é—®é¢˜æ—¶çš„è¡¨ç°ï¼Œåœ¨å…¶ä¸­æˆ‘ä»¬å¯ä»¥å°è¯•ç”¨ä¸€äº›æ–¹æ³•ï¼Œ1. å¤§Oè®°å· 2 å¤§Omegaè®°å· 3 å¤§Thetaè®°å· æ¸è¿›ä¸Šç•Œ ï¼Œä¹Ÿå°±æ˜¯æœ€å·®æƒ…å†µbig-O notationï¼Œå¯¹äºè§„æ¨¡ä¸ºnçš„ä»»æ„è¾“å…¥ï¼Œç®—æ³•çš„è¿è¡Œæ—¶é—´éƒ½ä¸é«˜äºOï¼ˆfï¼ˆnï¼‰ï¼‰ æ¸è¿›ä¸‹ç•Œï¼Œä¹Ÿå°±æ˜¯æœ€å¥½æƒ…å†µbig-Omega-Notationï¼Œå¯¹äºè§„æ¨¡ä¸ºnçš„ä»»æ„è¾“å…¥ï¼Œç®—æ³•çš„è¿è¡Œæ—¶é—´éƒ½ä¸ä½äºOmegaï¼ˆgï¼ˆnï¼‰ï¼‰ å¦‚æœæ°å¥½æ¸è¿›ä¸Šç•Œå’Œæ¸è¿›ä¸‹ç•Œä¹‹é—´å…ˆç­‰ï¼ŒO=Omegaï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨big-theta-notationåšè®°å· ğŸ’¡ ç©ºé—´å¤æ‚åº¦ï¼ˆspace complexityï¼‰ï¼Œä¸ºäº†æ›´åŠ å®¢è§‚åœ°è¯„ä»·ç®—æ³•æ€§èƒ½çš„ä¼˜åŠ£ï¼Œé™¤éç‰¹åˆ«ç”³æ˜ï¼Œç©ºé—´å¤æ‚åº¦é€šå¸¸å¹¶ä¸åŸå§‹è¾“å…¥æœ¬èº«æ‰€å ç”¨çš„ç©ºé—´ï¼Œå¯¹äºåŒä¸€é—®é¢˜ï¼Œè¿™ä¸€æŒ‡æ ‡å¯¹ä»»ä½•ç®—æ³•éƒ½æ˜¯ç›¸åŒçš„ï¼Œåä¹‹å…¶ä»–çš„å„ç§æ–¹é¢æ‰€å°å­©çš„ç©ºé—´éƒ½åº”è¯¥è®¡ç®— å¦å¤–åœ¨å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½æ˜¯æ›´å¥½ç”šè‡³ä»…ä»…å…³æ³¨äºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Œè€Œä¸å¿…å¯¹ç©ºé—´å¤æ‚åº¦å¤šä¸“é—¨çš„è€ƒå¯Ÿï¼Œè¿™ç§ç®€å•è¯„æµ‹æ–¹å¼çš„ä¸€å¥éƒ½æ¥è‡ªäºä¸€ä¸‹äº‹å®ï¼šå°±æ¸è¿›å¤æ‚åº¦çš„æ„ä¹‰è€Œè¨€ï¼Œåœ¨ä»»ä¸€ç®—æ³•çš„ä»»ä½•ä¸€æ¬¡è¿è¡Œè¿‡ç¨‹ä¸­æ‰€æ¶ˆè€—çš„å­˜å‚¨ç©ºé—´éƒ½ä¸ä¼šå¤šä½™æœŸé—´æ‰€æ‰§è¡ŒåŸºæœ¬æ“ä½œçš„ç´¯è®¡æ¬¡æ•°ï¼›ä½†æ˜¯ç©ºé—´å¤æ‚åº¦çš„åˆ†æçš„æ„ä¹‰åœ¨äºå¯¹ç©ºé—´æ•ˆç‡éå¸¸åœ¨ä¹çš„åº”ç”¨åœºåˆä¸­ï¼Œå½“é—®é¢˜çš„è¾“å…¥è§„æ¨¡æä¸ºåºå¤§æ—¶ï¼Œç”±æ—¶é—´å¤æ‚åº¦æ‰€ç¡®ç«‹çš„å¹³å‡¡ä¸Šç•Œå·²ç»éš¾ä»¥ä»¤äººæ»¡æ„ 1.3 å¤æ‚åº¦åˆ†æ åœ¨1.2 ä¸­ç¡®å®šç®—æ³•å¤æ‚åº¦çš„åº¦é‡æ ‡å‡†ï¼Œåˆ†æç®—æ³•çš„å¤æ‚åº¦ï¼Œå¯ä¸€èˆ¬ä½¿ç”¨å¤§Oç®—æ³•ï¼Œæ¥å°†å„ç§ç®—æ³•çš„å¤æ‚åº¦ä»ä½åˆ°é«˜åˆ’åˆ†ä¸ºä¸åŒçš„çº§åˆ« å¸¸æ•°Oï¼ˆ1ï¼‰ å¯¹æ•°O(log N) çº¿æ€§ Oï¼ˆnï¼‰ å¤šé¡¹å¼ Oï¼ˆpolynomialï¼ˆnï¼‰ï¼‰ æŒ‡æ•°Oï¼ˆ2^nï¼‰ 1.4 é€’å½’recursive é€’å½’çš„ä»·å€¼åœ¨äºï¼Œè®¸å¤šåº”ç”¨é—®é¢˜éƒ½å¯ä»¥ç®€ä»‹è€Œå‡†ç¡®åœ°æè¿°ä¸ºé€’å½’å½¢å¼ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ç§åŸºæœ¬è€Œå…¸å‹çš„ç®—æ³•è®¾è®¡æ¨¡å‹ï¼Œè¿™æ¨¡å¼å¯ä»¥å¯¹å®é™…é—®é¢˜ä¸­åå¤å‡ºç°çš„ç»“æ„å’Œå½¢å¼loop variantè¿›è¡Œé«˜åº¦æ¦‚æ‹¬ï¼Œå¹¶ä»æœ¬è´¨å±‚é¢åŠ ä»¥æè¿°ä¸åˆ»ç”»ï¼Œè¿›è€Œå¯¼å‡ºé«˜æ•ˆçš„ç®—æ³• æœ¬ç¯‡æ–‡ç« ä»é€’å½’çš„åŸºæœ¬æ¨¡å¼å…¥æ‰‹ï¼Œå¾ªåºæ¸è¿›ä»‹ç»å¦‚ä½•é€‰æ‹©å’Œåº”ç”¨ï¼ˆçº¿æ€§é€’å½’ã€äºŒåˆ†é€’å½’å’Œå¤šåˆ†æ”¯é€’å½’ç­‰ï¼‰ä¸åŒçš„é€’å½’å½¢å¼ï¼Œæ¥å®ç°ï¼ˆéå†ã€åˆ†æ²»ç­‰ï¼‰ç®—æ³•ç­–ç•¥ï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨é€’å½’è·Ÿè¸ªå’Œé€’æ¨æ–¹ç¨‹ç­‰æ–¹æ³•åˆ†æé€’å½’ç®—æ³•çš„å¤æ‚åº¦ çº¿æ€§é€’å½’ï¼Œbase case of recursionï¼Œé¿å…å› æ— é™é€’å½’å¯¼è‡´ç³»ç»Ÿæº¢å‡ºï¼Œå¾€å¾€å¯¹åº”å‡è€Œæ²»ä¹‹decrease and conquerçš„ç®—æ³•ç­–ç•¥ï¼Œé€’å½’æ¯æ·±å…¥ä¸€å±‚ï¼Œå¾…æ±‚è§£é—®é¢˜çš„è§„æ¨¡éƒ½ç¼©å‡ä¸€ä¸ªå¸¸ç†Ÿï¼Œç›´è‡³æœ€ç»ˆèœ•åŒ–ä¸ºå¹³å‡¡çš„ç®€å•é—®é¢˜ é€’å½’åˆ†æï¼Œå¯ä»¥ä½¿ç”¨é€’å½’è·Ÿè¸ªä¸é€’å½’æ–¹ç¨‹ä¸¤ç§ä¸»è¦çš„æ–¹æ³• ç®—æ³•çš„æ¯ä¸€ä¸ªé€’å½’å®ä¾‹éƒ½è¡¨ç¤ºä¸ºä¸€ä¸ªæ–¹æ¡†ï¼Œå…¶ä¸­è‘—åè¯¥å®ä¾‹è°ƒç”¨çš„å‚æ•° è‹¥å®ä¾‹Mè°ƒç”¨å®ä¾‹Nï¼Œåˆ™åœ¨Mä¸Nå¯¹åº”çš„æ–¹æ¡†ä¹‹é—´æ·»åŠ ä¸€æ¡æœ‰å‘è”çº¿ é€’å½’æ¨¡å¼ é€’å½’æ¶ˆé™¤ äºŒåˆ†é€’å½’ divide-and-conquer Chapter02 ï¼ˆStaticï¼‰å‘é‡vector æ•°æ®ç»“æ„æ˜¯æ•°æ®é¡¹çš„ç»“æ„åŒ–é›†åˆï¼Œå…¶ç»“æ„è¡¨ç°ä¸ºæ•°æ®é¡¹ä¹‹é—´çš„ç›¸äº’ç³»åˆ—ä¸ä½œç”¨ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºå®šä¹‰ä¸æ•°æ®é¡¹ä¹‹é—´çš„æŸç§é€»è¾‘æ¬¡åºï¼Œæ ¹æ®è¿™ç§é€»è¾‘æ¬¡åºçš„å¤æ‚ç¨‹åº¦ï¼Œå¯ä»¥å°†æ•°æ®ç»“æ„åˆ’åˆ†ä¸ºçº¿æ€§ç»“æ„ã€åŠçº¿æ€§ç»“æ„å’Œéçº¿æ€§ç»“æ„ä¸‰ä¸ªéƒ¨åˆ† åœ¨çº¿æ€§ç»“æ„ä¸­ï¼Œæ•°æ®é¡¹æŒ‰ç…§ä¸€ä¸ªçº¿æ€§æ¬¡æ•°æ„æˆä¸€ä¸ªæ•´ä½“ï¼Œå…¶ä¸­æœ€åŸºæœ¬çš„çº¿æ€§ç»“æ„ä¸ºsequenceï¼Œæ ¹æ®æ•°æ®é¡¹çš„é€»è¾‘æ¬¡åºå’Œç‰©ç†å­˜å‚¨åœ°å€çš„ä¸åŒå¯ä»¥åŒºåˆ†ä¸ºå‘é‡vectorå’Œåˆ—è¡¨list æœ¬ç« çš„è®²è§£å°†å›´ç»•å‘é‡ç»“æ„çš„é«˜æ•ˆå®ç°è€Œé€æ­¥å±•å¼€ï¼ŒåŒ…æ‹¬ä½œä¸ºæŠ½è±¡æ•°æ®ç±»å‹çš„æ¥å£è§„èŒƒä»¥åŠå¯¹åº”çš„é¢ç®—æ³•ï¼Œå°¤å…¶æ˜¯é«˜æ•ˆç»´æŠ¤åŠ¨æ€å‘é‡çš„æŠ€å·§ 2.1 ä»æ•°ç»„å’Œå‘é‡ ğŸ’¡ æ•°ç»„ Array è‹¥é›†åˆSç”±nä¸ªå…ƒç´ ç»„æˆï¼Œä¸”å„å…ƒç´ ä¹‹é—´å…·æœ‰ä¸€ä¸ªçº¿æ€§æ¬¡åºï¼Œåˆ™å¯ä»¥å°†ä»–ä»¬å­˜åœ¨åœ¨å¼€å§‹åœ°å€Aã€ç‰©ç†ä½ç½®è¿ç»­çš„ä¸€æ®µå­˜å‚¨ç©ºé—´ï¼Œ A=[a0,a1,...,anâˆ’1]A=[a_0,a_1,...,a_{n-1}]A=[aâ€‹0â€‹â€‹,aâ€‹1â€‹â€‹,...,aâ€‹nâˆ’1â€‹â€‹] qå…¶ä¸­iå°äºjï¼ŒA[i]éƒ½æ˜¯A[j]çš„predecessorï¼Œåè€…æ˜¯successorï¼Œç›¸é‚»çš„æˆä¸ºimmediate predecessorï¼›immediate successorï¼Œå…ƒç´ çš„æ‰€æœ‰å‰å»æ„æˆå‰ç¼€prefixï¼Œæ‰€æœ‰çš„åç»§æ„æˆsuffix é‡‡ç”¨è¿™æ ·çš„å…ƒç´ è§„èŒƒï¼Œä¸ä»…ä½¿å¾—æ¯ä¸ªå…ƒç´ éƒ½é€šè¿‡ä¸‹æ ‡å”¯ä¸€æŒ‡ä»£ï¼Œè€Œä¸”å¯ä»¥è®©æˆ‘ä»¬ç›´æ¥è®¿é—®ä»»ä½•å…ƒç´ ï¼Œè¿™é‡Œæ‰€è¯´çš„è®¿é—®åŒ…æ‹¬ è¯»å–å’Œä¿®æ”¹ç­‰åŸºæœ¬æ“ä½œï¼Œâ€œç›´æ¥â€çš„æ„æ€æ˜¯è¿™äº›æ“ä½œå¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…å®Œæˆ åœ¨å…¶ä¸­å…ƒç´ çš„ç‰©ç†åœ°å€ä¸å…¶ä¸‹æ ‡ä¹‹é—´æ»¡è¶³è¿™ç§çº¿æ€§å…³ç³»ï¼Œå› æ­¤è¢«ç§°ä½œLinear Array ğŸ’¡ å‘é‡Vector å¯¹æ•°ç»„arrayåŸºç¡€ä¸Šåšä¸€èˆ¬æ€§çš„æ¨å¹¿ã€‚ä¹Ÿæ˜¯å…·æœ‰çº¿æ€§æ¬¡åºçš„ä¸€ç»„å…ƒç´ æ„æˆçš„é›†åˆ V=[v0,v1,...,vnâˆ’1]V=[v_0,v_1,...,v_{n-1}]V=[vâ€‹0â€‹â€‹,vâ€‹1â€‹â€‹,...,vâ€‹nâˆ’1â€‹â€‹]å…¶ä¸­çš„å…ƒç´ åˆ†åˆ«ç”±Rankç§©ç›¸äº’åŒºåˆ† åœ¨è¿™æ ·æŠ½è±¡ä¹‹åï¼Œæˆ‘ä»¬ä¸åœ¨é™å®šåŒä¸€ä¸ªå‘é‡ä¸­çš„å…ƒç´ éƒ½å±äºåŒä¸€åŸºæœ¬ç±»å‹ï¼Œæœ¬èº«å¯ä»¥æ˜¯æ¥è‡ªäºæ›´å…·ä¸€èˆ¬æ€§çš„æŸä¸€ç±»çš„å¯¹è±¡ï¼Œå¦å¤–å„å…ƒç´ ä¹Ÿä¸è§å¾—åŒæ—¶å…·æœ‰æŸä¸€æ•°å€¼å±æ€§ï¼Œæ•…å¹¶ä¸ä¿è¯ä¹‹é—´å¯ä»¥ç›¸äº’æ¯”è¾ƒå¤§å° 2.2 Interfaceæ¥å£ æ“ä½œæ¥å£ å…·æœ‰ä¸€äº›åŸºæœ¬æ“ä½œï¼Œ ä»‹ç»å…¶ä¸­æŸäº›æ“ä½œï¼Œæ¯”å¦‚sizeï¼ˆï¼‰ã€getï¼ˆï¼‰ç­‰é™æ€æ“ä½œå¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…å®Œæˆ insertï¼ˆï¼‰ã€removeï¼ˆï¼‰ç­‰åŠ¨æ€æ“ä½œå¯èƒ½éœ€è¦çº¿æ€§æ—¶é—´ Chapter03 ï¼ˆDynamicï¼‰åˆ—è¡¨List ä¸Šä¸€ä¸ªç« èŠ‚ä¸­çš„å…ƒç´ è®¿é—®ä¸ºcall-by-rankè®¿é—® å¦å¤–ä¸€ç§å½¢è±¡çš„å…ƒç´ è®¿é—®æ—¶é—´å¯ä»¥æ˜¯call-by-link ä¸åŒæ•°æ®ç»“æ„å†…éƒ¨çš„å­˜å‚¨ä¸ç»„ç»‡æ–¹å¼å·®å¼‚ï¼Œå…¶æ“ä½œæ¥å£çš„ä½œç”¨æ–¹å¼å’Œæ—¶ç©ºæ€§èƒ½ä¹Ÿä¸ç›¸åŒï¼Œåœ¨è®¾è®¡å’Œé€‰ç”¨æ•°æ®ç»“æ„æ—¶ï¼Œåº”è¯¥ä»å®é™…åº”ç”¨çš„éœ€æ±‚å‡ºå‘ï¼Œå…ˆç¡®å®šåŠŸèƒ½è§„èŒƒåŠæ€§èƒ½æŒ‡æ ‡ï¼Œæ¯”å¦‚å¼•å…¥LIstçš„ç›®çš„å°±æ˜¯ä¸ºäº†å¼¥è¡¥Vectoråœ¨è§£å†³æŸäº›åº”ç”¨é—®é¢˜çš„åŠŸèƒ½å’Œæ€§èƒ½æ–¹é¢çš„ä¸è¶³ï¼Œä¸¤è€…ä¹‹é—´çš„å·®å¼‚ä½“ç°åœ¨å¯¹å¤–çš„æ“ä½œä¸åŒï¼Œæ ¹æºåœ¨äºå†…éƒ¨å­˜å‚¨æ–¹å¼çš„ä¸åŒ 3.1 ä»Vectoråˆ°List è¿™ä¹Ÿä»£è¡¨è¿™ä»Staticåˆ°Dynamicä¹‹é—´çš„è½¬å˜ Static Storage Policy é™æ€å­˜å‚¨ç­–ç•¥ ä¹‹å‰çš„Vectoré‡‡ç”¨çš„å°±æ˜¯é™æ€å­˜å‚¨çš„ç­–ç•¥ï¼Œâ€œå„å…ƒç´ ç‰©ç†åœ°å€è¿ç»­â€ï¼Œç”±æ­¤å¯¼è‡´çš„sizeï¼ˆï¼‰getï¼ˆï¼‰é™æ€æ“ä½œå‡å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å®Œæˆï¼Œè€Œinsertï¼ˆï¼‰ã€removeï¼ˆï¼‰ç­‰åŠ¨æ€æ“ä½œå´éƒ½å¯èƒ½éœ€è¦çº¿æ€§æ—¶é—´ï¼›å¾—ç›Šäºè¿™ç§ç­–ç•¥ï¼Œæˆ‘ä»¬å¯ä»¥Oï¼ˆ1ï¼‰æ—¶é—´å†…ç”±Rankç¡®å®šå‘é‡å…ƒç´ çš„ç‰©ç†åœ°å€ï¼Œä½†æ˜¯åè¿‡æ¥åœ¨insertå’Œremoveçš„ è¿‡ç¨‹ä¸­åˆä¸å¾—ä¸ç§»åŠ¨ Oï¼ˆnï¼‰å…ƒç´ ï¼Œå¯ä»¥çœ‹å‡ºé™æ€å­˜å‚¨ç­–ç•¥çš„é™æ€æ“ä½œçš„æ•ˆç‡è¾¾åˆ°äº†æè‡´ï¼Œä½†æ˜¯åŠ¨æ€æ“ä½œï¼Œå±€éƒ¨çš„ä¿®æ”¹ä¼šå¼•èµ·æ•´ä¸ªèŒƒå›´ç”šè‡³æ•´ä¸ªæ•°æ®ç»“æ„çš„è°ƒæ•´ Dynamic Storage Policy åŠ¨æ€å­˜å‚¨ç­–ç•¥ Listä½œä¸ºä»£è¡¨ï¼Œå°½ç®¡è¦æ±‚å…ƒç´ åœ¨é€»è¾‘ä¸Šå…·æœ‰çº¿æ€§æ¬¡åºï¼Œä½†å¯¹ç‰©ç†åœ°å€å¹¶æœªåšå‡ºä»»ä½•é™åˆ¶ï¼Œå…·ä½“çš„æ˜¯åœ¨ç”Ÿå‘½å‘¨æœŸå†…ï¼Œæ­¤ç±»æ•°æ®ç»“æ„å°†éšç€å†…éƒ¨æ•°æ®çš„éœ€è¦ï¼Œç›¸åº”åˆ†é…æˆ–å›æ”¶å±€éƒ¨çš„æ•°æ®ç©ºé—´ï¼Œå¦‚æ­¤å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»å¾—ä»¥å»¶ç»­ï¼Œå´ä¸å¿…ä¸ç‰©ç†æ¬¡åºç›¸å…³ï¼Œä½œä¸ºè¡¥å¿ï¼Œè¿™ç±»ç»“æ„å°†é€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨ç­‰æœºåˆ¶æ¥ç¡®å®šå„å…ƒç´ çš„å®é™…ç‰©ç†åœ°å€ æ¯”å¦‚é“¾è¡¨ï¼ˆLinked listï¼‰å°±æ˜¯ä¸€ç§å…¸å‹çš„åŠ¨æ€å­˜å‚¨ç»“æ„ï¼Œå…¶ä¸­çš„æ•°æ®åˆ†æ•£ä¸ºä¸€ç³»åˆ—ç§°ä¸ºèŠ‚ç‚¹ï¼ˆNodeï¼‰çš„å•ä½ï¼ŒèŠ‚ç‚¹ä¹‹é—´é€šè¿‡æŒ‡é’ˆç›¸äº’ç´¢å¼•å’Œè®¿é—®ï¼Œå¼•å…¥æ–°çš„èŠ‚ç‚¹å°±å¯ä»¥åˆ é™¤åŸæœ‰çš„èŠ‚ç‚¹ï¼Œåœ¨å±€éƒ¨è°ƒæ•´å°‘é‡ç›¸å…³èŠ‚ç‚¹ä¹‹é—´çš„æŒ‡é’ˆ ä½†æ˜¯è¿™æ ·å¹¶ä¸æ˜¯æ²¡æœ‰é—®é¢˜ åœ¨æé«˜åŠ¨æ€åŠ¨æ€æ“ä½œæ•ˆç‡çš„åŒæ—¶ï¼Œå´ä¸ä¸å¾—ä¸èˆå¼ƒåŸé™æ€å­˜å‚¨ç­–ç•¥ä¸­ä½¿ç”¨Rankè®¿é—®çš„æ–¹å¼ï¼Œä»è€Œé€ æˆæ¥é™æ€æ“ä½œæ€§èƒ½çš„ä¸‹é™ï¼Œè™½ç„¶Link listçš„è®¿é—®å¯ä»¥é€šè¿‡Rankæ¥æŸ¥è¯¢ï¼Œä½†æ˜¯å…¶æœ¬è´¨ä¸Šæ˜¯é€šè¿‡å¤šæ¬¡çš„æŒ‡é’ˆé€’å½’å¾—åˆ°çš„ï¼Œå› æ­¤å¹³å‡è®¿é—®æ—¶é—´ä¸ºOï¼ˆnï¼‰ Chapter04 ï¼ˆæ›´åŸºæœ¬ï¼‰æ ˆStack ä¸é˜Ÿåˆ—Queue æœ¬ç« çš„ç›®æ ‡æ˜¯å®ç°æ›´åŠ åŸºæœ¬ï¼Œä¹Ÿæ›´åŠ å¸¸ç”¨çš„ä¸¤ç±»æ•°æ®ç»“æ„â€”æ ˆå’Œé˜Ÿåˆ—ï¼Œå±äºçº¿æ€§åºåˆ—ç»“æ„ï¼Œå¤å…¶ä¸­å­˜æ”¾çš„æ•°æ®å¯¹è±¡ä¹‹é—´ä¹Ÿå…·æœ‰çº¿æ€§æ¬¡åºï¼Œç›¸å¯¹äºä¸€èˆ¬çš„åºåˆ—ç»“æ„ï¼Œæ ˆä¸é˜Ÿåˆ—çš„æ•°æ®æ“ä½œèŒƒå›´ä»…é™äºé€»è¾‘ä¸Šçš„ç‰¹å®šæŸæ®µï¼Œå¾—ç›Šäºå…¶ç®€æ´è¡Œäºè§„èŒƒæ€§ï¼Œä»–ä»¬å¯ä»¥æ„å»ºæ›´å¤æ‚ã€æ›´é«˜çº§æ•°æ®ç»“æ„çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯ç®—æ³•è®¾è®¡çš„åŸºæœ¬æ–¹æ³• ç›¸å¯¹äºå‘é‡å’Œåˆ—è¡¨ï¼Œæ ˆäºé˜Ÿåˆ—çš„å¤–éƒ¨æ¥å£æ›´ä¸ºç®€åŒ–å’Œç´§å‡‘ï¼Œå¾—ç›Šäºæ­¤ï¼Œæœ¬ç« çš„é‡ç‚¹å°†ä¸åœ¨æ‹˜æ³¥å¯¹æ•°æ®ç»“æ„å†…éƒ¨å®ç°æœºåˆ¶çš„å±•ç°ï¼Œå¹¶è½¬è€Œæ›´å¤šä»å¤–éƒ¨ç‰¹æ€§å‡ºå‘ï¼Œç»“åˆè‹¥å¹²å…¸å‹çš„å®é™…é—®é¢˜ä»‹ç»æ ˆå’Œé˜Ÿåˆ—çš„å…·ä½“åº”ç”¨ åœ¨é˜Ÿåˆ—çš„åº”ç”¨æ–¹é¢ï¼Œè´²å¼ å°†ä»‹ç»å¦‚ä½•å®ç°åŸºäºè½®å€¼ç­–ç•¥çš„é€šç”¨å¾ªç¯åˆ†é…å™¨ï¼Œå¹¶ä»¥é“¶è¡Œçª—å£æœåŠ¡ä¸ºä¾‹å®ç°åŸºæœ¬çš„è°ƒåº¦ç®—æ³• 4.1 æ ˆï¼ˆStackï¼‰ æ ˆæ˜¯å­˜æ”¾æ•°æ®å¯¹è±¡çš„ä¸€ç§ç‰¹æ®Šå®¹å™¨ï¼Œå…¶ä¸­æ•°æ®å…ƒç´ æŒ‰ç…§çº¿æ€§é€»è¾‘æ¬¡åºæ’åˆ—ï¼Œå› æ­¤å¯ä»¥å®šä¹‰é¦–ã€æœ«å…ƒç´ ï¼Œä¸è¿‡å°½ç®¡æ ˆç»“æ„ä¹Ÿæ”¯æŒå¯¹è±¡çš„æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œå…¶æ“ä½œçš„èŒƒå›´ä»…é™äºæ ˆçš„æŸä¸€ç‰¹å®šç«¯ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè‹¥çº¦å®šçš„å…ƒç´ åªèƒ½ä»æŸä¸€ç«¯æ’å…¥å…¶ä¸­ï¼Œåˆ™åè¿‡æ¥ä¹Ÿåªèƒ½ä»è¿™ä¸€ç«¯åˆ é™¤å·²æœ‰çš„å…ƒç´  ç±»ä¼¼äºè¿™ç§æ“ä½œï¼Œæ ˆä¸­å¯ä»¥æ“ä½œçš„ä¸€æ®µæˆä¸ºæ ˆé¡¶Stack Topï¼Œå¦ä¸€æ®µæ— æ³•ç›´æ¥æ“ä½œçš„ç›²ç«¯ç§°ä¸ºStack Bottomï¼Œæœ€å¸¸ç”¨çš„æ’å…¥å’Œåˆ é™¤æ“ä½œåˆ†åˆ«ç§°ä¸ºå…¥æ ˆPushå’Œå‡ºæ ˆPop 4.2 æ ˆä¸é€’å½’ é€’å½’ç®—æ³•æ‰€éœ€çš„ç©ºé—´é‡ä¸»è¦å†³å®šäºæœ€å¤§é€’å½’æ·±åº¦ï¼Œåœ¨è¾¾åˆ°è¿™ä¸ªæ·±åº¦çš„æ—¶åˆ»ï¼ŒåŒæ—¶æ´»è·ƒçš„é€’å½’å®ä¾‹è¾¾åˆ°æœ€å¤šï¼Œ å…³äºæ“ä½œç³»ç»Ÿæ˜¯å¦‚ä½•å®ç°å‡½æ•°é€’å½’è°ƒç”¨çš„ï¼Ÿå¦‚ä½•è®°å½•è°ƒç”¨ä¸è¢«è°ƒç”¨å‡½æ•°ï¼ˆé€’å½’ï¼‰ä¹‹é—´çš„å…³ç³»ï¼Ÿå¦‚ä½•å®ç°å‡½æ•°ï¼ˆé€’å½’ï¼‰è°ƒç”¨çš„è¿”å›ï¼Ÿåˆæ˜¯å¦‚ä½•ç»´æŠ¤åŒæ—¶æ´»è·ƒçš„æ‰€æœ‰å‡½æ•°ï¼ˆé€’å½’ï¼‰å®ä¾‹çš„å®ç°çš„ï¼Ÿ è¿™äº›æ‰€æœ‰é—®é¢˜çš„ç­”æ¡ˆï¼Œéƒ½å¯ä»¥å½’ç»“äºæ ˆStack åœ¨windowsæ“ä½œç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªè¿è¡Œä¸­çš„binary executableçš„äºŒè¿›åˆ¶ç¨‹åºéƒ½é…æœ‰ä¸€ä¸ªè°ƒç”¨æ ˆï¼ˆcall stackï¼‰æˆ–æ‰§è¡Œæ ˆexecution stackï¼Œå€ŸåŠ©è°ƒç”¨æ ˆå¯ä»¥è·Ÿè¸ªå±äºåŒä¸€ç¨‹åºçš„æ‰€æœ‰å‡½æ•°ï¼Œè®°å½•å®ƒä»¬ä¹‹é—´çš„ç›¸äº’è°ƒç”¨å…³ç³»ï¼Œå¹¶ä¿è¯åœ¨æ¯ä¸€è°ƒç”¨å®ä¾‹æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå¯ä»¥å‡†ç¡®è¿”å› å‡½æ•°è°ƒç”¨ Call Stackçš„åŸºæœ¬å•ä½æ˜¯å¸§ï¼ˆFrameï¼‰ã€ä»¥åŠå±€éƒ¨å˜é‡ã€è¾“å…¥å‚æ•°ï¼Œå¹¶å°†è¯¥æ ˆPushè°ƒç”¨æ ˆï¼Œå¹¶åœ¨è¯¥å‡½æ•°è¿”å›ä¹‹å‰å‘ç”Ÿæ–°çš„è°ƒç”¨ï¼ŒåŒæ ·å°†ä¸æ–°å‡½æ•°å¯¹åº”çš„ä¸€å¸§Pushæ ˆé¡¶ï¼Œå‡½æ•°ä¸€æ—¦è¿è¡Œå®Œæ¯•ï¼Œå¯¹åº”çš„å¸§éšå³å¼¹å‡ºï¼Œè¿è¡Œæ§åˆ¶æƒå°†è¢«äº¤è¿˜ç»™è¯¥å‡½æ•°çš„ä¸Šå±‚è°ƒç”¨ï¼Œå¹¶æŒ‰ç…§Frameè®°å½•çš„è¿”å›åœ°å€ç¡®å®šäºŒè¿›åˆ¶ç¨‹åºä¸­ç»§ç»­æ‰§è¡Œçš„ä½ç½®ï¼Œå½“ä½äºæ ˆåº•çš„mainï¼ˆï¼‰è¢«å¼¹å‡ºæ„å‘³ç€æ•´ä¸ªç¨‹åºçš„è¿è¡Œç»“æŸï¼Œæ­¤åæ§åˆ¶æƒå°†äº¤è¿˜ç»™OS CPUçœ¼é‡Œçš„ï¼š{å‡½æ•°} | æ ˆå¸§ | å †æ ˆ | æ ˆå˜é‡ | è°ƒç”¨æ ˆ_å“”å“©å“”å“©_bilibili é€’å½’ ä½œä¸ºå‡½æ•°è°ƒç”¨çš„ç‰¹æ®Šå½¢å¼ï¼Œé€’å½’ä¹Ÿå¯ä»¥å€ŸåŠ©ä¸Šè¿°è°ƒç”¨æ ˆå¾—ä»¥å®ç°ï¼Œå¯ä»¥çœ‹å‡ºåŒä¸€å‡½æ•°å¯èƒ½åŒæ—¶æ‹¥æœ‰å¤šä¸ªå®ä¾‹ï¼Œå¹¶åœ¨è°ƒç”¨æ ˆä¸­å„è‡ªå æœ‰ä¸€æ ˆï¼Œè¿™äº›æ ˆçš„ç»“æ„å®Œå…¨ç›¸åŒ ä¸€äº›æ²¡æœ‰ç”¨çš„å»ºè®® 4.3 æ ˆçš„å…¸å‹åº”ç”¨ 4.3.1 é€†åºè¾“å‡º é€†åºè¾“å‡ºä¸­çš„å…±åŒç‰¹å¾ï¼šé¦–å…ˆï¼Œè™½æœ‰æ˜ç¡®çš„ç®—æ³•ï¼Œä½†è§£ç­”å´ä»¥çº¿æ€§åºåˆ—çš„å½¢å¼ç»™å‡ºï¼Œå…¶æ¬¡æ— è®ºæ˜¯é€’å½’è¿˜æ˜¯è¿­ä»£å®ç°ï¼Œè¯¥åºåˆ—éƒ½æ˜¯æŒ‰ç…§é€†åºè®¡ç®—è¾“å‡ºçš„ï¼Œæœ€åè¾“å…¥å’Œè¾“å‡ºè§„æ¨¡ä¸ç¡®å®šï¼Œäº‹å…ˆéš¾ä»¥ç¡®å®šç››æ”¾è¾“å‡ºæ•°æ®çš„å®¹å™¨å¤§å°ï¼Œå› æ­¤å…·æœ‰ç‰¹æœ‰çš„â€œåè¿›å…ˆå‡ºâ€çš„ç‰¹ç‚¹ï¼Œä»¥åŠåœ¨å®¹é‡æ–¹é¢çš„è‡ªé€‚åº”æ€§ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨Stackæ¥è§£å†³è¿™ç±»é—®é¢˜ ğŸ’¡ è¿›åˆ¶è½¬æ¢é—®é¢˜ï¼Œå¯ä»¥å°†åè¿›åˆ¶æ•´æ•°nè½¬æ¢ä¸ºlambdaè¿›åˆ¶çš„è¡¨ç°å½¢å¼ æ¯”è¾ƒç®€å•çš„é™¤å‘— 12345678void convert(S,intï¼šn,base)&#123; static char digit[]=&#123;&#x27;0&#x27;,&#x27;1&#x27;,...,&#x27;E&#x27;,&#x27;F&#x27;&#125;; if (n&gt;0)&#123; S.push(digit[n%base]&#125; convert(S,n/base,base)//åœ¨Cä¸­è¿™é‡Œçš„n/baseä¼šè‡ªåŠ¨è¾“å‡ºä¸ºæ•´æ•°&#125;&#125;//æ–°çš„baseè¿›åˆ¶ä¸‹ç”±é«˜åˆ°ä½çš„å„æ•°ä½ï¼Œè‡ªé¡¶è€Œä¸‹ä¿å­˜ä¸æ ˆSä¸­ 4.3.2 é€’å½’åµŒå¥— å…·æœ‰è‡ªç›¸ä¼¼æ€§çš„é—®é¢˜å¯ä»¥ç”¨å¤šåµŒå¥—é€’å½’æè¿°ï¼Œä½†å› ä¸ºåˆ†æ”¯ä½ç½®å’ŒåµŒå¥—æ·±åº¦å¹¶ä¸å›ºå®šï¼Œå…¶é€’å½’ç®—æ³•çš„å¤æ‚åº¦ä¸æ˜“æ§åˆ¶ï¼Œæ ˆç»“æ„åŠå…¶æ“ä½œå¤©ç„¶å…·æœ‰é€’å½’åµŒå¥—æ€§ï¼Œå› æ­¤å¯ç”¨äºé«˜æ•ˆè§£å†³è¿™ç±»é—®é¢˜ æ ˆæ··æ´—ï¼ˆStack Permutationï¼‰ å‡è®¾ä¸‰ä¸ªæ ˆAã€Bã€Sï¼Œå…¶ä¸­BSå¼€å§‹ä¸ºç©ºï¼ŒAä¸­åŒ…å«nå…ƒç´ ï¼ŒSä½œä¸ºä¸­é—´è½¬ç§»æ ˆï¼Œå°†Aä¸­å…ƒç´ è½¬ç§»åˆ°Bä¸­ï¼Œå…¶ä¸­ä»…å…è®¸ S.Push(A.Pop()) B.Push(S.Pop()) ğŸ’¡ æ‹¬å·åŒ¹é…é—®é¢˜ï¼Œå¯¹æºç¨‹åºçš„æ£€æŸ¥æ˜¯ä»£ç compileä¸­é‡è¦è€ŒåŸºæœ¬çš„ä¸€ä¸ªæ­¥éª¤ï¼Œè€Œå¯¹è¡¨è¾¾å¼æ‹¬å·åŒ¹é…çš„æ£€æŸ¥åˆæ˜¯è¯­æ³•æ£€æŸ¥ä¸­å¿…éœ€çš„ä¸€ä¸ªç¯èŠ‚ å…¶ä»»åŠ¡æ˜¯ï¼Œå¯¹ä»»ä½•ä¸€ä¸ªç¨‹åºå—ï¼Œéœ€è¦åˆ¤æ–­å…¶ä¸­çš„æ‹¬å·æ˜¯å¦åœ¨åµŒå¥—çš„æ„ä¹‰ä¸‹å®Œå…¨åŒ¹é…ï¼Œ 4.4 è¯•æ¢å›æº¯æ³•ï¼ˆProbing and BackTrackingï¼‰ å¤å¸Œè…Šç¥è¯ä¸­åŠäººåŠç‰›çš„æ€ªç‰©å¼¥è¯ºé™¶æ´›æ–¯ï¼ˆMinotaurï¼‰ï¼Œè—èº«äºä¸€ä¸ªç²¾å¿ƒè®¾è®¡ã€ç»“æ„æå…¶ å¤æ‚çš„è¿·å®«ä¹‹ä¸­ã€‚å› æ­¤ï¼Œæ‰¾åˆ°å¹¶æ¶ˆç­å®ƒç»éæ˜“äº‹ï¼Œè€Œæ­¤åå¦‚ä½•é¡ºåˆ©è¿”å›è€Œä¸è‡´å›°æ­»æ›´æ˜¯ä¸€ä¸ªéš¾é¢˜ã€‚ ä¸è¿‡ï¼Œåœ¨å…¬ä¸»é˜¿é‡Œé˜¿å¾·æ¶…ï¼ˆAriadneï¼‰çš„å¸®åŠ©ä¸‹ï¼Œè‹±é›„å¿’ä¿®æ–¯ï¼ˆTheseusï¼‰è¿˜æ˜¯æƒ³å‡ºäº†ä¸ªå¥½åŠæ³•ï¼Œ ä»–æœ€ç»ˆæ¶ˆç­äº†æ€ªç‰©ï¼Œå¹¶å¸¦ç€å…¬ä¸»è½»æ¾åœ°èµ°å‡ºè¿·å®«ã€‚ å®é™…ä¸Šï¼Œå¿’ä¿®æ–¯æ‰€ä½¿ç”¨çš„æ³•å®ï¼Œåªä¸è¿‡æ˜¯ä¸€å›¢æ™®é€šçš„çº¿ç»³ã€‚ä»–å°†çº¿ç»³çš„ä¸€ç«¯ç³»åœ¨è¿·å®«çš„å…¥å£ å¤„ï¼Œè€Œåœ¨æ­¤åä¸æ–­æ£€æŸ¥å„ä¸ªè§’è½çš„è¿‡ç¨‹ä¸­ï¼Œçº¿å›¢å§‹ç»ˆæ¡åœ¨ä»–çš„æ‰‹ä¸­ã€‚çº¿å›¢æˆ–æ”¶æˆ–æ”¾ï¼Œè·Ÿéšç€å¿’ä¿® æ–¯ç©¿æ¢­äºèœ¿èœ’æ›²æŠ˜çš„è¿·å®«ä¹‹ä¸­ï¼Œç¡®ä¿ä»–ä¸è‡´è¿·è·¯ã€‚ å¿’ä¿®æ–¯çš„é«˜æ‹›ï¼Œä¸ç°ä»£è®¡ç®—æœºä¸­æ±‚è§£å¾ˆå¤šé—®é¢˜çš„ç®—æ³•å¼‚æ›²åŒå·¥ã€‚äº‹å®ä¸Šï¼Œå¾ˆå¤šåº”ç”¨é—®é¢˜çš„è§£ï¼Œ åœ¨å½¢å¼ä¸Šéƒ½å¯çœ‹ä½œè‹¥å¹²å…ƒç´ æŒ‰ç‰¹å®šæ¬¡åºæ„æˆçš„ä¸€ä¸ªåºåˆ—ã€‚ ä»¥ ç»å…¸ çš„æ—…è¡Œå•†é—®é¢˜ï¼ˆ traveling salesman problem, TSPï¼‰ä¸ºä¾‹ï¼Œå…¶ç›®æ ‡æ˜¯è®¡ç®—å‡ºç”±ç»™å®šçš„nä¸ªåŸå¸‚æ„æˆçš„ä¸€ä¸ªåºåˆ—ï¼Œä½¿å¾—æŒ‰æ­¤ åºåˆ—å¯¹è¿™äº›åŸå¸‚çš„ç¯æ¸¸æˆæœ¬ï¼ˆæ¯”å¦‚æœºç¥¨ä»·æ ¼ï¼‰æœ€ä½ã€‚å°½ç®¡æ­¤ç±»é—®é¢˜æœ¬èº«çš„æè¿°å¹¶ä¸å¤æ‚ï¼Œä½†é—æ†¾ çš„æ˜¯ï¼Œç”±äºæ‰€æ¶‰åŠå…ƒç´ ï¼ˆæ¯”å¦‚åŸå¸‚ï¼‰çš„æ¯ä¸€æ’åˆ—éƒ½æ˜¯ä¸€ä¸ªå€™é€‰è§£ï¼Œå®ƒä»¬å¾€å¾€æ„æˆä¸€ä¸ªæå¤§çš„æœç´¢ ç©ºé—´ã€‚é€šå¸¸ï¼Œå…¶æœç´¢ç©ºé—´çš„è§„æ¨¡ä¸å…¨æ’åˆ—æ€»æ•°å¤§ä½“ç›¸å½“ï¼Œä¸ºn! = O(nn )ã€‚å› æ­¤è‹¥é‡‡ç”¨è›®åŠ›ç­–ç•¥ï¼Œ é€ä¸€ç”Ÿæˆå¯èƒ½çš„å€™é€‰è§£å¹¶æ£€æŸ¥å…¶æ˜¯å¦åˆç†ï¼Œåˆ™å¿…ç„¶æ— æ³•å°†è¿è¡Œæ—¶é—´æ§åˆ¶åœ¨å¤šé¡¹å¼çš„èŒƒå›´ä»¥å†…ã€‚ è¿™æ ·çš„ç®—æ³•å¯¹åº”è¿™æ ·çš„æ¨¡å¼ï¼š ä»é›¶å¼€å§‹ï¼Œå°è¯•é€æ­¥å¢åŠ å€™é€‰è§£çš„é•¿åº¦ï¼Œæ›´å‡†ç¡®åœ°æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆæ‰¹çš„è€ƒå¯Ÿå…·æœ‰ç‰¹å®šå‰ç¼€çš„æ‰€æœ‰å€™é€‰è§£ï¼Œè¿™ç§ä»é•¿åº¦ä¸Šé€æ­¥å‘ç›®æ ‡è§£é è¿‘çš„å°è¯•ï¼Œæˆä¸ºè¯•æ¢ Probing ä½œä¸ºè§£å¾—åˆ°å±€éƒ¨ç‰¹å¾ï¼Œç‰¹å¾å‰ç¼€åœ¨è¯•æ¢çš„è¿‡ç¨‹ä¸­ä¸€æ—¦è¢«å‘ç°ä¸ç›®æ ‡è§£ä¸é€‚åˆï¼Œåˆ™æ”¶ç¼©åˆ°æ­¤å‰ä¸€æ­¥çš„é•¿åº¦ï¼Œç„¶åè¯•æ¢ä¸‹ä¸€å¯èƒ½çš„ç»„åˆï¼Œç‰¹å¾å‰ç¼€é•¿åº¦ç¼©å‡çš„è¿™ç±»æ“ä½œæˆä¸ºï¼Œå›æº¯BackTrackingï¼Œå…¶æ•ˆæœç­‰åŒäºå‰ªæPruning åœ¨ä¸Šè¿°çš„æ•…äº‹ä¸­ï¼Œè¿™ç§æ–¹æ³•ä¾èµ–äºæœ‰å‹çš„ç‰©è´¨åŸºç¡€ï¼Œä¹Ÿå°±æ˜¯éœ€è¦ä¿è¯æœç´¢è¿‡çš„è¿‡ç¨‹ä¸è¢«é‡å¤æœç´¢ï¼ŒåŠæ³•å°±æ˜¯åœ¨å‰ªæçš„ä½ç½®ç•™ä¸‹æŸç§æ ‡è®° ğŸ’¡ å…«çš‡åï¼Œå›½é™…è±¡æ£‹ä¸­çš‡åçš„åŠ¿åŠ›èŒƒå›´è¦†ç›–æ‰€åœ¨çš„æ°´å¹³çº¿ã€å‚ç›´çº¿å’Œä¸¤æ¡å¯¹è§’çº¿ï¼Œç°åœ¨è€ƒå¯Ÿå¦‚ä¸‹çš„é—®é¢˜ åœ¨n*nçš„æ£‹ç›˜ä¸­ï¼Œå¦‚ä½•ä½¿å¾—å¥¹ä»¬ä¹‹é—´å½¼æ­¤äº’ä¸æ”»å‡»ï¼Œ æ­¤æ—¶ç§°å¥¹ä»¬æ„æˆä¸€ä¸ªå¯è¡Œçš„æ£‹å±€ï¼Œå¯¹äºä»»ä½•æ•´æ•°nå¤§äºç­‰äº4 é¦–å…ˆåˆ†æé—®é¢˜å¯ä»¥çœ‹å‡ºï¼Œnçš‡åå¯ä»¥åœ¨n*nçš„æ£‹ç›˜ä¸Šå¯è¡Œï¼Œé¦–å…ˆéœ€è¦è®¾è®¡Queenè¿™ä¸ªç±»ï¼Œä¹Ÿå°±æ˜¯åæ ‡ï¼Œé€šè¿‡é‡è½½åˆ¤æ–­ç­‰æ“ä½œç¬¦æ¥å®ç°å¯¹çš‡åä½ç½®æ˜¯å¦ç›¸äº’å†²çªçš„ä¾¿æ·åˆ¤æ–­ è‹¥æ¯è¡Œèƒ½ä¸”åªèƒ½æ”¾ç½®ä¸€ä¸ªçš‡åï¼Œä¸å¦¨é¦–å…ˆå°†æ¯ä¸ªçš‡ååˆ†é…ç»™æ¯ä¸€è¡Œï¼Œç„¶åä»ç©ºæ£‹ç›˜å¼€å§‹é€ä¸ªå°è¯•å°†å¥¹ä»¬æ”¾ç½®åˆ°æ— å†²çªçš„æŸåˆ—ï¼Œæ²¡æ”¾ç½®å¥½ä¸€ä¸ªçš‡åæ‰ç»§ç»­è¯•æ¢ä¸‹ä¸€ä¸ªï¼Œè‹¥å½“å‰çš‡ååœ¨ä»»ä½•åˆ—éƒ½ä¼šé€ æˆå†²çªï¼Œåˆ™åç»­çš‡åçš„è¯•æ¢éƒ½æ˜¯å¾’åŠ³çš„ï¼Œå› æ­¤åº”è¯¥å›æº¯åˆ°ä¸Šä¸€çš‡å å¯ä»¥å€ŸåŠ©æ ˆsoluæ¥åŠ¨æ€è®°å½•å„çš‡åçš„åˆ—å·ï¼Œå½“è¯¥æ ˆçš„è§„æ¨¡å¢è‡³Nå¾—åˆ°å…¨å±€è§£ ğŸ’¡ è¿·å®«å¯»è·¯ï¼Œè¦æ±‚ä¾ç…§é¢„å®šçš„è¡Œè¿›è§„åˆ™ï¼Œåœ¨å…·æœ‰ç‰¹å®šé›†åˆç»“æ„çš„ç©ºé—´åŒºåŸŸå†…ï¼Œæ‰¾åˆ°ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„ä¸€æ¡é€šè·¯ï¼Œè¿™æ ·çš„ç®€åŒ–ç‰ˆæœ¬ åœ¨ç©ºé—´åŒºåŸŸé™å®šä¸ºç”±n*nçš„æ–¹æ ¼ç»„æˆçš„è¿·å®«ï¼Œé™¤æ¥å››å‘¨çš„å›´å¢™ï¼Œè¿˜æœ‰åˆ†å¸ƒå…¶é—´çš„è‹¥å¹²éšœç¢ç‰©ï¼Œåªèƒ½æ°´å¹³æˆ–å‚ç›´ç§»åŠ¨ æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯åœ¨ä»»æ„åˆ¶å®šçš„Originå’ŒDesä¸­æ‰¾åˆ°ä¸€æ¡é€šè·¯ 4.5 é˜Ÿåˆ—Queue ä¸æ ˆStackä¸€æ ·ï¼Œé˜Ÿåˆ—Queueä¹Ÿæ˜¯å­˜æ”¾æ•°æ®å¯¹è±¡çš„ä¸€ç§å®¹å™¨ï¼Œå…¶ä¸­çš„æ•°æ®å¯¹è±¡ä¹ŸæŒ‰ç…§çº¿æ€§çš„é€»è¾‘æ¬¡åºæ’åˆ—ï¼Œé˜Ÿåˆ—ç»“æ„åŒæ ·æ”¯æŒå¯¹è±¡Insertå’Œdeleteï¼Œä½†æ˜¯ä¸¤ç§æ“ä½œçš„èŒƒå›´åˆ†åˆ«è¢«é™åˆ¶äºé˜Ÿåˆ—çš„ä¸¤ç«¯ï¼ˆè‹¥çº¦å®šæ–°å¯¹è±¡åªèƒ½ä»æŸä¸€ç«¯æ’å…¥å…¶ä¸­ï¼Œåˆ™åªèƒ½ä»å¦ä¸€ç«¯åˆ é™¤å·²æœ‰çš„å…ƒç´ ï¼Œå…è®¸å–å‡ºå…ƒç´ çš„ä¸€ç«¯æˆä¸ºé˜Ÿå¤´Frontï¼Œè€Œå…è®¸æ’å…¥å…ƒç´ çš„å¦ä¸€ç«¯æˆä¸ºé˜Ÿå°¾Rear å¯¹äºçš„æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œä»é˜Ÿçš„è§’åº¦å¯ä»¥ç§°ä¸ºenqueueå’Œdequeueçš„æ“ä½œ å¯¹åº”çš„ä¸€äº›åŸºæœ¬æ“ä½œ ğŸ’¡ å¾ªç¯åˆ†é…å™¨ï¼Œä¸ºåœ¨å®¢æˆ·clientç¾¤ä½“å…±äº«æŸä¸€èµ„æºï¼Œæ¯”å¦‚å…±äº«CPUï¼Œä¸€å¥—å…¬å¹³ä¸”é«˜æ•ˆçš„åˆ†é…è§„åˆ™å¿…ä¸å¯å°‘ï¼Œè€Œé˜Ÿåˆ—ç»“æ„åˆ™éå¸¸é€‚äºå®šä¹‰å’Œå®ç°è¿™æ ·çš„ä¸€å¥—åˆ†é…è§„åˆ™ å¯ä»¥ä½¿ç”¨æ‰€è°“çš„è½®å€¼round robinç®—æ³•ä¸­ï¼Œé¦–å…ˆä»¤æ‰€æœ‰å‚ä¸èµ„æºåˆ†é…çš„å®¢æˆ·ç»„æˆä¸€ä¸ªé˜Ÿåˆ—Qï¼Œæ¥ä¸‹æ¥æ˜¯ä¸€ä¸ªåå¤è½®å›å¼çš„è°ƒåº¦è¿‡ç¨‹ è¿™é‡Œï¼Œæ¯ä½ç”¨æˆ·æŒç»­å ç”¨èµ„æºçš„æ—¶é—´å¯¹ç®—æ³•çš„æˆè´¥è‡³å…³é‡è¦ï¼Œä¸€æ–¹é¢ï¼Œæœªæ¥ä¿è¯å“åº”é€Ÿåº¦ï¼Œè¿™ä¸ªæ—¶é—´å€¼é€šå¸¸ä¸èƒ½è¿‡å¤§ï¼›å¦ä¸€æ–¹é¢ï¼Œå› å æœ‰æƒé™çš„åˆ‡æ¢ä¹Ÿéœ€è¦æ¶ˆè€—ä¸€å®šæ—¶é—´ï¼Œå› æ­¤è¿™ä¸ªæ—¶é—´å–çš„è¿‡å°ï¼Œåˆ‡æ¢è¿‡äºé¢‘ç¹ä¹Ÿä¼šé€ æˆæ•´ä½“æ•ˆç‡çš„ä¸‹é™ ğŸ’¡ é“¶è¡ŒæœåŠ¡æ¨¡æ‹Ÿï¼Œä»‹ç»å¦‚ä½•ä½¿ç”¨Queueç»“æ„å®ç°é¡¾å®¢æœåŠ¡çš„è°ƒåº¦äºä¼˜åŒ–ï¼Œ Chapter05 äºŒå‰æ ‘ Tree å¦‚æœä»¥å¹³è¡¡äºŒå‰æœç´¢æ•°ä¸ºä¾‹å­ï¼Œè‹¥å…¶ä¸­åŒ…å«nä¸ªå…ƒç´ ï¼Œåˆ™æ¯æ¬¡æŸ¥æ‰¾ã€æ›´æ–°ã€æ’å…¥å’Œåˆ é™¤æ“ä½œç­‰éƒ½å¯ä»¥åœ¨O(log N)çš„æ—¶é—´å†…å®Œæˆ æ•°ç»“æ„æœ‰ä¸è®¡å…¶æ•°çš„å˜ç§ï¼Œåœ¨ç®—æ³•ç†è®ºä»¥åŠå®é™…åº”ç”¨ä¸­æ‰®æ¼”ç€æœ€ä¸ºå…³é”®çš„è§’è‰²ï¼Œå¾—ç›Šäºç‹¬ç‰¹è€Œåˆæ™®é€‚çš„é€»è¾‘ç»“æ„ã€‚æ ‘ä½œä¸ºä¸€ç§åˆ†å±‚ç»“æ„ï¼Œè€Œå±‚æ¬¡åŒ–è¿™ä¸ªç‰¹å¾å‡ ä¹è•´å«åœ¨æ‰€æœ‰é£Ÿç‰©åŠå…¶è”ç³»ä¹‹ä¸­ ä½œä¸ºæ ‘çš„ç‰¹ä¾‹ï¼ŒäºŒå‰æ ‘å®é™…ä¸Šå¹¶ä¸å¤±å…¶ä¸€èˆ¬æ€§ï¼Œå°±æœ¬ç« è€Œè¨€ï¼Œæ— è®ºæ˜¯é€»è¾‘ç»“æ„è¿˜æ˜¯ç®—æ³•åŠŸèƒ½æ¥è¯´ï¼Œä»»ä½•æœ‰è·Ÿæœ‰åºçš„å¤šå‰æ ‘éƒ½å¯ä»¥ç­‰ä»·è½¬åŒ–å¹¶å®ç°ä¸ºäºŒå‰æ ‘ï¼Œæœ¬ç« çš„ç»ˆç‚¹åœ¨äºŒå‰æ ‘ä¸­ï¼Œæˆ‘ä»¬å°†ç”¨é€šè®¯ç¼–ç ç®—æ³•çš„å®ç°è¿™ä¸ªåº”ç”¨å®ä¾‹ä½œä¸ºçº¿ç´¢è´¯ç©¿å…¨ç«  5.1 äºŒå‰æ ‘åŠå…¶è¡¨ç¤º 5.1.1 æ ‘ï¼ˆTreeï¼‰ ä»å›¾è®ºçš„è§’åº¦æ¥çœ‹ï¼Œæ ‘ç­‰ä»·äºè¿é€šæ— ç¯å›¾ï¼Œå› æ­¤ä¸ä¸€èˆ¬çš„å›¾ç›¸åŒï¼Œæ ‘å¯ä»¥ç”¨ ä¸€ç»„å®šç‚¹Vertexï¼ŒåŠå…¶è¿æ¥ä¸å…¶é—´çš„è‹¥å¹²æ¡è¾¹edgeç»„æˆ åœ¨è®¡ç®—æœºç§‘å­¦ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šåœ¨åˆ¶å®šæŸä¸€ç‰¹å®šå®šç‚¹æˆä¸ºæ ¹rootï¼Œå®ç°rooted tree åœ¨ç¨‹åºå®ç°çš„è§’åº¦ä¸Šï¼Œæ›´å¤šå°†å®šç‚¹vertexç§°åšèŠ‚ç‚¹node ç”±äºæ ‘çš„è¿é€šæ€§ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸æ ¹ä¹‹é—´éƒ½æœ‰ä¸€æ¡è·¯ç›¸è¿ï¼Œè€Œæ ¹æ®æ ‘çš„æ— ç¯æ€§ï¼Œç”±æ ¹é€šå¾€æ¯ä¸ªèŠ‚ç‚¹çš„è·¯å¾„å¿…ç„¶å”¯ä¸€ï¼Œå› æ­¤åœ¨æ¯ä¸ªèŠ‚ç‚¹vertexåˆ°æ ¹rootçš„å”¯ä¸€é€šè·¯æ‰€ç»è¿‡è¾¹çš„æ•°ç›®ï¼Œç§°ä½œçš„æ·±åº¦depthï¼Œä¾æ®æ·±åº¦æ’åºå¯ä»¥å¯¹æ‰€æœ‰èŠ‚ç‚¹åšåˆ†å±‚å½’ç±» depthï¼›æ²¿æ¯ä¸ªèŠ‚ç‚¹vertexåˆ°æ ¹rootçš„å”¯ä¸€é€šè·¯æ‰€ç»è¿‡è¾¹çš„æ•°ç›®æˆä¸ºè¯¥èŠ‚ç‚¹çš„æ·±åº¦ ç¥–å…ˆancestor/åä»£descendantï¼›è¿™ä¸ªæ˜¯åŒ…å«vertexèŠ‚ç‚¹æœ¬èº« çœŸç¥–å…ˆproper ancestor/çœŸåä»£proper descendantï¼›ä¸åŒ…å«vertexèŠ‚ç‚¹æœ¬èº« parent/childï¼›ç›¸é‚»çš„æˆä¸ºçˆ¶æ¯èŠ‚ç‚¹ï¼Œå’Œå­©å­èŠ‚ç‚¹ degreeï¼Œvertexçš„å­©å­æ€»æ•°ç§°ä¸ºåº¦æ ‘æˆ–è€…åº¦ï¼Œè®°åšdegï¼ˆvï¼‰ leafï¼Œæ— å­©å­çš„èŠ‚ç‚¹è¢«æˆä¸ºå¶èŠ‚ç‚¹ï¼ŒåŒ…æ‹¬æ ¹åœ¨å†…çš„å…¶ä½™èŠ‚ç‚¹éƒ½è¢«ç§°å†…éƒ¨èŠ‚ç‚¹internal node subtreeï¼›vertexçš„æ‰€æœ‰åä»£åŠå…¶ä¹‹é—´çš„è”è¾¹ç§°ä½œå­æ ‘ï¼Œsubtreeï¼ˆvï¼‰ 5.1.2 äºŒå‰æ ‘ ï¼ˆBinary Treeï¼‰ äºŒå‰æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„degreeå‡ä¸è¶…è¿‡2ï¼Œå› æ­¤åœ¨Binary Treeä¸­åŒä¸€çˆ¶èŠ‚ç‚¹ä¸­çš„æ±‰å­éƒ½å¯ä»¥ä½¿ç”¨å·¦ã€å³ç›¸äº’åŒºåˆ†ï¼Œå› æ­¤å¯ä»¥è¢«ç§°ä¸ºæœ‰åºäºŒå‰ï¼ˆOrdered Binary Treeï¼‰ï¼›ç‰¹åˆ«çš„ï¼Œä¸åŒ…å«ä¸€åº¦èŠ‚ç‚¹çš„äºŒå‰æ ‘ç§°ä¸ºçœŸäºŒå‰æ ‘ï¼ˆProper Binary Treeï¼‰ 5.1.3 å¤šå‰æ ‘ï¼ˆK-ary Treeï¼‰ ä¸€èˆ¬æ¥è¯´ï¼Œæ ‘ä¸­å„èŠ‚ç‚¹çš„degreeçš„æ•°ç›®å¹¶ä¸ç¡®å®šï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„degreeå‡ä¸è¶…è¿‡kä¸ªçš„æœ‰æ ¹æ ‘ï¼Œç§°ä¸ºKå‰æ ‘ åœ¨è¿™ä¸ªè¿‡ç¨‹è¿‡ï¼Œå¤šå‰æ ‘çš„è¡¨ç°æ–¹å¼æœ‰å¤šç§ çˆ¶èŠ‚ç‚¹è¡¨ç¤ºæ–¹æ³• å­©å­èŠ‚ç‚¹è¡¨ç¤ºæ–¹æ³• çˆ¶èŠ‚ç‚¹å’Œå­©å­èŠ‚ç‚¹è¡¨ç¤ºæ–¹æ³• æœ‰åºå¤šå‰æ ‘=äºŒå‰æ ‘ é•¿å­å’Œå…„å¼Ÿ çˆ¶èŠ‚ç‚¹è¡¨ç¤ºæ–¹æ³• å¯ä»¥å°†å„èŠ‚ç‚¹ç»„ç»‡ä¸ºå‘é‡Vectoræˆ–åˆ—è¡¨Listï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ é™¤ä¿å­˜èŠ‚ç‚¹æœ¬èº«çš„ä¿¡æ¯Dataä¹‹å¤–ï¼Œè¿˜éœ€è¦ä¿å­˜çˆ¶èŠ‚ç‚¹Parentçš„Rankæˆ–Position ç‰¹åˆ«çš„ï¼Œå¯ä»¥ä¸ºRootæŒ‡å®šä¸€ä¸ªè™šæ„çš„çˆ¶èŠ‚ç‚¹-1æˆ–Nullï¼Œä¾¿äºç»Ÿä¸€åˆ¤æ–­ å¦‚æ­¤ï¼Œæ‰€æœ‰å‘é‡æˆ–åˆ—è¡¨æ‰€å çš„ç©ºé—´æ€»é‡ä¸ºOï¼ˆNï¼‰ï¼Œçº¿æ€§æ­£æ¯”äºèŠ‚ç‚¹æ€»æ•°Nï¼Œæ—¶é—´æ–¹é¢ï¼Œä»…éœ€å¸¸æ•°æ—¶é—´å°±å¯ä»¥ç¡®å®šä»»ä¸€èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹Parentï¼›ä½†æ˜¯åè¿‡æ¥ï¼Œå­©å­èŠ‚ç‚¹çš„æŸ¥æ‰¾å´ä¸å¾—ä¸èŠ±è´¹Oï¼ˆnï¼‰æ—¶é—´è®¿éæ‰€æœ‰èŠ‚ç‚¹ å­©å­èŠ‚ç‚¹è¡¨ç¤ºæ–¹æ³• å¯ä»¥è®©æ¯ä¸ªèŠ‚ç‚¹å°†å…¶æ‰€æœ‰çš„å­©å­ç»„ç»‡ä¸ºä¸€ä¸ªå‘é‡æˆ–åˆ—è¡¨ï¼Œç”±æ­¤å¯¹äºæ‹¥æœ‰rä¸ªå­©å­çš„èŠ‚ç‚¹ï¼Œå¯ä»¥åœ¨Oï¼ˆr+1ï¼‰çš„æ—¶é—´å†…åˆ—ä¸¾å‡ºå…¶æ‰€æœ‰çš„å­©å­ çˆ¶èŠ‚ç‚¹å’Œå­©å­èŠ‚ç‚¹ ä¸Šé¢ä¸¤ç§æ–¹å¼å„æœ‰æ‰€é•¿ï¼Œä¹Ÿå„æœ‰æ‰€çŸ­ï¼Œä¸ºäº†ç»¼åˆä¸¤è€…ä¹‹é—´çš„ä¼˜åŠ¿ï¼Œæ¶ˆé™¤ç¼ºç‚¹ï¼Œå¯ä»¥ä½¿ç”¨å„èŠ‚ç‚¹è®°å½•çˆ¶èŠ‚ç‚¹ï¼Œä¹Ÿè®°å½•åºåˆ—ä¿å­˜æ‰€æœ‰å­©å­ ä½†æ˜¯è¿™ç§æ–¹æ³•å¹¶ä¸æ˜¯æ²¡æœ‰ç¼ºç‚¹ï¼›å°½ç®¡å¦‚æ­¤å¯ä»¥é«˜æ•ˆå…¼é¡¾å¯¹çˆ¶èŠ‚ç‚¹å’Œå­©å­å®šä½ï¼Œä½†åœ¨èŠ‚ç‚¹æ’å…¥ä¸åˆ é™¤æ“ä½œé¢‘ç¹çš„åœºåˆï¼Œä¸ºäº†åŠ¨æ€ç»´æŠ¤å’Œæ›´æ–°æ ‘çš„æ‹“æ‰‘ç»“æ„ï¼Œä¸å¾—ä¸åå¤éå†å’Œè°ƒæ•´ä¸€äº›èŠ‚ç‚¹æ‰€å¯¹åº”çš„å­©å­åºåˆ—ï¼Œç„¶è€ŒVectorå’ŒListç­‰çº¿æ€§ç»“æ„çš„æ­¤ç±»æ“ä½œéƒ½éœ€è¦è€—è´¹å¤§é‡æ—¶é—´ï¼ŒåŠ¿å¿…å½±å“åˆ°æ•´ä½“çš„æ•ˆç‡ æœ‰åºå¤šå‰æ ‘å’ŒäºŒå‰æ ‘ é‡‡ç”¨ä»æ”¯æŒé«˜æ•ˆåŠ¨æ€è°ƒæ•´çš„äºŒå‰æ ‘ç»“æ„ï¼Œä¸ºæ­¤å¿…é¡»é¦–å…ˆå»ºç«‹ä»å¤šå‰æ ‘åˆ°äºŒå‰æ ‘ä¹‹é—´çš„æŸç§è½¬æ¢å…³ç³»ï¼Œåœ¨è¿™ç§è½¬æ¢çš„æ„ä¹‰ä¸‹ï¼Œä»»ä½•å¤šå‰æ ‘éƒ½ç­‰ä»·ä¸æŸé¢—äºŒå‰æ ‘ é•¿å­å’Œå…„å¼Ÿ å¤šåºå¤šå‰æ ‘ä¸­ä»»ä¸€éå¶èŠ‚ç‚¹éƒ½æœ‰å”¯ä¸€çš„é•¿å­ï¼Œè€Œä¸”å¯ä»¥è¯¥é•¿å­å‡ºå‘ï¼ŒæŒ‰ç…§çº¦å®šæˆ–æŒ‡å®šçš„æ¬¡åºéå†æ‰€æœ‰çš„å­©å­èŠ‚ç‚¹ ä¸€ä¸ªéå¸¸æœ‰è¶£çš„ç°è±¡å‡ºç°ï¼šå°½ç®¡äºŒå‰æ ‘åªæ˜¯å¤šå‰æ ‘çš„ä¸€ä¸ªå­é›†ï¼Œä½†æ˜¯å¯¹åº”ç”¨é—®é¢˜çš„æè¿°å’Œåˆ»ç”»èƒ½åŠ›å¹¶ä¸ä½äºåè€…ï¼Œå®é™…ä¸Šä»¥ä¸‹æˆ‘ä»¬è¿˜èƒ½è¿›ä¸€æ­¥å‘ç°ï¼Œå³ä¾¿å°±è®¡ç®—æ•ˆç‡è€Œè¨€ï¼ŒäºŒå‰æ ‘ä¹Ÿå¹¶ä¸é€Šè‰²ä¸€èˆ¬æ„ä¹‰ä¸Šçš„æ ‘ï¼Œåè¿‡æ¥ï¼Œå¾—ç›Šä¸å®šä¹‰çš„ç®€æ´æ€§ä»¥åŠç»“æ„çš„è§„èŒƒæ€§ï¼ŒäºŒå‰æ ‘æ‰€æ‰€æ”¯æ’‘çš„ç®—æ³•å¾€å¾€å¯ä»¥æ›´å¥½åœ°å¾—åˆ°æè¿°ï¼Œæ›´åŠ ä¾¿æ·å®ç° 5.2 ç¼–ç æ ‘ é€šè¿‡å°†é€šè®¯ç¼–ç ç®—æ³•çš„å®ç°ä½œä¸ºäºŒå‰æ ‘çš„åº”ç”¨å®ä¾‹ï¼Œé€šè®¯ç†è®ºçš„åŸºæœ¬é—®é¢˜æ˜¯åœ¨å°½å¯èƒ½ä½çš„æˆæœ¬ä¸‹ï¼Œç”¨æœ€é«˜çš„é€Ÿåº¦æ¥çœŸå®çš„å®ç°ä¿¡æ¯åœ¨ç©ºé—´å’Œæ—¶é—´ä¸Šçš„å¤åˆ¶å’Œè½¬ç§»ï¼›åœ¨ä¿¡é“è½¬ç§»çš„ä¿¡æ¯å¤§å¤šæŒ‰ç…§äºŒè¿›åˆ¶æ¯”ç‰¹å½¢å¼è¡¨ç¤ºå’Œå­˜åœ¨ï¼Œè€Œæ¯ä¸€ä¸ªå…·ä½“çš„ç¼–ç æ–¹æ¡ˆéƒ½å¯¹åº”ä¸€é¢—äºŒå‰ç¼–ç æ ‘ è®²è§£çš„ä¸æ·±ï¼Œä¸å€¼å¾—çœ‹ï¼Œå¯ä»¥å»çœ‹ã€Šä¿¡æ¯ä¼ è¾“è¿œç¦»ã€‹ 5.3 äºŒå‰æ ‘çš„å®ç° ä½œä¸ºå›¾ï¼ˆGraphï¼‰çš„ç‰¹æ®Šå½¢å¼ï¼ŒäºŒå‰æ ‘çš„åŸºæœ¬ç»„æˆå•å…ƒæ˜¯èŠ‚ç‚¹ä¸è¾¹ï¼Œä½œä¸ºæ•°æ®ç»“æ„ï¼Œå…¶åŸºæœ¬çš„ç»„æˆå®ä½“æ˜¯äºŒå‰æ ‘èŠ‚ç‚¹ï¼ˆBinary Tree Nodeï¼‰ï¼Œè¾¹ä½œç”¨ä¸èŠ‚ç‚¹ä¹‹é—´çš„ç›¸äº’ä½œç”¨","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"TsinghuaBook","slug":"TsinghuaBook","permalink":"https://blog.tjdata.site/tags/TsinghuaBook/"}]},{"title":"PAPER01","slug":"PAPER01","date":"2022-04-08T06:58:34.000Z","updated":"2023-05-13T13:50:03.168Z","comments":true,"path":"posts/fc444d3.html","link":"","permalink":"https://blog.tjdata.site/posts/fc444d3.html","excerpt":"åœ¨ç–«æƒ…å’Œå®šåˆ¶å…¬äº¤çš„èƒŒæ™¯ä¸‹ï¼Œæ¢è®¨å¦‚ä½•ä¿ƒè¿›äººä»¬å¯æŒç»­å‡ºè¡Œï¼Œä¹Ÿå°±æ˜¯å°½å¯èƒ½çš„è½¬å‘å®šåˆ¶å…¬äº¤ï¼Œåšå‡ºçš„ä¸»è¦è´¡çŒ®æ˜¯ç ”ç©¶äº† é€šå‹¤è€…åœ¨ç–«æƒ…ä¸­è½¬å‘å®šåˆ¶å…¬äº¤æœåŠ¡çš„æ„æ„¿ æ ¹æ®é—®å·è°ƒæŸ¥çš„æ–¹æ³•ç¡®å®šäº†ä¸åŒç¾¤ä½“çš„æ¨¡å‹åå¥½ ä¸ºåœ¨ç–«æƒ…ä¸­ä¿ƒè¿›å…¬äº¤æœåŠ¡æä¾›æ½œåœ¨çš„æ”¿ç­–å»ºè®® è®ºæ–‡é“¾æ¥","text":"åœ¨ç–«æƒ…å’Œå®šåˆ¶å…¬äº¤çš„èƒŒæ™¯ä¸‹ï¼Œæ¢è®¨å¦‚ä½•ä¿ƒè¿›äººä»¬å¯æŒç»­å‡ºè¡Œï¼Œä¹Ÿå°±æ˜¯å°½å¯èƒ½çš„è½¬å‘å®šåˆ¶å…¬äº¤ï¼Œåšå‡ºçš„ä¸»è¦è´¡çŒ®æ˜¯ç ”ç©¶äº† é€šå‹¤è€…åœ¨ç–«æƒ…ä¸­è½¬å‘å®šåˆ¶å…¬äº¤æœåŠ¡çš„æ„æ„¿ æ ¹æ®é—®å·è°ƒæŸ¥çš„æ–¹æ³•ç¡®å®šäº†ä¸åŒç¾¤ä½“çš„æ¨¡å‹åå¥½ ä¸ºåœ¨ç–«æƒ…ä¸­ä¿ƒè¿›å…¬äº¤æœåŠ¡æä¾›æ½œåœ¨çš„æ”¿ç­–å»ºè®® è®ºæ–‡é“¾æ¥ 01 å¼•è¨€å’Œæ–‡çŒ®ç»¼è¿° é¦–å…ˆå¤§çš„èƒŒæ™¯æ˜¯ç–«æƒ…ï¼Œåœ¨ç–«æƒ…åˆæœŸäººä»¬ä¸å¯é¿å…çš„å—åˆ°æ”¿ç­–å’Œå±…å®¶åŠå…¬ç­‰å½±å“åœ¨å®¶ï¼Œä½†æ˜¯éšç€ç–«æƒ…æ…¢æ…¢ç»“æŸï¼Œäººä»¬æœ‰ç€ä¸å¯é¿å…çš„å‡ºè¡Œéœ€æ±‚ï¼Œæ ¹æ®å‰äººçš„ç ”ç©¶ï¼Œç–«æƒ…å‰åå‡ºè¡Œçš„ç‰¹ç‚¹åŒ…æ‹¬ å®¢æµéœ€æ±‚é™ä½ã€è´§è¿éœ€æ±‚æå‡ å‡ºè¡Œä½¿ç”¨ç§å®¶è½¦ã€è‡ªè¡Œè½¦å’Œæ­¥è¡Œå‡é«˜ï¼›ä½¿ç”¨å…¶ä»–å…¬å…±äº¤é€šæ–¹å¼é™ä½ ä½†æ˜¯è¿‡åº¦çš„ç§å®¶è½¦å‡ºè¡Œä¼šå…·æœ‰äº¤é€šæ‹¥å µã€ç¯å¢ƒæ±¡æŸ“ç­‰é—®é¢˜ï¼Œå› æ­¤ä¿ƒè¿›ç–«æƒ…å¯æŒç»­å‡ºè¡Œæ˜¯ååˆ†æœ‰å¿…è¦çš„ï¼Œè€Œå®šåˆ¶å…¬äº¤ï¼ˆcustomized busï¼ŒCBï¼‰æ˜¯å…¸å‹çš„éœ€æ±‚å“åº”å¼å…¬äº¤ï¼ˆdemand response transitï¼ŒDRTï¼‰ï¼Œåˆ©ç”¨ç±»ä¼¼å…¬äº¤æœåŠ¡äºå…·æœ‰ç›¸åŒå‡ºè¡Œç‚¹å’Œç›®çš„åœ°çš„ä¹˜å®¢ï¼Œå®ƒå…·æœ‰æ¯”ç§å®¶è½¦æ›´ç¯ä¿ã€æ¯”ä¼ ç»Ÿå…¬å…±äº¤é€šæˆæœ¬æ›´ä½ã€åŒæ—¶å…·æœ‰ç§å¯†ã€çµæ´»å’Œæ¥é©³çš„ç‰¹ç‚¹ï¼Œä»ç–«æƒ…çš„è§’åº¦å¯ä»¥æœ‰æ•ˆçš„é¿å…è·¯ä¸Šçš„äº¤å‰æ„ŸæŸ“ï¼Œ ä»å®šåˆ¶å…¬äº¤å’Œç–«æƒ…ä¸­äººä»¬å‡ºè¡Œè¡Œä¸ºå˜åŒ–çš„å‘å±•æ¥çœ‹ å®šåˆ¶å…¬äº¤çš„æ–‡çŒ®ä¸»è¦ç ”ç©¶å¦‚ä½•æå‡å…¶æœåŠ¡æ°´å¹³ï¼ŒåŒ…æ‹¬è·¯å¾„è§„åˆ’ã€è½¦è¾†è°ƒåº¦ã€æœåŠ¡è´¨é‡ç­‰ï¼Œæ²¡æœ‰ç ”ç©¶å®šåˆ¶å…¬äº¤å…·æœ‰å¸å¼•åŠ›çš„åŸå› ï¼›å› æ­¤å¯ä»¥ç ”ç©¶ç–«æƒ…ä¸­å®šåˆ¶å…¬äº¤å¦‚ä½•å½±å“äººä»¬çš„å‡ºè¡Œè¡Œä¸ºé€‰æ‹© åœ¨ç–«æƒ…å‰åï¼Œäººä»¬çš„å‡ºè¡Œæ–¹å¼å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œå…¶ä¸­è®¾è®¡åˆ°äººå£ç‰¹å¾ã€æ”¿ç­–å’Œä¸ªäººè§‚å¿µï¼Œå› æ­¤ç ”ç©¶ç–«æƒ…æ±‡æ€»äººä»¬å‡ºè¡Œè¡Œä¸ºåå¥½çš„æ”¹å˜ 02 æ–¹æ³•å’Œå®éªŒ å› æ­¤æœ¬æ–‡ä½¿ç”¨è°ƒæŸ¥é—®å·çš„æ–¹å¼ï¼Œåœ¨é—®å·è°ƒæŸ¥ä¸­ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š RPè°ƒæŸ¥ï¼Œæ˜¯é’ˆå¯¹ç”¨æˆ·çš„çœŸå®åœºæ™¯è¿›è¡Œæé—®ï¼Œåˆ©ç”¨ç™¾åº¦APIçˆ¬å–çš„é€šå‹¤èµ·ç»ˆç‚¹æ­¥è¡Œã€éª‘è¡Œã€ç§å®¶è½¦ã€å…¬äº¤è½¦ã€åœ°é“å’Œå®šåˆ¶å…¬äº¤çš„æ—¶é—´ã€è·ç¦»å’Œè´¹ç”¨ç­‰ç‰¹å¾ SPè°ƒæŸ¥æ—¶åœ¨ç»™å®šåœºæ™¯ä¸­å¯¹ç”¨æˆ·çš„è¡Œä¸ºè¿›è¡Œåˆ¤æ–­ï¼Œå¯¹è°ƒæŸ¥ç”¨æˆ·åœ¨æ”¶è´¹å’Œé€Ÿåº¦ä¸åŒçš„å››ç§åœºæ™¯ä¸‹è½¬å‘å®šåˆ¶å…¬äº¤çš„æ„æ„¿ç‰¹å¾åˆ†æï¼›å››ç§æ­£äº¤åœºæ™¯åŒ…æ‹¬ç¥¨ä»·å’Œæ—…è¡Œé€Ÿåº¦çš„å·®å¼‚ åŸºæœ¬çš„å±æ€§å’Œç¤¾ä¼šå­¦ç‰¹å¾ï¼ŒåŒ…æ‹¬æ€§åˆ«ã€å¹´é¾„ã€å—æ•™è‚²ç¨‹åº¦ã€æ”¶å…¥ã€æ˜¯å¦æœ‰é©¾ç…§ã€æ˜¯å¦æœ‰ç§å®¶è½¦ã€æ˜¯å¦æœ‰è‡ªè¡Œè½¦/æ‘©æ‰˜è½¦ ä¹‹åä½¿ç”¨å¤šç±»åˆ«é€»è¾‘å›å½’å’ŒåµŒå¥—é€»è¾‘å›å½’åˆ†æï¼Œå®ƒä»¬äºé€»è¾‘å›å½’çš„åŒºåˆ«åœ¨äºï¼Œ é€»è¾‘å›å½’ å‡è®¾ æˆæœ¬å‡½æ•° å¤šç±»åˆ«é€»è¾‘å›å½’ ï¼ˆpsï¼šæˆ‘è§‰å¾—å°±æ˜¯softmax regressionï¼‰ï¼Œå®ƒå—åˆ°ä¸ç›¸å…³æ›¿ä»£æ–¹æ¡ˆçš„ç‹¬ç«‹æ€§å½±å“ï¼Œä¼šå¯¼è‡´ä¸åŒç±»åˆ«ä¹‹é—´å…·æœ‰äº’æ–¥æ€§ï¼Œå› ä¸ºæˆ‘ä»¬æš‚æ—¶è¿˜ä¸çŸ¥é“CBä¸å…¶ä»–äº¤é€šæ–¹å¼æ˜¯å¦å…·æœ‰ç›¸ä¼¼æ€§ï¼Œå¯¼è‡´ä¸åŒç±»åˆ«ä¹‹é—´å…·æœ‰äº’æ–¥æ€§ åµŒå¥—é€»è¾‘å›å½’ å…è®¸æŸäº›å¤‡é€‰æ¨¡å¼ä¹‹é—´å­˜åœ¨ç›¸å…³æ€§ï¼Œæ”¾å®½äº†ä¸åŒç±»åˆ«ä¹‹é—´çš„ç‹¬ç«‹åŒåˆ†å¸ƒçš„å‡è®¾ 03 ç»“æœå’Œè®¨è®º å»ºç«‹çš„æ¨¡å‹ä¸º æ ¹æ®å‡è®¾æ£€éªŒåˆ¤æ–­NLå¹¶ä¸æ˜¾è‘—ï¼Œè¯´æ˜CBå’Œå…¶ä»–äº¤é€šæ–¹å¼æœ‰æ˜æ˜¾çš„å·®å¼‚ï¼Œå› æ­¤ä¸»è¦çœ‹MNLçš„ç»“æœå°±è¡Œ å•ç¨‹å®¢åˆ¶åŒ–ç¥¨ä»·ç³»æ•°ä¸ºè´Ÿï¼ˆ-0.1141ï¼‰ï¼›å®šåˆ¶å·´å£«çš„å‡ºè¡Œæ—¶é—´å¯¹é€šå‹¤è€…çš„å‡ºè¡Œæ–¹å¼é€‰æ‹©æ¦‚ç‡äº§ç”Ÿè´Ÿé¢å½±å“ï¼ˆ-1.3966ï¼‰ å¤§å¤šæ•°æ¨¡å¼çš„æ—…è¡Œæ—¶é—´ç³»æ•°ä¸ºè´Ÿã€‚æ±½è½¦çš„å‡ºè¡Œæ—¶é—´ç³»æ•°åˆ†åˆ«æ˜¯æ­¥è¡Œå’Œä¹˜åå…¬å…±æ±½è½¦çš„2.41å€å’Œ2.16å€ å—è®¿è€…å¯¹å…¬å…±æ±½è½¦çš„è¿›å‡ºè·ç¦»å’Œåœ°é“çš„å‡ºå£è·ç¦»å¾ˆæ•æ„Ÿã€‚åœ°é“çš„å‡ºå£è·ç¦»å½±å“è¾ƒå¤§ï¼ˆ-1.12ï¼‰ï¼Œè€Œå…¬äº¤è½¦çš„å‡ºå£è·ç¦»ä¸æ˜æ˜¾ï¼ˆ-0.3321ï¼‰ã€‚ ä¹‹åæ ¹æ®ASCï¼Œä¹Ÿå°±æ˜¯å—è®¿è€…åœ¨ä¸é‡‡å–ä»»ä½•æªæ–½æ—¶å€™çš„å–å€¼ï¼Œåæ˜ ä¿æŒç°çŠ¶å—è®¿è€…çš„åŸºå‡†æ•ˆç”¨ Ã˜å¹´è½»äººæ›´æ„¿æ„ä¹˜ååœ°é“å’Œå…¬å…±æ±½è½¦é€šå‹¤ï¼Œå¯¹å®šåˆ¶å…¬äº¤æ¯”è¾ƒç§¯æ Ã˜ä¸­å¹´äººæ›´å–œæ¬¢ä¹˜åå®šåˆ¶å…¬äº¤å‡ºå‹¤ Ã˜ä¸­ç­‰æ”¶å…¥å€¾å‘äºä¸æ­¥è¡Œé€šå‹¤ Ã˜è¾ƒé«˜æ”¶å…¥å¯¹ç§å®¶è½¦è¡¨ç°æ›´é«˜çš„åå¥½ Ã˜é«˜ç­‰æ•™è‚²å¯¹å®šåˆ¶å…¬äº¤å…·æœ‰å¼ºçƒˆçš„åå¥½ Ã˜å¥³æ€§å‡ºè¡Œè€…æ›´å€¾å‘äºä½¿ç”¨å®šåˆ¶å…¬äº¤æœåŠ¡ï¼Œæ¯”ç”·æ€§æ›´è®¨åŒæ­¥è¡Œå’Œéª‘è‡ªè¡Œè½¦ Ã˜ç”·æ€§å¯¹ä¸åŒé€šå‹¤æ–¹å¼çš„åå¥½æ²¡æœ‰æ˜¾è‘—å·®å¼‚ Ã˜æ— é©¾ç…§äººç¾¤æ›´å€¾å‘äºå®šåˆ¶å…¬äº¤ï¼ŒåŒæ—¶å¯¹ç§å®¶è½¦å‡ºè¡Œæ¶ˆæ Ã˜æœ‰é©¾ç…§äººç¾¤å¯¹ç§å®¶è½¦å‡ºè¡Œå’Œå®šåˆ¶å…¬äº¤éƒ½ç§¯æ Ã˜æœ‰è½¦ç¾¤ä½“æ„¿æ„å¼€è½¦é€šå‹¤ï¼Œä½†æ¯”æ²¡æœ‰è½¦çš„äººæ›´æ„¿æ„æ”¹ä¹˜å®šåˆ¶å·´å£« Ã˜æœ‰è‡ªè¡Œè½¦çš„å—è®¿è€…ä½¿ç”¨è‡ªè¡Œè½¦ä¸Šç­çš„å¯èƒ½æ€§æ›´é«˜ï¼Œä½†æ˜¯å®šåˆ¶å…¬äº¤å¯¹ä»–ä»¬ä¹Ÿå¾ˆæœ‰å¸å¼•åŠ› Ã˜æœ‰è‡ªè¡Œè½¦çš„å—è®¿è€…ä½¿ç”¨è‡ªè¡Œè½¦ä¸Šç­çš„å¯èƒ½æ€§æ›´é«˜ï¼Œä½†æ˜¯å®šåˆ¶å…¬äº¤å¯¹ä»–ä»¬ä¹Ÿå¾ˆæœ‰å¸å¼•åŠ› ç”±ä¸Šè¿°ç»™å‡ºçš„å»ºè®® ä»çŸ­æœŸæ¥çœ‹ï¼Œå…¬ä¼—æ„¿æ„æ¥å—å…·æœ‰ä¸ªäººé˜²æŠ¤è®¾å¤‡å’Œç–«æƒ…é˜²æ§çš„åŸºæœ¬ç”¨å“çš„å®šåˆ¶å…¬äº¤æœåŠ¡ ä»é•¿è¿œæ¥çœ‹ï¼Œç”±äºå COVID-19 æ—¶æœŸçš„æ±½è½¦é€šå‹¤è€…æ›´æ„¿æ„ä½¿ç”¨å®šåˆ¶å·´å£«ï¼Œè€Œå®šåˆ¶å·´å£«çš„å‡ºè¡Œæ—¶é—´æ˜¯ä¸€ä¸ªé‡è¦å˜é‡ï¼Œæ”¿åºœåº”å®æ–½ç›¸å…³æ”¿ç­–æ¥æ¨åŠ¨è¿™ä¸€è½¬å˜ã€‚ å…³äºæ¯ä¸ªç¾¤ä½“çš„ç‰¹ç‚¹ï¼Œé‡è¦çš„æ˜¯è¦è€ƒè™‘ä¸­å¹´ï¼ˆ31 è‡³ 36 å²ï¼‰æˆ–å—è¿‡é«˜ç­‰æ•™è‚²ï¼ˆç¡•å£«å’Œåšå£«å­¦ä½ï¼‰/ä¸­ç­‰æ”¶å…¥/æ²¡æœ‰æ‰§ç…§æˆ–åŒä¼´ï¼Œå¹¶æ‹¥æœ‰æ±½è½¦å’Œè‡ªè¡Œè½¦ã€‚åº”è¯¥ä¸ºè¿™äº›ç¾¤ä½“è®¾è®¡å…·ä½“çš„æ”¿ç­–ã€‚ç¥¨ä»·æŠ˜æ‰£å’Œè¡¥è´´å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªèµ·ç‚¹ã€‚","categories":[{"name":"Trans","slug":"Trans","permalink":"https://blog.tjdata.site/categories/Trans/"}],"tags":[{"name":"paper_reading","slug":"paper-reading","permalink":"https://blog.tjdata.site/tags/paper-reading/"}]},{"title":"Single01-è®¾è®¡æ¨¡å¼","slug":"Single01-è®¾è®¡æ¨¡å¼","date":"2022-04-08T06:58:34.000Z","updated":"2023-05-13T13:51:09.687Z","comments":true,"path":"posts/4de165f7.html","link":"","permalink":"https://blog.tjdata.site/posts/4de165f7.html","excerpt":"è¯»ä¹¦ç¬”è®°","text":"è¯»ä¹¦ç¬”è®° 0x01 åŸºç¡€çŸ¥è¯† æ¨¡å¼ï¼šæ¯ä¸ªæ¨¡å¼éƒ½æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬çš„ç¯å¢ƒä¸­ä¸æ–­å‡ºç°çš„é—®é¢˜ï¼Œç„¶åæè¿°äº†è¯¥é—®é¢˜çš„è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æ— æ•°æ¬¡é‡ç”¨é‚£äº›å·²æœ‰çš„æˆåŠŸçš„è§£å†³æ–¹æ¡ˆï¼Œæ— é¡»é‡å¤ç›¸åŒçš„å·¥ä½œ a pattern is a successful or efficient solution to a recurring problem within a context! è®¾è®¡æ¨¡å¼ ä¸€èˆ¬åŒ…å«æ¨¡å¼åç§°ã€é—®é¢˜ã€ç›®çš„ã€è§£å†³æ–¹æ¡ˆå’Œæ•ˆæœç­‰ç»„æˆè¦ç´ ï¼Œå…¶ä¸­å…³é”®è¦ç´ æ˜¯æ¨¡å¼åç§°ã€é—®é¢˜ã€è§£å†³æ–¹æ¡ˆå’Œæ•ˆæœ pattern nameï¼šé€šè¿‡ä¸€ä¸¤ä¸ªè¯æ¥æè¿°æ¨¡å¼çš„é—®é¢˜ã€è§£å†³æ–¹æ¡ˆå’Œæ•ˆæœï¼Œä¾¿äºæ›´å¥½çš„ç†è§£æ¨¡å¼å¹¶æ–¹ä¾¿å¼€å‘äººå‘˜ä¹‹é—´çš„äº¤æµ Problemï¼šæè¿°äº†åº”è¯¥åœ¨ä½•æ—¶ä½¿ç”¨æ¨¡å¼ï¼ŒåŒ…å«äº†åœ¨è®¾è®¡ä¸­å­˜åœ¨çš„é—®é¢˜ä»¥åŠé—®é¢˜å­˜åœ¨çš„åŸå›  Solutionï¼šæè¿°è®¾è®¡æ¨¡å¼çš„ç»„æˆæˆåˆ†ï¼Œä»¥åŠè¿™äº›ç»„æˆæˆåˆ†ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œå„è‡ªçš„èŒè´£å’Œåä½œæ–¹å¼ï¼Œé€šå¸¸è§£å†³æ–¹æ¡ˆé€šè¿‡UMLç±»å›¾å’Œæ ¸å¿ƒä»£ç æ¥è¿›è¡Œæè¿° Consequencesï¼šæè¿°äº†æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ä»¥åŠåœ¨ä½¿ç”¨æ¨¡å¼åº”è¯¥æƒè¡¡çš„é—®é¢˜ æ¨¡å¼çš„åˆ†ç±»ä¸»è¦åˆ†ä¸ºcreationalã€structuralã€behavioralä¸‰ç§ creationalï¼šæè¿°å¦‚ä½•åˆ›å»ºå¯¹è±¡ structuralï¼šä¸»è¦ç”¨äºæè¿°å¦‚ä½•å®ç°ç±»æˆ–å¯¹è±¡çš„ç»„åˆ behavioralï¼šæè¿°ç±»æˆ–å¯¹è±¡æ€ä¹ˆäº¤äº’ä»¥åŠæ€ä¹ˆåˆ†é…èŒè´£ è®¾è®¡æ¨¡å¼çš„ä½œç”¨ å¯ä»¥å®ç°å¯ç»´æŠ¤å¤ç”¨çš„è®¾è®¡æ–¹æ¡ˆï¼Œä½¿ç”¨è¿™äº›æ–¹æ¡ˆå¯ä»¥è®©æˆ‘ä»¬é¿å…åšä¸€äº›é‡å¤æ€§çš„å·¥ä½œï¼Œæœ‰åŠ©äºå¸®åŠ©æˆ‘ä»¬æé«˜å¼€å‘å’Œè®¾è®¡æ•ˆç‡ï¼ŒåŒæ—¶æä¾›äº†ä¸€å¥—é€šç”¨çš„è®¾è®¡è¯æ±‡å’Œä¸€ç§é€šç”¨çš„å½¢å¼æ¥æ–¹ä¾¿å¼€å‘äººå‘˜ä¹‹é—´æ²Ÿé€šå’Œäº¤æµã€ä½¿å¾—è®¾è®¡æ–¹æ¡ˆæ›´åŠ é€šä¿—æ˜“æ‡‚ï¼Œå¤§éƒ¨åˆ†è®¾è®¡æ¨¡å¼éƒ½å…¼é¡¾äº†ç³»ç»Ÿçš„å¯é‡ç”¨æ€§å’Œå¯æ‹“å±•æ€§ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°é‡ç”¨ä¸€äº›å·²æœ‰çš„è®¾è®¡æ–¹æ¡ˆã€åŠŸèƒ½æ¨¡å—ç”šè‡³ä¸€ä¸ªæ™šè¿˜åœ¨å‘¢ä¸ªçš„è½¯ä»¶ä¸‹ç³»ç»Ÿï¼Œé¿å…åšä¸€äº›é‡å¤çš„è®¾è®¡ï¼ˆdonnot repeat your code) é¢å‘å¯¹è±¡ é¢å‘å¯¹è±¡çš„è½¯ä»¶ç³»ç»Ÿçš„è®¾è®¡ï¼Œåœ¨æ”¯æŒå¯ç»´æŠ¤æ€§çš„åŒæ—¶ï¼Œæé«˜ç³»ç»Ÿçš„å¯å¤ç”¨æ€§æ˜¯ä¸€ä¸ªè‡³å…³é‡è¦çš„é—®é¢˜ï¼Œå¦‚ä½•åŒæ—¶æé«˜ä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œå¯å¤ç”¨æ€§æ˜¯é¢å‘å¯¹è±¡è®¾è®¡éœ€è¦è§£å†³çš„æ ¸å¿ƒé—®é¢˜ä¹‹ä¸€ï¼Œå¸¸è§çš„é¢å‘å¯¹è±¡çš„å…·æœ‰ä¸€ä¸‹çš„è®¾è®¡åŸåˆ™ å•ä¸€èŒè´£åŸåˆ™ single responsibility principle ä¸€ä¸ªç±»ä¹‹è´Ÿè´£ä¸€ä¸ªåŠŸèƒ½é¢†åŸŸæ€»çš„ç›¸å…³èŒè´£ï¼Œæˆ–è€…å¯ä»¥å®šä¹‰ä¸ºï¼Œå°±ä¸€ä¸ªç±»è€Œè¨€ï¼Œåº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·ä»–å˜åŒ–çš„åŸå› ï¼›åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªç±»æ‰¿æ‹…çš„èŒè´£è¶Šå¤šï¼Œå®ƒè¢«å¤ç”¨çš„å¯èƒ½æ€§å°±è¶Šå° å¼€é—­åŸåˆ™ open closed principle ä¸€ä¸ªè½¯ä»¶å®ä½“åº”è¯¥å¯¹æ‹“å±•å¼€å‘ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼Œè½¯ä»¶å®ä½“åº”å°½é‡åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç æƒ…å†µä¸‹è¿›è¡Œæ‹“å±• ä¸ºäº†æ»¡è¶³å¼€é—­åŸåˆ™é¥¿ï¼Œéœ€è¦å¯¹ç³»ç»Ÿè¿›è¡ŒæŠ½è±¡åŒ–è®¾è®¡ï¼ŒæŠ½è±¡åŒ–æ˜¯å¼€é—­åŸåˆ™é¥¿çš„å…³é”® 12345678910111213// display æ–¹æ³•if(type.equals(&#x27;pie&#x27;)&#123;pieCHart chart=new PieChart()chart.display();&#125;else if (type.equals(&#x27;bar&#x27;))&#123;barChart chart=new BarChart();chart.dispaly();&#125;)// ä½†æ˜¯è¿™ç§æ–¹æ³•ä¸­ï¼Œå¦‚æœéœ€è¦å¢åŠ ä¸€ä¸ªæ–°çš„å›¾è¡¨ç±»ï¼Œæ¯”å¦‚æŠ˜çº¿å›¾lineChartï¼Œå°±éœ€è¦ä¿®æ”¹chartdisplayçš„æºä»£ç ï¼Œå¢åŠ åˆ¤æ–­é€»è¾‘è¿åäº†å¼€é—­åŸåˆ™//é‡æ„ä»£ç ï¼Œéœ€è¦é€šè¿‡æŠ½è±¡åŒ–çš„æ–¹å¼æ¥å¯¹ç³»ç»Ÿè¿›è¡Œå†²ä¸ªï¼Œä½¿ä¹‹å¢åŠ æ–°çš„å›¾è¡¨æ—¶ä¸éœ€è¦ä¿®æ”¹æºä»£ç 1. å¢åŠ ä¸€ä¸ªæŠ½è±¡å›¾è¡¨ç±»AbstractChart å°†ä½¿ç”¨å„ç§å…·ä½“å›¾è¡¨ç±»ä½œä¸ºå­ç±»2. chartdisplayç±»é’ˆå¯¹æŠ½è±¡å›¾è¡¨ç±»è¿›è¡Œç¼–ç¨‹ï¼Œç”±å®¢æˆ·ç«¯æ¥å†³å®šä½¿ç”¨é‚£ç§å…·ä½“å›¾è¡¨ é‡Œæ°ä»£æ¢åŸåˆ™ liskov substitution principle æ‰€æœ‰å¼•ç”¨çˆ¶ç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜åœ°ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡ é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å®ç°å¼€é—­åŸåˆ™çš„é‡è¦ åœ¨è½¯ä»¶ä¸­å°†ä¸€ä¸ªåŸºç±»å¯¹è±¡æ›¿æ¢æˆä¸ºå­ç±»å¯¹è±¡ï¼Œç¨‹åºå°†ä¸ä¼šå‡ºç°ä»»ä½•é”™è¯¯å’Œå¼‚å¸¸ï¼Œéœ€è¦æ³¨æ„çš„é—®é¢˜æœ‰ å­ç±»çš„æ‰€æœ‰é˜²èŒƒå¿…é¡»åœ¨å¼—é›·ä¸­ç”Ÿå‘½ï¼Œä¸ºäº†ä¿è¯ç³»ç»Ÿçš„æ‹“å±•æ€§ï¼Œåœ¨ç¨‹åºé€šå¸¸ä½¿ç”¨parent classæ¥è¿›è¡Œå®šä¹‰ å°½é‡æŠŠparent classè®¾è®¡ä¸ºæŠ½è±¡ç±»æˆ–è€…å€Ÿå£ï¼Œè®©sub classç»§æ‰¿parent classæˆ–è€…å®ç°parent classå€Ÿå£ ä¾èµ–å€’è½¬åŸåˆ™ dependence inversion principle æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”å½“ä»¥æ¥äºæŠ½è±¡ è¦æ±‚æˆ‘ä»¬åœ¨ç¨‹åºä»£ç ä¸­ä¼ é€’å‚æ•°æˆ–è€…åœ¨å…³è”å…³ç³»æ±‡æ€»ï¼Œå°½é‡å¼•ç”¨å±‚æ¬¡é«˜çš„æŠ½è±¡å±‚ç±»ï¼Œä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»è¿›è¡Œå˜é‡ç±»å‹ç”Ÿå‘½ã€å‚æ•°ç±»å‹ç”Ÿå‘½ã€æ–¹æ³•è¿”å›ç±»å£°æ˜ä»¥åŠæ•°æ®ç±»å‹çš„è½¬æ¢ï¼Œè€Œä¸æ˜¯è¦ç”¨å…·ä½“ç±»æ¥åšè¿™äº›äº‹æƒ… æ¥å£éš”ç¦»åŸåˆ™ interface segregation principle ä½¿ç”¨å¤šä¸ªä¸“é—¨çš„æ¥å£ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å•ä¸€çš„æ€»ç»“å£ æ¥å£ä¸èƒ½å¤ªå°ï¼Œå¤ªå°é€ æˆæ•°é‡å¤ªå¤šéš¾ä»¥ç»´æŠ¤ï¼Œæ¥å£ä¸èƒ½å¤ªå¤§ï¼Œå¤ªå°è¿åæ¥å£éš”ç¦»çš„åŸåˆ™ åˆæˆå¤ç”¨åŸåˆ™ composite reuse principle å°½é‡ä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯ç»§æ‰¿æ¥è¾¾åˆ°å¤ç”¨çš„ç›®çš„ï¼Œæ˜¯åœ¨ä¸€ä¸ªæ–°çš„å¯¹è±¡ä¾‹é€šè¿‡å…³è”å…³ç³»æ¥ä½¿ç”¨ä¸€äº›å·²æœ‰çš„å¯¹è±¡ï¼Œä½¿ä¹‹æˆä¸ºæ–°å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œæ–°å¯¹è±¡é€šè¿‡å§”æ´¾è°ƒç”¨å·²æœ‰å¯¹è±¡çš„æ–¹æ³•è¾¾åˆ°å¤ç”¨åŠŸèƒ½çš„ç›®çš„ è¿ªç±³ç‰¹æ³•åˆ™ law of Demeter ä¸€ä¸ªè½¯ä»¶å®ä½“åº”è¯¥å°½å¯èƒ½å‡å°‘å’Œå…¶ä»–å®ä½“å‘ç”Ÿç›¸äº’ä½œç”¨ 0x02 å…­ç§ åˆ›å»ºæ¨¡å¼ 2.1 ç®€å•å·¥å‚æ¨¡å¼ é¦–å…ˆå°†éœ€è¦åˆ›å»ºçš„å„ç§ä¸åŒå¯¹è±¡çš„ç›¸å…³ä»£ç å°è£…åˆ°ä¸åŒçš„ç±»ä¸­ï¼Œè¿™ç§ç±»ç§°ä¹‹ä¸ºå…·ä½“äº§å“ç±»ï¼Œè€Œ å°†ä»–ä»¬çš„å…¬å…±çš„ä»£ç è¿›è¡ŒæŠ½è±¡å’Œæå–åå°è£…åœ¨ä¸€ä¸ªæŠ½è±¡äº§å“ç±»ä¸­ï¼Œæ¯ä¸€ä¸ªå…·ä½“äº§å“ç±»éƒ½æ˜¯æŠ½è±¡äº§å“ç±»çš„å­ç±»ï¼Œç„¶åæä¾›ä¸€ä¸ªå·¥å‚ç±»ç”¨äºåˆ›å»ºå„ç§äº§å“ï¼Œåœ¨å·¥å‚ç±»ä¸­æä¾›ä¸€ä¸ªåˆ›å»ºäº§å“çš„å·¥å‚æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥æ ¹æ®æ‰€ä¼ å…¥çš„å‚æ•°ä¸åŒåˆ›å»ºä¸åŒçš„å…·ä½“äº§å“å¯¹è±¡ï¼Œå®¢æˆ·ç«¯åªéœ€è¦è°ƒç”¨å·¥ç¨‹ç±»çš„å·¥å‚æ–¹æ³•å¹¶ä¼ å…¥å“åº”çš„å‚æ•°å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªäº§å“å¯¹è±¡ 0x03 ä¸ƒç§ ç»“æ„æ¨¡å¼ 0x04 åä¸€ç§è¡Œä¸ºæ¨¡å¼","categories":[{"name":"Baseline","slug":"Baseline","permalink":"https://blog.tjdata.site/categories/Baseline/"}],"tags":[{"name":"Single","slug":"Single","permalink":"https://blog.tjdata.site/tags/Single/"}]},{"title":"CS229-09--å­¦ä¹ ç†è®ºç»ˆç« ","slug":"CS229-09--å­¦ä¹ ç†è®ºç»ˆç« ","date":"2022-04-03T08:56:49.000Z","updated":"2023-05-13T13:47:39.675Z","comments":true,"path":"posts/be2cd4f6.html","link":"","permalink":"https://blog.tjdata.site/posts/be2cd4f6.html","excerpt":"åœ¨ç›®å‰æ²¡æœ‰è¶³å¤Ÿåšçš„ç»éªŒæˆ–è€…è¯´æ˜¯æœºå™¨å­¦ä¹ ç´ å…»çš„æƒ…å†µä¸‹æ¥çœ‹è¿™ç§æ–‡ç« æ— ç–‘æ˜¯ä¸€ç§æŠ˜ç£¨ï¼Œå› æ­¤è¿‡ä¸€éæ¦‚å¿µå°±overæƒ¹ï¼ŒåŒæ—¶è®°å½•ä¸€ä¸‹æ–‡çŒ®ç®¡ç†ä¸­çš„ä¸€äº›ç»éªŒ","text":"åœ¨ç›®å‰æ²¡æœ‰è¶³å¤Ÿåšçš„ç»éªŒæˆ–è€…è¯´æ˜¯æœºå™¨å­¦ä¹ ç´ å…»çš„æƒ…å†µä¸‹æ¥çœ‹è¿™ç§æ–‡ç« æ— ç–‘æ˜¯ä¸€ç§æŠ˜ç£¨ï¼Œå› æ­¤è¿‡ä¸€éæ¦‚å¿µå°±overæƒ¹ï¼ŒåŒæ—¶è®°å½•ä¸€ä¸‹æ–‡çŒ®ç®¡ç†ä¸­çš„ä¸€äº›ç»éªŒ 01 è®¡ç®—å­¦ä¹ ç†è®º è®¡ç®—å­¦ä¹ ç†è®ºå¸Œæœ›å›ç­” åœ¨ä»€ä¹ˆæ ·çš„æ¡ä»¶ä¸‹æˆåŠŸçš„å­¦ä¹ æ˜¯å¯èƒ½çš„ åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹æŸä¸ªç‰¹å®šçš„å­¦ä¹ ç®—æ³•å¯ä»¥ä¿è¯æˆåŠŸè¿è¡Œ åœ¨å¯èƒ½è¿‘ä¼¼æ­£ç¡®ï¼ˆprobably approximately correctï¼ŒPACï¼‰ä¸‹ï¼Œæˆ‘ä»¬ç¡®å®šè‹¥å¹²å‡è®¾ç±»åˆ«ï¼Œåˆ¤æ–­å®ƒä»¬èƒ½å¦ä»å¤šé¡¹å¼æ•°é‡çš„è®­ç»ƒé›†ä¸­å¾—åˆ°ï¼ŒåŒæ—¶å¯¹å‡è®¾ç©ºé—´çš„è‡ªç„¶åº¦é‡æ¥ç•Œå®šå½’çº³å­¦ä¹ æ‰€éœ€çš„æ ·ä¾‹çš„è®­ç»ƒæ•°ç›® 1.1 é—®é¢˜å’Œé”™è¯¯ç‡ æˆ‘ä»¬å…·æœ‰æ•°æ®é›†åˆ(x^{(i)},y^{(i)}ï¼‰ï¼Œä»¥åŠåšå‡ºçš„å‡è®¾çš„é›†åˆHå’Œå­¦ä¹ ç®—æ³•Lï¼Œåœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼Œæˆ‘ä»¬æ„Ÿå…´è¶£çš„æ˜¯åˆ»ç”»ä¸åŒçš„å­¦ä¹ å™¨Lçš„æ€§èƒ½ï¼Œè¿™äº›å­¦ä¹ å™¨ä½¿ç”¨ä¸åŒå‡è®¾ç©ºé—´Hæ¥å­¦ä¹ ä¸åŒç±»åˆ«çš„Cä¸­çš„ç›®æ ‡æ¦‚å¿µ ä¸ºäº†æè¿°å­¦ä¹ å™¨Lè¾“å‡ºçš„å‡è®¾hå¯¹çœŸå®ç›®æ ‡çš„é€¼è¿‘æˆå¥ï¼Œæˆ‘ä»¬å®šä¹‰çœŸå®é”™è¯¯ç‡ï¼ˆtrue errorï¼‰,æ³¨æ„è¿™é‡Œçš„çœŸå®é”™è¯¯ç‡çš„å®šä¹‰æ˜¯åœ¨æ•´ä¸ªå®ä¾‹çš„åˆ†å¸ƒä¸Šï¼Œè€Œä¸åªæ˜¯è®­ç»ƒæ ·ä¾‹ä¸Šï¼Œå› ä¸ºå®ƒæ˜¯åœ¨å®é™…åº”ç”¨æ­¤å‡è®¾håé‡åˆ°çš„çœŸå®é”™è¯¯ç‡ error(h)=Pr[c(x) =h(x)]error(h)=Pr[c(x)~=h(x)]error(h)=Pr[c(x) =h(x)] è¿™ä¸ªé”™è¯¯ç‡çš„åˆ†å¸ƒä¾èµ–äºæœªçŸ¥çš„æ¦‚ç‡åˆ†å¸ƒï¼Œè¿™ä¸ªæ¦‚ç‡åˆ†å¸ƒæ˜¯å’Œå‡è®¾ç©ºé—´ç›¸å…³çš„ï¼›å¦å¤–ä¸€æ–¹é¢hå¯¹äºcçš„é”™è¯¯ç‡ä¸èƒ½ç›´æ¥ç”±å­¦ä¹ å™¨è§‚å¯Ÿåˆ° æˆ‘ä»¬çš„ç›®çš„æ˜¯åˆ»ç”»ä¸€ä¸ªï¼šèƒ½å¤Ÿä»åˆç†æ•°é‡çš„éšæœºæŠ½æ ·è®­ç»ƒæ ·ä¾‹ä¸­é€šè¿‡åˆç†çš„è®¡ç®—æ¥å¾—åˆ°ä¸€ä¸ªå¯é çš„å‡è®¾ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•æ¥æè¿°è¿™ç§å¯å­¦ä¹ æ€§ï¼Ÿæˆ‘ä»¬å½“ç„¶å¸Œæœ›æ‰€æœ‰çš„çœŸå®é”™è¯¯ç‡éƒ½ä¸º0ï¼Œä½†æ˜¯è¿™æ ·æ˜¯ä¸ç°å®çš„ï¼ˆæ€ç»´è¾©è¯å°±çŸ¥é“ä¸åˆé€‚ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä»è¿™ä¸¤ä¸ªè§’åº¦çœ‹ å°†çœŸå®é”™è¯¯ç‡é™å®šåœ¨ä¸€ä¸ªå¸¸æ•°èŒƒå›´å†…ï¼ŒåŒæ—¶è®©è¿™ä¸ªå¸¸æ•°å¯ä»¥ä»»æ„å°Ïµ\\epsilonÏµ å¹¶ä¸è¦æ±‚å¯¹æ‰€æœ‰çš„éšæœºæŠ½æ ·åºåˆ—éƒ½èƒ½æˆåŠŸï¼Œåªè¦æ±‚å…¶å®æ‹çš„æ¦‚ç‡åœ¨æŸä¸ªå¸¸æ•°Ïƒ\\sigmaÏƒ ä¸€äº›PACçš„å®šä¹‰ï¼š åœ¨PACå­¦ä¹ å®šä¹‰ä¹‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¨¡å‹çš„å¯å­¦ä¹ æ€§å¾ˆå¤§ç¨‹åº¦ç”±æ‰€éœ€è¦çš„æ•°æ®é›†æ•°é‡ç¡®å®šï¼Œéšç€é—®é¢˜è§„æ¨¡çš„å¢é•¿æ‰€éœ€è¦çš„è®­ç»ƒæ ·ä¾‹çš„å¢é•¿è¢«ç§°ä¸ºè¯¥å­¦ä¹ é—®é¢˜çš„æ ·æœ¬å¤æ‚åº¦ï¼ˆsample complexityï¼‰ å¯¹äºä¸€ä¸ªå‡è®¾ç©ºé—´å¦‚ä½•ç¡®å®šå’Œæ•°æ®é›†ä¹‹é—´çš„å…³ç³»ï¼Œå¯ä»¥ç”¨Ïµâˆ’exhousted\\epsilon-exhoustedÏµâˆ’exhoustedæ¥åˆ»ç”»ï¼Œè¡¨ç¤ºäºè®­ç»ƒæ ·ä¾‹ä¸€è‡´çš„æ‰€æœ‰å‡è®¾çš„çœŸå®é”™è¯¯ç‡éƒ½æ°å¥½å°äºÏµ\\epsilonÏµ ç”±æ­¤è®¡ç®—çš„å¾—åˆ°éœ€è¦çš„è®­ç»ƒå®é™…ä¾‹å­ m&gt;=1/(Ïµ)(Inâˆ£Hâˆ£+in(1/Ïƒ))m&gt;=1/(\\epsilon)(In|H|+in(1/\\sigma ))m&gt;=1/(Ïµ)(Inâˆ£Hâˆ£+in(1/Ïƒ)) åŒæ ·å¯¹äºä¸€ä¸ªå‡è®¾ç©ºé—´çš„å¤æ‚ç¨‹åº¦ï¼Œå¯ä»¥ä½¿ç”¨Vapnik-Chervonenkisç»´åº¦æ¥è¯æ˜æ¨¡å‹çš„ç›¸å…³å¤æ‚ç¨‹åº¦ å¸¸è§æ¨¡å‹çš„å¤æ‚ç¨‹åº¦ ç¥ç»ç½‘ç»œçš„å¤æ‚ç¨‹åº¦ 02 åŸºäºå®ä¾‹å­¦ä¹  ä¸€ä¸ªå¾ˆç®€å•çš„æ€è·¯ï¼Œé€šè¿‡å¼ºå¤§çš„è®¡ç®—èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥æ¯”è¾ƒå¸Œæœ›é¢„æµ‹çš„å€¼å’Œæ•°æ®é›†ä¸­æ‰€æœ‰å®ä¾‹ï¼Œå½“ä»è¿™äº›å®ä¾‹ä¸­æ³›åŒ–çš„å·¥ä½œè¢«æ¨è¿Ÿåˆ°å¿…é¡»åˆ†ç±»æ–°çš„å®ä¾‹æ—¶ï¼Œæ¯å½“å­¦ä¹ å™¨é‡åˆ°ä¸€ä¸ªæ–°çš„æŸ¥è¯¢å®ä¾‹å°±åˆ†æè¿™ä¸ªå®ä¾‹ä¸ä¹‹å‰å­˜å‚¨çš„çš„å…³ç³»ï¼Œæ¥ç”±æ­¤åŒºåˆ†ç›®æ ‡å‡½æ•°çš„å€¼ï¼Œè¿™æ ·çš„æ–¹æ³•åŒ…æ‹¬ï¼š æœ€è¿‘é‚»æ–¹æ³• nearest neighbor å±€éƒ¨åŠ æƒå›å½’ locally weighted regression 03 å¢å¼ºå­¦ä¹  å¤§å‘ï¼Œä¸å­¦ï¼Œæ­»éƒ½ä¸å­¦ 04 æ–‡çŒ®ç®¡ç† è¿™é‡Œå°±æ˜¯ä½œä¸ºä¸€ä¸ªç®€å•çš„è®°å½•ï¼Œçœ‹æ–‡çŒ®ä¸­å¯èƒ½çš„åº”ç”¨åœºæ™¯ æ—¥å¸¸æ³›è¯»æ¥äº†è§£è‡ªå·±çš„ç ”ç©¶ç°çŠ¶ï¼ˆå¯¹äºå­¦æœ¯å°ç™½é¼ ä¸è€ƒè™‘555ï¼Œæ‰€ä»¥æ²¡æœ‰è¿™ç§éœ€æ±‚ï¼‰ æ–‡çŒ®ç»¼è¿° ç»„ä¼šæ±‡æŠ¥çš„å·¥ä½œ å› æ­¤éœ€è¦å¯¹è®ºæ–‡æ•´ç†æˆä¸€ä¸ªä¸€ä¸ªé¡¹ç›®æ¥ç®¡ç†ï¼ŒåŒæ—¶éœ€è¦å¯¹å…¶åšç¬”è®°ï¼Œæ›´é‡è¦çš„æ˜¯å¯ä»¥æ–¹ä¾¿å¼•ç”¨ï¼Œ ç¬¬ä¸€éƒ¨åˆ†æŸ¥æ‰¾ï¼š å•çº¯çš„æ‰¾è®ºæ–‡å’Œç®¡ç†çš„è¯ï¼Œgoogle scholar+sci-hubæ„Ÿè§‰å°±å¤Ÿäº† åœ¨è‡ªå·±çš„googleè´¦å·è´¦å›¾ä¹¦é¦†ä¸­æ–°å»ºè‡ªå·±çš„æ–‡ç« æ¡£æ¡ˆåº“ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿ç®¡ç† ç¬¬äºŒéƒ¨åˆ†é˜…è¯»ï¼š å¯ä»¥åœ¨æ–‡æ¡£ä¸‹è½½å¯¼å…¥åˆ°zoteroï¼Œå†é“¾æ¥åˆ°notionï¼Œåˆ©ç”¨notionæ¥åšç¬”è®°å’Œä¸€äº›comment ä½œä¸ºä¸€ä¸ªæ–‡çŒ®ç®¡ç†çš„è¿‡ç¨‹ ç¬¬ä¸‰éƒ¨åˆ†å¼•ç”¨ï¼š å¯ä»¥åˆ©ç”¨zoteroé…åˆwordçš„æ’ä»¶ ä¹Ÿå¯ä»¥google scholarä¸­å¯¼å‡ºapaæ ¼å¼ ä¹Ÿå¯ä»¥ä½¿ç”¨latexä¸­çš„texbibæ ¼å¼","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"CS229","slug":"CS229","permalink":"https://blog.tjdata.site/tags/CS229/"}]},{"title":"CS229-08--é›†æˆå­¦ä¹ ","slug":"CS229-08--é›†æˆå­¦ä¹ ","date":"2022-03-28T13:25:01.000Z","updated":"2023-05-13T13:47:36.672Z","comments":true,"path":"posts/2cac3df3.html","link":"","permalink":"https://blog.tjdata.site/posts/2cac3df3.html","excerpt":"é›†æˆå­¦ä¹ æ˜¯é€šè¿‡æ„å»ºå¹¶ç»“åˆå¤šä¸ªå­¦ä¹ å™¨æ¥å®Œæˆå­¦ä¹ ä»»åŠ¡ï¼Œæœ‰æ—¶å€™ä¹Ÿè¢«ç§°ä¸ºå¤šåˆ†ç±»ç³»ç»Ÿï¼ˆmulti- classifier systemï¼‰ã€åŸºäºå§”å‘˜ä¼šçš„å­¦ä¹ ï¼ˆcommittee based learningï¼‰ç­‰ç­‰ä¹‹ç±»çš„ï¼Œåœ¨å…¶ä¸­ä¸»è¦é¢ä¸´åŸºæœ¬å­¦ä¹ å™¨çš„é€‰æ‹©å’Œè®­ç»ƒè¿‡ç¨‹ï¼Œæˆ‘ä»¬å¸Œæœ›å­¦ä¹ å™¨å¯ä»¥åœ¨ç›¸åŒçš„æ•°æ®é›†ä¸Šè®­ç»ƒï¼Œä½†æ˜¯å¾—åˆ°çš„æœ€ç»ˆçš„å¼±å­¦ä¹ å™¨æœ€å¥½çš„æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œè¿™æ ·æ‰èƒ½æé«˜æˆ‘ä»¬æœ€é«˜ç®—æ³•çš„å‡†ç¡®ç¨‹åº¦ã€‚ é›†æˆå­¦ä¹ æˆç«‹çš„åŸºç¡€æ˜¯ï¼šåŸºå­¦ä¹ å™¨çš„è¯¯å·®ç›¸äº’ç‹¬ç«‹ï¼Œå› æ­¤è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨é›†æˆæ–¹æ³•ä¸­éœ€è¦å°½å¯èƒ½çš„å»å®ç°çš„ï¼Œå› æ­¤æœ¬æ–‡ä»åŸºæœ¬çš„æ–¹æ³•å’Œä»¥å†³ç­–æ ‘ä½œä¸ºä¸€ç³»åˆ—åŸºå­¦ä¹ å™¨å¼€å§‹","text":"é›†æˆå­¦ä¹ æ˜¯é€šè¿‡æ„å»ºå¹¶ç»“åˆå¤šä¸ªå­¦ä¹ å™¨æ¥å®Œæˆå­¦ä¹ ä»»åŠ¡ï¼Œæœ‰æ—¶å€™ä¹Ÿè¢«ç§°ä¸ºå¤šåˆ†ç±»ç³»ç»Ÿï¼ˆmulti- classifier systemï¼‰ã€åŸºäºå§”å‘˜ä¼šçš„å­¦ä¹ ï¼ˆcommittee based learningï¼‰ç­‰ç­‰ä¹‹ç±»çš„ï¼Œåœ¨å…¶ä¸­ä¸»è¦é¢ä¸´åŸºæœ¬å­¦ä¹ å™¨çš„é€‰æ‹©å’Œè®­ç»ƒè¿‡ç¨‹ï¼Œæˆ‘ä»¬å¸Œæœ›å­¦ä¹ å™¨å¯ä»¥åœ¨ç›¸åŒçš„æ•°æ®é›†ä¸Šè®­ç»ƒï¼Œä½†æ˜¯å¾—åˆ°çš„æœ€ç»ˆçš„å¼±å­¦ä¹ å™¨æœ€å¥½çš„æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œè¿™æ ·æ‰èƒ½æé«˜æˆ‘ä»¬æœ€é«˜ç®—æ³•çš„å‡†ç¡®ç¨‹åº¦ã€‚ é›†æˆå­¦ä¹ æˆç«‹çš„åŸºç¡€æ˜¯ï¼šåŸºå­¦ä¹ å™¨çš„è¯¯å·®ç›¸äº’ç‹¬ç«‹ï¼Œå› æ­¤è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨é›†æˆæ–¹æ³•ä¸­éœ€è¦å°½å¯èƒ½çš„å»å®ç°çš„ï¼Œå› æ­¤æœ¬æ–‡ä»åŸºæœ¬çš„æ–¹æ³•å’Œä»¥å†³ç­–æ ‘ä½œä¸ºä¸€ç³»åˆ—åŸºå­¦ä¹ å™¨å¼€å§‹ 0x01 å¼•è¨€ åœ¨ä»»ä½•åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ä½¿ç”¨å¤šä¸ªå­¦ä¹ ç®—æ³•æ±‡æ€»çš„ä¸€ä¸ªï¼Œä½¿ç”¨ç¡®å®šçš„ç®—æ³•éƒ½åœ¨ä¸€ç»„åŸºæœ¬å‡è®¾ï¼Œå¹¶è®­ç»ƒå¾—åˆ°å½±å“æœ€ç»ˆå­¦ä¹ å™¨çš„è¶…å‚æ•°ï¼Œå› æ­¤å¯ä»¥å°è¯•ä½¿ç”¨æ„å»ºå¤šä¸ªå½¼æ­¤ä¸åŒçš„å­¦ä¹ å™¨ï¼Œå°½å¯èƒ½çš„å‡å°‘å®ƒä»¬ä¹‹é—´è¯¯å·®çš„ç›¸å…³æ€§æ¥é€šè¿‡æŸç§ç­–ç•¥çš„ç»„åˆæ¥æå‡æ¨¡å‹çš„æ•ˆæœï¼Œå¦‚ä½•æ„å»ºä¸åŒçš„å­¦ä¹ å™¨ï¼Ÿ ä½¿ç”¨ä¸åŒçš„ç®—æ³•å’Œæ•°æ®é›†ï¼Œæ¯”å¦‚ä½¿ç”¨å‚æ•°åŒ–çš„é€»è¾‘å›å½’å’Œéå‚æ•°åŒ–çš„å†³ç­–æ ‘æ¨¡å‹ï¼Œè¿™æ ·å¤šç®—æ³•çš„å­¦ä¹ å™¨ä¹‹é—´çš„è¯¯å·®æ˜¯å¯èƒ½ç‹¬ç«‹çš„ï¼›å¯¹äºç›¸åŒçš„å‚æ•°åŒ–çš„æ¨¡å‹ä¹Ÿå¯ä»¥é‡‡ç”¨ä¸åŒçš„è¶…å‚æ•°ï¼Œæ¯”å¦‚å¯¹äºK-meansç®—æ³•å¯ä»¥åœ¨ä¸åŒçš„ç®—æ³•é€‰æ‹©ä¸åŒçš„kå€¼ï¼›åŒæ ·å¯¹äºä¸åŒçš„ç®—æ³•æ¨¡å‹ä¸­é€‰æ‹©ä¸åŒçš„æ•°æ®é›†æ˜¯ä¹Ÿå¯ä»¥äº§ç”Ÿä¸åŒçš„å­¦ä¹ å™¨ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨è‡ªåŠ©æ³•ç­‰æ„å»ºå½¼æ­¤ç›¸äº’ç‹¬ç«‹æ•°æ®é›†çš„åŸºç¡€ä¸Šæ¥è®­ç»ƒå¾—åˆ°ä¸åŒçš„ç®—æ³•æ¨¡å‹ ä½¿ç”¨ä¸€äº›ç‰¹æ®Šçš„ç­–ç•¥ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šå¹³å‡æ³•ï¼ˆaveragingï¼‰ã€æŠ•ç¥¨æ³•ï¼ˆvotingï¼‰ã€å­¦ä¹ æ³•ï¼ˆlearningï¼‰ ä½¿ç”¨ä¸€äº›ç‰¹æ®Šçš„ç­–ç•¥ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šbaggingï¼ˆå…¸å‹æ¨¡å‹ï¼šéšæœºæ£®æ—random forestï¼‰å’Œboostingï¼ˆå…¸å‹æ¨¡å‹ï¼šAdaboostã€GBï¼‰ 0x02 é›†æˆå­¦ä¹  â€“ ä¸åŒçš„æ¨¡å‹ æ¯”è¾ƒç®€å•ï¼Œçœ‹0x01å¼•è¨€â€“ç¬¬ä¸€ç‚¹ 0x03 é›†æˆå­¦ä¹ -- ä¸åŒçš„ç­–ç•¥ 3.1 å¹³å‡æ³•averagingï¼ˆå›å½’å™¨ï¼‰ å¯¹äºæ•°å€¼å‹å¸¸ç”¨çš„ç»“åˆç­–ç•¥æ˜¯å¹³å‡æ³•ï¼Œåˆå¯ä»¥åˆ†ä¸ºç®€å•å¹³å‡æ³•ï¼ˆsimple averageï¼‰å’ŒåŠ æƒå¹³å‡æ³•ï¼ˆweighted averageï¼‰ è™½ç„¶çœ‹åå­—å¯èƒ½å°±çŸ¥é“è¿™ä¸ªä»£è¡¨æ˜¯ä»€ä¹ˆï¼Œä½†æ˜¯å¯¹äºåŠ æƒå¹³å‡æ³•å…¶ä¸­æœ€é‡è¦çš„æ˜¯æƒé‡çš„ç¡®å®šï¼Œæˆ–è®¸å¯ä»¥æ ¹æ®å¤šå…ƒé«˜æ–¯åˆ†å¸ƒæ¥ç¡®å®šç”±è¿‘åŠè¿œçš„æƒé‡ã€å¯ä»¥æ ¹æ®ä¸“å®¶æ‰“åˆ†çš„å¾·å°”è²æ³•ã€å¯ä»¥æœ‰è¿·ç³Šçš„ä¸€è‡´æ€§çŸ©é˜µè®¡ç®—å¾—åˆ°çš„AHPã€Kalman filterä¸­æ£€æµ‹å’ŒçŠ¶æ€è½¬ç§»çš„ä¼°è®¡ç­‰å¾—åˆ°çš„æƒé‡ï¼Œæ— è®ºæ˜¯ä½•ç§æ–¹æ³•æœ€é‡è¦çš„æ˜¯å¯ä»¥å¾—åˆ°ä¸€ä¸ªä»¤è‡ªå·±æ»¡æ„ã€é¡¶å¾—ä½åˆ«äººargueçš„å¤„ç†æ–¹æ³• åŠ æƒå¹³å‡æ–¹æ³•è¢«ç”¨äºé›†æˆå­¦ä¹ å¯ä»¥è¢«çœ‹ä½œæ˜¯é›†æˆå­¦ä¹ ç ”ç©¶çš„åŸºæœ¬å‡ºå‘ç‚¹ï¼Œå¯¹ç»™å®šçš„åŸºå­¦ä¹ å™¨ï¼Œä¸åŒçš„å­¦ä¹ æ–¹æ³•å¯ä»¥è§†ä½œé€šè¿‡ä¸åŒçš„æ–¹å¼æ¥ç¡®å®šåŠ æƒå¹³å‡æ³•ä¸­çš„åŸºå­¦ä¹ å™¨çš„æƒé‡ã€‚ 3.2 æŠ•ç¥¨æ³•votingï¼ˆåˆ†ç±»å™¨ï¼‰ æŠ•ç¥¨çš„æ–¹å¼æœ¬è´¨ä¸Šå’Œå›å½’çš„å¹³å‡æ³•æ˜¯ç±»ä¼¼çš„ï¼Œä½†æ˜¯å› ä¸ºclassæ˜¯å¯ä»¥æ•°æ¸…æ¥šçš„ï¼Œå› æ­¤å¯ä»¥åˆ†ä¸ºç»å¯¹å¤šæ•°æŠ•ç¥¨æ³•ï¼ˆmajority votingï¼‰ã€ç›¸å¯¹å¤šæ•°æŠ•ç¥¨æ³•ï¼ˆplurality votingï¼‰ã€åŠ æƒæŠ•ç¥¨æ³•ï¼ˆweighed votingï¼‰ã€ 3.3 å­¦ä¹ æ³• å½“è®­ç»ƒæ•°æ®å¾ˆå¤šçš„æ—¶å€™ï¼Œä¸€ç§æ›´ä¸ºå¼ºå¤§çš„ç»“åˆç­–ç•¥æ˜¯ä½¿ç”¨å­¦ä¹ æ³•ï¼Œé€šè¿‡å¦å¤–ä¸€ç§å­¦ä¹ å™¨æ¥è¿›è¡Œç»“åˆ stackingæ˜¯å­¦ä¹ æ³•çš„å…¸å‹ä»£è¡¨ï¼Œåœ¨è¿™é‡Œå°†ä¸ªä½“å­¦ä¹ ç§°ä¸ºåˆçº§å­¦ä¹ å™¨ï¼Œç”¨äºç»“åˆçš„å­¦ä¹ å™¨ç§°ä¸ºæ¬¡çº§å­¦ä¹ å™¨æˆ–è€…å…ƒå­¦ä¹ å™¨ï¼ˆmeta- learnerï¼‰ï¼Œstackingå…ˆä»åˆå§‹æ•°æ®é›†å’Œä¸­è®­ç»ƒå¾—åˆ°åˆçº§å­¦ä¹ å™¨ï¼Œç„¶åâ€œç”Ÿæˆâ€œä¸€ä¸ªæ–°çš„æ•°æ®é›†æ¥è®­ç»ƒæ¬¡çº§å­¦ä¹ å™¨ï¼Œåœ¨è¿™ä¸ªæ–°çš„æ•°æ®é›†ä¸­ï¼Œåˆçº§å­¦ä¹ å™¨çš„è¾“å‡ºè¢«å½“ä½œæ ·ä¾‹æ¥è¾“å…¥ç‰¹å¾ï¼Œè€Œåˆå§‹æ ·æœ¬çš„æ ‡è®°è¢«å½“ä½œæ ·ä¾‹æ ‡è®°ï¼Œè¿™é‡Œçš„å‡è®¾æ˜¯åˆçº§å­¦ä¹ å™¨æ˜¯ä½¿ç”¨ä¸åŒå­¦ä¹ ç®—æ³•å¾—åˆ°çš„ä¸åŒçš„æ¨¡å‹ï¼Œå‚è€ƒå‘¨å¿—å-ã€Šæœºå™¨å­¦ä¹ ã€‹ä»£ç  å¯ä»¥çœ‹å‡ºï¼Œå…¶ä¸­çš„æ¬¡çº§å­¦ä¹ ç®—æ³•å¯ä»¥çœ‹å‡ºæ˜¯ä¸€ç§è‡ªé€‚åº”adaptiveçš„æƒé‡è°ƒæ•´æ–¹æ³•ï¼ŒåŒæ—¶è¿™ç§æƒé‡æ˜¯é€šè¿‡ä¸€ä¸ªå­¦ä¹ å™¨æ¥è®­ç»ƒå¾—åˆ°çš„ï¼ŒæŠ›å¼ƒå…¶ä¸­çš„æ•°å­¦åŸç†ä¸è°ˆï¼Œè¿™é‡Œå¸¸ç”¨çš„åŒ…æ‹¬å¤šå“åº”çº¿æ€§å›å½’Multi- response Linear regressionå’Œè´å¶æ–¯æ¨¡å‹å¹³å‡Bayes Model AVeraging BMAç­‰æ•ˆæœè¾ƒå¥½ 0x04 é›†æˆå­¦ä¹ -- ç‰¹æ®Šçš„æ¦‚å¿µ åœ¨é›†æˆå­¦ä¹ ä¸­æœ€æ™¦æ¶©çš„å°±æ˜¯boostingå’Œbaggingï¼ˆbootstrap aggregatingï¼‰ä¸¤ç§æ–¹æ³• 4.1 baggingï¼ˆæœ‰æ”¾å›ç§°ä¸ºbaggingã€æ— æ”¾å›çš„ç§°ä¸ºpastingï¼‰ åŒæ ·æ˜¯æ ¹æ®å¸Œæœ›çš„å¾—åˆ°ä¸åŒåŸºè®­ç»ƒæ¨¡å‹ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¯¹ç›¸åŒçš„å­¦ä¹ å™¨æ¥èµ‹äºˆä¸åŒçš„è®­ç»ƒé›†æ¥å¾—åˆ°ä¸åŒçš„æ¨¡å‹ï¼Œä½†æ˜¯ç”±äºæ•°æ®é›†æ˜¯æœ‰é™çš„ï¼Œå› æ­¤å¦‚æœæ•°æ®é›†å®Œå…¨éš”ç¦»å¼€ï¼Œè¿™æ ·è®­ç»ƒå¾—åˆ°çš„å­¦ä¹ å™¨å¿…ç„¶æ˜¯ä¸å¥½çš„ï¼ˆæˆ–è€…è¯´æ˜¯ä¸å¤Ÿå¥½çš„ï¼‰ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å°½å¯èƒ½çš„å¥½çš„å¾—åˆ°ç‹¬ç«‹åŒæ—¶æ•ˆæœä¹Ÿå¥½çš„å­¦ä¹ æ¨¡å‹ï¼Œå¯ä»¥å‚è€ƒä¹‹å‰å¯¹æ¨¡å‹è¯„ä¼°ä¸­çš„æ ·æœ¬çš„è‡ªåŠ©æ³•é€‰æ‹©ï¼ˆbootstrap samplingï¼‰æ¥å¾—åˆ°ç›¸äº’ç‹¬ç«‹æ•°æ®é›†å¾—åˆ°çš„ä¸åŒå­¦ä¹ æ¨¡å‹ï¼›åœ¨æ­¤åŸºç¡€ä¸Šå¾—åˆ°çš„ç»“æœå¯ä»¥ä½¿ç”¨ç®€å•å¹³å‡ç­–ç•¥æˆ–è€…ç®€å•æŠ•ç¥¨æ¥å¾—åˆ°æœ€ç»ˆçš„ç»“æœ ä»bias=varianceçš„è§’åº¦æ¥çœ‹ï¼Œbaggingä¸»è¦é›†ä¸­åœ¨é™ä½æ–¹å·® 4.2 boosting æ˜¯ä¸€ç±»å¯ä»¥å°†å¼±å­¦ä¹ å™¨æå‡ä¸ºå¼ºå­¦ä¹ å™¨çš„ç®—æ³•ï¼Œè¿™ç§ç®—æ³•çš„å·¥ä½œæœºåˆ¶ç±»ä¼¼ï¼šå…ˆä»åˆå§‹è®­ç»ƒé›†è®­ç»ƒå¾—åˆ°ä¸€ä¸ªåŸºå­¦ä¹ å™¨ï¼Œå†æ ¹æ®åŸºå­¦ä¹ å™¨çš„è¡¨ç°å¯¹è®­ç»ƒæ ·æœ¬åˆ†å¸ƒè¿›è¡Œè°ƒæ•´ï¼Œä½¿å¾—å…ˆå‰åŸºå­¦ä¹ å™¨åšé”™çš„è®­ç»ƒæ ·æœ¬å†åç»­å—åˆ°è·Ÿå¤šå…³æ³¨ï¼Œç„¶ååŸºäºè°ƒæ•´åçš„æ ·æœ¬åˆ†å¸ƒæ˜¯çš„å…ˆå‰åŸºå­¦ä¹ å™¨åšé”™çš„è®­ç»ƒæ ·æœ¬å†åç»­æ”¶åˆ°æ›´å¤šçš„å…³æ³¨ï¼Œç„¶åä½¿ç”¨åŸºäºè°ƒæ•´åçš„æ ·æœ¬åˆ†å¸ƒæ¥è®­ç»ƒä¸‹ä¸€ä¸ªåŸºå­¦ä¹ å™¨ï¼Œå¦‚æ­¤é‡å¤è¿›è¡Œï¼Œç›´åˆ°åŸºå­¦ä¹ å™¨æ•°ç›®è¾¾åˆ°æ¥äº‹å…ˆåˆ¶å®šçš„å€¼ï¼Œæœ€ç»ˆå°†è¿™äº›åŸºå­¦ä¹ å™¨è¿›è¡ŒåŠ æƒç»“åˆ ä»bias- varianceçš„è§’åº¦æ¥çœ‹ï¼Œboostingä¸»è¦é›†ä¸­åœ¨é™ä½åå·® ï¼ˆè¿™é‡Œæ„Ÿè§‰ä¹¦ä¸Šè®²çš„è¿˜æ˜¯æ¯”è¾ƒæ¨¡ç³Šçš„ï¼Œä¸»è¦åœ¨åé¢çš„å®é™…ä¾‹å­ä¸­çœ‹ï¼‰ 4.3 baggingå’Œboostingçš„åŒºåˆ« ä»æ ·æœ¬é€‰æ‹©è§’åº¦ ä»æ ·æœ¬çš„æƒé‡ ä»é¢„æµ‹å‡½æ•°çš„æƒé‡ ä»è®¡ç®—çš„è§’åº¦ 0x05 å®é™…ä¾‹å­ 5.1 æŠ•ç¥¨æ³• ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„ä¾‹å­ 1234567891011121314151617181920212223242526272829## é›†æˆå­¦ä¹ éœ€è¦å¾—åˆ°çš„æ˜¯ä¸ç›¸å…³çš„é¢„æµ‹å™¨# å¯ä»¥ä½¿ç”¨ä¸åŒçš„å­¦ä¹ å™¨# å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ•°æ®æ¥è®­ç»ƒå¾—åˆ°ä¸åŒçš„å­¦ä¹ å™¨# ä¸€äº›ç‰¹æ®Šçš„æ–¹æ³•baggingå’Œboosting#%%from sklearn.datasets import make_moonsfrom sklearn.model_selection import train_test_splitx,y=make_moons(n_samples=100,noise=0.25)x_train,x_val,y_train,y_val=train_test_split(x,y,test_size=0.2)#%%## votefrom sklearn.ensemble import RandomForestClassifierfrom sklearn.ensemble import VotingClassifierfrom sklearn.linear_model import LogisticRegressionfrom sklearn.svm import SVC#%%lr_clf=LogisticRegression()rnd_clf=RandomForestClassifier()svm_clf=SVC()#%%voting_clf=VotingClassifier(estimators=[(&#x27;lr&#x27;,lr_clf),(&#x27;rf&#x27;,rnd_clf),(&#x27;svc&#x27;,svm_clf),],voting=&#x27;hard&#x27;)#%%voting_clf.fit(x_train,y_train)from sklearn.metrics import accuracy_scorefor clf in (lr_clf,rnd_clf,svm_clf,voting_clf): clf.fit(x_train,y_train) y_pred=clf.predict(x_val) print(accuracy_score(y_val,y_pred)) 5.2 éšæœºæ£®æ— random forestï¼ˆbased on baggingï¼‰ éšæœºæ£®æ—å°±æ˜¯ä½¿ç”¨è®¸å¤šä¸ªå†³ç­–æ ‘æ¥é›†æˆå¾—åˆ°æœ€ç»ˆçš„ç»“æœï¼Œè®ºæ–‡æœ€æ—©å‘å¸ƒä¸1997å¹´çš„å¦‚ä¸‹ï¼Œä»–æ˜¯å¦‚ä½•å°†æœ‰æ”¾å›çš„æŠ½æ ·åº”ç”¨åˆ°å†³ç­–æ ‘CARTä¸­çš„å‘¢ï¼Ÿï¼ˆè¿™æˆ–è®¸æ˜¯éšæœºæ£®æ—å­¦ä¹ çš„é‡ç‚¹ï¼‰ï¼Œä»¥åŠå…·ä½“çš„å®è·µæ–¹æ³•ï¼Œå…¶ä¸­çš„æ•°å­¦åŸç†å¯èƒ½æ¯”è¾ƒå›°éš¾ Paperï¼šAmit, Y., &amp; Geman, D. (1997). Shape quantization and recognition with randomized trees. Neural computation, 9(7), 1545-1588. API:sklearn.ensemble.RandomForestClassifier å›é¡¾ä¹‹å‰å…³äºå®ç°å†³ç­–æ ‘æ¨¡å‹çš„è¿‡ç¨‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„è¿‡ç¨‹ï¼Œä¸€ç§é‡‡ç”¨é€’å½’æ€æƒ³çš„ç®—æ³•ï¼Œåœ¨ä¸è€ƒè™‘æœ€ç»ˆåœæ­¢çš„æ¡ä»¶ï¼Œå®ƒæ€»æ˜¯ä»ç°æœ‰çš„ç‰¹å¾é›†ä¸­é€‰æ‹©æœ€å¥½çš„ç‰¹å¾æ¥è¿›è¡Œæ¨¡å‹çš„åˆ†å‰²ï¼Œç„¶ååˆ é™¤è¿™ä¸ªç‰¹å¾è¿›è¡Œä¸‹ä¸€æ¬¡é€’å½’ï¼Œé‚£ä¹ˆéšæœºæ£®æ—åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­åšäº†ä»€ä¹ˆä¼˜åŒ–å‘¢ï¼Ÿ æ ·æœ¬çš„è§’åº¦ï¼Œåœ¨è®­ç»ƒå†³ç­–æ ‘ä¸­å¹¶ä¸é€‰æ‹©æ‰€æœ‰çš„æ ·æœ¬è®­ç»ƒï¼Œåˆ©ç”¨bootstrapçš„æ–¹æ³•æ¥æœ‰æ”¾å›çš„æŠ½å–æ•°æ®é›†æ¥è®­ç»ƒä¸åŒçš„å†³ç­–æ ‘ï¼ˆdecision treeï¼‰ ç‰¹å¾çš„è§’åº¦ï¼Œä¼ ç»Ÿçš„decision treeç”±ä¸Šè¿°çš„æè¿°å¯ä»¥çœ‹å‡ºå®ƒå®é™…ä¸Šæ˜¯ä¸€ç§æ²¡æœ‰æ”¾å›æŠ½æ ·ï¼ˆwhyï¼Ÿï¼‰ï¼Œé‚£ä¹ˆéšæœºæ£®æ—çš„æ”¹è¿›å°±æ˜¯æ¯æ¬¡ä¸åˆ é™¤ç‰¹å¾é›†ï¼Œè€Œæ˜¯éšæœºé€‰æ‹©ä¸€å®šå±æ€§çš„ç‰¹å¾ï¼ˆæ¯”å¦‚åŸå§‹ç‰¹å¾é›†çš„10%ï¼‰æ¥é€‰æ‹©å…¶ä¸­æœ€ä½³çš„ç‰¹å¾æ¥è¿›è¡Œæ¨¡å‹çš„åˆ†å‰²ä¸€ç›´åˆ°ä¸èƒ½å†åˆ†è£‚ä¸ºæ­¢ æ¨¡å‹çš„ä¼˜ç‚¹ æœ‰å¯ä»¥åšå‡ºé«˜çº¬åº¦çš„æ•°æ®ã€å¹¶ä¸”ä¸ç”¨é™çº¬ï¼Œä¸éœ€è¦åšç‰¹å¾é€‰æ‹© å¯ä»¥åˆ¤æ–­ç‰¹å¾çš„é‡è¦ç¨‹åº¦ã€ç‰¹å¾ä¹‹é—´çš„ç›¸äº’å½±å“ è®­ç»ƒé€Ÿåº¦å¯ä»¥å¾ˆå¿«ï¼Œåšæˆä¸€ç§å¹¶è¡Œå¤„ç†çš„æ–¹æ³• å¯¹äºä¸å‡è¡¡çš„æ•°æ®å¯ä»¥å¹³è¡¡è¯¯å·® æ¨¡å‹çš„ç¼ºç‚¹ è¢«è¯æ˜åœ¨æŸäº›noiseæ¯”è¾ƒå¤§çš„åˆ†ç±»æˆ–å›å½’é—®é¢˜ä¸­ä¼šäº§ç”Ÿè¿‡æ‹Ÿåˆ å¯¹äºä¸åŒå–ä¹‹çš„å±æ€§çš„æ•°æ®ï¼Œå–å€¼åˆ’åˆ†è¾ƒå¤šçš„å±æ€§ä¼šå¯¹éšæœºæ£®æ—äº§ç”Ÿæ›´å¤§çš„å½±å“ï¼Œæ‰€ä»¥éšæœºæ£®æ—åœ¨è¿™ç§æ•°æ®ä¸Šäº§ç”Ÿçš„å±æ€§æƒé‡æ˜¯ä¸å¯ä¿¡çš„ 5.3 Adaboostï¼ˆbased on boostingï¼Œshort for adaptive boostingï¼‰ è‡ªé€‚åº”å¢å¼ºå­¦ä¹ Adaboostæ˜¯å¦‚ä½•å°†boostingçš„æ–¹æ³•ä½¿ç”¨åœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­å‘¢ï¼Ÿæ€»çš„æ¥çœ‹å®ƒè€ƒè™‘å¦‚ä½•é€šè¿‡æ›´åŠ è§„åˆ™ï¼ˆè€Œä¸æ˜¯éšæœºï¼‰çš„æ–¹å¼æ¥å¾—åˆ°æ›´åŠ æœ‰æ•ˆçš„åŸºå­¦ä¹ å™¨çš„è®­ç»ƒï¼Œå¹¶é‡‡ç”¨ä¸€å®šçš„ç­–ç•¥æ¥åŠ æƒæ‰€æœ‰çš„é¢„æµ‹ Paperï¼šFreund, Y., &amp; Schapire, R. E. (1997). A decision-theoretic generalization of on-line learning and an application to boosting. Journal of computer and system sciences, 55(1), 119-139. APIï¼šsklearn.ensemble.AdaBoostClassifier Adaboostçš„ç®—æ³•å¯ä»¥ç®€è¿°ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š åˆå§‹åŒ–æ•°æ®é›†ï¼Œè¿™é‡Œä¿è¯æ•°æ®é›†ä¸­çš„æ¯ä¸ªæ ·æœ¬çš„æ•°æ®çš„æƒé‡æ˜¯ç›¸åŒçš„ åœ¨ç¬¬Næ¬¡çš„è®­ç»ƒä¸­ï¼Œå¾—åˆ°åŸå§‹æ ‡ç­¾å’Œæ¨¡å‹çš„è¾“å‡ºï¼Œå¦‚æœé¢„æµ‹æ˜¯æ­£ç¡®çš„é‚£ä¹ˆåœ¨ä¸‹ä¸€æ¬¡è®­ç»ƒä¸­éœ€è¦é™ä½å®ƒçš„æƒé‡ã€å¦‚æœé¢„æµ‹æ˜¯é”™è¯¯çš„åˆ™éœ€è¦æå‡å®ƒçš„æƒé‡ï¼Œåœ¨è¿›è¡ŒN+1å­¦ä¹ å™¨çš„è®­ç»ƒ åœ¨ç»¼åˆæœ€ç»ˆçš„ç»“æœå°±æ˜¯å¯¹æ¯ä¸ªé˜¶æ®µçš„å­¦ä¹ å™¨è¿›è¡ŒåŠ æƒå¹³å‡ï¼Œå¦‚ä½•åŠ æƒå‘¢ï¼Ÿæ ¹æ®æ­£ç¡®ç‡æ¥åˆ¤æ–­ï¼Œæ­£ç¡®ç‡é«˜çš„æƒé‡å¤§ æ¨¡å‹çš„ä¼˜ç‚¹ï¼šè¿™é‡Œå‚è€ƒhttps://zhuanlan.zhihu.com/p/41536315 å¾ˆå¥½çš„åˆ©ç”¨å¼±åˆ†ç±»å™¨è¿›è¡Œçº§è”cascade å¯ä»¥å°†ä¸åŒçš„åˆ†ç±»ç®—æ³•ä½œä¸ºå¼±åˆ†ç±»å™¨ AdaBoostå…·æœ‰å¾ˆé«˜çš„ç²¾åº¦ å¯ä»¥å……åˆ†è€ƒè™‘æ¯ä¸ªåˆ†ç±»å™¨çš„æƒé‡ï¼ˆä¹Ÿå°±æ˜¯åŠ æƒå¹³å‡ä¸­æƒçš„é€‰æ‹©åˆç†ï¼‰ æ¨¡å‹çš„ç¼ºç‚¹ï¼š æ¨¡å‹çš„è¿­ä»£æ¬¡æ•°ä¸å¥½è®¾è®¡ï¼Œå¯ä»¥ä½¿ç”¨äº¤å‰éªŒè¯æ¥è¿›è¡Œç¡®å®š æ•°æ®ä¸å¹³è¡¡å¯¼è‡´åˆ†ç±»ç²¾åº¦ä¸‹é™ ç”±äºä¸èƒ½å¹¶è¡Œè®­ç»ƒï¼Œå› æ­¤è®¡ç®—æ—¶é—´æ¯”è¾ƒé•¿ 5.4 GBï¼ˆgradient boostingï¼Œbased on boosting and slightly baggingï¼‰ æœ‰ä¸€ç‚¹å¤æ‚2022-03-28è¿˜æ²¡æœ‰å®Œå…¨ææ¸…æ¥šæ¢¯åº¦æå‡ï¼ˆgradient boostingï¼‰ï¼Œå…¶ç®—æ³•å®ç°ä¸»è¦åˆ†ä¸ºXGBoostå’ŒLightGBMï¼Œä»boostingç®—æ³•çš„è§’åº¦æ˜¯å¿…é¡»ä¸²è¡Œè®¡ç®—çš„ï¼Œä½†æ˜¯åœ¨å·¥ç¨‹çš„å®é™…åº”ç”¨ä¸­å¯ä»¥ä½¿ç”¨ä¸€äº›ç¨€å¥‡å¤æ€ª çš„æ–¹æ³•æ¥åå¤ä½¿ç”¨å…¶ä¸­çš„ä¸€äº›ä¸œè¥¿æ¥å¹¶è¡Œè®¡ç®—æé«˜è®¡ç®—æ•ˆç‡ Paperï¼šFriedman, J. H. (2001). Greedy function approximation: a gradient boosting machine. Annals of statistics, 1189-1232. ä¸€äº›å·¥ä¸šåŒ–çš„å®ç°ï¼š lightGBMï¼šhttps://proceedings.neurips.cc/paper/2017/file/6449f44a102fde848669bdd9eb6b76fa-Paper.pdf XGBoostï¼šChen, T., &amp; Guestrin, C. (2016, August). Xgboost: A scalable tree boosting system. In Proceedings of the 22nd acm sigkdd international conference on knowledge discovery and data mining (pp. 785-794). å­˜ç–‘ï¼šGBDTï¼ˆé‡‡ç”¨decision treeä½œä¸ºåŸºå­¦ä¹ å™¨çš„GBç®—æ³•ï¼‰çš„æ ¸å¿ƒæ˜¯å­¦ä¹ ä¹‹å‰æ¯æ£µæ ‘ç»“è®ºå’Œçš„æ®‹å·®ï¼Œè¿™ä¸ªæ®‹å·®å°±æ˜¯ä¸€ä¸ªåŠ é¢„æµ‹å€¼åèƒ½å¾—åˆ°çš„çœŸå®å€¼çš„ç´¯åŠ é‡ï¼Œè¿™é‡Œç›¸æ¯”Adaboostçš„ä¼˜ç‚¹ ä¸Adaboostç®—æ³•ä¸åŒçš„æ˜¯ï¼Œæ¢¯åº¦æå‡åœ¨è¿­ä»£æ¯ä¸€æ­¥æ„å»ºä¸€ä¸ªèƒ½å¤Ÿæ²¿ç€æ¢¯åº¦æœ€é™¡çš„æ–¹å‘é™ä½æŸå¤±æ¥å¼¥è¡¥ç°æœ‰æ¨¡å‹çš„ä¸è¶³ ç»å…¸çš„Adaboostçš„ç®—æ³•åªèƒ½é‡‡ç”¨æŒ‡æ•°æŸå¤±å‡½æ•°çš„äºŒåˆ†ç±»å­¦ä¹ ä»»åŠ¡ï¼Œè€Œæ¢¯åº¦æå‡å¯ä»¥é€šè¿‡ä¸åŒçš„å¯å¾®æŸå¤±å‡½æ•°æ¥å¤„ç†å„ç±»å­¦ä¹ ä»»åŠ¡ï¼ˆmulti-classã€regressionã€rankï¼‰ Adaboostä¸­å¯¹å¼‚å¸¸ç‚¹æ¯”è¾ƒæ•æ„Ÿï¼Œè€Œæ¢¯åº¦æå‡ç®—æ³•é€šè¿‡å¼•å…¥baggingçš„æ€æƒ³ã€æ­£åˆ™åŒ–å¯ä»¥æå‡robust","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"CS229","slug":"CS229","permalink":"https://blog.tjdata.site/tags/CS229/"}]},{"title":"CS229-07--è´å¶æ–¯å­¦ä¹ ï¼ˆæš¨åŸºæœ¬ç†è®ºå¼€ç¯‡ï¼‰","slug":"CS229-07--è´å¶æ–¯å­¦ä¹ ï¼ˆæš¨åŸºæœ¬ç†è®ºå¼€ç¯‡ï¼‰","date":"2022-03-19T13:44:12.000Z","updated":"2023-05-13T13:47:33.880Z","comments":true,"path":"posts/6378bc30.html","link":"","permalink":"https://blog.tjdata.site/posts/6378bc30.html","excerpt":"","text":"0x00 è®¡ç®—å­¦ä¹ ç†è®ºçš„å¼€ç¯‡ è´å¶æ–¯å­¦ä¹ ï¼Œè´å¶æ–¯æ¨ç†æä¾›æ¥ä¸€ç§æ¨ç†çš„æ¦‚ç‡æ–¹æ³•ï¼ŒåŸºäºå¾…è€ƒå¯Ÿçš„é‡éµå¾ªæŸç§æ¦‚ç‡åˆ†å¸ƒï¼Œä¸”å¯æ ¹æ®è¿™äº›æ¦‚ç‡åŠå·²è§‚å¯Ÿåˆ°çš„æ•°æ®è¿›è¡Œæ¨ç†å¾—åˆ°æœ€ä¼˜çš„å†³ç­– é›†æˆå­¦ä¹ ï¼Œä»å¤šä¸ªå¼±å­¦ä¹ å™¨ä¸­å¾—åˆ°ä¸€ä¸ªè¾ƒå¥½çš„å­¦ä¹ å™¨ è®¡ç®—å­¦ä¹ ç†è®ºï¼Œè‡´åŠ›äºå›ç­”â€œåœ¨ä»€ä¹ˆå…»çš„æ¡ä»¶ä¸‹æˆåŠŸçš„å­¦ä¹ æ˜¯å¯èƒ½çš„ã€‹â€å’Œâ€œåœ¨ ä»€ä¹ˆæ¡ä»¶ä¸‹æŸä¸ªç‰¹å®šçš„å­¦ä¹ ç®—æ³•å¯ä¿è¯æˆåŠŸè¿è¡Œï¼Ÿâ€ï¼Œä»è¿‘ä¼¼æ­£ç¡®ï¼ˆPACï¼‰å’Œå¯¹å‡è®¾ç©ºé—´çš„è‡ªç„¶åº¦é‡ä¸¤ä¸ªè§’åº¦æ¥åˆ†æå­¦ä¹ ç®—æ³•ï¼Œåœ¨å‡ºé”™ç•Œé™çš„æ¡†æ¶ä¸‹è€ƒå¯Ÿä¸€ä¸ªå­¦ä¹ å™¨åœ¨ç¡®å®šæ­£ç¡®å‡è®¾å‰å¯èƒ½äº§ç”Ÿçš„è®­ç»ƒé”™è¯¯æ•°é‡ åŸºäºå®ä¾‹çš„å­¦ä¹ ï¼Œæ¯å½“å­¦ä¹ å™¨é‡åˆ°ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œé€šè¿‡åˆ†æè¿™ä¸ªä¾‹å­å’Œä¹‹å‰å­˜å‚¨çš„å®ä¾‹å…³ç³»æ¥å°†è¿™ä¸ªç›®æ ‡å‡½æ•°èµ‹å€¼ç»™æ–°çš„å®ä¾‹ åŸºäºè§£é‡Šçš„å­¦ä¹ ï¼Œå…ˆéªŒçŸ¥è¯†ç”¨äºåˆ†æè§‚å¯Ÿåˆ°çš„å­¦ä¹ æ ·ä¾‹æ˜¯æ€æ ·æ»¡è¶³ç›®æ ‡æ¦‚å¿µçš„ï¼Œç„¶åè¿™ä¸ªè§£é‡Šè¢«ç”¨äºåŒºåˆ†è®­ç»ƒæ ·ä¾‹ä¸­å“ªäº›æ˜¯ç›¸å…³çš„ç‰¹å¾ã€å“ªäº›æ˜¯ä¸ç›¸å…³çš„ï¼Œè¿™æ ·å°±å¯ä»¥åŸºäºé€»è¾‘æ¨ç†è¿›è¡Œæ³›åŒ–ï¼Œè€Œä¸æ˜¯åŸºäºç»Ÿè®¡æ¨ç† å¢å¼ºå­¦ä¹ ï¼Œç”¨æ¥ç¡®å®šæœ€ä¼˜æ§åˆ¶ç­–ç•¥ 0x01 è´å¶æ–¯å­¦ä¹ ç®€ä»‹ è´å¶æ–¯å­¦ä¹ å…·æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼šç¬¬ä¸€ï¼Œè´å¶æ–¯å­¦ä¹ ç®—æ³•èƒ½å¤Ÿè®¡ç®—æ˜¾å§‹çš„å‡è®¾æ¦‚ç‡ï¼Œæ¯”å¦‚æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ï¼Œæ˜¯è§£å†³ç›¸åº”å­¦ä¹ é—®é¢˜çš„æœ€å®é™…çš„æ–¹æ³•ä¹‹ä¸€ï¼›ç¬¬äºŒï¼Œä¸ºç†è§£å¤šæ•°å­¦ä¹ ç®—æ³•æä¾›äº†ä¸€ç§æœ‰æ•ˆçš„æ‰‹æ®µï¼Œè¿™äº›ç®—æ³•ä¸ä¸€å®šç›´æ¥æ“çºµæ¦‚ç‡æ•°æ® åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œé€šå¸¸æœ€æ„Ÿå…´è¶£æ˜¯åœ¨ç»™å®šè®­ç»ƒæ•°æ®Dçš„æ—¶å€™ï¼Œç¡®å®šå‡è®¾ç©ºé—´Hä¸­æœ€å¯èƒ½çš„å‡è®¾ï¼š ä½¿ç”¨P(h)P(h)P(h) æ¥ä»£è¡¨æ²¡æœ‰è®­ç»ƒæ•°æ®å‰å‡è®¾hæ‹¥æœ‰çš„æ¦‚ç‡ï¼Œé€šå¸¸è¢«ç§°ä¸ºprior probabilityï¼ˆå…ˆéªŒæ¦‚ç‡ï¼‰ P(D)P(D)P(D) ä»£è¡¨å°†è¦è§‚å¯Ÿçš„è®­ç»ƒæ•°æ®Dçš„å…ˆéªŒæ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯åœ¨æ²¡æœ‰æŸä¸€å‡è®¾æˆç«‹æ—¶Dçš„æ¦‚ç‡ P(hâˆ£D)P(h|D)P(hâˆ£D) ä»£è¡¨çš„æ˜¯çœ‹åˆ°è®­ç»ƒæ•°æ®Dåhæˆç«‹çš„ç½®ä¿¡åº¦ï¼Œè¿™é‡Œæ˜¯posterior probabilityï¼ˆåéªŒæ¦‚ç‡ï¼‰ P(hâˆ£D)=P(Dâˆ£h)P(h)P(D)P(h|D)=\\frac{P(D|h)P(h)}{P(D)}P(hâˆ£D)=â€‹P(D)â€‹â€‹P(Dâˆ£h)P(h)â€‹â€‹ æå¤§åéªŒï¼ˆmaximum a posteriorï¼ŒMAPï¼‰ï¼šmaxP(Dâˆ£h)P(h)max P(D|h)P(h)maxP(Dâˆ£h)P(h) æå¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆmaximum likelihoodï¼ŒMLEï¼‰ï¼šmaxP(Dâˆ£h)max P(D|h)maxP(Dâˆ£h) exampleï¼šè€ƒè™‘ä¸€ä¸ªåŒ»ç–—è¯Šæ–­é—®é¢˜ï¼Œè¿™é‡Œæ˜¯hæ˜¯æ˜¯å¦æ‚£æœ‰ç™Œç—‡ï¼Œè¿™é‡Œæ˜¯çš„æ•°æ®æ˜¯æ£€æµ‹ç»“æœæ˜¯æ­£ä¾‹+è¿˜æ˜¯è´Ÿä¾‹- æˆ‘ä»¬çŸ¥é“äººç¾¤ä¸­æ‚£æœ‰ç™Œç—‡çš„æ¦‚ç‡æ˜¯0.008ï¼›ä¹Ÿå°±æ˜¯æ²¡æœ‰æ‚£æœ‰ç™Œç—‡çš„æ¦‚ç‡æ˜¯0.992 åŒæ—¶æˆ‘ä»¬çŸ¥é“å¯¹äºæ‚£æœ‰ç™Œç—‡çš„æ‚£è€…è¿”å›æ£€æµ‹ç»“æœï¼Œ0.98æ˜¯+ã€0.02æ˜¯- å¯¹äºæ²¡æœ‰æ‚£æœ‰ç™Œç—‡çš„æ‚£è€…ï¼Œè¿”å›æ£€æµ‹ç»“æœï¼Œ0.03æ˜¯+ï¼Œ0.97- å¦‚æœç°åœ¨æ¥äº†ä¸€ä¸ªç—…äººçš„æ£€æµ‹ç»“æœæ˜¯+ï¼Œé‚£ä¹ˆæ‚£æœ‰ç™Œç—‡çš„æ¦‚ç‡æ˜¯å¤šå°‘ P(h=æ‚£æœ‰ç™Œç—‡ï½œD=æ£€æµ‹ç»“æœ+)=\\frac{Pï¼ˆD=+ï½œh=æ‚£æœ‰ç™Œç—‡ï¼‰Pï¼ˆh=æ‚£æœ‰ç™Œç—‡ï¼‰}{pï¼ˆD=+|h=æ‚£ï¼‰pï¼ˆh=æ‚£ï¼‰+pï¼ˆD=+ï½œh=ä¸æ‚£ï¼‰pï¼ˆä¸æ‚£ï¼‰}=0.21 example02ï½example03: çº¿æ€§å›å½’ä¸­æå¤§ä¼¼ç„¶å’Œæœ€å°è¯¯å·®å¹³æ–¹å‡è®¾ é€»è¾‘å›å½’ä¸­æå¤§ä¼¼ç„¶å’Œäº¤å‰ç†µ 0x02 è´å¶æ–¯åˆ†ç±»å™¨ åŸºäºä¸€ä¸ªç®€å•è€Œåˆå¼ºå¤§çš„å‡è®¾ï¼šåœ¨ç»™å®šç›®æ ‡å€¼äº‹ï¼Œå±æ€§å€¼ä¹‹é—´çš„ç›¸äº’æ¡ä»¶ç‹¬ç«‹ï¼Œè¯¥å‡å®šè¯´æ˜åœ¨ç»™å®šå®ä¾‹çš„ç›®æ ‡å€¼æƒ…å†µä¸‹ï¼Œè§‚å¯Ÿåˆ°çš„è”åˆå±æ€§a1ã€a2ã€a3â€¦ çš„æ¦‚å¿µç­‰äºå•ä¸ªå±æ€§çš„æ¦‚ç‡ä¹˜ç§¯ï¼š Pï¼ˆa_1,a_2,...,a_n|hï¼‰=\\prod P(a_i|h) exampleï¼š æˆ‘ä»¬æ˜¯æ•°æ®é›†å’ŒçŸ¥é“äº†å…³äºä¸€ä¸ªğŸ‰æ˜¯å¦å¥½åçš„é¢œè‰²å’Œå¤§å°çš„å±æ€§ï¼š å¯¹ä¸€ä¸ªçº¢è‰²ï¼Œå¤§çš„ğŸ‰åˆ¤æ–­æ˜¯å¦å¥½åï¼š Pï¼ˆå¥½ï¼‰=0.8 Pï¼ˆåï¼‰=0.2 Pï¼ˆçº¢è‰²ï½œå¥½ï¼‰=0.8ï¼Œ Pï¼ˆçº¢è‰²ï½œåï¼‰=0.1ï¼Œ Pï¼ˆå¤§ï½œå¥½ï¼‰=0.9 Pï¼ˆå¤§ï½œåï¼‰=0.4 Pï¼ˆå¥½ï¼‰*Pï¼ˆçº¢è‰²ï½œå¥½ï¼‰*Pï¼ˆå¤§ï½œå¥½ï¼‰=0.576 åŒç†ï¼Œè§‚å¯Ÿåˆ°æ•°æ®ä¸­åçš„å¯èƒ½è¡Œ=0.008 æ‰€ä»¥ä¸ºå¥½ğŸ‰ åŠè¿›é˜¶ï¼Œéœ€è¦è€ƒè™‘åˆ°ç‹¬ä¾èµ–ä¼°è®¡ï¼ˆsemi- naive bayes classifiersï¼‰ è¿›é˜¶ï¼šè´å¶æ–¯ä¿¡å¿µç½‘ ç•™ä¸ªå‘ï¼šè´å¶æ–¯åˆ†ç±»å™¨çš„æ–‡æœ¬ä¼°è®¡ 0x03 æœŸæœ›æœ€å¤§åŒ–ç®—æ³•ï¼ˆEMï¼‰ åœ¨è®¨è®ºä¸­ï¼Œä¸€ç›´å‡è®¾è®­ç»ƒæ ·æœ¬æ‰€æœ‰å±æ€§å˜é‡çš„å€¼åº¦å¯ä»¥è¢«è§‚æµ‹åˆ°ï¼Œä½†æ˜¯åœ¨å®é™…ä¸­å¾€å¾€ä¼šé‡åˆ°ç‰¹å¾åªæœ‰ä¸€éƒ¨åˆ†å¯ä»¥è§‚å¯Ÿåˆ°ï¼ŒEMç®—æ³•å¯ä»¥ç”¨äºå˜é‡ä»æ¥æ²¡æœ‰è¢«ç›´æ¥è§‚å¯Ÿåˆ°çš„æƒ…å†µï¼Œåªè¦è¿™äº›å˜é‡æ‰€éµå¾ªçš„æ¦‚ç‡åˆ†å¸ƒçš„ä¸€æ®µå½¢å¼ exampleï¼šç†è§£EMç®—æ³•å¯ä»¥ä»ä¸€ä¸ªå®é™…çš„ä¾‹å­æ¨å¯¼æ¥å¾—åˆ°ï¼Œå‡è®¾ä¸€ä¸ªæ•°æ®æ˜¯ä»kä¸ªé«˜æ–¯åˆ†å¸ƒæ··åˆè€Œå¾—åˆ°çš„ï¼Œæ³¨æ„è¿™ä¸ªkæœªçŸ¥ï¼Œä½†æ˜¯è¿™ä¸ªkä¸ªé«˜æ–¯åˆ†å¸ƒçš„æ–¹å·®æ˜¯Ïƒ2\\sigma ^2Ïƒâ€‹2â€‹â€‹ çŸ¥é“ï¼Œç°åœ¨éœ€è¦é¢„æµ‹æ˜¯kä¸ªå‡å€¼&lt;Î¼1,Î¼2,,,Î¼k&gt;&lt;\\mu_1,\\mu_2,,,\\mu_k&gt;&lt;Î¼â€‹1â€‹â€‹,Î¼â€‹2â€‹â€‹,,,Î¼â€‹kâ€‹â€‹&gt;,æˆ‘ä»¬éœ€è¦å…ˆå‡è®¾å‡å€¼çš„å€¼ï¼Œåœ¨é‡æ–°ä¼°è®¡éšè—å˜é‡çš„å€¼æ¥é‡æ–°è®¡ç®—æå¤§ä¼¼ç„¶å‡è®¾ Step01:å½“å‰çš„å‡è®¾ä¸º&lt;Î¼1...,Î¼k&gt;&lt;\\mu_1...,\\mu_k&gt;&lt;Î¼â€‹1â€‹â€‹...,Î¼â€‹kâ€‹â€‹&gt; çš„å€¼ï¼Œè®¡ç®—å±äºæ¯ä¸ªç±»åˆ«çš„æœŸæœ›å€¼ E(z=kâˆ£D)=p(x=xiâˆ£Î¼=Î¼i)/P(x=xi)E(z=k|D)=p(x=x_i|\\mu=\\mu_i)/P(x=x_i)E(z=kâˆ£D)=p(x=xâ€‹iâ€‹â€‹âˆ£Î¼=Î¼â€‹iâ€‹â€‹)/P(x=xâ€‹iâ€‹â€‹) Step02: è®¡ç®—ä¸€ä¸ªæ–°çš„æå¤§ä¼¼ç„¶å‡è®¾ï¼Œè®¡ç®—æ¯ä¸ªç‚¹å±äºæ¯å‘¨ç±»åˆ«çš„æœ€å¤§æ¦‚ç‡æ¥æ›´æ–°å‡å€¼ï¼Œæ¥æ›¿æ¢ç§°ä¸ºæ–°çš„å‡è®¾ ç†è®ºæ¨å¯¼ å¯¹äºnä¸ªæ ·æœ¬è§‚å¯Ÿæ•°æ®{xi}i=1m\\{x^i\\}_{i=1}^m{xâ€‹iâ€‹â€‹}â€‹i=1â€‹mâ€‹â€‹ æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ ·æœ¬çš„æ¨¡å‹å‚æ•°Î¸\\thetaÎ¸ æ¥æœ€å¤§å¯¹æ•°ä¼¼ç„¶å‡½æ•°ï¼Œå…¶ä¸­åŒ…å«æ²¡æœ‰è§‚å¯Ÿåˆ°çš„éšå«æ•°æ®Z \\bar \\theta=argmax \\Sigma log p(x^i;\\theta)\\\\ \\bar \\theta=argmax \\Sigma log p(x^i,z^i;\\theta)\\\\ =\\bar \\theta=argmax \\Sigma log \\Sigma_{z^i}\\ p(x_i,z^i;\\theta)\\\\ =\\bar \\theta=argmax \\Sigma log Q_i(Z^i) \\Sigma_{z^i}\\ \\frac{p(x^i,z^i;\\theta)}{Q_i(z^i)}å¼•å…¥ä¸€ä¸ªæ–°çš„åˆ†å¸ƒ\\\\ >=\\Sigma\\Sigma Q(Z_i) *log\\frac{p(x_i,z_i;\\theta)}{Q(z_i)}æ ¹æ®Jensenä¸ç­‰å¼ æˆ‘ä»¬æœ‰è®¸å¤šçš„é€‰æ‹©ï¼Œä½†æ˜¯è¿™æ ·Jesenä¼šåœ¨åé¢çš„å–å¸¸æ•°çš„æ—¶å€™æ‰‹é“¾ \\frac{p(x^i,z^i;\\theta)}{Q_i(z^i)}=c\\\\ åŒæ—¶\\Sigma Q_i(Z^i)=1 ç”±æ­¤å¯ä»¥çœ‹å‡º Qi(zi)=p(xi,zi;Î¸)/Î£(p(xi,zi;Î¸))=p(ziâˆ£xi,Î¸)Q_i(z^i)=p(x^i,z^i;\\theta)/\\Sigma(p(x^i,z^i;\\theta))=p(z^i|x^i,\\theta) Qâ€‹iâ€‹â€‹(zâ€‹iâ€‹â€‹)=p(xâ€‹iâ€‹â€‹,zâ€‹iâ€‹â€‹;Î¸)/Î£(p(xâ€‹iâ€‹â€‹,zâ€‹iâ€‹â€‹;Î¸))=p(zâ€‹iâ€‹â€‹âˆ£xâ€‹iâ€‹â€‹,Î¸) E: è®¡ç®—Qi(Zi)Q_i(Z^i)Qâ€‹iâ€‹â€‹(Zâ€‹iâ€‹â€‹) M: argmaxÎ£Î£Qi(Zi)log(p(xi,zi;Î¸)/Qi(Zi))argmax\\Sigma\\Sigma Q_i(Z^i)log(p(x^i,z^i;\\theta)/Q_i(Z^i))argmaxÎ£Î£Qâ€‹iâ€‹â€‹(Zâ€‹iâ€‹â€‹)log(p(xâ€‹iâ€‹â€‹,zâ€‹iâ€‹â€‹;Î¸)/Qâ€‹iâ€‹â€‹(Zâ€‹iâ€‹â€‹)) EMç®—æ³•çš„ä¾‹å­ æ›´å®é™…çš„ä¾‹å­ï¼šå‡è®¾ABç”¨ç›¸åŒçš„æ¦‚ç‡é€‰æ‹©ä¸€ä¸ªç¡¬å¸ï¼Œè¿›è¡Œå®éªŒï¼Œæ¯æ¬¡éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œè¯·é—®å¦‚ä½•ä¼°è®¡ä¸¤ä¸ªç¡¬å¸æ­£é¢å‡ºç°çš„æ¦‚ç‡ï¼Ÿï¼ˆaæƒ…å†µæ˜¯çŸ¥é“é€‰æ‹©ç¡¬å¸Aè¿˜æ˜¯Bï¼›bæƒ…å†µä¸çŸ¥é“é€‰æ‹©ç¡¬å¸Aè¿˜æ˜¯Bï¼‰ Eï¼šæˆ‘ä»¬å‡è®¾Açš„æ¦‚ç‡æ˜¯0.6ï¼›å‡è®¾Bçš„æ¦‚ç‡æ˜¯0.5ï¼Œè¿™é‡Œä»…ä»…æ˜¯åˆå§‹åŒ–çš„å€¼ï¼ŒåŒæ—¶æ ¹æ®è§‚æµ‹çš„æ•°æ®æ¥è®¡ç®—æœŸæœ›çš„åˆ†å¸ƒ Q_i(Z^i=A)=Pï¼ˆZ=Aï½œy_i,\\bar\\theta_Aï¼‰=\\frac{Pï¼ˆZ=A,y_i|\\bar\\theta_Aï¼‰P(A)}{Pï¼ˆZ=A,y_i|\\bar\\theta_Aï¼‰P(A)+Pï¼ˆZ=B,y_i|\\bar\\theta_Aï¼‰P(B)}\\\\ =[0.45,0.80,0.73,0.35,0.65] Q: å…¶ä¸­çš„Qå‡½æ•°å½¢å¼ä¸º Q(Î¸,Î¸i)=âˆ‘j=1Nâˆ‘zP(z|yj,Î¸i)logP(yj,z|Î¸)=âˆ‘j=1NÎ¼jlog(Î¸yjA(1âˆ’Î¸A)10âˆ’yj)+(1âˆ’Î¼j)log(Î¸yjB(1âˆ’Î¸B)10âˆ’yj)] Q ( Î¸ , Î¸ i ) = âˆ‘ j = 1 N âˆ‘ z P ( z | y j , Î¸ i ) l o g P ( y j , z | Î¸ ) = âˆ‘ j = 1 N Î¼ j l o g ( Î¸ A y j ( 1 âˆ’ Î¸ A ) 10 âˆ’ y j ) + ( 1 âˆ’ Î¼ j ) l o g ( Î¸ B y j ( 1 âˆ’ Î¸ B ) 10 âˆ’ y j ) ] æ±‚å¯¼æ¥å¾—åˆ°æ›´æ–°çš„Î¸A,Î¸B\\theta_A,\\theta_BÎ¸â€‹Aâ€‹â€‹,Î¸â€‹Bâ€‹â€‹ æ¯”å¦‚æ··åˆé«˜æ–¯æ¨¡å‹GMMã€K-meansèšç±»çš„æ–¹æ³• 0x04 å¡å°”æ›¼æ»¤æ³¢","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"CS229","slug":"CS229","permalink":"https://blog.tjdata.site/tags/CS229/"}]},{"title":"CS229-04--å¸¸è§æ¨¡å‹æ€»ç»“","slug":"CS229-04--å¸¸è§æ¨¡å‹æ€»ç»“","date":"2022-03-11T01:37:48.000Z","updated":"2023-05-13T13:47:24.382Z","comments":true,"path":"posts/61a92f70.html","link":"","permalink":"https://blog.tjdata.site/posts/61a92f70.html","excerpt":"åœ¨æœºå™¨å­¦ä¹ çœ‹åˆ°ä¸€åŠçš„è¿‡ç¨‹ä¸­ï¼Œå¯¹äºä¹‹å‰å­¦ä¹ çš„å¹¿ä¹‰çº¿æ€§æ¨¡å‹ã€é«˜æ–¯åˆ¤åˆ«åˆ†æã€æ”¯æŒå‘é‡æœºã€å†³ç­–æ ‘ã€å¤šå±‚æ„ŸçŸ¥å™¨è¿›è¡Œé˜¶æ®µæ€§çš„æ€»ç»“ï¼Œå¹¶å°è¯•ä½¿ç”¨è¿‡å»è¯¾ç¨‹ä¸­å¯èƒ½å­˜åœ¨ä¾‹å­æ¥è¿›è¡Œå±•ç¤ºï¼Œæœ€ååˆ©ç”¨Kaggleçš„å®éªŒæ¥è¿›è¡Œå±•ç¤º å¦‚æœ‰ä¾µæƒï¼Œå¯ä»¥åˆ é™¤ï¼›å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æå‡º","text":"åœ¨æœºå™¨å­¦ä¹ çœ‹åˆ°ä¸€åŠçš„è¿‡ç¨‹ä¸­ï¼Œå¯¹äºä¹‹å‰å­¦ä¹ çš„å¹¿ä¹‰çº¿æ€§æ¨¡å‹ã€é«˜æ–¯åˆ¤åˆ«åˆ†æã€æ”¯æŒå‘é‡æœºã€å†³ç­–æ ‘ã€å¤šå±‚æ„ŸçŸ¥å™¨è¿›è¡Œé˜¶æ®µæ€§çš„æ€»ç»“ï¼Œå¹¶å°è¯•ä½¿ç”¨è¿‡å»è¯¾ç¨‹ä¸­å¯èƒ½å­˜åœ¨ä¾‹å­æ¥è¿›è¡Œå±•ç¤ºï¼Œæœ€ååˆ©ç”¨Kaggleçš„å®éªŒæ¥è¿›è¡Œå±•ç¤º å¦‚æœ‰ä¾µæƒï¼Œå¯ä»¥åˆ é™¤ï¼›å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æå‡º 0x01åŸºæœ¬æ¨¡å‹ 1.1 GLMï¼ˆlogistic regressionã€linear regressionã€softmax regressionï¼‰ ä¹‹å‰çš„blogï¼Œå…³äºGLM åæ§½ï¼š æ˜æ˜æ˜¯discriminateçš„æ¨¡å‹ï¼Œå´å«å¹¿ä¹‰çº¿æ€§æ¨¡å‹ï¼ˆgenerative linear modelï¼‰ï¼›æ˜æ˜æ˜¯generativeçš„æ¨¡å‹ï¼Œå´å«é«˜æ–¯åˆ¤åˆ«åˆ†æï¼ˆgaussian discriminat analysisï¼‰ å¹¿ä¹‰çº¿æ€§æ¨¡å‹ä¸­çš„æ­¥éª¤æ˜¯ï¼Œå¯¹äºä¸€ç¾¤i.i.dï¼ˆç‹¬ç«‹åŒåˆ†å¸ƒï¼‰çš„æ•°æ®é›†Xï¼Œé€šè¿‡å­¦ä¹ ç®—æ³•å¾—åˆ°ä¸€ä¸ªå…³äºè¾“å‡ºé¢„æµ‹yçš„P(y^âˆ£X)P(\\hat y|X)P(â€‹yâ€‹^â€‹â€‹âˆ£X),å†æ¯æ¬¡è¾“å‡ºä¸­å°†æœŸæœ›å€¼ä½œä¸ºæœ€ç»ˆçš„è¾“å‡ºï¼Œä½¿å¾—å…¶çš„æ¦‚ç‡å¯ä»¥æœ€å¤§ã€‚å…¶ä¸­åšå‡ºä¸‰ä¸ªåŸºæœ¬å‡è®¾ Xï½Exponential\\ Family(\\eta)=b(y)exp(\\eta^TT(y)-a(\\eta)) è¾“å‡ºçš„é¢„æµ‹å€¼y^=hÎ¸(x)=E(yâˆ£x)\\hat y=h_{\\theta}(x)=E(y|x)â€‹yâ€‹^â€‹â€‹=hâ€‹Î¸â€‹â€‹(x)=E(yâˆ£x) ç”±äºæ˜¯çº¿æ€§æ¨¡å‹ï¼Œæœ€å¼ºçš„å‡è®¾æ˜¯Î·=Î¸Tx(i)\\eta =\\theta^T x^{(i)}Î·=Î¸â€‹Tâ€‹â€‹xâ€‹(i)â€‹â€‹ å¯ä»¥ä»ä¸‰ä¸ªä¾‹å­æ¥çœ‹å‡ºæ¨å¯¼è¿‡ç¨‹ï¼š example01:é€»è¾‘å›å½’ï¼ˆy=ã€Œ0ï¼Œ1ã€,psï¼šy=[-1,1]ä¸ä¸€æ ·ï¼‰ GLMåˆ†æï¼š hÎ¸(x)=E(yâˆ£x,Î¸)h_{\\theta}(x)=E(y|x,\\theta)hâ€‹Î¸â€‹â€‹(x)=E(yâˆ£x,Î¸),è¿™é‡Œçš„åˆ†å¸ƒå‡è®¾æ˜¯Bernoulliï¼ˆä¼¯åŠªåˆ©åˆ†å¸ƒï¼‰ï¼Œå› æ­¤ hÎ¸(x)=Ï•=1/(1+eâˆ’Î·)=1/(1+eâˆ’Î¸Tx)h_{\\theta}(x)=\\phi=1/(1+e^{-\\eta})=1/(1+e^{-\\theta^Tx})hâ€‹Î¸â€‹â€‹(x)=Ï•=1/(1+eâ€‹âˆ’Î·â€‹â€‹)=1/(1+eâ€‹âˆ’Î¸â€‹Tâ€‹â€‹xâ€‹â€‹) æ•°æ®é›†å’Œå‡è®¾ï¼ˆx^{(i)},y^{(i)}ï¼‰,y\\in\\{0,1\\},h_{\\theta}(x)=g(z),g(z)=\\frac{1}{1+e^{-z}} ç”±æ­¤æ¨å¯¼å¾—åˆ°é¢„æµ‹å€¼çš„è¾“å‡ºçš„æŸå¤±å‡½æ•°:P(yâˆ£x)=âˆhÎ¸(x)yâˆ—(1âˆ’hÎ¸(x)1âˆ’yP(y|x)=\\prod h_{\\theta}(x)^y*(1-h_{\\theta}(x)^{1-y}P(yâˆ£x)=âˆhâ€‹Î¸â€‹â€‹(x)â€‹yâ€‹â€‹âˆ—(1âˆ’hâ€‹Î¸â€‹â€‹(x)â€‹1âˆ’yâ€‹â€‹ ä¹‹åä¸ºäº†åˆ©ç”¨æ¢¯åº¦ä¸‹é™Gradient Descentä¸‹é™çš„æ–¹å¼éœ€è¦è®¡ç®—âˆ‚lâˆ‚Î¸\\frac{\\partial l}{\\partial\\theta}â€‹âˆ‚Î¸â€‹â€‹âˆ‚lâ€‹â€‹,åŒæ—¶ä¸ºäº†ç®€ä¾¿è®¡ç®— âˆ‚lâˆ‚Î¸=âˆ‚In(P)âˆ‚Î¸=Î£(yâˆ’hÎ¸(x).âˆ—x)\\frac{\\partial l}{\\partial\\theta}=\\frac{\\partial In(P)}{\\partial\\theta}=\\Sigma (y-h_{\\theta}(x).*x)â€‹âˆ‚Î¸â€‹â€‹âˆ‚lâ€‹â€‹=â€‹âˆ‚Î¸â€‹â€‹âˆ‚In(P)â€‹â€‹=Î£(yâˆ’hâ€‹Î¸â€‹â€‹(x).âˆ—x) example02: çº¿æ€§å›å½’ GLMåˆ†æï¼š hÎ¸(x)=E(yâˆ£x,Î¸)h_{\\theta}(x)=E(y|x,\\theta)hâ€‹Î¸â€‹â€‹(x)=E(yâˆ£x,Î¸),è¿™é‡Œçš„åˆ†å¸ƒå‡è®¾æ˜¯é«˜æ–¯åˆ†å¸ƒ hÎ¸(x)=Ï•=Î·=Î¸Txh_{\\theta}(x)=\\phi=\\eta=\\theta^Txhâ€‹Î¸â€‹â€‹(x)=Ï•=Î·=Î¸â€‹Tâ€‹â€‹x æ•°æ®é›†å’Œå‡è®¾ï¼ˆx^{(i)},y^{(i)}ï¼‰,h_{\\theta}(x)=\\theta^Tx ç”±æ­¤æ¨å¯¼å¾—åˆ°é¢„æµ‹å€¼çš„è¾“å‡ºçš„æŸå¤±å‡½æ•°:P(yâˆ£x)=N(Î¸Tx,Ïƒ2)P(y|x)=N(\\theta^Tx,\\sigma^2)P(yâˆ£x)=N(Î¸â€‹Tâ€‹â€‹x,Ïƒâ€‹2â€‹â€‹) ä¹‹åä¸ºäº†åˆ©ç”¨æ¢¯åº¦ä¸‹é™Gradient Descentä¸‹é™çš„æ–¹å¼éœ€è¦è®¡ç®—âˆ‚lossâˆ‚Î¸\\frac{\\partial loss}{\\partial\\theta}â€‹âˆ‚Î¸â€‹â€‹âˆ‚lossâ€‹â€‹,åŒæ—¶ä¸ºäº†ç®€ä¾¿è®¡ç®— In(p)=Î£i=1m[In(1Ïƒâˆ—(2âˆ—Ï€))+âˆ’(y^iâˆ’hÎ¸(X))22âˆ—Ïƒ2]In(p)=\\Sigma_{i=1}^m[In(\\frac{1}{\\sigma*\\sqrt(2*\\pi)})+-\\frac{(\\hat y^i-h_\\theta(X))^2}{2*\\sigma^2}]In(p)=Î£â€‹i=1â€‹mâ€‹â€‹[In(â€‹Ïƒâˆ—âˆšâ€‹(â€‹â€‹â€‹2âˆ—Ï€)â€‹â€‹1â€‹â€‹)+âˆ’â€‹2âˆ—Ïƒâ€‹2â€‹â€‹â€‹â€‹(â€‹yâ€‹^â€‹â€‹â€‹iâ€‹â€‹âˆ’hâ€‹Î¸â€‹â€‹(X))â€‹2â€‹â€‹â€‹â€‹] ç­‰ä»·äºloss=Î£âˆ’(y^iâˆ’hÎ¸(X))22loss=\\Sigma-\\frac{(\\hat y^i-h_\\theta(X))^2}{2}loss=Î£âˆ’â€‹2â€‹â€‹(â€‹yâ€‹^â€‹â€‹â€‹iâ€‹â€‹âˆ’hâ€‹Î¸â€‹â€‹(X))â€‹2â€‹â€‹â€‹â€‹ âˆ‚lossâˆ‚Î¸=Î£(yâˆ’hÎ¸(x).âˆ—x)\\frac{\\partial loss}{\\partial\\theta}=\\Sigma(y-h_{\\theta(x)}.*x)â€‹âˆ‚Î¸â€‹â€‹âˆ‚lossâ€‹â€‹=Î£(yâˆ’hâ€‹Î¸(x)â€‹â€‹.âˆ—x) example03: softmax å›å½’ GLMåˆ†æï¼š hÎ¸(x)=E(yâˆ£x,Î¸)h_{\\theta}(x)=E(y|x,\\theta)hâ€‹Î¸â€‹â€‹(x)=E(yâˆ£x,Î¸),è¿™é‡Œæˆ‘ä»¬ä¸çŸ¥é“å…·ä½“çš„æ¦‚ç‡åˆ†å¸ƒæ˜¯ä»€ä¹ˆï¼Œåªèƒ½å‡è®¾æ¯ä¸€ç±»çš„è¾“å‡ºæ˜¯Ï•k\\phi_kÏ•â€‹kâ€‹â€‹,å¾—åˆ°æ¦‚ç‡åˆ†å¸ƒå‡½æ•° p(y;Ï•)=Ï•11,y=1âˆ—Ï•21,y=1...âˆ—Ï•k1,y=k=Ï•1T(y)1âˆ—Ï•2T(y)2âˆ—...âˆ—Ï•kT(y)k=b(y)exp(Î·T(y)âˆ’a(Î·))p(y;\\phi)=\\phi_1^{1,y=1}*\\phi_2^{1,y=1}...*\\phi_k^{1,y=k}=\\phi_1^{T(y)_1}*\\phi_2^{T(y)_2*...*\\phi_k^{T(y)_k}}=b(y)exp(\\eta^T(y)-a(\\eta))p(y;Ï•)=Ï•â€‹1â€‹1,y=1â€‹â€‹âˆ—Ï•â€‹2â€‹1,y=1â€‹â€‹...âˆ—Ï•â€‹kâ€‹1,y=kâ€‹â€‹=Ï•â€‹1â€‹T(y)â€‹1â€‹â€‹â€‹â€‹âˆ—Ï•â€‹2â€‹T(y)â€‹2â€‹â€‹âˆ—...âˆ—Ï•â€‹kâ€‹T(y)â€‹kâ€‹â€‹â€‹â€‹â€‹â€‹=b(y)exp(Î·â€‹Tâ€‹â€‹(y)âˆ’a(Î·)) ç»è¿‡åŒ–ç®€å¯ä»¥å¾—åˆ° Î·=[log(Ï•1/Ï•k),...,log(Ï•kâˆ’1/log(Ï•k))]\\eta=[log(\\phi_1/\\phi_k),...,log(\\phi_{k-1}/log(\\phi_k))]Î·=[log(Ï•â€‹1â€‹â€‹/Ï•â€‹kâ€‹â€‹),...,log(Ï•â€‹kâˆ’1â€‹â€‹/log(Ï•â€‹kâ€‹â€‹))] åŒæ—¶ Î£Ï•j=1\\Sigma \\phi_j=1Î£Ï•â€‹jâ€‹â€‹=1 å¯ä»¥å¾—åˆ° Ï•k=1/Î£eÎ·i=1/Î£eÎ¸iTx\\phi_k=1/\\Sigma e^{\\eta_i}=1/\\Sigma e^{\\theta^T_i x}Ï•â€‹kâ€‹â€‹=1/Î£eâ€‹Î·â€‹iâ€‹â€‹â€‹â€‹=1/Î£eâ€‹Î¸â€‹iâ€‹Tâ€‹â€‹xâ€‹â€‹ å› æ­¤å¯¹äº Ï•i=eÎ·i/Î£(eÎ·j)=eÎ¸iTx/Î£(eÎ¸jTx)\\phi_i=e^{\\eta_i}/\\Sigma(e^{\\eta_j})=e^{\\theta^T_ix}/\\Sigma(e^{\\theta_j^T x})Ï•â€‹iâ€‹â€‹=eâ€‹Î·â€‹iâ€‹â€‹â€‹â€‹/Î£(eâ€‹Î·â€‹jâ€‹â€‹â€‹â€‹)=eâ€‹Î¸â€‹iâ€‹Tâ€‹â€‹xâ€‹â€‹/Î£(eâ€‹Î¸â€‹jâ€‹Tâ€‹â€‹xâ€‹â€‹) åœ¨å¾—åˆ°åˆ†å¸ƒå‡½æ•°çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—æœŸæœ›å€¼ hÎ¸(x)=E(yâˆ£x;Î¸)=[Ï•1,...,Ï•kâˆ’1]h_{\\theta}(x)=E(y|x;\\theta)=[\\phi_1,...,\\phi_{k-1}]hâ€‹Î¸â€‹â€‹(x)=E(yâˆ£x;Î¸)=[Ï•â€‹1â€‹â€‹,...,Ï•â€‹kâˆ’1â€‹â€‹] æŸå¤±å‡½æ•°å°±æ˜¯æˆ‘ä»¬æœ€åˆå®šä¹‰çš„ï¼š loss=Ï•1T(y)1âˆ—Ï•2T(y)2âˆ—...âˆ—Ï•kT(y)kloss=\\phi_1^{T(y)_1}*\\phi_2^{T(y)_2*...*\\phi_k^{T(y)_k}}loss=Ï•â€‹1â€‹T(y)â€‹1â€‹â€‹â€‹â€‹âˆ—Ï•â€‹2â€‹T(y)â€‹2â€‹â€‹âˆ—...âˆ—Ï•â€‹kâ€‹T(y)â€‹kâ€‹â€‹â€‹â€‹â€‹â€‹ 1.2 GDAï¼ˆGaussian Discriminat Analysisï¼‰ ä¸åˆ¤åˆ«å¼æ¨¡å‹ï¼ˆGLMï¼‰æƒ³æ¯”è¾ƒp(yâˆ£x)p(y|x)p(yâˆ£x)ï¼Œç”Ÿæˆå¼æ¨¡å‹generativeç”¨äºç”Ÿæˆp(xâˆ£y)p(y)p(x|y)p(y)p(xâˆ£y)p(y)æ¥å¯¹æ¯ä¸€ç§ç±»åˆ«å»ºæ¨¡ï¼Œå¯»æ‰¾æ¯ä¸ªç±»åˆ«çš„ç‰¹å¾ï¼Œä¹Ÿå°±æ˜¯æ¯”å¦‚è¾“å‡ºå¤šç§ç±»åˆ«ï¼ŒåŒæ—¶å‡è®¾æ¯ä¸ªç±»åˆ«éƒ½æ˜¯é«˜æ–¯åˆ†å¸ƒï¼Œåˆ™å¯ä»¥è®¡ç®—ä¸¤ä¸ªç±»åˆ«çš„é«˜æ–¯åˆ†å¸ƒå‚æ•°ï¼Œè¿™æ ·åœ¨å¾—åˆ°è¾“å…¥å¯ä»¥ç›´æ¥ä½¿ç”¨åˆ†å¸ƒå‡½æ•°æ¥å¾—åˆ°è¾“å‡º p(xâˆ£y)=1(2âˆ—Ï€)n/2âˆ—âˆ£Î£âˆ£1/2âˆ—exp(âˆ’1/2âˆ—(xâˆ’Î¼T)Î£âˆ’1(xâˆ’Î¼)))p(x|y)=\\frac{1}{(2*\\pi)^{n/2}*|\\Sigma|^{1/2}}*exp(-1/2*(x-\\mu^T)\\Sigma^{-1}(x-\\mu))) p(xâˆ£y)=â€‹(2âˆ—Ï€)â€‹n/2â€‹â€‹âˆ—âˆ£Î£âˆ£â€‹1/2â€‹â€‹â€‹â€‹1â€‹â€‹âˆ—exp(âˆ’1/2âˆ—(xâˆ’Î¼â€‹Tâ€‹â€‹)Î£â€‹âˆ’1â€‹â€‹(xâˆ’Î¼))) è®¡ç®—å°±å¥½äº†è›® 1.3 SVM(Support Vector Machine) æ”¯æŒå‘é‡æœºæ˜¯æœ€å¤§è¾¹ç¼˜æ–¹æ³•ï¼Œå…è®¸æŠŠæ¨¡å‹è¡¨ç¤ºä¸ºè®­ç»ƒå®ä¾‹çš„ä¸€ä¸ªå­é›†çš„å½±å“ä¹‹å’Œï¼Œè¿™äº›å½±å“ç”¨é¢å‘åº”ç”¨çš„ç›¸ä¼¼æ€§æ ¸ç»™å‡ºï¼Œé‡‡ç”¨ï¼šä¸è¦åœ¨è§£å†³å®é™…é—®é¢˜ä¹‹å‰æŠŠè§£å†³ä¸€ä¸ªæ›´å¤æ‚çš„é—®é¢˜ä½œä¸ºç¬¬ä¸€æ­¥ï¼›åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¸Œæœ›æ‰¾åˆ°çš„æ˜¯é‚£ä¸ªæœ€ä½³åˆ†ç¦»å¹³é¢hyperplaneï¼šwTx+bw^Tx+bwâ€‹Tâ€‹â€‹x+bä¸­çš„ä¸¤ä¸ªå‚æ•° æ¨¡å‹çš„è¾“å…¥æ˜¯(x(i),y(i)),yâˆˆ{âˆ’1,+1}(x^{(i)},y^{(i)}),y\\in\\{-1,+1\\}(xâ€‹(i)â€‹â€‹,yâ€‹(i)â€‹â€‹),yâˆˆ{âˆ’1,+1},å¸Œæœ›æ‰¾åˆ°çš„æ˜¯å¯ä»¥è®²æ•°æ®é›†å¯ä»¥æ­£ç¡®åŒºåˆ†å¼€çš„å‚æ•°w bw\\ bw b Ps:ä¸ºäº†ç®€å•èµ·è§ï¼Œå¯ä»¥ä»çº¿æ€§å¯åˆ†çš„æƒ…å†µæ¥è°ˆè®ºï¼Œå†æ‹“å±•åˆ°éçº¿æ€§å¯åˆ†çš„æƒ…å†µ é€šè¿‡å®šä¹‰functional marginå’Œgeometry marginï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹æœ€ç¬¦åˆç›´è§‰çš„æ¨¡å‹ä¸ºï¼š target:max\\ \\gamma=min[y^{(i)}(w^Tx^{(i)}+b)]\\\\ subject\\ to:y^{(i)}(w^Tx^{(i)}+b)>\\gamma\\\\ ||w||=1 ç»è¿‡å‡¸ä¼˜åŒ–ä¸­çš„ç›¸å…³å˜åŒ–ï¼Œä½¿å…¶å˜æˆå¯ä»¥æ±‚è§£çš„å½¢å¼ min:\\frac{1}{2}||w||^2\\\\ s.t.:y^{(i)}(w^Tx^{(i)}+b)>=1 å¯¹äºè¿™ç§ç±»å‹çš„å‡¸ä¼˜åŒ–é—®é¢˜ï¼Œå¯ä»¥é‡‡ç”¨æ‹‰æ ¼æœ—æ—¥æ–¹æ³•æˆ–è€…å…¶ä»–æ–¹æ³•ç›´æ¥è¿›è¡Œæ±‚è§£ï¼›ä¹Ÿå¯ä»¥å°†å…¶è½¬æ¢ä¸ºå¯¹å¶é—®é¢˜dual problemï¼Œå†åˆ©ç”¨æ‹‰æ ¼æœ—æ—¥ç®—æ³•æˆ–è€…å…¶ä»–æ–¹æ³•æ¥æ±‚è§£ï¼Œâš ï¸æˆ‘ä»¬å¸Œæœ›æ±‚è§£çš„æ˜¯wå’Œbï¼ï¼ L=12âˆ£âˆ£wâˆ£âˆ£2+Î±i(1âˆ’y(i)(wTx(i)+b))[Î±&gt;=0]L=\\frac{1}{2}||w||^2+\\alpha_i(1-y^{(i)}(w^Tx^{(i)}+b))[\\alpha&gt;=0]L=â€‹2â€‹â€‹1â€‹â€‹âˆ£âˆ£wâˆ£âˆ£â€‹2â€‹â€‹+Î±â€‹iâ€‹â€‹(1âˆ’yâ€‹(i)â€‹â€‹(wâ€‹Tâ€‹â€‹xâ€‹(i)â€‹â€‹+b))[Î±&gt;=0] å¯¹äºè¿™ä¸ªå‡½æ•°æ±‚æå€¼ï¼Œå°±æ˜¯å¸Œæœ› âˆ‚Lâˆ‚w\\frac{\\partial L}{\\partial w}â€‹âˆ‚wâ€‹â€‹âˆ‚Lâ€‹â€‹å’Œâˆ‚Lâˆ‚b\\frac{\\partial L}{\\partial b}â€‹âˆ‚bâ€‹â€‹âˆ‚Lâ€‹â€‹ç­‰äº0 âˆ‚Lâˆ‚w=wâˆ’Î£Î±iy(i)x(i)\\frac{\\partial L}{\\partial w}=w-\\Sigma\\alpha_iy^{(i)}x^{(i)}â€‹âˆ‚wâ€‹â€‹âˆ‚Lâ€‹â€‹=wâˆ’Î£Î±â€‹iâ€‹â€‹yâ€‹(i)â€‹â€‹xâ€‹(i)â€‹â€‹ âˆ‚Lâˆ‚b=Î£Î±iy(i)\\frac{\\partial L}{\\partial b}=\\Sigma\\alpha_iy^{(i)}â€‹âˆ‚bâ€‹â€‹âˆ‚Lâ€‹â€‹=Î£Î±â€‹iâ€‹â€‹yâ€‹(i)â€‹â€‹ å°†è¿™ä¸ªå¸¦å…¥åˆ°Lä¸­ï¼ŒåŒ–ç®€å¾—åˆ° L=Î£Î±iâˆ’1/2Î£Î£Î±iÎ±jy(i)y(j)x(i)x(j)L=\\Sigma\\alpha_i-1/2\\Sigma\\Sigma\\alpha_i\\alpha_jy^{(i)}y^{(j)}x^{(i)}x^{(j)}L=Î£Î±â€‹iâ€‹â€‹âˆ’1/2Î£Î£Î±â€‹iâ€‹â€‹Î±â€‹jâ€‹â€‹yâ€‹(i)â€‹â€‹yâ€‹(j)â€‹â€‹xâ€‹(i)â€‹â€‹xâ€‹(j)â€‹â€‹ æ„å»ºå¯¹å¶é—®é¢˜ï¼Œç­‰ä»·äº max Lmax\\ Lmax L s.t. \\alpha_i>=0\\ å¹¶ä¸” \\Sigma\\alpha_i*y^{(i)}=0 å…¶ä¸­éœ€è¦æ»¡è¶³KKTæ¡ä»¶ï¼š Î±i&gt;=0\\alpha_i&gt;=0Î±â€‹iâ€‹â€‹&gt;=0 y(i)(wTx(i)+b)âˆ’1&gt;=0y^{(i)}(w^Tx^{(i)}+b)-1&gt;=0yâ€‹(i)â€‹â€‹(wâ€‹Tâ€‹â€‹xâ€‹(i)â€‹â€‹+b)âˆ’1&gt;=0 Î±i(y(i)(wTx(i)+b)âˆ’1&gt;=0)=0\\alpha_i(y^{(i)}(w^Tx^{(i)}+b)-1&gt;=0)=0Î±â€‹iâ€‹â€‹(yâ€‹(i)â€‹â€‹(wâ€‹Tâ€‹â€‹xâ€‹(i)â€‹â€‹+b)âˆ’1&gt;=0)=0 é€šè¿‡æŸç§ç®—æ³•SMOå¯ä»¥å¾ˆè½»æ¾çš„æ±‚è§£ä¸Šè¿°å¯¹å¶é—®é¢˜ï¼Œå¾—åˆ°Î±i\\alpha_iÎ±â€‹iâ€‹â€‹å¹¶æ ¹æ®KKTæ¡ä»¶å¯ä»¥ç¡®å®šæ”¯æŒå‘é‡ï¼ˆsupport vectorï¼‰,ç”±æ­¤è®¡ç®—å¾—åˆ°wå’Œbï¼Œè¿™æ ·å°±å¯ä»¥åˆ¤æ–­æ­£ä¾‹è¿˜æ˜¯åä¾‹ SMOç®—æ³•ï¼Ÿä»¥åæ‰çŸ¥é“å§ åœ¨çº¿æ€§ä¸å¯åˆ†çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨æ ¸æœºå™¨ï¼ˆkernel functionï¼‰æ¥è¿›è¡Œé‡æ–°åº¦é‡å‘é‡ä¹‹é—´çš„éç›¸ä¼¼æ€§ åœ¨é—´éš”åˆ’åˆ†ä¸­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®è½¯é—´éš”çš„æ–¹å¼æ¥å…è®¸æœ‰éƒ¨åˆ†å™ªå£°ç‚¹å‘ç”Ÿ åŒæ—¶ä¸ºäº†è¿‡æ‹Ÿåˆçš„é£é™©ï¼Œä¾æ—§å¯ä»¥å¢åŠ æ¨¡å‹å¤æ‚ç¨‹åº¦çš„é¡¹ï¼ˆtermï¼‰ 1.4 CARTï¼ˆClassfication and regression treeï¼‰ 1.5 ANNï¼ˆArtificial Neural Networkï¼‰ å¯¹äºæ¯ä¸ªç¥ç»å…ƒåŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯æ¥å—å‰ç«¯çš„æ¿€æ´»æƒé‡ï¼Œå¦å¤–ä¸€æ–¹é¢æ˜¯è‡ªèº«çš„æ¿€æ´»å‡½æ•°çš„é€‰å– çº¿æ€§è¿æ¥ï¼šz^i=w^ia^{i-1}+b^i æ¿€æ´»è¾“å‡ºï¼ša^i=g(z^i) å‡è®¾å¯¹äºè¿™æ ·çš„ä¸€ä¸ªå‡½æ•°ï¼š å‰å‘ä¼ é€’ï¼š Z1=W1âˆ—X+b1Z^1=W^1*X+b^1Zâ€‹1â€‹â€‹=Wâ€‹1â€‹â€‹âˆ—X+bâ€‹1â€‹â€‹ A1=g(Z1)A^1=g(Z^1)Aâ€‹1â€‹â€‹=g(Zâ€‹1â€‹â€‹) Z2=W2âˆ—A1+b2Z^2=W^2*A^1+b^2Zâ€‹2â€‹â€‹=Wâ€‹2â€‹â€‹âˆ—Aâ€‹1â€‹â€‹+bâ€‹2â€‹â€‹ A2=g(Z2)A^2=g(Z^2)Aâ€‹2â€‹â€‹=g(Zâ€‹2â€‹â€‹) Z3=W3âˆ—A2+b3Z^3=W^3*A^2+b^3Zâ€‹3â€‹â€‹=Wâ€‹3â€‹â€‹âˆ—Aâ€‹2â€‹â€‹+bâ€‹3â€‹â€‹ A3=g(Z3)A^3=g(Z^3)Aâ€‹3â€‹â€‹=g(Zâ€‹3â€‹â€‹) æ¢¯åº¦ä¸‹é™æ¥æ›´æ–°å‚æ•°ï¼š psï¼šè§£å†³é—®é¢˜è¦ä»æºå¤´ä¸€æ­¥ä¸€æ­¥è§£å†³ å¯ä»¥é€‰å–äº¤å‰ç†µä½œä¸ºè¯¯å·®å‡½æ•° L=âˆ’(ylog(y^)+(1âˆ’y)log(1âˆ’y^))L=-(ylog(\\hat y)+(1-y)log(1-\\hat y))L=âˆ’(ylog(â€‹yâ€‹^â€‹â€‹)+(1âˆ’y)log(1âˆ’â€‹yâ€‹^â€‹â€‹)) âˆ‚L/âˆ‚W3=âˆ‚L/âˆ‚A3âˆ—âˆ‚A3/âˆ‚W3=(y^âˆ’y)A2\\partial L/\\partial W^3=\\partial L/\\partial A^3*\\partial A^3/\\partial W^3=(\\hat y-y)A^2âˆ‚L/âˆ‚Wâ€‹3â€‹â€‹=âˆ‚L/âˆ‚Aâ€‹3â€‹â€‹âˆ—âˆ‚Aâ€‹3â€‹â€‹/âˆ‚Wâ€‹3â€‹â€‹=(â€‹yâ€‹^â€‹â€‹âˆ’y)Aâ€‹2â€‹â€‹ å¾ˆamazingï¼Œåœ¨äºè¾“å‡ºçš„æ¢¯åº¦ä¸‹é™å¯ä»¥å’Œå‰ä¸€ä¸ªèŠ‚ç‚¹çš„æ¿€æ´»æœ‰å…³ï¼Œå¦‚æœä½¿ç”¨å†…å­˜æŠŠè¿™äº›è®°å½•ä¸‹æ¥ï¼Œå¯ä»¥å¤§å¹…åº¦çš„é™ä½è®­ç»ƒçš„æ—¶é—´ï¼ŒåŒæ—¶å¯ä»¥å¹¶è¡Œçš„è®¡ç®—ä¸€äº›å‚æ•° åœ¨å®šä¹‰å¥½ä¸€ä¸ªç½‘ç»œç»“æœåªæ˜¯ä¸€ä¸ªåŸºç¡€ï¼Œè¿˜éœ€è¦ç¡®å®šç½‘ç»œä¸­çš„æ¿€æ´»å‡½æ•°ï¼Œå®šä¹‰å¥½ç½‘ç»œä¸­è®­ç»ƒçš„åŸºæœ¬å‚æ•°åˆå§‹åŒ–ã€å‚æ•°çš„éšæœºé€‰æ‹©ã€ä»¥åŠé‡‡ç”¨æ¯”è¾ƒå¥½çš„ä¼˜åŒ–æ±‚è§£ç®—æ³• æ¿€æ´»å‡½æ•° softmaxã€tanhã€logisticã€ReLuç­‰ç­‰ å‚æ•°å½’ä¸€åŒ– min-maxå½’ä¸€åŒ–ã€z-scoreã€å‡å€¼æ–¹å·®å½’ä¸€åŒ– å‚æ•°åˆå§‹åŒ– åœ¨ç½‘ç»œå±‚æ•°å˜å¤šçš„æƒ…å†µä¸‹ï¼Œæ¢¯åº¦ä¼šå‡ºç°çˆ†ç‚¸æˆ–è€…å˜å°çš„æƒ…å†µï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨çš„éšæœºåŒ–åŒ…æ‹¬ï¼šå‡å€¼ã€xvaier initiationã€he initializationã€np.random .randn(shaope)*np.sgrt(1/n[z-1]) simoid ç”¨1æ¯”è¾ƒå¥½ã€reluç”¨2æ¯”è¾ƒå¥½ç­‰ç­‰ä¸çŸ¥åçš„å‚æ•°åˆå§‹åŒ– ä¼˜åŒ–æ–¹æ³• GDã€SGDã€BGDã€åŠ¨é‡ç®—æ³•ã€Adamã€å¯å‘å¼ç®—æ³•ï¼ˆæ¨¡æ‹Ÿé€€ç«ã€é—ä¼ ç®—æ³•ï¼‰ç­‰ç­‰ å¸¸è§çš„ç½‘ç»œ RBFï¼ˆradial basis functionï¼Œå¾„å‘åŸºç½‘ç»œï¼‰ ARTï¼ˆadaptive resonance theoryï¼Œè‡ªé€‚åº”è°æŒ¯ç†è®ºï¼‰ SOMï¼ˆself- organizing map ï¼Œè‡ªç»„ç»‡æ˜ å°„ï¼‰ CCï¼ˆcascade- correlationï¼Œçº§è”ç›¸å…³ç½‘ç»œï¼‰ Elamnç½‘ç»œ Boltzmannæœº 0x02å®éªŒ ä¸€äº›æ¯”è¾ƒç®€å•çš„codebase GLM å†³ç­–æ ‘CARTåœ¨IRIS tensorflowå®ç°çš„äººå·¥ç¥ç»ç½‘ç»œ æ”¯æŒå‘é‡æœº 0x03Kaggle- Titanic è‰ç‡çš„èŠ±äº†ä¸€æ™šä¸Šäº†è§£äº†ä¸€ä¸‹kaggleçš„æµç¨‹ï¼Œæœ‰ç‚¹æ‹‰èƒ¯ï¼Œä¸€ä¸‡å¤š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495001 æ•°æ®é›†çš„å¯¼å…¥å’ŒåŸºæœ¬ä¿¡æ¯trainæ•°æ®é›†ä¸­åŒ…æ‹¬çš„ç‰¹å¾æœ‰ï¼š PassengerIdï¼šä¹˜å®¢çš„ç¼–å· Survivedï¼šæ˜¯å¦å­˜æ´» Pclassï¼šç¥¨çš„ç±»å‹ï¼Œ1æ˜¯æœ€å¥½çš„ã€3æ˜¯æœ€å·®çš„ Name:æ€§å‘½ Sex:å¹´é¾„ Age:å¹´é¾„ SibSp:ç›¸ä¼´çš„å…„å¼Ÿå§å¦¹ä»¥åŠé…å¶ Parchï¼šç›¸ä¼´çš„çˆ¶æ¯æˆ–è€…å­©å­ Tickerï¼šä¹˜å®¢çš„ç¥¨å· Fare:ä¹˜å®¢çš„ç¥¨ä»· Cabinï¼šæœºèˆ±å·ç  Embarkedï¼šä¸‹è½¦åœ°ç‚¹import pandas as pdimport numpy as npimport matplotlib.pyplot as pltimport seaborn as snstrain_data=pd.read_csv(&#x27;../titanic/train.csv&#x27;)test_data=pd.read_csv(&#x27;../titanic/test.csv&#x27;)train_data.head()# å’Œäº¤é€šæ•°æ®ä¸­ä¸€æ ·æ‹¿åˆ°æ•°æ®éœ€è¦è€ƒè™‘æ•°æ®æ˜¯å¦å­˜åœ¨ç¼ºå¤±ã€å¼‚å¸¸ã€æˆ–è€…æ˜¯é‡å¤ç­‰ç­‰train_data.info()# å¯ä»¥çœ‹å‡ºæ•°æ®ä¸­å­˜åœ¨ç¼ºå¤±çš„ç‰¹å¾åŒ…æ‹¬ï¼šAgeã€Cabinã€Embarked## ç¼ºå¤±å€¼çš„ä¿®è¡¥#Embarked ä¸Šèˆ¹åœ°ç‚¹ä¸­ç¼ºå°‘ä¸¤ä¸ªæ•°ï¼Œå¯¹äºä¹‹åå¹¶æ²¡æœ‰å¤ªå¤§çš„å½±å“ï¼Œå¯ä»¥ä½¿ç”¨ä¼—æ•°è¿›è¡Œä¿®è¡¥train_data.Embarked.fillna(value=train_data.Embarked.dropna().mode().values[0])data_test=test_data.Fare.fillna(value=test_data.Fare.dropna().mean())test_data.loc[:,&#x27;Fare&#x27;]=data_test# ä»ç›´è§‰ä¸Šæ¥çœ‹ï¼Œå¹´é¾„å¯¹äºä¹‹åæ˜¯å¦å èˆ¹æœ‰ç›¸å…³çš„å½±å“ï¼Œå› æ­¤åœ¨è¿™é‡Œé€‰æ‹©å¯¹åº”çš„éç©ºç‰¹å¾è¿›è¡Œç»šç»ƒfeature_name=[&#x27;Pclass&#x27;,&#x27;Sex&#x27;, &#x27;SibSp&#x27;, &#x27;Parch&#x27;,&#x27;Fare&#x27;,&#x27;Embarked&#x27;,&#x27;Survived&#x27;]# cabin çš„æœºåœºç¼ºå¤±å¤ªå¤šï¼Œè¿™é‡Œå°±ä¸ä½œä¸ºè®­ç»ƒæ¥# å¯¹æ€§åˆ«è¿›è¡Œç¼–ç train_data_copy=train_data[feature_name]from sklearn.preprocessing import LabelEncoderlabel=LabelEncoder()train_data_copy.loc[:,&#x27;Sex&#x27;]=label.fit_transform(train_data_copy.Sex)train_data_copy.loc[:,&#x27;Embarked&#x27;]=label.fit_transform(train_data_copy.Embarked)test_data.loc[:,&#x27;Sex&#x27;]=label.fit_transform(test_data.Sex)test_data.loc[:,&#x27;Embarked&#x27;]=label.fit_transform(test_data.Embarked)## å°è¯•ä½¿ç”¨SVMimport numpy as npfrom sklearn.pipeline import Pipelinefrom sklearn.preprocessing import StandardScalerfrom sklearn.preprocessing import PolynomialFeaturesfrom sklearn.svm import LinearSVCp_s_c=Pipeline([ (&#x27;poly_features&#x27;,PolynomialFeatures(degree=3)), (&#x27;scaler&#x27;,StandardScaler()), (&#x27;svm_clf&#x27;,LinearSVC(C=10,loss=&#x27;hinge&#x27;))])p_s_c.fit(train_data_copy.loc[:,(&#x27;Pclass&#x27;,&#x27;Sex&#x27;, &#x27;SibSp&#x27;, &#x27;Parch&#x27;,&#x27;Fare&#x27;,&#x27;Embarked&#x27;)],train_data_copy.iloc[:,-1])from sklearn.metrics import accuracy_scoreresult=p_s_c.predict(test_data.loc[:,(&#x27;Pclass&#x27;,&#x27;Sex&#x27;, &#x27;SibSp&#x27;, &#x27;Parch&#x27;,&#x27;Fare&#x27;,&#x27;Embarked&#x27;)])submisstion=pd.DataFrame(&#123; &#x27;PassengerId&#x27;:test_data[&#x27;PassengerId&#x27;], &#x27;Survived&#x27;:result&#125;)submisstion.to_csv(&#x27;submission.csv&#x27;,index=False)","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"CS229","slug":"CS229","permalink":"https://blog.tjdata.site/tags/CS229/"}]},{"title":"åŸºäºDjangoçš„ä¸ªäººåšå®¢ç½‘ç«™è®¾è®¡","slug":"åŸºäºDjangoçš„ä¸ªäººåšå®¢ç½‘ç«™è®¾è®¡","date":"2022-03-04T07:04:54.000Z","updated":"2022-10-17T08:18:08.951Z","comments":true,"path":"posts/237951b2.html","link":"","permalink":"https://blog.tjdata.site/posts/237951b2.html","excerpt":"æ–‡æœ¬å¸Œæœ›æ ¹æ®Djangoä½œä¸ºæ¡†æ¶ï¼Œå‰ç«¯åˆ©ç”¨Vueæ¥å®ç°ä¸ªäººåšå®¢ç½‘ç«™çš„å¼€å‘ ä½œä¸ºä¸€ä¸ªå¤–è¡Œäººçœ‹ä¸“é—¨çš„Djangoçš„ä¹¦æœ¬ä¼šè¢«ä¸€äº›åŸºç¡€çŸ¥è¯†æ‰€æ‹–ç´¯ï¼Œæ¯”å¦‚HTMLä¸­çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼Œç„¶è€ŒæŠ›å»ç»†èŠ‚ï¼Œç”¨è‡ªå·±çš„æ–¹å¼æ¥å®Œæˆä¸€ä¸ªæ¯”è¾ƒéš¾çš„ï¼ˆéš¾åº¦ä¸ä¼šç‰¹åˆ«é«˜ï¼Œä½†æ˜¯åˆä¼šæ¯”å®˜æ–¹æ•™ç¨‹å­¦ä¹ ï¼‰çš„å¤šä¸€äº›ï¼Œè¿™å¯èƒ½æ˜¯æœ¬æ•™ç¨‹çš„æ„ä¹‰åœ¨æ­¤","text":"æ–‡æœ¬å¸Œæœ›æ ¹æ®Djangoä½œä¸ºæ¡†æ¶ï¼Œå‰ç«¯åˆ©ç”¨Vueæ¥å®ç°ä¸ªäººåšå®¢ç½‘ç«™çš„å¼€å‘ ä½œä¸ºä¸€ä¸ªå¤–è¡Œäººçœ‹ä¸“é—¨çš„Djangoçš„ä¹¦æœ¬ä¼šè¢«ä¸€äº›åŸºç¡€çŸ¥è¯†æ‰€æ‹–ç´¯ï¼Œæ¯”å¦‚HTMLä¸­çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼Œç„¶è€ŒæŠ›å»ç»†èŠ‚ï¼Œç”¨è‡ªå·±çš„æ–¹å¼æ¥å®Œæˆä¸€ä¸ªæ¯”è¾ƒéš¾çš„ï¼ˆéš¾åº¦ä¸ä¼šç‰¹åˆ«é«˜ï¼Œä½†æ˜¯åˆä¼šæ¯”å®˜æ–¹æ•™ç¨‹å­¦ä¹ ï¼‰çš„å¤šä¸€äº›ï¼Œè¿™å¯èƒ½æ˜¯æœ¬æ•™ç¨‹çš„æ„ä¹‰åœ¨æ­¤ 0x00 åŸºç¡€çŸ¥è¯† ç½‘ç«™ä¸Šæ˜¯åç«¯æœåŠ¡å™¨ç”Ÿæˆè§†é¢‘ã€æ–‡å­—ã€å›¾ç‰‡ã€æ•°å­—ç­‰ç­‰æ•°æ®ï¼Œé€šè¿‡HTTPSæˆ–è€…å„ç§ç½‘ç»œé€šä¿¡åè®®æ¥ä¼ é€’åˆ°å‰ç«¯æµè§ˆå™¨ä¸­è¿›è¡Œæ˜¾ç¤ºï¼ˆB-Sæ¡†æ¶ï¼‰ï¼Œè¿™æ¶‰åŠä¸‰ä¸ªæ–¹é¢ï¼š æœåŠ¡ç«¯ï¼ˆserverï¼‰éœ€è¦ä»€ä¹ˆé€»è¾‘å¤„ç†ç¨‹åºè¯­è¨€ï¼Ÿéœ€è¦ä»€ä¹ˆæ•°æ®å­˜å‚¨è¯­è¨€ï¼Ÿ ä¹‹é—´é€šä¿¡å¦‚ä½•å®‰æ’ï¼Ÿ å‰ç«¯æ˜¾ç¤ºçš„æ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿ å¹¸è¿çš„æ˜¯ï¼Œè¿™é‡Œæˆ‘ä»¬æœ‰ä¸€å¥—æ ‡å‡†ï¼Œå‰ç«¯æ˜¾ç¤ºæ˜¯HTMLï¼ˆhtml+css+jsï¼‰ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæœ‰ä¹Ÿæœ‰ä¸€äº›æ¡†æ¶å¦‚Vueã€Reactæ¥è®²ä¸€äº›æ¼‚äº®çš„æ ¼å¼å›ºå®šåŒ–æ–¹ä¾¿è°ƒç”¨ï¼Œé€šä¿¡ä¸­Djangoä½œä¸ºæ¡†æ¶å·²ç»å¤„ç†å¥½äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨å®ƒå°±okäº†ï¼ï¼ŒæœåŠ¡ç«¯é€»è¾‘å¤„ç†ç¨‹åºè¯­è¨€ä¸­pythonã€Cã€Javaç­‰ç­‰éƒ½å¯ä»¥ï¼Œé‡è¦çš„æ˜¯è¦å¤„ç†é€»è¾‘ï¼Œè¿™é‡Œä½¿ç”¨pythonå°±å¥½ï¼Œæ•°æ®ç®¡ç†å¯ä»¥ä½¿ç”¨MySQL å…¶ä¸­å†æ‹¿å‡ºDjangoå•ç‹¬è¯´ï¼Œå®ƒä¸ä»…ä»…æœåŠ¡äºç½‘ç»œé€šä¿¡ï¼Œä¹Ÿå¯ä»¥å¸®åŠ©åå°ç½‘ç«™æ¨¡ç‰ˆçš„ç»„ç»‡ã€å¸®åŠ©åˆ©ç”¨pythonè¯­è¨€æ¥æ§åˆ¶æœåŠ¡åº“ï¼ŒåŒæ—¶å°†å‰åç«¯å¼€å‘ä¸­å¤æ‚çš„æ–‡ä»¶å…³ç³»ä½¿ç”¨MVCæ¨¡å¼ modelï¼šå¤„ç†ä¸æ•°æ®ç›¸å…³çš„ä¸šåŠ¡ï¼ˆäººè¯ï¼šå¯ä»¥ç”¨pythonè¯­è¨€æ¥å¢åˆ æ”¹æŸ¥mysqlï¼Œæ‰€ä»¥ä¸ç”¨å­¦mysqlå…·ä½“è¯­å¥ï¼‰ templateï¼šå¤„ç†ä¸è¡¨ç°ç›¸å…³çš„å†³å®šï¼ˆä¹Ÿå°±æ˜¯å‰ç«¯çš„ç½‘é¡µæ˜¯å¦‚ä½•æ˜¾ç¤ºçš„ï¼‰ viewï¼šå­˜å–æ¨¡å‹åŠè°ƒç”¨æ°å½“æ¨¡ç‰ˆçš„ç›¸å…³é€»è¾‘ï¼ˆä¹Ÿå°±æ˜¯ç¨‹åºçš„æœ¬è´¨ï¼Œæ¯”å¦‚å‰ç«¯ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œåç«¯éœ€è¦è¿ç®—ä¸€æ®µç¨‹åºï¼Œæ¥è¿”å›ç»“æœï¼Œè¿™å°±æ˜¯éœ€è¦çš„å·¥ä½œï¼‰ åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¸Œæœ›æ­å»ºè‡ªå·±çš„ä¸ªäººåšå®¢ç³»ç»Ÿï¼Œä¸»è¦å‚è€ƒåˆ«äººçš„æ–‡ç« ï¼Œåˆ†æä¸ªäººåšå®¢çš„é€»è¾‘å…¶å®æ¯”è¾ƒç®€å•ï¼š æœåŠ¡ç«¯å­˜å‚¨åšå®¢çš„åŸå§‹æ•°æ®ã€å‰ç«¯ä¸­æ˜¾ç¤ºåšå®¢é¡µé¢ï¼Œä½¿ç”¨viewæ¥å®ç°ä¸€äº›åŠŸèƒ½ï¼Œä½¿ç”¨templateæ¥å®ç°åŸå§‹åšå®¢çš„ç¾è§‚å¹¶åœ¨å‰ç«¯ç”Ÿæˆï¼Œåˆ©ç”¨modelæ¥ä¿å­˜åšå®¢æ•°æ® åœ¨ä¸€ä¸ªåšå®¢åº”ç”¨ä¸­ï¼Œéœ€è¦åˆ›å»ºçš„é€»è¾‘åŒ…æ‹¬ åšå®¢é¦–é¡µã€ç”¨æ¥å±•ç¤ºæœ€è¿‘çš„å‡ é¡¹å†…å®¹ å†…å®¹è¯¦æƒ…é¡µï¼Œç”¨æ¥è¯¦ç»†å±•ç¤ºæŸé¡¹å†…å®¹ è¯„è®ºå¤„ç†å™¨ç”¨æ¥å“åº”ä¸ºä¸€é¡¹å†…å®¹æ·»åŠ è¯„è®ºçš„æ“ä½œ æ— è®ºåšä»€ä¹ˆï¼Œéƒ½éœ€è¦åœ¨codingä¹‹å‰è®¤æ¸…æ¥šè‡ªå·±æƒ³åšä»€ä¹ˆï¼Œå½“ç„¶è·Ÿç€åˆ«äººçš„æ•™ç¨‹åšä¸ç”¨è€ƒè™‘è¿™äº› å¼€å‘ç¯å¢ƒï¼špython3.7+Django 2.2ï¼ˆcentOSï¼‰ï¼Œåˆ©ç”¨condaå®‰è£…ç¯èŠ‚ conda create -n djangoblog python=3.7 // ç”¨æ¥ç”Ÿæˆpythonçš„ç¯èŠ‚ï¼Œ-nåé¢ä»£è¡¨æ˜¯djangoblogåç§°ï¼Œåç»­ä»å¤§ activate djangoblogå°±è¡Œäº† conda acticate djangoblog Pip install django==2.2 æœ¬æ–‡å€Ÿé‰´äº†å¾ˆå¤šç½‘ä¸Šçš„æ•™ç¨‹ï¼Œè‹¥ä¾µåˆ  Djangoæ­å»ºä¸ªäººåšå®¢-æœå¡ å»–é›ªå³°ä¸ªäººç½‘ç«™ èœé¸Ÿæ•™ç¨‹ W3School Djangoæ–‡æ¡£ 0x01 ä½¿ç”¨Django 1.1 åˆ›å»ºAPP // cdåˆ°å¯¹åº”çš„ç›®å½•ï¼Œå¹¶æ¿€æ´»å¯¹åº”çš„conda django-admin startproject my_blog ç”±æ­¤åˆ›å»ºçš„ç½‘ç«™æ–‡ä»¶å¤¹(ç”±äºæ˜¯Linuxç³»ç»Ÿæ²¡æœ‰db.sqlite3,å¥‡æ€ª) ä¹‹å cd my_blog python manage.py runserver 0.0.0.0:80 // åé¢æ˜¯è®¾ç½®ipåœ°å€å’ŒåŸŸåï¼Œå½“ç„¶å¯ä»¥ä¸è®¾ç½® ç„¶ååˆ›å»ºAPPï¼Œåœ¨Djangoä¸­æ¯ä¸ªappä»£è¡¨ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ï¼Œå¼€å‘è€…å¯ä»¥å°†ä¸åŒåŠŸèƒ½çš„æ¨¡å—æ”¾åˆ°ä¸åŒçš„appä¸­ï¼Œæ–¹ä¾¿ä»£ç çš„å¤ç”¨ï¼Œappå°±æ˜¯é¡¹ç›®çš„åŸºçŸ³ï¼Œå› æ­¤å¼€å‘åšå®¢çš„ç¬¬ä¸€æ­¥å°±æ˜¯åˆ›å»ºæ–°çš„app python manage.py startapp article æ¯ä¸ªæ–‡ä»¶å¤¹çš„ç®€å•åŠŸèƒ½ï¼› /my_blog/db.sqllite3 æ˜¯è½»é‡çº§çš„æ•°æ®åº“æ–‡ä»¶ï¼›/my_blog/manage.py æ˜¯é¡¹ç›®æ‰§è¡Œæ–‡ä»¶çš„å…¥å£ /my_blog/article æ˜¯ åˆšåˆ›å»ºçš„appï¼Œç”¨æ¥é˜²æ²»åšå®¢æ–‡ç« ç›¸å…³çš„ä»£ç ï¼Œåå°ç®¡ç†æ–‡ä»¶adminã€æ•°æ®æ¨¡å‹æ–‡ä»¶modelsã€è§†å›¾æ–‡ä»¶viewã€å­˜æ”¾æ•°æ®è¿ç§»æ–‡ä»¶migrations /my_blog/my_blog å…¶ä¸­setting.pyåŒ…å«é¡¹ç›®çš„é…ç½®å‚æ•°ï¼Œurls.py åŒ…å«é¡¹ç›®çš„æ ¹è·¯ç”±æ–‡ä»¶ æ–°å»ºappéœ€è¦åšçš„ç®€å•çš„äº‹æƒ… æ³¨å†Œapp åœ¨settingé‡Œé¢æ·»åŠ å°±è¡Œ ä¿®æ”¹é¡¹ç›®çš„ä¸­çš„urls.pyï¼Œè¿™é‡Œå°†æ ¹è·¯ç”±è½¬å‘åˆ°appçš„è·¯ç”±ï¼ˆè¿™é‡Œè½¬å‘åˆ°articleçš„urlsï¼‰è¿™é‡Œçš„è·¯ç”±é…ç½®æ¯”è¾ƒå¤æ‚ï¼Œåç»­éœ€è¦æ·±å…¥äº†è§£ æ¥çœ‹pathä¸­ç›¸å…³çš„å‚æ•° article/ è¡¨ç¤ºappçš„è®¿é—®è·¯å¾„ include å°†è·¯å¾„åˆ†å‘åˆ°ä¸‹ä¸€æ­¥å¤„ç† namespace ä¿è¯åæŸ¥åˆ°å”¯ä¸€çš„url ä¿®æ”¹appä¸­çš„urls 12345678from django.urls import path# æ­£åœ¨éƒ¨ç½²çš„åº”ç”¨çš„åç§°app_name = &#x27;article&#x27;urlpatterns = [ # ç›®å‰è¿˜æ²¡æœ‰urls] è¿™é‡Œæš‚æ—¶è¿˜æ˜¯ç©ºçš„ 1.2 åˆ›å»ºmodel æ•°æ®åº“çš„åŸºæœ¬æ¦‚å¿µï¼Œæ•°æ®åº“æ˜¯å­˜å‚¨ç”µå­æ–‡ä»¶çš„åœºæ‰€ï¼Œå­˜å‚¨å•ç‹¬çš„æ•°æ®é›†åˆï¼Œä¸€ä¸ªæ•°æ®åº“ç”±å¤šä¸ªæ•°æ®è¡¨æ„æˆï¼Œåœ¨æ•°æ®åº“ä¸­é€šå¸¸ä½¿ç”¨æ ‡å‡†çš„SQLè¯­å¥æ¥è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªæ–°çš„å†…å®¹ï¼Œåœ¨é¢å¯¹æ–°çš„å†…å®¹æ€»ä¼šå‡ºç°ä¸€å®šçš„å›°éš¾ï¼Œå› æ­¤ï¼š Djangoä½¿ç”¨å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆobject relational mappingï¼ŒORMï¼‰æ¥å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸­ä¸åŒç±»å‹ç³»ç»Ÿçš„æ•°æ®ä¹‹é—´çš„è½¬æ¢ æ„å‘³ç€ä¸è¦å­¦ä¹ å¦‚ä½•ä½¿ç”¨SQLï¼Œå­¦ä¼šå¦‚ä½•é…ç½®models.pyå°±è¡Œ å¯¹äºåšå®¢åå°çš„æ•°æ®åº“ä¸­ï¼Œæˆ‘ä»¬è®¾æƒ³å¦‚ä½•æè¿°æ–‡ç« è¿™ä¸ªå¯¹è±¡â€œ éœ€è¦æœ‰æ–‡ç« ä½œè€…authorã€éœ€è¦æœ‰æ–‡ç« æ ‡é¢˜titleã€éœ€è¦æœ‰æ–‡ç« æ­£æ–‡bodyã€éœ€è¦æœ‰æ–‡ç« çš„åˆ›å»ºæ—¶é—´createdã€éœ€è¦æœ‰æ–‡ç« æ›´æ–°æ—¶é—´updateï¼Œè¿™é‡Œçš„æ•°æ®ç±»å‹ç”±Djangoè‡ªå·±å®šä¹‰ï¼Œè¿™é‡Œæ¯ä¸ªæ¨¡å‹éƒ½è¢«è¡¨ç¤ºä¸ºDjango.db.models.Modelçš„ç±»ï¼Œéœ€è¦ç”¨æ³•å¯ä»¥ç›´æ¥å»æŸ¥ Djangoæœ¬èº«å…·æœ‰ä¸€ä¸ªç®€å•çš„userè´¦å·ç³»ç»Ÿï¼Œå› æ­¤è¿™é‡Œå®šä¹‰foreignkeyå¯ä»¥åŒ…å«ä¸å¤–éƒ¨çš„ç¯å¢ƒ 12345678910111213141516171819202122232425262728293031323334# Create your models here.from django.db import models# å¯¼å…¥å†…å»ºçš„Useræ¨¡å‹ã€‚from django.contrib.auth.models import User# timezone ç”¨äºå¤„ç†æ—¶é—´ç›¸å…³äº‹åŠ¡ã€‚from django.utils import timezone# åšå®¢æ–‡ç« æ•°æ®æ¨¡å‹class ArticlePost(models.Model): # æ–‡ç« ä½œè€…ã€‚å‚æ•° on_delete ç”¨äºæŒ‡å®šæ•°æ®åˆ é™¤çš„æ–¹å¼ author = models.ForeignKey(User, on_delete=models.CASCADE) # æ–‡ç« æ ‡é¢˜ã€‚models.CharField ä¸ºå­—ç¬¦ä¸²å­—æ®µï¼Œç”¨äºä¿å­˜è¾ƒçŸ­çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚æ ‡é¢˜ title = models.CharField(max_length=100) # æ–‡ç« æ­£æ–‡ã€‚ä¿å­˜å¤§é‡æ–‡æœ¬ä½¿ç”¨ TextField body = models.TextField() # æ–‡ç« åˆ›å»ºæ—¶é—´ã€‚å‚æ•° default=timezone.now æŒ‡å®šå…¶åœ¨åˆ›å»ºæ•°æ®æ—¶å°†é»˜è®¤å†™å…¥å½“å‰çš„æ—¶é—´ created = models.DateTimeField(default=timezone.now) # æ–‡ç« æ›´æ–°æ—¶é—´ã€‚å‚æ•° auto_now=True æŒ‡å®šæ¯æ¬¡æ•°æ®æ›´æ–°æ—¶è‡ªåŠ¨å†™å…¥å½“å‰æ—¶é—´ updated = models.DateTimeField(auto_now=True) # å†…éƒ¨ç±» class Meta ç”¨äºç»™ model å®šä¹‰å…ƒæ•°æ® class Meta: # ordering æŒ‡å®šæ¨¡å‹è¿”å›çš„æ•°æ®çš„æ’åˆ—é¡ºåº # &#x27;-created&#x27; è¡¨æ˜æ•°æ®åº”è¯¥ä»¥å€’åºæ’åˆ— ordering = (&#x27;-created&#x27;,) # å‡½æ•° __str__ å®šä¹‰å½“è°ƒç”¨å¯¹è±¡çš„ str() æ–¹æ³•æ—¶çš„è¿”å›å€¼å†…å®¹ def __str__(self): # return self.title å°†æ–‡ç« æ ‡é¢˜è¿”å› return self.title ForeignKeyï¼š æ•°æ®åº“ä¸­å¤šç§å¤šæ ·çš„æ•°æ®è¡¨ï¼Œæœ‰æ—¶å€™æ•°æ®è¡¨çš„æ•°æ®æ˜¯ç›¸äº’å…³è”çš„ï¼Œå› æ­¤è¿™ä¸¤å¼ è¡¨ä¹‹é—´å°±äº§ç”Ÿäº†å…³ç³»ï¼Œå¤–å¥å°±æ˜¯ç”¨æ¥è¡¨ç¤ºè¿™ç§å…³ç³»çš„ï¼Œï¼ˆæœ¬æ–‡ä¸­userç”±Djangoè‡ªå·±ç”Ÿæˆï¼‰ï¼Œå½“ç„¶ä¹Ÿæœ‰ä¸€å¯¹å¤šonetoonefieldã€å¤šå¯¹å¤šmanytomanyfield å†…éƒ¨ç±»: å†…éƒ¨ç±»class-metaæä¾›æ¨¡å‹çš„å…ƒæ•°æ®ï¼Œä»»ä½•ä¸æ˜¯å­—æ®µçš„ä¸œè¥¿ï¼Œæ¯”å¦‚orderingã€æ•°æ®åº“åç§°ã€å•æ•°å’Œå¤æ•°åç§° åˆ›å»ºæ•°æ®åº“ä¹‹åéœ€è¦æ•°æ®è¿ç§»ï¼Œè¿ç§»æ—¶Djangoæ¨¡å‹æ‰€åšçš„æ›´æ”¹ä¼ é€’åˆ°æ•°æ®åº“ä¸­çš„æ–¹å¼ï¼ŒDjangoçš„å‰ä¸€ä»£ç æ—¶ç”±æ¨¡å‹æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå†å²è®°å½•ï¼Œå¯ä»¥å‹‡æ°”å¯å˜‰è¿›è¡Œæ•°æ®åº“çš„æ»šåŠ¨æ›´æ–°ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ä½¿å…¶èƒ½å¤Ÿå’Œå½“å‰çš„æ¨¡å‹åŒ¹é… 1python manage.py makemigrations 1.3 ç¼–å†™view Djangoä¸­è¯•å›¾çš„æ¦‚å¿µæ˜¯ä¸€ç±»å…·æœ‰ç›¸åŒåŠŸèƒ½å’Œæ¨¡ç‰ˆçš„ç½‘é¡µçš„é›†åˆï¼Œé€šå¸¸éœ€è¦ä½¿ç”¨é€šè¿‡viewæ¥å¤„ç†å‰ç«¯çš„è¯·æ±‚ï¼Œåœ¨æ•°æ®åº“ä¸­å¢åˆ æ”¹æŸ¥æ¥è¿”å›ç»™å‰ç«¯æ˜¾ç¤ºï¼Œå†™å¥½ä¸€ä¸ªviewå‡½æ•°åï¼Œè¿˜éœ€è¦é…ç½®è·¯ç”±æ¥è®²ç”¨æˆ·è¯·æ±‚å’Œè§†å›¾é“¾æ¥èµ·æ¥ demo åœ¨article/view.py 123456# å¯¼å…¥ HttpResponse æ¨¡å—from django.http import HttpResponse# è§†å›¾å‡½æ•°def article_list(request): return HttpResponse(&quot;Hello World!&quot;) ä¹‹åé…ç½®è·¯ç”±URL 12345678910from django.urls import pathfrom . import views# æ­£åœ¨éƒ¨ç½²çš„åº”ç”¨çš„åç§°app_name = &#x27;article&#x27;urlpatterns = [ # pathå‡½æ•°å°†urlæ˜ å°„åˆ°è§†å›¾ path(&#x27;article-list/&#x27;, views.article_list, name=&#x27;article_list&#x27;),] åœ¨æµè§ˆå™¨è¾“å…¥ 1http://101.43.56.17/article/article-list/ viewå’Œmodelä¹‹é—´çš„è¿æ¥ Modelä¸­è™½ç„¶å®šä¹‰äº†æ•°æ®è¡¨ï¼Œä½†æ˜¯è¿™ä¸ªè¡¨æ˜¯ç©ºçš„ï¼Œä¸æ–¹ä¾¿å±•ç¤ºviewè°ƒå–æ•°æ®çš„æ•ˆæœï¼Œå› æ­¤éœ€è¦å‘æ•°æ®è¡¨ä¸­è®°å½•ä¸€äº›æ•°æ® åˆ›å»ºç®¡ç†å‘˜è´¦å·superuser 1python manage.py createsuperuser å°†articlepostï¼ˆä¹‹å‰æ•°æ®è¡¨ï¼‰æ³¨å†Œåˆ°åå° åœ¨admin.pyä¸­ 12345678from django.contrib import admin# Register your models here.# åˆ«å¿˜äº†å¯¼å…¥ArticlerPostfrom .models import ArticlePost# æ³¨å†ŒArticlePoståˆ°adminä¸­admin.site.register(ArticlePost) è¿™æ ·å°±å¯ä»¥åœ¨åå°è‡ªå·±ä¸Šä¼ æ–‡ç« å•¦ï¼ˆå¦‚ä½•æ”¯æŒmarkdownè¯­æ³•ï¼Ÿï¼Ÿï¼‰ åˆ©ç”¨view ä¸Šè¿°æˆ‘ä»¬å¯ä»¥å¢åŠ modelä¸­çš„æ•°æ®ï¼Œåç»­éœ€è¦å¢åŠ å°†æ•°æ®åº“çš„æ•°æ®æ˜¾ç¤ºåœ¨å‰ç«¯æ˜¯viewçš„å·¥ä½œï¼Œå¦‚ä½•ç¾è§‚çš„ç°å®æ˜¯templateçš„äº‹æƒ… åœ¨article/views.pyå†… 12345678910111213141516from django.shortcuts import render# Create your views here.from django.http import HttpResponse# å¯¼å…¥æ•°æ®æ¨¡å‹ArticlePostfrom .models import ArticlePost# è§†å›¾å‡½æ•°def article_list(request): # å–å‡ºæ‰€æœ‰åšå®¢æ–‡ç«  articles = ArticlePost.objects.all() # éœ€è¦ä¼ é€’ç»™æ¨¡æ¿ï¼ˆtemplatesï¼‰çš„å¯¹è±¡ context = &#123; &#x27;articles&#x27;: articles &#125; # renderå‡½æ•°ï¼šè½½å…¥æ¨¡æ¿ï¼Œå¹¶è¿”å›contextå¯¹è±¡ return render(request, &#x27;article/list.html&#x27;, context) ä¹‹åé…ç½®æ¨¡ç‰ˆå­˜æ”¾çš„è·¯å¾„ï¼Œåœ¨settingæ–‡ä»¶å¤¹å†… 12345678910111213141516// 55è¡ŒTEMPLATES = [ &#123; &#x27;BACKEND&#x27;: &#x27;django.template.backends.django.DjangoTemplates&#x27;, &#x27;DIRS&#x27;: [os.path.join(BASE_DIR, &#x27;templates&#x27;)], &#x27;APP_DIRS&#x27;: True, &#x27;OPTIONS&#x27;: &#123; &#x27;context_processors&#x27;: [ &#x27;django.template.context_processors.debug&#x27;, &#x27;django.template.context_processors.request&#x27;, &#x27;django.contrib.auth.context_processors.auth&#x27;, &#x27;django.contrib.messages.context_processors.messages&#x27;, ], &#125;, &#125;,] ä¹‹ååœ¨æ¨¡ç‰ˆä¸­list.htmlä¸­åŠ å…¥ 123&#123;% for article in articles %&#125; &lt;p&gt;&#123;&#123; article.title &#125;&#125;&lt;/p&gt;&#123;% endfor %&#125; è¿™æ ·å°±å¯ä»¥æŸ¥çœ‹åˆ°ç”Ÿæˆäº†æœ€æ–°çš„æ¨¡ç‰ˆ é˜¶æ®µæ€»ç»“ åœ¨ä¸Šè¿°èµ°è¿‡äº†Djangoçš„modelæ•°æ®åº“çš„å»ºç«‹å’Œadminç®¡ç†ã€viewå‡½æ•°å¯¹å‰ç«¯çš„è¯·æ±‚å“åº”ã€templatesä¸­å…³äºæ¨¡ç‰ˆçš„ä½¿ç”¨ï¼Œå®Œæ•´çš„å­¦ä¹ äº†Djangoçš„MVTæ¨¡å¼ï¼Œåœ¨ä¹‹åè¿˜éœ€è¦æ”¹è¿›çš„åœ°æ–¹æœ‰ï¼š æ•°æ®å±‚é¢ï¼Œæ•°æ®åº“çš„å»ºç«‹ã€‚æ•´ä¸ªæ•°æ®åº“ç³»ç»Ÿä¸­å¤šä¸ªè¡¨æ ¼çš„ä½¿ç”¨ï¼Œmodelå»ºç«‹è¿‡ç¨‹ä¸­å…³é”®å­—çš„å®šä¹‰ï¼Œå˜é‡ç±»å‹çš„å®šä¹‰ viewä¸­æ•°æ®é€»è¾‘ï¼Œå¦‚æœæ˜¯ä¸ªäººåšå®¢ç³»ç»Ÿéœ€è¦è€ƒè™‘åˆ°ç½‘ç«™æ•´ä½“çš„éœ€æ±‚ï¼Œç„¶ååœ¨viewå‡½æ•°ä¸­è¿›è¡Œè§£æï¼Œéœ€è¦è®¾è®¡å…·ä½“çš„åŠŸèƒ½å’Œå…·ä½“åŠŸèƒ½çš„æµç¨‹ï¼Œæœ€ååæ˜ åˆ°ç¼–ç¨‹ä¹‹ä¸­ï¼Œæ¯”å¦‚é¡µé¢çš„æ’åã€é¡µé¢çš„è¯¦ç»†ä¿¡æ¯ã€é¡µé¢çš„æµè§ˆç­‰ç­‰ æ¨¡ç‰ˆå’Œç½‘é¡µå‰ç«¯çš„äº¤äº’ï¼Œæ¨¡ç‰ˆä¸­è§„å®šäº†åŸºç¡€çš„Djangoæ•°æ®çš„ä¼ è¾“æ–¹å¼ï¼Œè¿˜æœ‰ç½‘é¡µä¸­é€šå¸¸ä½¿ç”¨çš„Ajaxé€šä¿¡æ¥ä¼ é€’ç›¸å…³ä¿¡æ¯ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨è„šæ‰‹æ¶æ¥ä½¿å¾—å‰ç«¯é¡µé¢æ›´åŠ å¥½çœ‹ï¼Œåˆ©ç”¨HTMLä¸­ç‰¹æ®Šå±æ€§æ¥æ·»åŠ å…ƒç´ ã€åˆ©ç”¨CSSæ¥è§„å®šå…ƒç´ çš„æ ¼å¼ã€åˆ©ç”¨JSæ¥è®¾ç½®é¡µé¢çš„åŠ¨æ€æ•ˆæœ æ•´ä½“ç®¡ç†ï¼ŒåŒ…æ‹¬è·¯ç”±é…ç½®ã€åŒ…æ‹¬å®é™…éƒ¨ç½²ã€åŒ…æ‹¬å˜é‡çš„ç®¡ç†ç­‰ç­‰","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"Django","slug":"Django","permalink":"https://blog.tjdata.site/tags/Django/"}]},{"title":"CS229-06---æœºå™¨å­¦ä¹ çš„å®éªŒè®¾è®¡","slug":"CS229-06---æœºå™¨å­¦ä¹ çš„å®éªŒè®¾è®¡","date":"2022-02-25T09:13:08.000Z","updated":"2023-05-13T13:47:30.890Z","comments":true,"path":"posts/39e00dd8.html","link":"","permalink":"https://blog.tjdata.site/posts/39e00dd8.html","excerpt":"éå¸¸å–œæ¬¢ã€Šæœºå™¨å­¦ä¹ å¯¼è®ºã€‹ä¸­å…³äºæ„ŸçŸ¥å™¨çš„ä¸€å¥è¯ï¼šâ€œç¥ç»ç½‘ç»œçš„ç›®çš„ä¸æ˜¯ä¸ºäº†ç ”ç©¶äººè„‘çš„å†…éƒ¨ç»“æ„å’Œè¿è¡Œæœºç†ï¼Œè€Œä»…ä»…æ˜¯æ¨¡ä»¿æ¥ä½œä¸ºä¸€ä¸ªå­¦ä¹ ç½¢äº†â€ï¼Œé€šè¿‡è¿™å¥è¯å¯ä»¥çœ‹å‡ºæœºå™¨å­¦ä¹ ä½œä¸ºä¸€é—¨å·¥ç¨‹ç±»çš„å­¦ç§‘ï¼Œæœ¬è´¨ç›®çš„è¿˜æ˜¯ä¸ºäº†å¯»æ‰¾ä¸€ç§å¥½çš„æ–¹æ³•ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­å°±è¦æ€è€ƒéœ€è¦ç”¨ä»€ä¹ˆæ ·çš„æ ‡å‡†æ¥è¯„ä»·å¥½åï¼Ÿè¿™æ˜¯ä¸€ä¸ªæ›¾ç»è§‚å¯Ÿé«˜ä¸­ç‰©ç†ã€é«˜ä¸­åŒ–å­¦ã€é«˜ä¸­ç”Ÿç‰©ä¸­çš„å®éªŒç§‘å­¦ï¼Œæ›´è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬æ›´æœ‰ç€ç»Ÿè®¡çš„çŸ¥è¯†æ¥æŒ‡å¯¼æˆ‘ä»¬æ›´è¿‘ä¸€æ­¥åœ°æ­£ç¡®è®¾è®¡å®éªŒã€‚","text":"éå¸¸å–œæ¬¢ã€Šæœºå™¨å­¦ä¹ å¯¼è®ºã€‹ä¸­å…³äºæ„ŸçŸ¥å™¨çš„ä¸€å¥è¯ï¼šâ€œç¥ç»ç½‘ç»œçš„ç›®çš„ä¸æ˜¯ä¸ºäº†ç ”ç©¶äººè„‘çš„å†…éƒ¨ç»“æ„å’Œè¿è¡Œæœºç†ï¼Œè€Œä»…ä»…æ˜¯æ¨¡ä»¿æ¥ä½œä¸ºä¸€ä¸ªå­¦ä¹ ç½¢äº†â€ï¼Œé€šè¿‡è¿™å¥è¯å¯ä»¥çœ‹å‡ºæœºå™¨å­¦ä¹ ä½œä¸ºä¸€é—¨å·¥ç¨‹ç±»çš„å­¦ç§‘ï¼Œæœ¬è´¨ç›®çš„è¿˜æ˜¯ä¸ºäº†å¯»æ‰¾ä¸€ç§å¥½çš„æ–¹æ³•ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­å°±è¦æ€è€ƒéœ€è¦ç”¨ä»€ä¹ˆæ ·çš„æ ‡å‡†æ¥è¯„ä»·å¥½åï¼Ÿè¿™æ˜¯ä¸€ä¸ªæ›¾ç»è§‚å¯Ÿé«˜ä¸­ç‰©ç†ã€é«˜ä¸­åŒ–å­¦ã€é«˜ä¸­ç”Ÿç‰©ä¸­çš„å®éªŒç§‘å­¦ï¼Œæ›´è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬æ›´æœ‰ç€ç»Ÿè®¡çš„çŸ¥è¯†æ¥æŒ‡å¯¼æˆ‘ä»¬æ›´è¿‘ä¸€æ­¥åœ°æ­£ç¡®è®¾è®¡å®éªŒã€‚ 0x01 å¼•è¨€ æœºå™¨å­¦ä¹ ä¸­ï¼Œå®ç°ä¸€ä¸ªç›®æ ‡ä¸­å¯ä»¥æœ‰å¾ˆå¤šä¸­ä¸åŒçš„å­¦ä¹ ç®—æ³•ï¼Œæ¥ä¹ˆï¼š å¦‚ä½•è¯„ä¼°ä¸€ä¸ªå­¦ä¹ ç®—æ³•åœ¨ç»™å®šé—®é¢˜ä¸Šçš„æœŸæœ›è¯¯å·®ï¼Ÿ å¯¹äºåŒä¸€ä¸ªç›®æ ‡çš„ä¸åŒå­¦ä¹ ç®—æ³•ï¼Œæˆ‘ä»¬å¦‚ä½•è¯æ˜ä¸€ä¸ªç®—æ³•æ¯”å¦å¤–ä¸€ä¸ªç®—æ³•è¯¯å·®æ›´ä½ï¼Ÿ æˆ‘ä»¬ä¸èƒ½åªçœ‹è®­ç»ƒé›†ä¸Šçš„è¯¯å·®æ¥ä½œä¸ºåˆ¤æ–­ï¼Œå› ä¸ºå…·æœ‰æ›´å¤æ‚åº¦çš„æ¨¡å‹çš„è¯¯å·®æ€»æ˜¯æ¯”ç®€å•æ¨¡å‹å° åŒæ ·åœ¨ä¸åŒä¸è®­ç»ƒåŠçš„éªŒè¯é›†ä¸­ä¸€è½®è¿è¡Œä¹Ÿä¸å¤Ÿï¼Œå› ä¸ºå¯èƒ½ä¼šæœ‰å™ªå£°å’Œç¦»ç¾¤ç‚¹çš„å½±å“ï¼ŒåŒæ ·å…·æœ‰è¶…å‚æ•°çš„ç®—æ³•çš„æ³›åŒ–è¿‡ç¨‹ä¸­ä¼šæœ‰è¿™å…¶ä»–çš„éšæœºå› ç´ ã€‚æˆ‘ä»¬é€šè¿‡è¿è¡Œlearning algorithmæ¥å¾—åˆ°ä¸€ä¸ªleanerï¼›å¦‚æœæˆ‘ä»¬åªè®­ç»ƒä¸€æ¬¡åªå¾—åˆ°ä¸€ä¸ªleanerå’Œä¸€ä¸ªvalidation errorï¼Œä¸ºäº†å¹³å‡å„ç§éšæœºæ€§ï¼Œæˆ‘ä»¬éœ€è¦äº§ç”Ÿå¤šç§leanerï¼Œè¿›è€Œåœ¨å¤šä¸ªéªŒè¯é›†ä¸Šè¯„ä¼°ï¼Œæˆ‘ä»¬å¯¹learning algorithmçš„è¯„ä¼°æ˜¯åº”è¯¥æ˜¯åŸºäºè¿™äº›validation errorçš„distributionæ¥çš„ï¼Œé€šè¿‡è¯„ä¼°expected erroræˆ–è€…æ˜¯varianceæ¥è¿›è¡Œæ¯”è¾ƒã€‚ æ€»ç»“ä¸Šè¿°ï¼Œå¯ä»¥çœ‹å‡ºæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è§„åˆ’å’Œè®¾è®¡æœºå™¨å­¦ä¹ å®éªŒï¼Œæ¥åˆ†æå®éªŒäº§ç”Ÿçš„æ•°æ®ï¼Œä»¥ä¾¿èƒ½å¤Ÿæ’é™¤éšæœºæ€§çš„å½±å“ï¼Œå¾—åˆ°ç»Ÿè®¡æ˜¾è‘—çš„ç»“è®ºï¼Œåœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¾—åˆ°å…·æœ‰æœ€é«˜çš„æ³›åŒ–å‡†ç¡®ç‡ã€æœ€å°å¤æ‚åº¦çš„å­¦ä¹ å™¨ï¼Œå¹¶ä¸”è¯¥å­¦ä¹ å™¨æ˜¯robust æˆ‘ä»¬åœ¨å®éªŒè®¾è®¡ä¸­éœ€è¦è®¾è®¡çš„3é¡¹åŸºæœ¬åŸåˆ™ï¼š randomizationéšæœºåŒ–ï¼Œè¦æ±‚å®éªŒè¿è¡Œçš„æ¬¡åºåº”è¯¥æ˜¯éšæœºç¡®å®šçš„ï¼Œè¿™æ ·ä½¿å¾—ç»“æœæ˜¯ç‹¬ç«‹çš„ replicationé‡å¤ï¼Œå› ä¸ºè¿™åº”è¯¥å¯¹å¯æ§å› ç´ çš„ç›¸åŒé…ç½®å¤šæ¬¡å®éªŒï¼Œä»¥ä¾¿å¹³å‡ä¸å¯æ§å› ç´ çš„å½±å“ï¼Œé€šå¸¸åœ¨ç›¸åŒæ•°æ®é›†ä¸Šå†æŠ½æ ·çš„ç‰ˆæœ¬ä¸Šå«åšäº¤å‰éªŒè¯ï¼ˆcross- validationï¼‰ blockingé˜»æ­¢ï¼Œç”¨æ¥é™ä½æˆ–æ¶ˆé™¤æœ‰å®³å› ç´ å¯¼è‡´çš„å¯å˜æ€§ï¼Œå‡†ç¡®ç‡çš„å·®å¼‚ä¸ä»…å–å†³äºä¸åŒçš„ç®—æ³•è¿˜å–å†³äºä¸åŒçš„å­é›†ï¼Œå› æ­¤ä¸ºäº†åº¦é‡ä»…ç”±ç®—æ³•å¯¼è‡´çš„å·®åˆ«ï¼Œé‡å¤è¿è¡Œçš„ä¸åŒè®­ç»ƒé›†åº”è¯¥æ˜¯ç›¸åŒçš„ï¼Œåœ¨ç»Ÿè®¡ä¸­å¸¸æœ‰é…å¯¹æ£€éªŒï¼ˆpairing testï¼‰ 0x02 å®éªŒè®¾è®¡çš„åŸºæœ¬ç­–ç•¥ strategy of experimentation è¿™é‡Œæ„Ÿè§‰æ›´å¤šæ˜¯å…³äºå¦‚ä½•è°ƒå‚çš„é€‰æ‹©ï¼Œå¦‚ä½•è®¾è®¡å¯¹æ¯”å‡ºä¸åŒç®—æ³•ä¼˜åŠ£ï¼Œæ¯”å¦‚æ¶ˆèå®éªŒä¹‹ç±»çš„è¿˜æ˜¯ä¾é å®è·µ æœ€ä½³çŒœæµ‹ best- guess ä»æŸä¸ªæˆ‘ä»¬ç›¸ä¿¡æ˜¯å¥½é…ç½®çš„å› ç´ è®¾ç½®å¼€å§‹ï¼Œåœ¨æ­¤æ£€éªŒå“åº”ä¹‹å‰ï¼Œæ¯æ¬¡ç¨å¾®æ”¹åŠ¨ä¸€ä¸ªæˆ–è€…å°‘é‡å› ç´ ï¼Œæ¥æ£€éªŒæ¯ä¸ªç»„åˆæŒ‡å¯¼å¾—åˆ°ä¸€ä¸ªè¶³å¤Ÿå¥½çš„çŠ¶æ€ ä¸€æ¬¡ä¸€ä¸ªå› ç´  one factor at a tiem æˆ‘ä»¬ä¸ºæ¯ä¸ªå› ç´ ç¡®å®šä¸€ä¸ªåŸºçº¿çš„æŠ¹é¢è®¤çŸ¥ï¼Œç„¶åå¯¹ä¸€ä¸ªå› ç´ å°è¯•ä¸åŒæ°´å¹³è€Œä»¤å…¶ä»–å› ç´ ä¿æŒåœ¨æé™ä¸Šï¼Œè¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯å‡è®¾å› ç´ ä¹‹é—´ä¸ç›¸äº’å½±å“ å› ç´ è®¾è®¡ factorial design é€šå¸¸ä¹Ÿè¢«ç§°ä¸ºç½‘æ ¼æœç´¢grid searchï¼Œå…¶ä¸­å› ç´ ä¸€èµ·å˜åŒ–è€Œä¸æ˜¯å•å› ç´ å˜åŒ– å“åº”é¢è®¾è®¡ response surface design é€šè¿‡è®¾è®¡åˆç†çš„æœ‰é™æ¬¡æ•°è¯•éªŒï¼Œå»ºç«‹ä¸€ä¸ªåŒ…æ‹¬å„æ˜¾è‘—å› ç´ çš„ä¸€æ¬¡é¡¹ã€å¹³æ–¹é¡¹å’Œä»»ä½•ä¸¤ä¸ªå› ç´ ä¹‹é—´çš„ä¸€çº§äº¤äº’ä½œç”¨é¡¹çš„æ•°å­¦æ¨¡å‹ï¼Œç²¾ç¡®ç ”ç©¶å„å› ç´ ä¸å“åº”å€¼ä¹‹é—´çš„å…³ç³»ï¼Œå¿«é€Ÿç¡®å®šå¤šå› ç´ ç³»ç»Ÿçš„æœ€ä½³æ¡ä»¶ï¼Œå¸¸ç”¨å…·ä½“æ–¹æ³•æœ‰ï¼šä¸­å¿ƒå¤åˆè¯•éªŒè®¾è®¡ï¼ˆcentral composite design CCDï¼‰å’ŒBox-Behnkenè¯•éªŒè®¾è®¡ï¼ˆDDBï¼‰ 0x03 æ¨¡å‹é€‰æ‹©â€“é‡å¤æ ·æœ¬ hold-out é€šå¸¸å¯¹è·å¾—æ•°æ®é›†ä¹‹åï¼Œä¼šå°†å…¶åˆ’åˆ†å‡ºæ¥ä¸€éƒ¨åˆ†ä¸ä¼šä½¿ç”¨çš„test setï¼›åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­çš„ä¼šç”¨åˆ°çš„æœ‰train setå’Œvalidation set é€šå¸¸train setå’Œvalidation setä¹‹é—´çš„æ¯”ä¾‹å¯ä»¥ä¸º10æˆ–è€…30ï¼Œä½†æ˜¯ä¸å¹¸çš„æ˜¯æ ·æœ¬é€šå¸¸æ²¡æœ‰è¿™ä¹ˆå¤šï¼Œå› æ­¤æˆ‘ä»¬åº”è¯¥åœ¨å°æ•°æ®é›†ä¸Šå°½åŠ›è€Œä¸ºï¼Œå…¶æ–¹æ³•æ˜¯ä»¥ä¸åŒåˆ’åˆ†æ¥é‡å¤ä½¿ç”¨å®ƒï¼Œè¿™ç§ç§°ä¸ºäº¤å‰éªŒè¯cross- validationï¼Œä½†æ˜¯æ½œåœ¨çš„é—®é¢˜æœ‰äº¤å‰éªŒè¯ä½¿å¾—é”™è¯¯ç‡æ˜¯ç›¸äº’ä¾èµ–çš„ï¼Œå› ä¸ºè¿™äº›ä¸åŒé›†åˆå…±äº«æ•°æ® åœ¨é‡å¤çˆ±æ¼¾ä¸­è¦å°½å¯èƒ½çš„ä¿æŒåˆ†å±‚stratificationï¼Œæˆ‘ä»¬å¸Œæœ›ä¿è¯è¯¯å·®ä¼°è®¡çš„é²æ£’æ€§ï¼ŒåŒæ—¶è¦ä¿æŒä¸åŒé›†åˆé—´çš„é‡å å°½å¯èƒ½çš„å°ï¼Œè¿˜ä¸èƒ½æ‰°ä¹±ç±»çš„å…ˆéªŒæ¦‚ç‡ 3.1 K- fold CV å°†è®­ç»ƒçš„ä¹¦ç±åˆ’åˆ†ä¸ºKç­‰åˆ†ï¼Œå°†Kä»½æ•°æ®é›†ä¸­çš„ä¸€ä»½åˆ’åˆ†ä¸ºéªŒè¯é›†ï¼Œå…¶ä»–ä½œä¸ºéªŒè¯é›†ï¼Œåœ¨è¾ƒä¸ºæç«¯çš„åŒ»ç–—ä¸­å¯èƒ½ä¼šæœ‰leave-one-out 3.2 5x2 CV å¾ˆç¥å¥‡è€Œè®©äººä¸æƒ³å»äº†è§£ 3.3 bootstrappingï¼ˆè‡ªåŠ©æ³•ï¼‰ é‡‡ç”¨ä»åŸå§‹æ ·æœ¬ä¸­ä»¥æœ‰æ”¾å›åœ°æŠ½å–å®ä¾‹çš„æ–¹æ³•æ¥äº§ç”Ÿæ–°çš„æ ·æœ¬ï¼Œè‡ªåŠ©æ ·æœ¬å¯èƒ½æ¯”äº¤å‰éªŒè¯æœ‰æ›´å¤šçš„é‡å ï¼Œå› è€Œå…¶ä¼°è®¡å¯èƒ½æ›´ç›¸äº’ä¾èµ– ï¼ˆ1-\\frac{1}{N})^N=1/e=0.368 æ„å‘³è®­ç»ƒé›†ä¸­åŒ…å«63.2%çš„å®ä¾‹ï¼Œå°†åŸå§‹æ•°æ®é›†ä½œä¸ºéªŒè¯é›† 0x04 æ¨¡å‹é€‰æ‹©â€“æ€§èƒ½åº¦é‡ 4.1 åˆ†ç±» äºŒåˆ†ç±»çš„æ··æ·†çŸ©é˜µconfusion matrix é¢„æµ‹positive é¢„æµ‹negative æ­£ä¾‹positive TP FN è´Ÿä¾‹negative FP TN è¯¯å·®ï¼š(FP+FN)/N\\\\ å‡†ç¡®ç‡ï¼š(TP+TN)/N\\\\ ç²¾åº¦ï¼šTP/ï¼ˆTP+FPï¼‰\\\\ å¬å›ç‡ï¼šTP/ï¼ˆTP+FNï¼‰\\\\ çµæ•åº¦ï¼šå¬å›ç‡\\\\ ç‰¹æ•ˆæ€§ï¼šTN/fp+tn\\\\ tp-rate:tp/p\\\\ fp-rate=fp/(tn+fp) å…³äºå‡æ­£å’Œå‡è´Ÿï¼Œä¾‹å¦‚ä¸€ä¸ªç”¨æˆ·å¸Œæœ›ç™»é™†å¦å¤–ä¸€ä¸ªç”¨æˆ·çš„è´¦æˆ·ï¼Œå‡æ­£æ˜¯å…è®¸é¡¶æ›¿ï¼Œå‡è´Ÿæ˜¯æ­£å¸¸ç”¨æˆ·ç™»é™†ä¸äº†ï¼Œæ˜¾ç„¶å‰è€…å±å®³ä¼šæ›´é«˜ tp-rateï¼šè¡¡é‡é€šè¿‡èº«ä»½è®¤è¯åˆæ³•ç”¨æˆ·çš„æ¯”ä¾‹ FP-rateï¼šé”™è¯¯æ¥å—é¡¶æ›¿çš„æ¯”ä¾‹ ï¼ˆtp-rateï¼Œfp-rateï¼‰å¾—åˆ°ROCï¼ˆreceiver operating characteristicï¼‰ï¼Œè¯¥æ›²çº¿ä¸‹é¢çš„ï¼ˆarea under the curve AUCï¼‰å¯ä»¥æ¥æ¯”è¾ƒä¸åŒæŸå¤±æ¡ä»¶ä¸‹å¹³å‡çš„æ•´ä½“æ€§èƒ½ å¯ä»¥å‚è€ƒç§‘æŠ€æ–‡çŒ®æ£€ç´¢ä¸­çš„æŸ¥å…¨ç‡å’ŒæŸ¥å‡†ç‡ class confusion matrix 4.2 å›å½’ mean square error RMSEä¹‹ç±»çš„ 0x05 æ¨¡å‹é€‰æ‹© â€“ ç»“æœå¯é æ€§ï¼ˆçœ‹ä¸æ‡‚ï¼Œç»Ÿè®¡åŠŸåº•ä¸å¤Ÿï¼‰ 5.1 åŒºé—´ä¼°è®¡ interval estimation ã€Šæ¦‚ç‡è®ºã€‹ 5.2 å‡è®¾æ£€éªŒ hypothesis testing ã€Šæ¦‚ç‡è®ºå’Œæ•°ç†ç»Ÿè®¡ã€‹ 5.3 ç»“åˆè¯„ä¼°æ€§èƒ½ ä¸€ä¸‹ç”¨äºå¯¹åˆ†ç±»é—®é¢˜ä¸­çš„é”™è¯¯ç‡è¿›è¡Œåˆ†æï¼ŒåŒæ ·å¯ä»¥é€‚ç”¨äºå›å½’çš„å°±æ”¾è¯¯å·®ã€éç›‘ç£å­¦ä¹ çš„å¯¹æ•°ä¼¼ç„¶ã€å¢å¼ºå­¦ä¹ çš„æœŸæœ›å¥–åŠ±ç­‰ å•ä¸ªå­¦ä¹ å™¨çš„é”™è¯¯ç‡è¡¡é‡ äºŒé¡¹æ£€éªŒ è¿‘ä¼¼æ­£æ€æ£€éªŒ tæ£€éªŒï¼ˆK-foldï¼‰ æ¯”è¾ƒä¸¤ä¸ªåˆ†ç±»ç®—æ³•é”™è¯¯ç‡ McNemaræ£€éªŒ KæŠ˜+tæ£€éªŒ æ¯”è¾ƒå¤šä¸ªåˆ†ç±»çš„é”™è¯¯ç‡åŒæ—¶åˆ†ææ–¹å·® åœ¨å¤šä¸ªæ•°æ®é›†ä¸Šæ¯”è¾ƒå¤šä¸ªç®—æ³•çš„é”™è¯¯ç‡ æ¯”è¾ƒå¤šä¸ªç®—æ³•çš„ä¸åŒæŒ‡æ ‡","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"Experiment","slug":"Experiment","permalink":"https://blog.tjdata.site/tags/Experiment/"}]},{"title":"CS229-03--å†³ç­–æ ‘CART","slug":"CS229-03--å†³ç­–æ ‘CART","date":"2022-02-20T14:37:46.000Z","updated":"2023-05-13T13:47:21.454Z","comments":true,"path":"posts/a32aa49a.html","link":"","permalink":"https://blog.tjdata.site/posts/a32aa49a.html","excerpt":"å†³ç­–æ ‘å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªåŸºå­¦ä¹ å™¨ï¼ŒåŒæ ·åœ¨è¿™ä¸ªä¾‹å­ä¸­éœ€è¦äº†è§£åˆ°ç›¸å…³æœºå™¨å­¦ä¹ ä¸­ç›¸å…³åŸºæœ¬æ¦‚å¿µã€æ¨¡å‹è¯„ä¼°å’Œé€‰æ‹©çš„è¿‡ç¨‹ä¸­æ‰èƒ½æ›´å¥½çš„ç»§ç»­ä¸‹å»ï¼Œå› ä¸ºæœ¬äººè§‰å¾—MLåœ¨é™¤äº†ç»Ÿè®¡ç†è®ºæ¨å¯¼ä¹‹å¤–ï¼Œå®éªŒçš„è®¾è®¡ä¸éªŒè¯ä¹Ÿæ˜¯éå¸¸é‡è¦ åŒæ ·åœ¨CARTçš„åŸºç¡€ä¸Šï¼Œç»“åˆé›†æˆå­¦ä¹ ï¼šBaggingã€Boostingç­‰å¯ä»¥æ›´åŠ ä¼˜åŒ–å†³ç­–æ ‘çš„æ€§èƒ½è¿›è€Œæ¨å‡ºæ›´å¥½çš„æ¨¡å‹ï¼Œä½†æ˜¯æœ€åŸºæœ¬çš„ä¸œè¥¿è¿˜æ˜¯æ¥æºäºå†³ç­–æ ‘çš„æµç¨‹ï¼Œæœ¬æ–‡å°†ä»‹ç»å†³ç­–æ ‘çš„åŸºæœ¬æµç¨‹ä»¥åŠä»£ç å®ç°","text":"å†³ç­–æ ‘å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªåŸºå­¦ä¹ å™¨ï¼ŒåŒæ ·åœ¨è¿™ä¸ªä¾‹å­ä¸­éœ€è¦äº†è§£åˆ°ç›¸å…³æœºå™¨å­¦ä¹ ä¸­ç›¸å…³åŸºæœ¬æ¦‚å¿µã€æ¨¡å‹è¯„ä¼°å’Œé€‰æ‹©çš„è¿‡ç¨‹ä¸­æ‰èƒ½æ›´å¥½çš„ç»§ç»­ä¸‹å»ï¼Œå› ä¸ºæœ¬äººè§‰å¾—MLåœ¨é™¤äº†ç»Ÿè®¡ç†è®ºæ¨å¯¼ä¹‹å¤–ï¼Œå®éªŒçš„è®¾è®¡ä¸éªŒè¯ä¹Ÿæ˜¯éå¸¸é‡è¦ åŒæ ·åœ¨CARTçš„åŸºç¡€ä¸Šï¼Œç»“åˆé›†æˆå­¦ä¹ ï¼šBaggingã€Boostingç­‰å¯ä»¥æ›´åŠ ä¼˜åŒ–å†³ç­–æ ‘çš„æ€§èƒ½è¿›è€Œæ¨å‡ºæ›´å¥½çš„æ¨¡å‹ï¼Œä½†æ˜¯æœ€åŸºæœ¬çš„ä¸œè¥¿è¿˜æ˜¯æ¥æºäºå†³ç­–æ ‘çš„æµç¨‹ï¼Œæœ¬æ–‡å°†ä»‹ç»å†³ç­–æ ‘çš„åŸºæœ¬æµç¨‹ä»¥åŠä»£ç å®ç° 0x01 å†³ç­–æ ‘ï¼ˆDecision treeï¼‰çš„åŸºæœ¬æµç¨‹ ä»‹ç» å†³ç­–æ ‘æ˜¯ä¸€ç§å®ç°åˆ†æ²»ç­–ç•¥çš„å±‚æ¬¡æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ç§æœ‰æ•ˆçš„éå‚æ•°æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºåˆ†ç±»ä¸å›å½’ å…³äºåˆ†æ²»æ³•ï¼Œdivide and conquer Divide the problem into a number of subproblems that are smaller instances of the same problem Conquer the subproblems by solving them recurisvely. If the problem sizes are small enough, however,just solve the subproblems in a straightforward manner. Combine the solutions to the subpoblems into the solution for the original problem (1)å¯¹äºä¸€ä¸ªè§„æ¨¡ä¸ºN çš„é—®é¢˜ï¼Œè‹¥è¯¥é—®é¢˜å¯ä»¥å®¹æ˜“åœ°è§£å†³ï¼Œåˆ™ç›´æ¥è§£å†³,å¦åˆ™æ‰§è¡Œä¸‹é¢çš„æ­¥éª¤ã€‚ (2)å°†è¯¥é—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°çš„å­é—®é¢˜ï¼Œè¿™äº›å­é—®é¢˜äº’ç›¸ç‹¬ç«‹ï¼Œå¹¶ä¸”åŸé—®é¢˜å½¢å¼ç›¸åŒã€‚ (3)é€’å½’recursivelyåœ°è§£å­é—®é¢˜ã€‚ (4)ç„¶åï¼Œå°†å„å­é—®é¢˜çš„è§£åˆå¹¶å¾—åˆ°åŸé—®é¢˜çš„è§£ å¯¹äºå‚æ•°ä¼°è®¡ï¼Œæˆ‘ä»¬å®šä¹‰æ•´ä¸ªè¾“å…¥ç©ºé—´ä¸Šçš„æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨æ‰€æœ‰çš„è®­ç»ƒæ•°æ®å­¦ä¹ å®ƒçš„å‚æ•°ï¼Œç„¶åå¯¹äºä»»æ„çš„æ£€éªŒè¾“å…¥ä½¿ç”¨ç›¸åŒçš„æ¨¡å‹å’Œå‚æ•° å¯¹äºéå‚æ•°ä¼°è®¡ï¼Œæˆ‘ä»¬å°†è¾“å…¥ç©ºé—´åˆ’åˆ†ä¸ºåˆ©ç”¨æ¬§å‡ é‡Œå¾—èŒƒæ•°è¿™æ ·å®šä¹‰çš„è·ç¦»åº¦é‡çš„å±€éƒ¨æ¨¡å‹ï¼Œå¹¶å¯¹æ¯ä¸ªè¾“å…¥ä½¿ç”¨ç”±è¯¥åŒºåŸŸçš„è®­ç»ƒæ•°æ®è®¡ç®—å¾—åˆ°çš„å¯¹åº”çš„å±€éƒ¨æ¨¡å‹ä¸­ï¼Œåœ¨éå‚æ•°æ¨¡å‹æ±‡æ€»ç»™å®šä¸€ä¸ªè¾“å…¥ï¼Œè¯†åˆ«å®šä¹‰å±€éƒ¨æ¨¡å‹çš„å±€éƒ¨æ•°æ®çš„å¼€é”€å¾ˆå¤§ï¼Œéœ€è¦è®¡ç®—ä»ç»™å®šçš„è¾“å…¥åˆ°æ‰€æœ‰è®­ç»ƒå®ä¾‹çš„è·ç¦»ã€‚ å†³ç­–æ ‘æ˜¯ä¸€ç§ç”¨äºç›‘ç£å­¦ä¹ çš„å±‚æ¬¡æ¨¡å‹ï¼Œå±€éƒ¨åŒºåŸŸé€šè¿‡å°‘æ•°å‡ æ­¥é€’å½’åˆ†ç±»ç¡®å®šï¼Œå†³ç­–æ ‘åˆä¸€äº›å†…éƒ¨å†³ç­–èŠ‚ç‚¹å’Œç»ˆç«¯æ ‘å¶ç»„æˆï¼Œæ¯ä¸ªå†³ç­–èŠ‚ç‚¹decision nodeå®ç°ä¸€ä¸ªå…·æœ‰ç¦»æ•£è¾“å‡ºçš„æµ‹è¯•å‡½æ•°ï¼Œç”±æ­¤åˆ°è¾¾ä¸€å®šæ¡ä»¶åå½¢æˆä¸€ä¸ªæ ‘å¶èŠ‚ç‚¹leaf nodeï¼Œå½¢æˆæœ€ç»ˆçš„å€¼å¹¶è¾“å‡ºã€‚ åœ¨å†³ç­–æ ‘çš„å®ç°å½“ä¸­ï¼Œå¯ä»¥ä»å•ä¸ªè¾“å…¥å˜é‡çš„å•å˜é‡æ ‘å¼€å§‹ï¼ˆè€ƒè™‘å¦‚ä½•ä½¿ç”¨åˆ†ç±»æˆ–è€…å›å½’çš„æ–¹å¼æ„é€ è¿™æ ·çš„æ ‘ï¼‰ï¼Œä¹‹åå°†è¿™ç§æ ‘æ¨å¹¿åˆ°æ‰€æœ‰è¾“å…¥çš„å¤šå˜é‡æ ‘çš„å†…éƒ¨èŠ‚ç‚¹ å‚è€ƒè¥¿ç“œä¹¦ä¸­çš„ç®—æ³•ä¸ºä»£ç ï¼š å°†å†³ç­–æ ‘ç”Ÿæˆçš„æ•´ä¸ªè¿‡ç¨‹åˆ†è§£ï¼Œæœ¬è´¨ä¸Šæ˜¯ä»çˆ¶èŠ‚ç‚¹å‘ä¸‹åˆ†è§£çš„è¿‡ç¨‹ï¼Œåœ¨å…¶ä¸­å›å‡ºç°ä¸‰ç§æƒ…å†µï¼š åˆ’åˆ†å‰ï¼Œçˆ¶èŠ‚ç‚¹å…¨éƒ¨å±äºä¸€ç±»ï¼› åˆ’åˆ†ä¸­ï¼Œçˆ¶èŠ‚ç‚¹æ ·æœ¬ä¸­ç‰¹å¾ç»“åˆä¸ºç©ºé›†æˆ–è€…æ‰€æœ‰å–å€¼ç›¸åŒ åˆ’åˆ†åï¼Œæœ‰ä¸€ä¸ªåˆ†æ”¯ä¸ºç©ºé›†ï¼Œåˆ™ä¸å¦å¤–ä¸€ä¸ªåˆ†æ”¯åˆå¹¶ï¼Œå°†å…¶ç±»åˆ«æ ‡è®°ä¸ºæ ·æœ¬æœ€å¤šçš„ç±» åœ¨æ­£å¸¸åˆ’åˆ†ä¸­ï¼ŒåŒºåˆ†åˆ†ç±»æƒ…å†µå’Œå›å½’æƒ…å†µï¼ˆå³ç¦»æ•£å€¼å’Œè¿ç»­å€¼çš„åˆ’åˆ†æ–¹æ³•ï¼‰ å•å˜é‡åˆ†ç±»ï¼ˆclassficationï¼‰æƒ…å†µ åœ¨åˆ†ç±»æ ‘ classfication treeä¸­ï¼Œåˆ’åˆ†çš„ä¼˜åŠ£ç”¨ä¸çº¯åº¦åº¦é‡ï¼ˆimpurity measureï¼‰åˆ†æï¼š å¦‚æœå¯¹äºæ‰€æœ‰åˆ†æ”¯ï¼Œåˆ’åˆ†åé€‰æ‹©ç›¸åŒåˆ†æ”¯çš„æ‰€æœ‰å®ä¾‹éƒ½å±äºç›¸åŒçš„ç±»ï¼Œå¯¹äºèŠ‚ç‚¹mï¼Œä»¤N_mä¸ºåˆ°è¾¾èŠ‚ç‚¹mçš„è®­ç»ƒå®ä¾‹\\\\æ•°ï¼ŒN_mä¸ªå®ä¾‹ä¸­N_m^iéƒ½å±äºC_iç±»ï¼Œåˆ™å¯¹äºä¸€ä¸ªå®ä¾‹xåˆ°è¾¾èŠ‚ç‚¹mï¼Œå±äºC_iç±»çš„æ¦‚ç‡ä¼°è®¡ä¸º\\\\ \\bar p(C_i|X,m)=N_m^i/N_m\\\\ ï¼ˆdefï¼‰èŠ‚ç‚¹mæ˜¯çº¯çš„ï¼Œå¦‚æœå¯¹äºæ‰€æœ‰çš„iï¼Œp_m^iä¸º0æˆ–1ï¼Œå½“åˆ°è¾¾èŠ‚ç‚¹mçš„æ‰€æœ‰å®ä¾‹éƒ½ä¸å±äºCç±»æ—¶ï¼Œp_m^iä¸º0ï¼Œ\\\\è€Œå½“æ‰€æœ‰èŠ‚ç‚¹åˆ°è¾¾mçš„æ‰€æœ‰å®ä¾‹éƒ½å±äºC_iç±»æ—¶å€™ï¼Œä¸º1\\\\ åœ¨ä¸çº¯æ€§åº¦é‡åˆ’åˆ†çš„ä¾æ®ä¸­ï¼Œéœ€è¦æ»¡è¶³ä¸€ä¸‹åŸºæœ¬çš„æ€§è´¨ä¸”éœ€è¦å¤§äº0 1. å¯¹äºä»»æ„p\\in [0,1],\\phi(1/2,1/2)>=\\phi(p,1-p)\\\\ 2.\\phi(0,1)=\\phi(1,0)=0\\\\ 3. åœ¨[0,1/2]ä¸Š\\phi(p,1-p)æ˜¯é€’å¢çš„ï¼Œå½“påœ¨[1/2ï¼Œ1]ä¸Š\\phi(p,1-p)æ˜¯é€’å‡çš„ ä¾‹å¦‚å¸¸è§çš„ä¸çº¯æ€§åº¦é‡å‡½æ•°åŒ…æ‹¬ï¼š ä¿¡æ¯ç†µ Information Entropy Gain=Gainï¼ˆDataSet_{parent}ï¼‰-\\Sigma N(sub)/N(Dataset_{parent})*Gain(SubDataSet) å¢ç›Šç‡ Gain ratio: é™ä½åˆ†æ”¯è¿‡å¤šå¸¦æ¥çš„å½±å“ï¼Œç›¸å½“äºåŠ äº†ä¸€å±‚ç½šå‡½æ•°åœ¨åˆ†æ¯ Gain_{ratio}=Gain(DataSet_{parent})/IV(a)\\\\ IV(a)=-\\Sigma|D^v|/|D|*log_2|D^v|/|D| \\ ~ æ˜¯è¯¥å±æ€§çš„å›ºæœ‰å€¼ åŸºå°¼æŒ‡æ•° gini index è¯¯åˆ†ç±»å‡½æ•° ç­‰ç­‰ å•å˜é‡å›å½’(regression)æƒ…å†µ å›å½’æ ‘å¯ä»¥ä½¿ç”¨å‡ ä¹ä¸åˆ†ç±»ä¹¦å®Œå…¨ç›¸åŒçš„æ–¹æ³•æ„é€ ï¼Œå”¯ä¸€ä¸åŒæ˜¯é€‚åˆåˆ†ç±»çš„ä¸çº¯æ€§åº¦é‡ç”¨é€‚åˆå›å½’çš„ä¸çº¯æ€§åº¦é‡å–ä»£ï¼Œç›¸æ¯”è¾ƒå›å½’åˆ†æä¹‹å‰çš„å·®åˆ«å¯èƒ½æ˜¯ï¼š èŠ‚ç‚¹çš„åˆ†ç±»ä¸æŒ‰ç…§ç‰¹å¾é›†ä¸­çš„ç±»åˆ«ç›´æ¥åˆ†ç±»ï¼Œè€Œæ˜¯æŒ‰ç…§å‡å€¼æˆ–è€…ä¸­å€¼ï¼ˆnoiseå¤§çš„æ—¶å€™ç”¨ä¸­å€¼ï¼‰ èŠ‚ç‚¹çš„ä¸çº¯åº¦é‡åˆ©ç”¨å‡æ–¹è¯¯å·®æˆ–è€…æœ€å¤§è¯¯å·®æ¥å®ç°ï¼Œå½“è¯¯å·®å°äºè®¾å®šthresholdæ—¶ç”Ÿæˆæ ‘å¶ï¼Œå¦åˆ™ç»§ç»­åˆ†ç±» thresholdçš„è®¾ç½®ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¤æ‚åº¦å‡½æ•°æ¥è®¾ç½®ï¼Œå€¼è¶Šå°äº§ç”Ÿçš„æ ‘ä¼šè¶Šå¤§å¯¼è‡´è¿‡æ‹Ÿåˆåˆ†çº¿è¶Šå¤§ï¼Œè¿™é‡ŒåŒæ ·å¼•å…¥æƒ©ç½šçš„æ¦‚å¿µ åŒæ ·çš„ï¼Œä¸åˆ©ç”¨å‡å€¼æˆ–è€…ä¸­å€¼ï¼Œå¯ä»¥ä½¿ç”¨çº¿æ€§å›å½’æ‹Ÿåˆé€‰å®šæ ‘å¶ä¸Šçš„å®ä¾‹ï¼Œä½†æ˜¯è¿™æ ·è®¡ç®—å¼€é”€ä¼šæ¯”è¾ƒå¤§ ä»£ç å®ç° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134from math import logimport operatorimport numpy as npclass decisionTree(): def dataLoader(self,filename): dataSet = []; labels = [] i=1 fr = open(filename) for line in fr.readlines(): # é€è¡Œè¯»å–ï¼Œæ»¤é™¤ç©ºæ ¼ç­‰ lineArr = line.strip().split(&#x27;,&#x27;) if i==1: labels=lineArr[1:(len(lineArr)-1)] i=i+1 else: dataSet.append(lineArr[1:]) return dataSet,labels def createExampleDataset(self): &#x27;&#x27;&#x27; è¿”å›ç¤ºä¾‹æ•°æ®ï¼ŒåŒ…æ‹¬datasetã€labels &#x27;&#x27;&#x27; dataSet = [[&#x27;ç™½&#x27;, &#x27;é«˜&#x27;, &#x27;ç”·&#x27;], [&#x27;é»‘&#x27;, &#x27;é«˜&#x27;, &#x27;ç”·&#x27;], [&#x27;ç™½&#x27;, &#x27;é«˜&#x27;, &#x27;ç”·&#x27;], [&#x27;é»‘&#x27;, &#x27;ä½&#x27;, &#x27;å¥³&#x27;], [&#x27;é»‘&#x27;, &#x27;ä½&#x27;, &#x27;å¥³&#x27;], [&#x27;é»‘&#x27;, &#x27;é«˜&#x27;, &#x27;å¥³&#x27;], [&#x27;ç™½&#x27;, &#x27;ä½&#x27;, &#x27;å¥³&#x27;], [&#x27;é»‘&#x27;, &#x27;é«˜&#x27;, &#x27;å¥³&#x27;]] labels = [&#x27;é¢œè‰²&#x27;, &#x27;èº«é«˜&#x27;] # ä¸¤ä¸ªç‰¹å¾ return dataSet, labels def calcCrossEntropy(self, dataSet): &#x27;&#x27;&#x27; è®¡ç®—æ•°æ®é›†åˆä¸­çš„æ•°æ®ç†µ return crossEntropy &#x27;&#x27;&#x27; classList = [example[-1] for example in dataSet] unique,counts=np.unique(classList,return_counts=True) crossEntropy=0 for count in counts: crossEntropy+=-float(count/len(classList))*log(float(count/len(classList)),2) return crossEntropy def chooseBestFeature(self, dataSet): &#x27;&#x27;&#x27; ä»ä¸åŒç‰¹å¾ä¸­é€‰æ‹©äº¤å‰ç†µå·®å€¼æœ€ä½çš„ä½œä¸ºåˆ†ç¦»ç‰¹å¾ return bestFeatureä¸‹æ ‡ &#x27;&#x27;&#x27; bestInfoGain=-1 baseCrossEntropy=self.calcCrossEntropy(dataSet) numFeature=len(dataSet[0])-1 for i in range(numFeature): # æ ¹æ®ä¸åŒç‰¹å¾åˆ†å¼€ï¼Œå¹¶é‡æ–°è®¡ç®—æ ¹æ®æ¯ä¸ªç‰¹å¾å¾—åˆ°çš„äº¤å‰ç†µçš„å’Œ featureList=set([example[i] for example in dataSet]) newCrossEntropy=0 for value in featureList: subDataSet=self.splitDataSet(dataSet,i,value) newCrossEntropy+=len(subDataSet)/len(dataSet)*self.calcCrossEntropy(subDataSet) infoGain=baseCrossEntropy-newCrossEntropy if infoGain&gt;bestInfoGain: bestInfoGain=infoGain bestFeature=i return bestFeature def splitDataSet(self, dataSet, index,value): &#x27;&#x27;&#x27; æ ¹æ®æœ€ä½³çš„ç‰¹å¾åˆ†ç¦»æ•°æ®é›†ï¼Œå½¢æˆæ–°çš„å­é›† &#x27;&#x27;&#x27; subDataSet=[] for example in dataSet: if example[index]==value: temp=example[:index] temp.extend(example[index+1:]) subDataSet.append(temp) return subDataSet def ifNodeFeatureIsSame(self,dataSet): featureMat = [example[:(len(dataSet[0])-1)] for example in dataSet] uniqueFeatureMat=np.unique(featureMat) if len(uniqueFeatureMat) == 1: return True else: return False def majorityCount(self,classList): className,counts=np.unique(np.array(classList)) return className[np.argmax(counts)] def createTree(self,dataSet,labels): # ç”Ÿæˆç»“ç‚¹node classList=[example[-1] for example in dataSet] # æƒ…å†µ1ï¼šå½“å‰åˆ†æ”¯ä¸­å…¨éƒ¨éƒ½ä¸ºåŒä¸€ä¸ªå±æ€§ä¸éœ€è¦åˆ†ç±» # æƒ…å†µ2ï¼šå½“å‰åˆ†æ”¯ä¸º1é›†åˆä¸éœ€è¦åˆ†ç±» # æƒ…å†µ3ï¼šæœ€ä¼˜åŒ–åˆ’åˆ† if classList.count(classList[0])==len(classList): return classList[0] if len(labels)==0 or self.ifNodeFeatureIsSame(dataSet): return self.majorityCount(classList) bestFeature=self.chooseBestFeature(dataSet) bestFeatureLabel=labels[bestFeature] myTree=&#123;bestFeatureLabel:&#123;&#125;&#125; #åˆ é™¤åŒºåˆ†çš„å±æ€§ del(labels[bestFeature]) featureValues=[example[bestFeature] for example in dataSet] uniqueValues=set(featureValues) for value in uniqueValues: sublabels=labels[:] myTree[bestFeatureLabel][value]= \\ self.createTree(self.splitDataSet(dataSet, bestFeature, value), sublabels) return myTreeif __name__==&#x27;__main__&#x27;: newTree=decisionTree() filename=&#x27;datasets/watermelon.txt&#x27; dataSet,labels=newTree.dataLoader(filename) #æˆ–è€…ç›´æ¥æ ¹æ®ä¾‹å­æ¥ #dataSet,labels=newTree.createExampleDataset() print(newTree.createTree(dataSet,labels)) txtæ–‡ä»¶ 123456789101112131415161718ç¼–å·,è‰²æ³½,æ ¹è’‚,æ•²å£°,çº¹ç†,è„éƒ¨,è§¦æ„Ÿ,å¥½ç“œ1,é’ç»¿,èœ·ç¼©,æµŠå“,æ¸…æ™°,å‡¹é™·,ç¡¬æ»‘,æ˜¯2,ä¹Œé»‘,èœ·ç¼©,æ²‰é—·,æ¸…æ™°,å‡¹é™·,ç¡¬æ»‘,æ˜¯3,ä¹Œé»‘,èœ·ç¼©,æµŠå“,æ¸…æ™°,å‡¹é™·,ç¡¬æ»‘,æ˜¯4,é’ç»¿,èœ·ç¼©,æ²‰é—·,æ¸…æ™°,å‡¹é™·,ç¡¬æ»‘,æ˜¯5,æµ…ç™½,èœ·ç¼©,æµŠå“,æ¸…æ™°,å‡¹é™·,ç¡¬æ»‘,æ˜¯6,é’ç»¿,ç¨èœ·,æµŠå“,æ¸…æ™°,ç¨å‡¹,è½¯ç²˜,æ˜¯7,ä¹Œé»‘,ç¨èœ·,æµŠå“,ç¨ç³Š,ç¨å‡¹,è½¯ç²˜,æ˜¯8,ä¹Œé»‘,ç¨èœ·,æµŠå“,æ¸…æ™°,ç¨å‡¹,ç¡¬æ»‘,æ˜¯9,ä¹Œé»‘,ç¨èœ·,æ²‰é—·,ç¨ç³Š,ç¨å‡¹,ç¡¬æ»‘,å¦10,é’ç»¿,ç¡¬æŒº,æ¸…è„†,æ¸…æ™°,å¹³å¦,è½¯ç²˜,å¦11,æµ…ç™½,ç¡¬æŒº,æ¸…è„†,æ¨¡ç³Š,å¹³å¦,ç¡¬æ»‘,å¦12,æµ…ç™½,èœ·ç¼©,æµŠå“,æ¨¡ç³Š,å¹³å¦,è½¯ç²˜,å¦13,é’ç»¿,ç¨èœ·,æµŠå“,ç¨ç³Š,å‡¹é™·,ç¡¬æ»‘,å¦14,æµ…ç™½,ç¨èœ·,æ²‰é—·,ç¨ç³Š,å‡¹é™·,ç¡¬æ»‘,å¦15,ä¹Œé»‘,ç¨èœ·,æµŠå“,æ¸…æ™°,ç¨å‡¹,è½¯ç²˜,å¦16,æµ…ç™½,èœ·ç¼©,æµŠå“,æ¨¡ç³Š,å¹³å¦,ç¡¬æ»‘,å¦17,é’ç»¿,èœ·ç¼©,æ²‰é—·,ç¨ç³Š,ç¨å‡¹,ç¡¬æ»‘,å¦ 0x02 å‰ªæå¤„ç† å…ˆå‰ªæï¼ˆprepruningï¼‰ï¼šåŸºäºè¿‡å°‘å®ä¾‹å†³ç­–æ ‘å¯¼è‡´è¾ƒå¤§æ–¹å·®ï¼Œè¿›è€Œå¯¼è‡´è¾ƒå¤§çš„æ³›åŒ–è¯¯å·®ï¼Œegï¼šåœ¨åˆ°è¾¾ä¸€ä¸ªèŠ‚ç‚¹çš„è®­ç»ƒå®ä¾‹æ ‘å°äºè®­ç»ƒé›†çš„æŸä¸ªç™¾åˆ†æ¯”ï¼ˆ5%ï¼‰ï¼Œåˆ™æ— è®ºæ˜¯å¦ä¸çº¯æˆ–è€…æœ‰é”™è¯¯éƒ½ä¸è¿‘ä¸€æ­¥åˆ†è£‚ åå‰ªæï¼ˆpostpruningï¼‰ï¼šå›æº¯å…¶ä»–çš„é€‰æ‹©ï¼ˆç•™ä¸ªå‘ï¼Œå›æº¯æ³•è¿˜æ²¡çœ‹ï¼‰ï¼Œæˆ‘ä»¬è®©æ ‘å®Œå…¨å¢é•¿çŸ¥é“æ‰€æœ‰çš„æ ‘å¶éƒ½æ˜¯çº¯çš„å¹¶å…·æœ‰é›¶è®­ç»ƒè¯¯å·®ï¼Œç„¶åæ‰¾å‡ºå¯¼è‡´è¿‡åˆ†æ‹Ÿåˆçš„å­æ ‘å¹¶å‰ªæ‰ã€‚egï¼šæˆ‘ä»¬ä»æœ€åˆçš„è¢«æ ‡è®°çš„æ•°æ®é›†ä¸­ä¿ç•™ä¸€ä¸ªå‰ªæé›†ï¼Œåœ¨è®­ç»ƒé˜¶æ®µä¸é€‚ç”¨ï¼Œå¯¹äºæ¯é¢—å­æ ‘ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªè¢«è¯¥å­æ ‘è¦†ç›–çš„è®­ç»ƒå®ä¾‹æ ‡è®°çš„æ ‘å¶èŠ‚ç‚¹æ›¿ä»£å®ƒï¼Œå¦‚æœè¯¥æ ‘å¶åœ¨å‰ªæé›†åˆä¸Šçš„æ€§èƒ½ä¸å¿…è¯¥å­æ ‘èŒ¶ï¼Œåˆ™å‰ªæ‰è¯¥å­æ ‘å¹¶ä¿ç•™æ ‘å¶èŠ‚ç‚¹å¯å› ä¸ºå­æ ‘çš„é™„åŠ çš„å¤æ‚æ€§æ˜¯ä¸å¿…è¦çš„ 0x03 è¿ç»­ä¸ç¼ºå¤±å€¼å¤„ç† æš‚æ—¶ä¸é‡è¦ 0x04 é¢å¤–çš„ä¸œè¥¿ é›†æˆå­¦ä¹ ï¼ˆ ensemble learningï¼‰ï¼šåˆ©ç”¨å¼±å­¦ä¹ å™¨ç»„åˆæ¥å½¢æˆä¸€ä¸ªå¼ºçš„å­¦ä¹ å™¨ï¼ŒåŒ…æ‹¬baggingã€stackingã€boosting ç”±baggingå¾—åˆ°çš„éšæœºæ£®æ—ï¼ˆrandom forestï¼‰ã€ç”±boostingå¾—åˆ°çš„GBDTï¼ˆgradient boosting decision treeï¼‰å¹¶XGBOOSTå’ŒlightGBM","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"CS229","slug":"CS229","permalink":"https://blog.tjdata.site/tags/CS229/"}]},{"title":"CS229-05-å‚æ•°æ–¹æ³•å’Œéå‚æ•°æ–¹æ³•","slug":"CS229-05--å‚æ•°æ–¹æ³•å’Œéå‚æ•°æ–¹æ³•","date":"2022-02-13T09:23:12.000Z","updated":"2023-05-13T13:47:27.764Z","comments":true,"path":"posts/f3d9a90.html","link":"","permalink":"https://blog.tjdata.site/posts/f3d9a90.html","excerpt":"åœ¨åˆæ­¥äº†è§£äº†çº¿æ€§æ¨¡å‹ä¹‹åï¼Œæ€»ç»“ä¸€ä¸‹ç®—æ³•çš„ä¸€äº›è§„åˆ™ ï¼ˆææ–™æ¥è‡ªç½‘ç»œï¼Œå¯èƒ½ä¼šä¾µæƒï¼‰","text":"åœ¨åˆæ­¥äº†è§£äº†çº¿æ€§æ¨¡å‹ä¹‹åï¼Œæ€»ç»“ä¸€ä¸‹ç®—æ³•çš„ä¸€äº›è§„åˆ™ ï¼ˆææ–™æ¥è‡ªç½‘ç»œï¼Œå¯èƒ½ä¼šä¾µæƒï¼‰ 0X00 å¼•è¨€ ï¼ˆå®éªŒè®¨è®ºå¦‚ä½•åœ¨ä½¿ç”¨æ¦‚ç‡å¯¹ä¸ç¡®å®šæ€§å»ºæ¨¡ï¼Œç•™ä¸ªå‘ä¹‹åå†è¯´ï¼Œå¦‚ä½•ä½œå‡ºæœ€ä¼˜å†³ç­–ï¼‰ç°åœ¨è€ƒè™‘å¦‚ä½•ä»ç»™å®šçš„è®­ç»ƒé›†ä¸­ä¼°è®¡è¿™äº›æ¦‚ç‡ï¼Œä»åˆ†ç±»å’Œå›å½’çš„å‚æ•°æ–¹æ³•å¼€å§‹ å‚æ•°æ–¹æ³•ï¼Œè¿™é‡Œå‡è®¾æ ·æœ¬å–è‡ªæœä»å·²çŸ¥æ¨¡å‹çš„æŸä¸ªåˆ†å¸ƒï¼ˆeg.é«˜æ–¯åˆ†å¸ƒï¼‰ï¼Œæ¨¡å‹å®šä¹‰åœ¨æœ‰æ•ˆç»Ÿè®¡é‡ï¼ˆeg. æ–¹å·®å’Œå‡å€¼ï¼‰ï¼Œä¸€æ—¦ä»æ ·æœ¬ä¸­ä¼°è®¡å‚æ•°å°±çŸ¥é“äº†æ•´ä¸ªåˆ†å¸ƒï¼Œæ–¹æ³•ä¸»è¦åˆ†ä¸ºæœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆmaximum likelihood estimationï¼‰ã€è´å¶æ–¯ä¼°è®¡ï¼ˆBayesâ€˜ estimatorï¼‰ç­‰ å‚æ•°æ–¹æ³•çš„ä¼˜ç‚¹ï¼šå°†ä¼°è®¡æ¦‚ç‡å¯†åº¦ã€åˆ¤åˆ«å¼æˆ–è€…å›å½’å‡½æ•°é—®é¢˜å½’ç»“æˆä¸ºå°‘é‡å‚æ•°å€¼ å‚æ•°æ–¹æ³•çš„ç¼ºç‚¹ï¼šå‡è®¾å¹¶ä¸æ˜¯æ€»æ˜¯æ•´ç†çš„ï¼Œå¹¶ä¸”ä¸æˆç«‹ä¼šå¯¼è‡´è¾ƒå¤§çš„è¯¯å·® éå‚æ•°æ–¹æ³•ï¼ˆnonparametric estimationï¼‰ï¼šç®—æ³•ä½¿ç”¨åˆé€‚çš„è·ç¦»åº¦é‡ï¼Œä»è®­ç»ƒé›†ä¸­æ‰¾å‡ºç›¸ä¼¼çš„å®ä¾‹ï¼Œå¹¶ä¸”ç”±ä»–ä»¬æ’å€¼å¾—åˆ°æ­£ç¡®çš„è¾“å‡ºï¼ˆassumptionï¼šä¸–ç•Œæ˜¯å¹³ç¨³çš„ï¼Œå¹¶ä¸”æ— è®ºæ˜¯å¯†åº¦ã€åˆ¤åˆ«å¼è¿˜æ˜¯å›å½’å‡½æ•°éƒ½èƒ½ç¼“æ…¢å˜åŒ–ï¼Œç›¸ä¼¼çš„ä¾‹å­æ„å‘³è¿™ç›¸ä¼¼çš„äº‹ç‰©ï¼‰ åŸºæœ¬æ¦‚å¿µ å¯†åº¦ä¼°è®¡ï¼ˆdensity estimationï¼‰ å¯†åº¦ä¼°è®¡æ˜¯ä¼°è®¡p(x)p(x)p(x)çš„ä¸€èˆ¬æƒ…å†µï¼Œåœ¨åˆ†ç±»ä¸­ï¼Œå…¶ä¸­ä¼°è®¡å¯†åº¦æ˜¯èƒ½å¤Ÿè®¡ç®—åéªŒæ¦‚ç‡P(Ci/x)P(C_i/x)P(Câ€‹iâ€‹â€‹/x)å¹¶åšå†³ç­–çš„ç±»å¯†åº¦P(x/Ci)andP(Ci)P(x/C_i) and P(C_i)P(x/Câ€‹iâ€‹â€‹)andP(Câ€‹iâ€‹â€‹)ï¼›åœ¨å›å½’ä¸­ï¼Œä¼°è®¡çš„å¯†åº¦æ˜¯ :P(yâˆ£x)P(y|x)P(yâˆ£x) 0X01 å‚æ•°æ–¹æ³• 01-1 methodâ€”æœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMLEï¼Œmaximum likelihood estimationï¼‰ å·²çŸ¥ æ ·æœ¬å‚æ•°ï¼Œå¤šä¸ªç‹¬ç«‹åŒåˆ†å¸ƒï¼ˆi.i.dï¼‰çš„æ ·æœ¬é›†ï¼š{xt}t=1m\\{x^t\\}_{t=1}^m{xâ€‹tâ€‹â€‹}â€‹t=1â€‹mâ€‹â€‹ï¼ŒåŒæ—¶å‡è®¾æ ·æœ¬éƒ½æ˜¯æŸä¸ªå®šä¹‰åœ¨å‚æ•°Î¸\\thetaÎ¸çš„å·²çŸ¥æ¦‚ç‡å¯†åº¦æ—ä¸­æŠ½å–çš„å®ä¾‹ï¼š xiâˆˆp(xâˆ£Î¸)x^i\\in p(x|\\theta) xâ€‹iâ€‹â€‹âˆˆp(xâˆ£Î¸) æ±‚ æœ€æ„Ÿå…´è¶£æ˜¯æ‰¾åˆ°å‚æ•°Î¸\\thetaÎ¸ è§£ç­”ï¼š å› ä¸ºæ¯ä¸ªæ ·æœ¬æ˜¯ç‹¬ç«‹åˆ†å¸ƒçš„ï¼Œæ‰€ä»¥ç»™å®šå‚æ•°Î¸\\thetaÎ¸,æ ·æœ¬çš„ä¼¼ç„¶likelihoodæ˜¯å•ç‚¹ä¼¼ç„¶çš„ä¹˜ç§¯ï¼š l(Î¸âˆ£X)=âˆt=1Mp(xtâˆ£Î¸)l(\\theta|X)=\\prod_{t=1}^Mp(x^t|\\theta) l(Î¸âˆ£X)=â€‹t=1â€‹âˆâ€‹Mâ€‹â€‹p(xâ€‹tâ€‹â€‹âˆ£Î¸) ä¸ºäº†ç®€åŒ–è®¡ç®—ï¼Œå°†ä¹˜ç§¯è½¬æ¢ä¸ºæ±‚å’Œï¼Œå¹¶ä¸”å‡è®¾æŸç§å¯†åº¦æ—ï¼ˆeg. ä¹‹å‰çš„exp familyï¼‰è¿›ä¸€æ­¥ç®€åŒ–è®¡ç®—é‡ L(Î¸âˆ£X)=Î£t=1Mlog[p(xtâˆ£Î¸)]L(\\theta|X)=\\Sigma_{t=1}^Mlog[p(x^t|\\theta)] L(Î¸âˆ£X)=Î£â€‹t=1â€‹Mâ€‹â€‹log[p(xâ€‹tâ€‹â€‹âˆ£Î¸)] å¸¸è§çš„ä¼¼ç„¶å‡½æ•°æ˜¯convexçš„ï¼Œæ‰€ä»¥ç›´æ¥æ±‚å¯¼å°±è¡Œäº† âˆ‚L(Î¸âˆ£X)âˆ‚Î¸=0\\frac{\\partial L(\\theta|X)}{\\partial \\theta}=0 â€‹âˆ‚Î¸â€‹â€‹âˆ‚L(Î¸âˆ£X)â€‹â€‹=0 egï¼š å…³äºæŒ‡æ•°æ—çš„æ¨å¯¼ 01-2 methodâ€”æœ€å¤§åéªŒä¼°è®¡ï¼ˆMAPï¼Œmaximum A posteriorï¼‰ å·²çŸ¥ åœ¨MLEçš„likelihoodåŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åˆçŸ¥é“äº†å‚æ•°Î¸\\thetaÎ¸çš„å…ˆéªŒprioråˆ†å¸ƒ p(Î¸)p(\\theta) p(Î¸) æ±‚ åœ¨æ­¤åŸºç¡€ä¸Šæˆ‘ä»¬ä¾æ—§å¸Œæœ›å¾—åˆ°æœ€ä½³çš„å‚æ•°Î¸\\thetaÎ¸ è§£ æ ¹æ®è´å¶æ–¯è§„åˆ™ï¼ŒåéªŒå¯†åº¦posterior density,å‘Šè¯‰æˆ‘ä»¬åœ¨çœ‹åˆ°æ ·æœ¬ä¹‹åÎ¸\\thetaÎ¸çš„å¯èƒ½å–å€¼ï¼š p(Î¸âˆ£X)=p(Xâˆ£Î¸)p(Î¸)P(X)=p(Xâˆ£Î¸)p(Î¸)âˆ«p(Xâˆ£Î¸)p(Î¸)dÎ¸p(\\theta|X)=\\frac{p(X|\\theta)p(\\theta)}{P(X)}=\\frac{p(X|\\theta)p(\\theta)}{\\int p(X|\\theta)p(\\theta)d\\theta} p(Î¸âˆ£X)=â€‹P(X)â€‹â€‹p(Xâˆ£Î¸)p(Î¸)â€‹â€‹=â€‹âˆ«p(Xâˆ£Î¸)p(Î¸)dÎ¸â€‹â€‹p(Xâˆ£Î¸)p(Î¸)â€‹â€‹ åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼ŒçŸ¥é“äº†p(Î¸âˆ£X)p(\\theta|X)p(Î¸âˆ£X)ï¼Œä¹‹åæƒ³è¦ä¼°è®¡xåˆ™ï¼š p(x|X)=\\int p(x,\\theta|X)d \\theta\\\\=\\int p(x|\\theta,X)p(\\theta|X)d\\theta\\\\=\\int p(x|\\theta)p(\\theta|X)d \\theta æ‰€ä»¥çŸ¥é“äº†p(Î¸âˆ£X)p(\\theta|X)p(Î¸âˆ£X)å°±çŸ¥é“äº†å…³äºåˆ†å¸ƒçš„ä¸€åˆ‡ï¼Œä½†æ˜¯è¿™ä¸ªç§¯åˆ†æ¯”è¾ƒå›°éš¾ï¼Œå› æ­¤ä¸ºäº†ç”¨ç®€ä¾¿ï¼Œæˆ‘ä»¬å¸Œæœ›å°†p(Î¸âˆ£X)p(\\theta|X)p(Î¸âˆ£X)çœ‹æˆä¸€ä¸ªå¸¸æ•°ï¼š Î¸MAP=argmaxÎ¸p(Î¸âˆ£X)\\theta_{MAP}=argmax_{\\theta}p(\\theta|X) Î¸â€‹MAPâ€‹â€‹=argmaxâ€‹Î¸â€‹â€‹p(Î¸âˆ£X) 01-3 methodâ€”è´å¶æ–¯ä¼°è®¡ï¼ˆBayesian estimationï¼‰ å’ŒMAPç›¸ä¼¼ï¼Œä½†æ˜¯å¯¹äºÎ¸\\thetaÎ¸ å¤„ç†å¹¶ä¸æ˜¯æœ€å¤§å€¼ï¼Œè€Œæ˜¯å‡å€¼ Î¸bayes=E(Î¸âˆ£X)\\theta_{bayes}=E(\\theta|X) Î¸â€‹bayesâ€‹â€‹=E(Î¸âˆ£X) 01-4 exampleâ€”å‚æ•°ä¼°è®¡ æˆ‘ä»¬å‡è®¾ x^t=N(\\theta,\\sigma^2)\\\\ \\theta=N(\\mu_0,\\sigma_0^2)\\\\ å…¶ä¸­\\mu_0,\\sigma_0^2,\\sigma^2å·²çŸ¥ ç”±æ­¤çŸ¥é“äº† ä¼¼ç„¶å‡½æ•°p(Xâˆ£Î¸)=âˆi=1m1(2âˆ—Ï€)âˆ—Ïƒâˆ—exp(âˆ’(xtâˆ’Î¸)22Ïƒ2)p(X|\\theta)=\\prod_{i=1}^m\\frac{1}{\\sqrt(2*\\pi)*\\sigma}*exp(-\\frac{(x^t-\\theta)^2}{2\\sigma^2})p(Xâˆ£Î¸)=âˆâ€‹i=1â€‹mâ€‹â€‹â€‹âˆšâ€‹(â€‹â€‹â€‹2âˆ—Ï€)âˆ—Ïƒâ€‹â€‹1â€‹â€‹âˆ—exp(âˆ’â€‹2Ïƒâ€‹2â€‹â€‹â€‹â€‹(xâ€‹tâ€‹â€‹âˆ’Î¸)â€‹2â€‹â€‹â€‹â€‹)ã€ å…ˆéªŒå‚æ•°p(Î¸)=1(2âˆ—Ï€)âˆ—Ïƒ0âˆ—exp(âˆ’(Î¸âˆ’Î¼0)22Ïƒ02)p(\\theta)=\\frac{1}{\\sqrt(2*\\pi)*\\sigma_0}*exp(-\\frac{(\\theta-\\mu_0)^2}{2\\sigma_0^2})p(Î¸)=â€‹âˆšâ€‹(â€‹â€‹â€‹2âˆ—Ï€)âˆ—Ïƒâ€‹0â€‹â€‹â€‹â€‹1â€‹â€‹âˆ—exp(âˆ’â€‹2Ïƒâ€‹0â€‹2â€‹â€‹â€‹â€‹(Î¸âˆ’Î¼â€‹0â€‹â€‹)â€‹2â€‹â€‹â€‹â€‹) ç”±æ­¤å¾—åˆ°E(Î¸âˆ£X) or argmaxP(Î¸âˆ£X)E(\\theta|X)\\ or\\ argmaxP(\\theta|X)E(Î¸âˆ£X) or argmaxP(Î¸âˆ£X) 01-5 discussion â€”è®¨è®º MAPå’Œè´å¶æ–¯ä¼°è®¡éƒ½å°†æ•´ä¸ªåéªŒå¯†åº¦å½’çº¦åˆ°å•ä¸ªç‚¹ä¸”æŸå¤±ä¿¡æ¯ï¼Œé™¤éåéªŒå•å³°çš„ä¸”è¿™äº›ç‚¹å‘¨å›´æœ‰ä¸€ä¸ªçª„å³°ï¼Œä½†æ˜¯éšç€è®¡ç®—èƒ½åŠ›çš„æé«˜è›®å¯ä»¥ä½¿ç”¨è’™ç‰¹å¡æ´›æˆ–è€…è¿‘ä¼¼æ–¹æ³•æ¥è®¡ç®—æ•´ä¸ªç§¯åˆ† ï¼ˆbiasï½œvariance dilemmaï¼‰ï¼Œå¸¸è§çš„è§£å†³æ–¹æ³• äº¤å‰éªŒè¯ cross-validationè®­ç»ƒçœ‹æŸå¤±å‡½æ•°çš„â€œæ‹ç‚¹â€ æ­£åˆ™åŒ–regularizationï¼šE=æ•°æ®ä¸Šè¯¯å·®+a*æ¨¡å‹å¤æ‚åº¦ æ­£åˆ™åŒ–å¦å¤–ä¸€ä¸ªè§’åº¦ï¼šE=è®­ç»ƒè¯¯å·®+a*åå·®çš„ä¹è§‚é¡¹ï¼Œåˆ©ç”¨AICï¼ˆAkaikeâ€˜s information criterionï¼‰å’ŒBICï¼ˆBayesian information criterionï¼‰ ç»“æ„é£é™©æœ€å°åŒ–ï¼ˆSRMï¼Œstructural risk minimizationï¼‰å°†æ¨¡å‹é›†åˆæŒ‰ç…§å¤æ‚ç¨‹åº¦ï¼ˆéšæœºå˜é‡çš„ä¸ªæ•°ï¼Œæˆ–è€…VCç»´ï¼‰æ’åºä¸€æ¬¡è®­ç»ƒ æœ€å°æè¿°é•¿åº¦ï¼ˆminimum description lengthï¼ŒMDLï¼‰ï¼Œåˆ©ç”¨ä¿¡æ¯è®ºä¸­çš„kolmogorovå¤æ‚åº¦åº¦é‡ 0X02 åŠå‚æ•°æ–¹æ³• å¾…å®š 0X03 éå‚æ•°æ–¹æ³• ä¸åŒçš„éå‚æ•°æ–¹æ³•ä¼šå®šä¹‰ä¸åŒç›¸ä¼¼æ€§ or æˆ–è€…ä¸åŒçš„å®šä¹‰æ’å€¼çš„æ–¹æ³•ï¼Œåœ¨éå‚æ•°æ¨¡å‹ä¸­ä¸å­˜åœ¨å•ä¸ªå…¨å±€æ¨¡å‹ï¼Œéœ€è¦æ—¶éœ€è¦æœ‰å±€éƒ¨æ¨¡å‹åªæ”¶åˆ°é‚»è¿‘è®­ç»ƒå®ä¾‹çš„å½±å“ å¸¸è§çš„æœºå™¨å­¦ä¹ ä¸­éå‚æ•°æ–¹æ³•åˆè¢«ç§°ä¸ºinstance-basedæˆ–è€…memory-basedæ–¹æ³• 03-1 å¯†åº¦ä¼°è®¡ ç›´æ–¹å›¾ä¼°è®¡ histogram è´¨æœ´ä¼°è®¡ naive estimator æ ¸ä¼°è®¡ kernel estimator kæœ€è¿‘é‚»ä¼°è®¡ k-nearest neighborï¼Œk-nn K-NNç®—æ³• 1 è®¡ç®—æµ‹è¯•å¯¹è±¡åˆ°è®­ç»ƒé›†ä¸­æ¯ä¸ªå¯¹è±¡çš„è·ç¦» 2 æŒ‰ç…§è·ç¦»çš„è¿œè¿‘æ’åº 3 é€‰å–ä¸å½“å‰æµ‹è¯•å¯¹è±¡æœ€è¿‘çš„kçš„è®­ç»ƒå¯¹è±¡ï¼Œä½œä¸ºè¯¥æµ‹è¯•å¯¹è±¡çš„é‚»å±… 4 ç»Ÿè®¡è¿™ké‚»å±…çš„ç±»åˆ«é¢‘ç‡ 5 é€‰æ‹©kä¸ªé‚»å±…ä¸­é¢‘ç‡æœ€é«˜çš„ç±»åˆ«ï¼Œä½œä¸ºæµ‹è¯•å¯¹è±¡çš„ç±»åˆ« 12345678910111213141516171819202122232425262728293031323334353637383940import matplotlib.pyplot as pltimport seaborn as snsimport numpy as npclass knn: def loadDataset(self,filename): # å€Ÿç”¨SVMçš„æ•°æ®é›†ï¼Œä½†æ˜¯è¿™é‡Œä½¿ç”¨numpyè¿”å›np.arrayæ•°æ® dataMat = []; labelMat = [] fr = open(filename) for line in fr.readlines(): # é€è¡Œè¯»å–ï¼Œæ»¤é™¤ç©ºæ ¼ç­‰ lineArr = line.strip().split(&#x27;\\t&#x27;) dataMat.append([float(lineArr[0]), float(lineArr[1])]) # æ·»åŠ æ•°æ® labelMat.append(float(lineArr[2])) # æ·»åŠ æ ‡ç­¾ dataMat=np.array(dataMat) self.dataMat=dataMat self.labelMat=labelMat def visualDataset(self): sns.scatterplot(self.dataMat[:, 0],self.dataMat[:, 1],hue=self.labelMat) plt.show() def predict(self,input,k): def distance(point): points=np.tile(point,(self.dataMat.shape[0],1)) dis=np.linalg.norm(points - self.dataMat,axis=1) return dis dis=distance(input) target=np.array(self.labelMat)[np.argsort(dis)&lt;k] if sum(target)&gt;0: return 1 else: return -1if __name__ == &#x27;__main__&#x27;: model=knn() model.loadDataset(&#x27;CS229_2018autumn/ProblemSet(è¯¾åä½œä¸šï¼‰/codeByhand/datasets/testSet.txt&#x27;) model.visualDataset() example=[0,0] print(model.predict(example,6)) 03-2 åˆ†ç±» ä¸Šæ¬¡çš„SVMç®—æ³• ä¼˜ç‚¹ï¼š è§£å†³é«˜ç»´ç‰¹å¾çš„åˆ†ç±»é—®é¢˜å’Œå›å½’é—®é¢˜å¾ˆæœ‰æ•ˆ,åœ¨ç‰¹å¾ç»´åº¦å¤§äºæ ·æœ¬æ•°æ—¶ä¾ç„¶æœ‰å¾ˆå¥½çš„æ•ˆæœã€‚ ä»…ä»…ä½¿ç”¨ä¸€éƒ¨åˆ†æ”¯æŒå‘é‡æ¥åšè¶…å¹³é¢çš„å†³ç­–ï¼Œæ— éœ€ä¾èµ–å…¨éƒ¨æ•°æ®ã€‚ æœ‰å¤§é‡çš„æ ¸å‡½æ•°å¯ä»¥ä½¿ç”¨ï¼Œä»è€Œå¯ä»¥å¾ˆçµæ´»çš„æ¥è§£å†³å„ç§éçº¿æ€§çš„åˆ†ç±»å›å½’é—®é¢˜ã€‚ æ ·æœ¬é‡ä¸æ˜¯æµ·é‡æ•°æ®çš„æ—¶å€™ï¼Œåˆ†ç±»å‡†ç¡®ç‡é«˜ï¼Œæ³›åŒ–èƒ½åŠ›å¼ºã€‚ ç¼ºç‚¹ï¼š å¦‚æœç‰¹å¾ç»´åº¦è¿œè¿œå¤§äºæ ·æœ¬æ•°ï¼Œåˆ™SVMè¡¨ç°ä¸€èˆ¬ã€‚ SVMåœ¨æ ·æœ¬é‡éå¸¸å¤§ï¼Œæ ¸å‡½æ•°æ˜ å°„ç»´åº¦éå¸¸é«˜æ—¶ï¼Œè®¡ç®—é‡è¿‡å¤§ï¼Œä¸å¤ªé€‚åˆä½¿ç”¨ã€‚ éçº¿æ€§é—®é¢˜çš„æ ¸å‡½æ•°çš„é€‰æ‹©æ²¡æœ‰é€šç”¨æ ‡å‡†ï¼Œéš¾ä»¥é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æ ¸å‡½æ•°ã€‚ SVMå¯¹ç¼ºå¤±æ•°æ®æ•æ„Ÿã€‚","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"CS229","slug":"CS229","permalink":"https://blog.tjdata.site/tags/CS229/"}]},{"title":"CS229-02--æ”¯æŒå‘é‡æœºSVM","slug":"CS229-02--æ”¯æŒå‘é‡æœºSVM","date":"2022-02-05T08:15:13.000Z","updated":"2023-05-13T13:47:15.871Z","comments":true,"path":"posts/1b530e1a.html","link":"","permalink":"https://blog.tjdata.site/posts/1b530e1a.html","excerpt":"è®¨è®ºä¸€ç§ä¸åŒçš„çº¿æ€§åˆ†ç±»å’Œå›å½’æ–¹æ³•ï¼Œæ¯ç§å­¦ä¹ ç®—æ³•éƒ½å…·æœ‰ä¸åŒçš„å½’çº³åå€šï¼Œåšä¸åŒçš„å‡è®¾ï¼Œå®šä¹‰ä¸åŒçš„ç›®æ ‡å‡½æ•°ï¼Œå› æ­¤å¯èƒ½æ‰¾åˆ°ä¸åŒçš„æ¨¡å‹ Support Vector Machine","text":"è®¨è®ºä¸€ç§ä¸åŒçš„çº¿æ€§åˆ†ç±»å’Œå›å½’æ–¹æ³•ï¼Œæ¯ç§å­¦ä¹ ç®—æ³•éƒ½å…·æœ‰ä¸åŒçš„å½’çº³åå€šï¼Œåšä¸åŒçš„å‡è®¾ï¼Œå®šä¹‰ä¸åŒçš„ç›®æ ‡å‡½æ•°ï¼Œå› æ­¤å¯èƒ½æ‰¾åˆ°ä¸åŒçš„æ¨¡å‹ Support Vector Machine 0x01 å¼•è¨€ æ”¯æŒå‘é‡æœºä½¿ç”¨VapnikåŸåˆ™ ä¸è¦åœ¨è§£å†³å®é™…é—®é¢˜ä¹‹å‰æŠŠè§£å†³ä¸€ä¸ªæ›´å¤æ‚çš„é—®é¢˜ä½œä¸ºç¬¬ä¸€æ­¥ï¼ˆvapnikï¼Œ1995ï¼‰ è®­ç»ƒåï¼Œçº¿æ€§æ¨¡å‹çš„å‚æ•°ï¼ˆæƒé‡å‘é‡ï¼‰å¯ä»¥ç”¨è®­ç»ƒé›†çš„ä¸€ä¸ªå­é›†è¡¨ç¤ºï¼Œè¿™ä¸ªå­é›†ç§°ä¸ºæ”¯æŒå‘é‡support vectorã€‚å¯¹äºåˆ†ç±»è¿™äº›æ˜¯é è¿‘è¾¹ç•Œçš„å®ä¾‹ï¼Œå› æ­¤çŸ¥é“å®ƒä»¬å¯ä»¥æå–çŸ¥è¯†ï¼šè¿™äº›äº‹ä¸¤ä¸ªç±»ä¹‹é—´çš„è¾¹ç•Œé™„è¿‘ã€ä¸ç¡®å®šæˆ–æœ‰é”™è¯¯çš„å®ä¾‹ï¼Œå®ƒä»¬çš„ä¸ªæ•°ç»™æˆ‘ä»¬æä¾›äº†èŒƒåŒ–è¯¯å·®çš„ä¸€ä¸ªä¼°è®¡ï¼Œå¹¶ä¸”æ­£å¦‚æˆ‘ä»¬å°†åœ¨ä¸‹é¢çœ‹åˆ°çš„ï¼Œèƒ½å¤Ÿç”¨å®ä¾‹é›†è¡¨ç¤ºæ¨¡å‹å‚æ•°è¿›è¡Œæ ¸åŒ– å…¶æ€»ä½“æ¡†æ¶ï¼šæ˜¯ä¸€ç§åˆ†ç±»ç®—æ³•ï¼Œä¸»è¦åº”ç”¨äºäºŒåˆ†ç±»ç®—æ³•ï¼Œé€šè¿‡å®šä½ä¸¤ç±»æ•°æ®åœ¨é›†åˆç©ºé—´ä¸­çš„marginï¼Œæ¥ç¡®å®šåˆ†ç±»èµ·ï¼Œä¸»è¦æ­¥éª¤åˆ†ä¸ºï¼š ï¼ˆå»ºç«‹æ¨¡å‹ï¼‰å°†äºŒåˆ†ç±»é—®é¢˜è½¬æ¢æˆä¸ºä¸€ä¸ªä¼˜åŒ–é—®é¢˜ ï¼ˆæ±‚è§£æ¨¡å‹ï¼‰åˆ©ç”¨SMOç®—æ³•ã€æ‹‰æ ¼æœ—æ—¥å¯¹å¶ã€KKTæ¡ä»¶æ¥æ±‚è§£ç®€åŒ–ä¼˜åŒ–é—®é¢˜ ï¼ˆåˆ†ç±»è®¨è®ºï¼‰ä¹‹ååˆ©ç”¨æ¾å¼›å˜é‡ã€æ ¸å‡½æ•°ã€æƒ©ç½šå› å­ç­‰å¯¹ä¸åŒæƒ…å†µä¸‹çš„ä¼˜åŒ–é—®é¢˜è¿›è¡Œæ±‚è§£ å®ƒçš„ä¼˜ç‚¹å’Œç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ ä¼˜ç‚¹ï¼šå‚æ•°éå¸¸å°‘ï¼Œä¸åƒlogistic regressionè¿˜å…·æœ‰è¶…å‚æ•°ï¼Œè™½ç„¶æ¯”ç¥ç»ç½‘ç»œæ•ˆæœå·®ï¼Œä½†æ˜¯å¾ˆç®€å• ç¼ºç‚¹ï¼š 0x02 å»ºç«‹æ¨¡å‹ ç¬¦å·è¯´æ˜ï¼ˆnotationï¼‰ input: X=(x_1,...,x_n)\\\\ labelsï¼šy \\in \\{-1,1\\}\\\\ hyperplane:\\omega^T*X+b(ç­‰ä»·äºä¹‹å‰çš„\\theta^T*X)\\\\ g(Z)= \\begin {cases}1 \\ if\\ Z>=0\\\\ -1\\ if\\ otherwise \\end{cases} æ•°æ®é›†å’Œè¶…å¹³é¢çš„è·ç¦» å®šä¹‰è¾¹ç¼˜ï¼ˆmarginï¼‰ geo- margin ä»å•ä¸ªå®ä¾‹æ¥çœ‹ï¼Œå°±æ˜¯å‘é‡åˆ°ä¸€ä¸ªå¹³é¢çš„è·ç¦»ï¼Œæ ¹æ®å‘é‡çš„æ¨å¯¼çŸ¥è¯†å¯ä»¥çœ‹å‡ºï¼š geomargini=y(i)âˆ—(Ï‰TXi+b)geo_{margin}^{i}=y^{(i)}*(\\omega^TX^i+b) geoâ€‹marginâ€‹iâ€‹â€‹=yâ€‹(i)â€‹â€‹âˆ—(Ï‰â€‹Tâ€‹â€‹Xâ€‹iâ€‹â€‹+b) ä»æ•´ä¸ªæ•°æ®é›†æ¥çœ‹ï¼Œå°±æ˜¯ä¸€ç¾¤ç‚¹åˆ°ä¸€ä¸ªå¹³é¢ä¸­è·ç¦»çš„æœ€å°å€¼ï¼Œå®šä¹‰ä¸º geomargin=mini=1mgeomarginigeo_{margin}=min_{i=1}^m geo_{margin}^i geoâ€‹marginâ€‹â€‹=minâ€‹i=1â€‹mâ€‹â€‹geoâ€‹marginâ€‹iâ€‹â€‹ fun- margin ä¸Šè¿°çš„å‡ ä½•è¾¹ç¼˜çš„å®šä¹‰ä¸­ï¼Œæœ€ç»ˆå‡ºç°çš„ç»“æœå¯èƒ½ä¼šå‡ºç°ç»“æœä¼šéšç€ä¸åŒçš„wçš„å–å€¼è€Œå‡ºç°ä¸åŒçš„æƒ…å†µï¼Œå› æ­¤éœ€è¦ä»å½’ä¸€åŒ–çš„è§’åº¦æ¥æ›´æ–°è¾¹ç¼˜ funmargin(i)=y(i)âˆ—(Ï‰TX(i)+b)âˆ£âˆ£wâˆ£âˆ£fun_{margin}^{(i)}=\\frac{y^{(i)}*(\\omega^TX^{(i)}+b)}{||w||} funâ€‹marginâ€‹(i)â€‹â€‹=â€‹âˆ£âˆ£wâˆ£âˆ£â€‹â€‹yâ€‹(i)â€‹â€‹âˆ—(Ï‰â€‹Tâ€‹â€‹Xâ€‹(i)â€‹â€‹+b)â€‹â€‹ åŒæ ·å®šä¹‰æ•°æ®é›†çš„fun margin funmargin=mini=1m funmarginifun_{margin}=min_{i=1}^m\\ fun_{margin}^{i} funâ€‹marginâ€‹â€‹=minâ€‹i=1â€‹mâ€‹â€‹ funâ€‹marginâ€‹iâ€‹â€‹ å¾—åˆ°æ¨¡å‹ï¼ˆmodelï¼‰ æœ€ç›´è§‚çš„ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰€æœ‰ç‚¹çš„marginå¯ä»¥éƒ½ä»¥å¤§äºé›¶ï¼Œåœ¨è¿™ä¸ªçº¦æŸçš„åŸºç¡€ä¸Šï¼Œæ•°æ®é›†çš„marginå¯ä»¥è¶Šå¤§è¶Šå¥½ target:max[min_{i=1}^m y^{(i)}*(\\omega^TX^i+b)]\\\\ s.t.:y^{(i)}*(\\omega^TX^i+b)>=0\\\\ ||w||=1 åœ¨ä¸Šè¿°ç›´è§‰çš„åŸºç¡€ä¸Šï¼Œéœ€è¦å¯¹æ¨¡å‹è¿›è¡Œè¿›ä¸€æ­¥çš„è°ƒæ•´ æˆ‘ä»¬å¸Œæœ›æ‰€æœ‰çš„marginéƒ½å¯ä»¥å¤§äºé›¶ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å¸Œæœ›æ‰€æœ‰çš„marginéƒ½å¤§äºæœ€å°marginï¼ˆç›®æ ‡å‡½æ•°ï¼‰çš„å€¼ max\\ \\hat\\gamma\\\\ s.t.:y^{(i)}(w^Tx^{(i)}+b)>=\\hat\\gamma\\\\ ||w||=1 å¯ä»¥å°†||w||=1çš„å‡è®¾è°ƒæ•´åˆ°ç›®æ ‡å‡½æ•°ä¸Š max\\ \\hat\\gamma/||w||\\\\ s.t.:y^{(i)}(w^Tx^{(i)}+b)>=\\hat\\gamma åŒæ ·çš„è·Ÿè¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬å‡è®¾ä¹‹é—´çš„è·ç¦»ä¸º1 Î³^=1\\hat \\gamma=1 â€‹Î³â€‹^â€‹â€‹=1 é‚£ä¹ˆæ¨¡å‹ç­‰ä»·äº max\\ \\frac{1}{||w||}\\\\ s.t.:y^{(i)}(w^Tx^{(i)}+b)>=\\hat\\gamma ä¸ºäº†æ–¹ä¾¿åç»­è®¡ç®— min12âˆ£âˆ£wâˆ£âˆ£2min \\frac{1}{2}||w||^2 minâ€‹2â€‹â€‹1â€‹â€‹âˆ£âˆ£wâˆ£âˆ£â€‹2â€‹â€‹ ç”±æ­¤è½¬æ¢ä¸ºä¸€ä¸ªå‡¸ä¼˜åŒ–é—®é¢˜ min \\frac{1}{2}||w||^2\\\\ s.t.:1-y^{(i)}(w^Tx^{(i)}+b)=0 ä¹‹ååˆ©ç”¨SMOç®—æ³•æ¥æ±‚è§£å¾—åˆ° aia_i aâ€‹iâ€‹â€‹ ä¹‹åå¾—åˆ°hyperplaneä¸ºï¼š Î£(aiy(i)xiTxj+b)\\Sigma (a_iy^{(i)}x_i^Tx_j+b) Î£(aâ€‹iâ€‹â€‹yâ€‹(i)â€‹â€‹xâ€‹iâ€‹Tâ€‹â€‹xâ€‹jâ€‹â€‹+b) 0x04 åˆ†ç±»è®¨è®º åœ¨çº¿æ€§å¯åˆ†çš„æƒ…å†µä¸‹å¯ä»¥é¡ºåˆ©çš„æ±‚è§£å‡º a_i åŠ å…¥æ¾å¼›å˜é‡å’Œæƒ©ç½šå› å­æ¥æ‰¾åˆ°ç›¸å¯¹æ›´å¥½çš„hyperplane ä½¿ç”¨kernel trickæ¥å°†ä½ç»´æ˜ å°„åˆ°é«˜çº¬çš„ç©ºé—´ï¼Œä½¿å¾—åœ¨é«˜çº¬ç©ºé—´ä¸­æ•°æ®æ˜¯çº¿æ€§å¯åˆ†çš„ è¯¦ç»†ä»‹ç»kernel trickï¼š æœ¬æ¥æ˜¯åœ¨ä½ç»´ä¸­ç›´æ¥å†…ç§¯ xiTxjx_i^Tx_j xâ€‹iâ€‹Tâ€‹â€‹xâ€‹jâ€‹â€‹ ä¹‹åå¸Œæœ›éƒ½ä»åœ°ç»´è½¬æ¢åˆ°é«˜çº¬ï¼Œåœ¨è®¡ç®—å†…ç§¯ Ï•(xi)TÏ•(xj)\\phi(x_i)^T\\phi(x_j) Ï•(xâ€‹iâ€‹â€‹)â€‹Tâ€‹â€‹Ï•(xâ€‹jâ€‹â€‹) è·Ÿè¿›ä¸€æ­¥ï¼Œå¸Œæœ›ç›´æ¥åœ¨ä½ç»´ç©ºé—´è®¡ç®—é«˜ç»´å†…ç§¯ çº¿æ€§æ ¸ï¼šx_i^Tx_j\\\\ å¤šé¡¹å¼æ ¸ï¼šï¼ˆx_i^Tx_j+1ï¼‰^q\\\\ é«˜æ–¯æ ¸ï¼šexp(-\\frac{(||x_i-x_j||^2))}{2}\\\\ sigmoid:tanh(x_i^Tx_j+1) 0x05 SVM code [github](https://github.com/chenxia31/code_Study_Practice/tree/main/CS229_2018autumn/ProblemSet(è¯¾åä½œä¸šï¼‰/è¯¾åä¹ é¢˜02) å€Ÿé‰´åˆ«äººçš„ï¼Œç•™ä¸€ä¸ªå‘è‡ªå·±å†™ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189import matplotlib.pyplot as pltimport numpy as npimport random&quot;&quot;&quot;å‡½æ•°è¯´æ˜:è¯»å–æ•°æ®Parameters: fileName - æ–‡ä»¶åReturns: dataMat - æ•°æ®çŸ©é˜µ labelMat - æ•°æ®æ ‡ç­¾&quot;&quot;&quot;def loadDataSet(fileName): dataMat = []; labelMat = [] fr = open(fileName) for line in fr.readlines(): #é€è¡Œè¯»å–ï¼Œæ»¤é™¤ç©ºæ ¼ç­‰ lineArr = line.strip().split(&#x27;\\t&#x27;) dataMat.append([float(lineArr[0]), float(lineArr[1])]) #æ·»åŠ æ•°æ® labelMat.append(float(lineArr[2])) #æ·»åŠ æ ‡ç­¾ return dataMat,labelMat&quot;&quot;&quot;å‡½æ•°è¯´æ˜:éšæœºé€‰æ‹©alphaParameters: i - alpha m - alphaå‚æ•°ä¸ªæ•°Returns: j -&quot;&quot;&quot;def selectJrand(i, m): j = i #é€‰æ‹©ä¸€ä¸ªä¸ç­‰äºiçš„j while (j == i): j = int(random.uniform(0, m)) return j&quot;&quot;&quot;å‡½æ•°è¯´æ˜:ä¿®å‰ªalphaParameters: aj - alphaå€¼ H - alphaä¸Šé™ L - alphaä¸‹é™Returns: aj - alpahå€¼&quot;&quot;&quot;def clipAlpha(aj,H,L): if aj &gt; H: aj = H if L &gt; aj: aj = L return aj&quot;&quot;&quot;å‡½æ•°è¯´æ˜:ç®€åŒ–ç‰ˆSMOç®—æ³•Parameters: dataMatIn - æ•°æ®çŸ©é˜µ classLabels - æ•°æ®æ ‡ç­¾ C - æ¾å¼›å˜é‡ toler - å®¹é”™ç‡ maxIter - æœ€å¤§è¿­ä»£æ¬¡æ•°Returns: æ— &quot;&quot;&quot;# å‚æ•°åˆ†åˆ«ä¸º æ•°æ®é›†ã€ç±»åˆ«æ ‡ç­¾ã€å¸¸æ•°Cã€å®¹é”™ç‡ã€æœ€å¤§å¾ªç¯æ¬¡æ•°def smoSimple(dataMatIn, classLabels, C, toler, maxIter):# #è½¬æ¢ä¸ºnumpyçš„matå­˜å‚¨ dataMatrix = np.mat(dataMatIn); labelMat = np.mat(classLabels).transpose()#è½¬ç½®æˆåˆ—å‘é‡ #åˆå§‹åŒ–bå‚æ•°ï¼Œç»Ÿè®¡dataMatrixçš„ç»´åº¦ b = 0; m,n = np.shape(dataMatrix)# m=100,n=2 #åˆå§‹åŒ–alphaå‚æ•°ï¼Œè®¾ä¸º0 alphas = np.mat(np.zeros((m,1)))# 100ä¸ªalpha #åˆå§‹åŒ–è¿­ä»£æ¬¡æ•° iter_num = 0 #æœ€å¤šè¿­ä»£matIteræ¬¡ while (iter_num &lt; maxIter): alphaPairsChanged = 0 #ç”¨äºè®°å½•alphaæ˜¯å¦å·²ç»è¿›è¡Œä¼˜åŒ– for i in range(m): #æ­¥éª¤1ï¼šè®¡ç®—è¯¯å·®Ei #æ­¤å…¬å¼ä¸ºåˆ†ç±»å†³ç­–å…¬å¼ fXi = float(np.multiply(alphas,labelMat).T*(dataMatrix*dataMatrix[i,:].T)) + b #print(&quot;fXi:&quot;,fXi) Ei = fXi - float(labelMat[i])#è¯¯å·® #ä¼˜åŒ–alphaï¼Œæ›´è®¾å®šä¸€å®šçš„å®¹é”™ç‡ã€‚ if ((labelMat[i]*Ei &lt; -toler) and (alphas[i] &lt; C)) or ((labelMat[i]*Ei &gt; toler) and (alphas[i] &gt; 0)): #éšæœºé€‰æ‹©å¦ä¸€ä¸ªä¸alpha_iæˆå¯¹ä¼˜åŒ–çš„alpha_j j = selectJrand(i,m) #æ­¥éª¤1ï¼šè®¡ç®—è¯¯å·®Ej fXj = float(np.multiply(alphas,labelMat).T*(dataMatrix*dataMatrix[j,:].T)) + b Ej = fXj - float(labelMat[j]) #ä¿å­˜æ›´æ–°å‰çš„aplphaå€¼ï¼Œä½¿ç”¨æ·±æ‹·è´ alphaIold = alphas[i].copy(); alphaJold = alphas[j].copy(); #æ­¥éª¤2ï¼šè®¡ç®—ä¸Šä¸‹ç•ŒLå’ŒH if (labelMat[i] != labelMat[j]): L = max(0, alphas[j] - alphas[i]) H = min(C, C + alphas[j] - alphas[i]) else: L = max(0, alphas[j] + alphas[i] - C) H = min(C, alphas[j] + alphas[i]) if L==H: print(&quot;L==H&quot;); continue #æ­¥éª¤3ï¼šè®¡ç®—etaï¼Œå³Î·ã€‚ eta = dataMatrix[i,:]*dataMatrix[i,:].T +dataMatrix[j,:]*dataMatrix[j,:].T-2.0 * dataMatrix[i,:]*dataMatrix[j,:].T if eta == 0: print(&quot;eta=0&quot;); continue #æ­¥éª¤4ï¼šæ›´æ–°alpha_j alphas[j] += labelMat[j]*(Ei - Ej)/eta #æ­¥éª¤5ï¼šä¿®å‰ªalpha_j alphas[j] = clipAlpha(alphas[j],H,L) #abs å‡½æ•° è¿”å›æ•°å­—çš„ç»å¯¹å€¼ if (abs(alphas[j] - alphaJold) &lt; 0.00001): print(&quot;alpha_jå˜åŒ–å¤ªå°&quot;); continue #æ­¥éª¤6ï¼šæ›´æ–°alpha_i alphas[i] += labelMat[j]*labelMat[i]*(alphaJold - alphas[j]) #æ­¥éª¤7ï¼šæ›´æ–°b_1å’Œb_2 b1 = b - Ei- labelMat[i]*(alphas[i]-alphaIold)*dataMatrix[i,:]*dataMatrix[i,:].T - labelMat[j]*(alphas[j]-alphaJold)*dataMatrix[i,:]*dataMatrix[j,:].T b2 = b - Ej- labelMat[i]*(alphas[i]-alphaIold)*dataMatrix[i,:]*dataMatrix[j,:].T - labelMat[j]*(alphas[j]-alphaJold)*dataMatrix[j,:]*dataMatrix[j,:].T #æ­¥éª¤8ï¼šæ ¹æ®b_1å’Œb_2æ›´æ–°b if (0 &lt; alphas[i]) and (C &gt; alphas[i]): b = b1 elif (0 &lt; alphas[j]) and (C &gt; alphas[j]): b = b2 else: b = (b1 + b2)/2.0 #ç»Ÿè®¡ä¼˜åŒ–æ¬¡æ•° alphaPairsChanged += 1 #æ‰“å°ç»Ÿè®¡ä¿¡æ¯ print(&quot;ç¬¬%dæ¬¡è¿­ä»£ æ ·æœ¬:%d, alphaä¼˜åŒ–æ¬¡æ•°:%d&quot; % (iter_num,i,alphaPairsChanged)) #æ›´æ–°è¿­ä»£æ¬¡æ•° if (alphaPairsChanged == 0): iter_num += 1 else: iter_num = 0 print(&quot;è¿­ä»£æ¬¡æ•°: %d&quot; % iter_num) return b,alphas&quot;&quot;&quot;å‡½æ•°è¯´æ˜:åˆ†ç±»ç»“æœå¯è§†åŒ–Parameters: dataMat - æ•°æ®çŸ©é˜µ w - ç›´çº¿æ³•å‘é‡ b - ç›´çº¿è§£å†³Returns: æ— &quot;&quot;&quot;def showClassifer(dataMat, w, b): #ç»˜åˆ¶æ ·æœ¬ç‚¹ data_plus = [] #æ­£æ ·æœ¬ data_minus = [] #è´Ÿæ ·æœ¬ for i in range(len(dataMat)): if labelMat[i] &gt; 0: data_plus.append(dataMat[i]) else: data_minus.append(dataMat[i]) data_plus_np = np.array(data_plus) #è½¬æ¢ä¸ºnumpyçŸ©é˜µ data_minus_np = np.array(data_minus) #è½¬æ¢ä¸ºnumpyçŸ©é˜µ plt.scatter(np.transpose(data_plus_np)[0], np.transpose(data_plus_np)[1], s=30, alpha=0.7) #æ­£æ ·æœ¬æ•£ç‚¹å›¾ plt.scatter(np.transpose(data_minus_np)[0], np.transpose(data_minus_np)[1], s=30, alpha=0.7) #è´Ÿæ ·æœ¬æ•£ç‚¹å›¾ #ç»˜åˆ¶ç›´çº¿ x1 = max(dataMat)[0] x2 = min(dataMat)[0] a1, a2 = w b = float(b) a1 = float(a1[0]) a2 = float(a2[0]) y1, y2 = (-b- a1*x1)/a2, (-b - a1*x2)/a2 plt.plot([x1, x2], [y1, y2]) #æ‰¾å‡ºæ”¯æŒå‘é‡ç‚¹ for i, alpha in enumerate(alphas): if abs(alpha) &gt; 0:#å¦‚æœalpha&gt;0,è¡¨ç¤º alphaæ‰€åœ¨çš„ä¸ç­‰å¼æ¡ä»¶èµ·ä½œç”¨äº† x, y = dataMat[i] plt.scatter([x], [y], s=150, c=&#x27;none&#x27;, alpha=0.7, linewidth=1.5, edgecolor=&#x27;red&#x27;) plt.show()&quot;&quot;&quot;å‡½æ•°è¯´æ˜:è®¡ç®—wParameters: dataMat - æ•°æ®çŸ©é˜µ labelMat - æ•°æ®æ ‡ç­¾ alphas - alphaså€¼Returns: w&quot;&quot;&quot;def get_w(dataMat, labelMat, alphas): alphas, dataMat, labelMat = np.array(alphas), np.array(dataMat), np.array(labelMat) w = np.dot((np.tile(labelMat.reshape(1, -1).T, (1, 2)) * dataMat).T, alphas) return w.tolist()if __name__ == &#x27;__main__&#x27;: dataMat, labelMat = loadDataSet(&#x27;datasets/testSet.txt&#x27;) b,alphas = smoSimple(dataMat, labelMat, 0.6, 0.001, 40) # print(&quot;b,alphas&quot;,b,alphas) w = get_w(dataMat, labelMat, alphas) print(&quot;w:&quot;,w) showClassifer(dataMat, w, b) /datasets/testSet.txt 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798991003.542485 1.977398 -13.018896 2.556416 -17.551510 -1.580030 12.114999 -0.004466 -18.127113 1.274372 17.108772 -0.986906 18.610639 2.046708 12.326297 0.265213 -13.634009 1.730537 -10.341367 -0.894998 -13.125951 0.293251 -12.123252 -0.783563 -10.887835 -2.797792 -17.139979 -2.329896 11.696414 -1.212496 -18.117032 0.623493 18.497162 -0.266649 14.658191 3.507396 -18.197181 1.545132 11.208047 0.213100 -11.928486 -0.321870 -12.175808 -0.014527 -17.886608 0.461755 13.223038 -0.552392 -13.628502 2.190585 -17.407860 -0.121961 17.286357 0.251077 12.301095 -0.533988 -1-0.232542 -0.547690 -13.457096 -0.082216 -13.023938 -0.057392 -18.015003 0.885325 18.991748 0.923154 17.916831 -1.781735 17.616862 -0.217958 12.450939 0.744967 -17.270337 -2.507834 11.749721 -0.961902 -11.803111 -0.176349 -18.804461 3.044301 11.231257 -0.568573 -12.074915 1.410550 -1-0.743036 -1.736103 -13.536555 3.964960 -18.410143 0.025606 17.382988 -0.478764 16.960661 -0.245353 18.234460 0.701868 18.168618 -0.903835 11.534187 -0.622492 -19.229518 2.066088 17.886242 0.191813 12.893743 -1.643468 -11.870457 -1.040420 -15.286862 -2.358286 16.080573 0.418886 12.544314 1.714165 -16.016004 -3.753712 10.926310 -0.564359 -10.870296 -0.109952 -12.369345 1.375695 -11.363782 -0.254082 -17.279460 -0.189572 11.896005 0.515080 -18.102154 -0.603875 12.529893 0.662657 -11.963874 -0.365233 -18.132048 0.785914 18.245938 0.372366 16.543888 0.433164 1-0.236713 -5.766721 -18.112593 0.295839 19.803425 1.495167 11.497407 -0.552916 -11.336267 -1.632889 -19.205805 -0.586480 11.966279 -1.840439 -18.398012 1.584918 17.239953 -1.764292 17.556201 0.241185 19.015509 0.345019 18.266085 -0.230977 18.545620 2.788799 19.295969 1.346332 12.404234 0.570278 -12.037772 0.021919 -11.727631 -0.453143 -11.979395 -0.050773 -18.092288 -1.372433 11.667645 0.239204 -19.854303 1.365116 17.921057 -1.327587 18.500757 1.492372 11.339746 -0.291183 -13.107511 0.758367 -12.609525 0.902979 -13.263585 1.367898 -12.912122 -0.202359 -11.731786 0.589096 -12.387003 1.573131 -1","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"CS229","slug":"CS229","permalink":"https://blog.tjdata.site/tags/CS229/"}]},{"title":"CS229-01--çº¿æ€§æ¨¡å‹","slug":"CS229-01--çº¿æ€§æ¨¡å‹","date":"2022-01-29T09:48:44.000Z","updated":"2023-05-13T13:47:12.926Z","comments":true,"path":"posts/7a22647b.html","link":"","permalink":"https://blog.tjdata.site/posts/7a22647b.html","excerpt":"æ ¹æ®Andrew wu æœºå™¨å­¦ä¹ çš„ç›‘ç£å­¦ä¹ çš„ç¬¬ä¸€éƒ¨åˆ†æ‰€æ€»ç»“çš„å…³äºï¼šlinear regressionã€logistic regressionã€gradient decentã€Newtonã€locally weighted linear regressionã€generalized linear model","text":"æ ¹æ®Andrew wu æœºå™¨å­¦ä¹ çš„ç›‘ç£å­¦ä¹ çš„ç¬¬ä¸€éƒ¨åˆ†æ‰€æ€»ç»“çš„å…³äºï¼šlinear regressionã€logistic regressionã€gradient decentã€Newtonã€locally weighted linear regressionã€generalized linear model 0x01 å¼•è¨€ æœºå™¨å­¦ä¹ çš„å®šä¹‰ï¼š å¯¹äºæŸç±»ä»»åŠ¡taskå’Œæ€§èƒ½åº¦é‡performanceï¼Œå¦‚æœä¸€ä¸ªè®¡ç®—æœºç¨‹åºåœ¨taskä¸Šä»¥performanceè¡¡é‡çš„æ€§èƒ½éšç€ç»éªŒexperienceè€Œè‡ªæˆ‘å®Œå–„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¿™ä¸ªè®¡ç®—æœºç¨‹åºåœ¨ä»experienceä¸­å­¦ä¹  æœºå™¨å­¦ä¹ çš„æ–¹æ³•åœ¨ä¸åŒé¢†åŸŸä¸­ä»¥ä¸åŒçš„æ–¹å¼é€æ¸å‘å±•åˆ°å…±é€šçš„çŠ¶æ€ï¼Œä»ç»Ÿè®¡å­¦ä¹ ä¸­ä»ç‰¹æ®Šåˆ°ä¸€èˆ¬çš„inferenceã€ä»å·¥ç¨‹å­¦ä¸­çš„æ¨¡å¼è¯†åˆ«ï¼Œä»¥åŠç»“åˆç¥ç»ç½‘ç»œã€ä¿¡å·å¤„ç†ã€è‡ªåŠ¨æ§åˆ¶ã€äººå·¥æ™ºèƒ½ä»¥åŠæ•°æ®æŒ–æ˜ç­‰ä¸åŒé¢†åŸŸæ¥ç»¼åˆæ–¹æ³•ï¼Œä»æ•°æ®ä¸­inductionï¼Œä»è®­ç»ƒçš„æ¨¡å‹deduction åœ¨åŒºåˆ†ä¸­æœºå™¨å­¦ä¹ å¸¸è§åˆ†ä¸ºç›‘ç£å­¦ä¹ supervised learningã€éç›‘ç£å­¦ä¹ unsupervised learningå’Œå¼ºåŒ–å­¦ä¹ reinforcement learning ç›‘ç£å­¦ä¹ ï¼Œç»™å®šdatasetï¼ŒåŒ…æ‹¬è¾“å…¥xå’Œè¾“å‡ºyï¼Œç”±æ­¤æ¥æ„å»ºä¸€ä¸ªç®—æ³•å¾—åˆ°xå’Œyçš„æ˜ å°„å…³ç³» éç›‘ç£å­¦ä¹ ï¼šç»™å®šdatasetï¼ŒåŒ…æ‹¬è¾“å…¥xï¼Œç”±æ­¤æ¥æ„å»ºä¸€äº›ç®—æ³• æœºå™¨å­¦ä¹ ç®—æ³•çš„è¿‡ç¨‹åŒ…æ‹¬ï¼š é¦–å…ˆæ„å»ºä¸€ä¸ªå‡è®¾å‡½æ•°ï¼ˆhypothesisï¼‰ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªæ¨¡å‹ä¸­éœ€è¦çš„å‚æ•°ï¼ˆparameterï¼‰ ä¹‹åæ„å»ºç›®æ ‡å‡½æ•°ï¼ˆtargetï¼‰ï¼Œæ¥è®©åŒ…å«å‚æ•°çš„æ¨¡å‹æ›´åŠ è´´åˆå®é™…ï¼Œè¿™é‡Œéœ€è¦ä¸€å®šçš„ç›®æ ‡å‡½æ•°æ¥åˆ»ç”» è½¬æ¢æˆä¸ºä¸€ä¸ªä¼˜åŒ–é—®é¢˜ï¼ˆoptimizationï¼‰ï¼Œå¯ä»¥åˆ©ç”¨ä¸€äº›ç®—æ³•æ¥è¿›å»æ±‚è§£ å¯¹æ¨¡å‹è¿›è¡ŒæŒ‡æ ‡çš„è¯„ä»· 0x02 çº¿æ€§å›å½’ linear regression æ•°æ®é›† è¾“å…¥å˜é‡ï¼šX^i=[x^i_1,x^i_2,...,x^i_n]\\\\ è¾“å‡ºå˜é‡ï¼šy^i\\\\ å•ä¸ªå®ä¾‹ï¼š\\{X^i,y^i\\}\\\\ å®Œæ•´æ•°æ®é›†ï¼š\\{(X^i,y^i),i=1,...,m\\} å‡è®¾ çº¿æ€§å›å½’ä¸­æ¯”è¾ƒå¼ºçš„å‡è®¾ä¸º \\hat{y}=h_\\theta(X)=\\theta^T*X \\theta:[1,(n+1)]\\\\ X:=[x^0,x^1,...,x^n],x^0=1 ç›®æ ‡å‡½æ•° ç›´è§‚çš„æ–¹æ³•ï¼Œç›®æ ‡å‡½æ•°æ˜¯é¢„æµ‹å€¼predictå’ŒçœŸå®å€¼ground- truthä¹‹é—´çš„æŸç§ä¸ç›¸ä¼¼çš„å…³ç³»ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯ä¸¤è€…å°½å¯èƒ½çš„ç›¸ä¼¼ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ä½¿ç”¨æ¬§æ°è·ç¦»æ¥åˆ»ç”»ï¼š loss\\ function= 1/2*\\Sigma_{i=1}^{m}[h_\\theta(X^i)-y^i]^2\\\\ ï¼ˆè¿™é‡Œçš„1/2åªæ˜¯ä¸ºäº†æ–¹ä¾¿åç»­æ±‚å¯¼çš„æ–¹ä¾¿ï¼‰ æˆ‘ä»¬å¸Œæœ›è¿™ä¸ªè¶Šå°è¶Šå¥½ æ¦‚ç‡è§£é‡Šçš„æ–¹æ³•ï¼Œåœ¨é¢„æµ‹ä¸­æ€»ä¼šæœ‰ç€å„ç§å„æ ·çš„è¯¯å·®ï¼Œæ‰€ä»¥ \\hat{y^i}=h_\\theta(X^i)+\\epsilon^i \\\\ è¿™æ ·è§£é‡Šå…¶å®æ˜¯å°†é¢„æµ‹å€¼ y çœ‹æˆæ˜¯ä¸€ä¸ªåˆ†å¸ƒï¼Œè¿™ä¸ªåˆ†å¸ƒé¦–å…ˆå…·æœ‰ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒå‡½æ•°ï¼Œä¹‹åæˆ‘ä»¬åœ¨é¢„æµ‹ä¸­å¸Œæœ›çš„æ˜¯æ‰€æœ‰é¢„æµ‹å€¼çš„åˆ†å¸ƒåœ¨å–çœŸå®å€¼çš„æ—¶å€™æ¦‚ç‡æœ€å¤§ï¼Œè¿™æ—¶å€™æ±‚è§£å‡ºæ¥çš„å‚æ•°å°±æ˜¯æ¨¡å‹æƒ³è¦çš„å‚æ•° æ ¹æ®ä¸­å¿ƒæé™å®šç†è¿™ä¸ªæ¨å¯¼å¾—å‡ºè¯¯å·®é¡¹åˆ†å¸ƒæ˜¯ä¸€ç§é«˜æ–¯åˆ†å¸ƒï¼Œåˆ™å¾—åˆ°é¢„æµ‹å€¼çš„åˆ†å¸ƒ \\epsilon^i \\in N(0,\\sigma^2)\\\\ \\hat {y^i}=\\frac{1}{\\sigma*\\sqrt(2*\\pi)}*exp(-\\frac{(\\hat y^i-h_\\theta(X))^2}{2*\\sigma^2}) å¾—åˆ°æœ€å¤§ä¼¼ç„¶å‡½æ•°ï¼ˆlikelihood functionï¼‰ L=âˆi=1mP(y^âˆ£X,Î¸)L=\\prod_{i=1}^m P(\\hat y|X,\\theta) L=â€‹i=1â€‹âˆâ€‹mâ€‹â€‹P(â€‹yâ€‹^â€‹â€‹âˆ£X,Î¸) ç„¶åå¯¹å…¶å–å¯¹æ•°åæ±‚å¯¼ Inï¼ˆLï¼‰=\\Sigma_{i=1}^{m}P(\\hat{y})\\\\ \\frac{\\partial(In (L))}{\\partial \\theta}=\\Sigma_{i=1}^m[Ln(\\frac{1}{\\sigma*\\sqrt(2*\\pi)})+-\\frac{(\\hat y^i-h_\\theta(X))^2}{2*\\sigma^2}] å¦‚æœå¸Œæœ›ä¸Šå¼æœ€å°ï¼Œç­‰ä»· Maxâˆ’(y^iâˆ’hÎ¸(X))22Max -\\frac{(\\hat y^i-h_\\theta(X))^2}{2} Maxâˆ’â€‹2â€‹â€‹(â€‹yâ€‹^â€‹â€‹â€‹iâ€‹â€‹âˆ’hâ€‹Î¸â€‹â€‹(X))â€‹2â€‹â€‹â€‹â€‹ æˆ–è€…ç­‰ä»·äº Min (y^iâˆ’hÎ¸(X))22Min\\ \\frac{(\\hat y^i-h_\\theta(X))^2}{2} Min â€‹2â€‹â€‹(â€‹yâ€‹^â€‹â€‹â€‹iâ€‹â€‹âˆ’hâ€‹Î¸â€‹â€‹(X))â€‹2â€‹â€‹â€‹â€‹ éå¸¸amazingçš„çœ‹å‡ºä¸¤ä¸ªæ–¹æ³•å±…ç„¶å¾—åˆ°ç›¸åŒçš„ç»“è®ºï¼ä½†å…¶å®æ·±æ€æˆ‘ä»¬ä¼šå‘ç°ç¬¬ä¸€ç§æ–¹æ³•æˆ‘ä»¬æ˜¯æ ¹æ®ç»éªŒæ¥å¾—åˆ°ï¼Œæˆ‘ä»¬ä¸»è§‚çš„è®¤è¯†ç”¨åœ¨çº¿æ€§å›å½’ä¸­åˆ©ç”¨æ¬§å¼è·ç¦»ä¼šå¥½ä¸€ç‚¹ï¼Œç¬¬äºŒç§æ–¹æ³•æˆ‘ä»¬å¸¦ç€ä¸€ä¸ªå‡è®¾ï¼ˆè¯¯å·®æ»¡è¶³é«˜æ–¯åˆ†å¸ƒï¼‰å‡ºå‘ï¼Œæ¥å¾—åˆ°æ¦‚ç‡åˆ†å¸ƒï¼Œé€šè¿‡maximum likelihood estimationï¼ˆMLEï¼‰å¾—åˆ°æŸå¤±å‡½æ•°,ä¸¤è€…åªæ˜¯è§£é‡Šçš„æ–¹æ³•ä¸åŒ ä¼˜åŒ–ç®—æ³• è¿™ç§ä¼˜åŒ–ç®—æ³•çš„å¸¸è§æ˜¯ä½¿ç”¨æ¢¯åº¦ä¸‹é™çš„æ–¹å¼è¿›è¡Œè®¡ç®—ï¼š init\\ \\ \\theta=zeros(1,n+1)\\\\ update:\\theta_j:=\\theta_j-lr*\\frac{\\partial J}{\\partial \\theta}\\\\ lr:learning\\ rate ç”±ä¸Šè¿°æ¨å¯¼çœ‹å‡ºæˆ‘ä»¬çš„ç›®æ ‡å‡½æ•°çš„æ¢¯åº¦ J(\\theta)=\\frac{(\\hat y^i-h_\\theta (X^i))^2}{2}\\\\ \\frac{\\partial J}{\\partial \\theta }=\\Sigma_{i=1}^m(h_\\theta(X^i)-y^i)*\\frac{\\partial h_\\theta(X^i)}{\\partial \\theta}\\\\ è¿™é‡Œçš„: X^i:(1,n+1)=\\{x_0,x_1,...,x_j,...,x_n\\}\\\\ åˆ™ï¼š \\frac{\\partial J}{\\partial \\theta }=\\Sigma_{i=1}^m(h_\\theta(X^i)-y^i)*X^i è¿™æ ·å°±å¯ä»¥æ¯æ¬¡è¿è¡Œä¸‹å»äº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°åœ¨ä¼˜åŒ–çš„è¿‡ç¨‹æ¯æ¬¡æ¢¯åº¦ä¸‹é™çš„è¿‡ç¨‹éƒ½éœ€è¦å¯¹æ‰€æœ‰æ•°æ®è¿›è¡Œè®¡ç®—ï¼Œæ‰€ä»¥é€šå¸¸è¢«ç§°ä¸ºbatch gradient descentï¼ˆBGDï¼‰ï¼Œä½†æ˜¯è¿™æ ·é€Ÿåº¦é€šå¸¸ä¼šå˜çš„å¾ˆæ…¢ï¼Œå› æ­¤éœ€è¦å°è¯•**stochastic gradient descentï¼ˆSGDï¼‰**ä¸‹é™çš„æ¢¯åº¦åªä½¿ç”¨ä¸€ä¸ªç‚¹è€Œä¸æ˜¯æ‰€æœ‰ç‚¹çš„æ¢¯åº¦ç›¸åŠ ï¼Œç”±æ­¤å¾—åˆ°æœ€ç»ˆè§£ 0x03 é€»è¾‘å›å½’ logistics regression æ•°æ®é›† è¾“å…¥å˜é‡ï¼šX^i=[x^i_1,x^i_2,...,x^i_n]\\\\ è¾“å‡ºå˜é‡ï¼šy^i\\in{0,1}\\\\ å•ä¸ªå®ä¾‹ï¼š\\{X^i,y^i\\}\\\\ å®Œæ•´æ•°æ®é›†ï¼š\\{(X^i,y^i),i=1,...,m\\} ä¸ä¹‹å‰ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œçš„è¾“å‡ºå˜é‡æˆ–è€…è¯´æ˜¯labelï¼Œä»…ä¸º0æˆ–è€…1 å‡è®¾ æˆ‘ä»¬ä»ç„¶å‡è®¾ä¸ºçº¿æ€§æ¨¡å‹ï¼š h_\\theta(X)=g(\\theta^T*X)\\\\ g(z)=\\frac{1}{1+exp(-z)}\\\\ ç”±æ­¤å¾—åˆ°çš„é¢„æµ‹å€¼è¾“å‡ºï¼š\\\\ \\hat y = \\begin{cases} 0 & \\theta^T X=0 \\end{cases} æŸå¤±å‡½æ•° è¿™é‡Œæˆ‘ä»¬ä»æ¦‚ç‡åˆ†å¸ƒçš„è§’åº¦å‡ºå‘ï¼Œåˆ©ç”¨MLEçš„æ–¹å¼æ¥å¯»æ‰¾æœ€ä½³çš„æŸå¤±å‡½æ•° é¦–å…ˆç¡®å®šé¢„æµ‹å€¼ y çš„åˆ†å¸ƒ P(\\hat{y}=0)=h_\\theta(X)\\\\ P(\\hat{y}=1)=1-h_\\theta(X)\\\\ ç”±æ­¤æˆ‘ä»¬å¯ä»¥å‡ºé¢„æµ‹å€¼æ­£ç¡®çš„æ¦‚ç‡åˆ†å¸ƒå‡½æ•°ä¸ºï¼š P(yi^)=hÎ¸(X)1âˆ’yiâˆ—(1âˆ’hÎ¸(X)yi)P(\\hat{y^i})=h_\\theta(X)^{1-y^i}*(1-h_\\theta(X)^{y^i}) P(â€‹yâ€‹iâ€‹â€‹â€‹^â€‹â€‹)=hâ€‹Î¸â€‹â€‹(X)â€‹1âˆ’yâ€‹iâ€‹â€‹â€‹â€‹âˆ—(1âˆ’hâ€‹Î¸â€‹â€‹(X)â€‹yâ€‹iâ€‹â€‹â€‹â€‹) æˆ‘ä»¬å¸Œæœ›é’ˆå¯¹æ‰€æœ‰çš„åˆ†å¸ƒå‡½æ•°å¯ä»¥æœ€å¤§åŒ– L=\\prod_{i=1}^m(h_\\theta(X)^{1-y^i}*(1-h_\\theta(X)^{y^i}))\\\\ ä¼˜åŒ–ç®—æ³• GD æ¢¯åº¦ä¸‹é™çš„æ–¹æ³• é¦–å…ˆè®¡ç®—æ¢¯åº¦ã€ç„¶åæ›´æ–° \\frac{\\partial(InJ)}{\\partial\\theta}=\\Sigma_{i=1}^m[(1-y)*1/h_\\theta(X)-y*/(1-h_\\theta(X))]*\\frac{\\partial h_\\theta(X)}{\\partial\\theta}\\\\ åŒæ—¶\\\\ \\frac{\\partial h_\\theta(X)}{\\partial \\theta}=X*\\frac{\\partial g(\\theta^TX)}{\\partial \\theta}\\\\ å¯å¾—åˆ°\\\\ \\frac{\\partial(InJ)}{\\partial\\theta}=(y-h_\\theta(X))*X æ›´æ–°æ¢¯åº¦ Î¸:=Î¸+lrâˆ—âˆ‚(InJ)âˆ‚Î¸\\theta:=\\theta+lr*\\frac{\\partial(InJ)}{\\partial\\theta} Î¸:=Î¸+lrâˆ—â€‹âˆ‚Î¸â€‹â€‹âˆ‚(InJ)â€‹â€‹ Newtonæ³• æ¨å¯¼è¿‡ç¨‹æ²¡æœ‰çœ‹ï¼Œä½†æ˜¯æ›´æ–°å‚æ•°çš„è¿‡ç¨‹ä¸º \\theta:=\\theta-H^{-1}\\bigtriangledown_\\theta L(\\theta)\\\\ Hessian\\ matrix:H_{ij}=\\frac{\\partial^2 L(\\theta)}{\\partial \\theta_i\\partial\\theta_j} ç•ªå¤–-- logistic code æ ¹æ®æœºå™¨å­¦ä¹ è¯¾åä¹ é¢˜æ¥çš„ï¼š å»ºç«‹ä¸€ä¸ªçº¿æ€§æ¨¡å‹çš„classï¼š 12345678910111213141516171819202122232425262728293031323334353637383940class LinearModel(object): &quot;&quot;&quot;Base class for linear models.&quot;&quot;&quot; def __init__(self, step_size=0.2, max_iter=100, eps=1e-2, theta_0=None, learning_rate=0.01,verbose=True): &quot;&quot;&quot; Args: step_size: Step size for iterative solvers only. max_iter: Maximum number of iterations for the solver. eps: Threshold for determining convergence. theta_0: Initial guess for theta. If None, use the zero vector. verbose: Print loss values during training. &quot;&quot;&quot; self.theta = theta_0 self.step_size = step_size self.max_iter = max_iter self.eps = eps self.verbose = verbose self.learning_rate=learning_rate def fit(self, x, y): &quot;&quot;&quot;Run solver to fit linear model. Args: x: Training example inputs. Shape (m, n). y: Training example labels. Shape (m,). &quot;&quot;&quot; raise NotImplementedError(&#x27;Subclass of LinearModel must implement fit method.&#x27;) def predict(self, x): &quot;&quot;&quot;Make a prediction given new inputs x. Args: x: Inputs of shape (m, n). Returns: Outputs of shape (m,). &quot;&quot;&quot; raise NotImplementedError(&#x27;Subclass of LinearModel must implement predict method.&#x27;) ä¹‹åå¯¹å…¶è¿›è¡Œæ›´æ”¹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115import numpy as npimport utilfrom linear_model import LinearModelimport numpy as npdef main(train_path, eval_path, pred_path): &quot;&quot;&quot;Problem 1(b): Logistic regression with Newton&#x27;s Method. Args: train_path: Path to CSV file containing dataset for training. eval_path: Path to CSV file containing dataset for evaluation. pred_path: Path to save predictions. &quot;&quot;&quot; x_train, y_train = util.load_dataset(train_path, add_intercept=True) x_eval, y_eval = util.load_dataset(eval_path, add_intercept=True) # *** START CODE HERE *** model = LogisticRegression() model.fit(x_train, y_train) # *** END CODE HERE ***class LogisticRegression(LinearModel): &quot;&quot;&quot;Logistic regression with Newton&#x27;s Method as the solver. Example usage: &gt; clf = LogisticRegression() &gt; clf.fit(x_train, y_train) &gt; clf.predict(x_eval) &quot;&quot;&quot; def fit(self, x, y): &quot;&quot;&quot;Run Newton&#x27;s Method to minimize J(theta) for logistic regression. Args: x: Training example inputs. Shape (m, n). y: Training example labels. Shape (m,). &quot;&quot;&quot; # *** START CODE HERE *** def h(theta, x): &#x27;&#x27;&#x27; logisticçš„å‡è®¾ å‚æ•°ï¼š thetaï¼šè¶…å‚æ•° xï¼šè¾“å…¥å˜é‡ï¼Œæˆ–è€…æ˜¯ç‰¹å¾å€¼ &#x27;&#x27;&#x27; return 1 / (1 + np.exp(-np.dot(x, theta))) # *** END CODE HERE *** def gradient(theta, x, y): &#x27;&#x27;&#x27; è®¡ç®—æ¢¯åº¦ å‚æ•°ï¼š thetaï¼šè¶…å‚æ•° xï¼šè¾“å…¥å˜é‡ yï¼šéªŒè¯å˜é‡ &#x27;&#x27;&#x27; m, _ = x.shape return -1 / m * np.dot(x.T, (y - h(theta, x))) def hessian(theta, x): &quot;&quot;&quot; è®¡ç®—Hessianå…¬å¼ &quot;&quot;&quot; m, _ = x.shape h_theta_x = np.reshape(h(theta, x), (-1, 1)) return 1 / m * np.dot(x.T, h_theta_x * (1 - h_theta_x) * x) def next_theta(theta, x, y): &quot;&quot;&quot;é€šè¿‡Newtonæ³•æ¥æ›´æ–°theta :param theta: Shape (n,). :return: The updated theta of shape (n,). &quot;&quot;&quot; return theta - np.dot(np.linalg.inv(hessian(theta, x)), gradient(theta, x, y)) m, n = x.shape # mæ˜¯è®­ç»ƒé›†çš„å¤§å°ï¼Œnæ˜¯ç‰¹å¾çš„å¤šå°‘ # åˆå§‹åŒ–theta if self.theta is None: self.theta = np.zeros(n) # æ›´æ–°theta old_theta = self.theta new_theta = next_theta(self.theta, x, y) # åˆé€‚çš„æ—¶å€™åœæ­¢ while np.linalg.norm(new_theta - old_theta, 1) &gt;= self.eps: old_theta = new_theta new_theta = next_theta(old_theta, x, y) self.theta = new_theta def predict(self, x): &quot;&quot;&quot;Make a prediction given new inputs x. Args: x: Inputs of shape (m, n). Returns: Outputs of shape (m,). &quot;&quot;&quot; # *** START CODE HERE *** return x @ self.theta &gt;= 0 # *** END CODE HERE ***train_path = &#x27;../data/ds1_train.csv&#x27;valid_path = &#x27;../data/ds1_valid.csv&#x27;prad_path = &#x27;../data/ds1_valid.csv&#x27;main(train_path, valid_path, prad_path) 0x04 å¹¿ä¹‰çº¿æ€§æ¨¡å‹ Generative linear model ä¸‰ä¸ªæœ€åŸºæœ¬çš„å‡è®¾ é¢„æµ‹å€¼yçš„åˆ†å¸ƒæ˜¯æŒ‡æ•°æ—ï¼Œï½Exponential Familyï¼ˆnï¼‰å…¶ä¸­nä¸ºè¶…å‚æ•° å¯¹äºç»™å®šçš„xï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªå…³äºé¢„æµ‹å€¼yçš„æ¦‚ç‡åˆ†å¸ƒå‡½æ•°ï¼Œè¿™ä¸ªåˆ†å¸ƒå‡½æ•°çš„æœŸæœ›æˆ‘ä»¬å°†å…¶ä½œä¸ºæˆ‘ä»¬æœ€ç»ˆçš„é¢„æµ‹å€¼ï¼Œåˆ™æ»¡è¶³ h(X)=E(yâˆ£X,Î¸)h(X)=E(y|X,\\theta) h(X)=E(yâˆ£X,Î¸) ï¼ˆé™åˆ¶æ€§æœ€å¤§çš„å‡è®¾ï¼‰å‡è®¾è‡ªç„¶å‚æ•°nå’Œè¾“å…¥å˜é‡xä¹‹å‰çš„å…³ç³»æ˜¯çº¿æ€§çš„ Î·=Î¸TX\\eta=\\theta^TX Î·=Î¸â€‹Tâ€‹â€‹X å…³äºä»€ä¹ˆæ˜¯æŒ‡æ•°æ— æŒ‡æ•°æ—åˆ†å¸ƒå¹¶ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„æ¦‚ç‡åˆ†å¸ƒï¼ŒæŒ‡çš„æ˜¯ä¸€ç±»åˆ†å¸ƒï¼Œè¿™ç±»åˆ†å¸ƒå…·æœ‰ä¸€äº›å…±åŒçš„ç‰¹æ€§ï¼Œæ‰€ä»¥å½¢æˆä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒæ—familyï¼Œå¸¸è§çš„æŒ‡æ•°æ—åˆ†å¸ƒåŒ…æ‹¬é«˜æ–¯åˆ†å¸ƒã€äºŒé¡¹åˆ†å¸ƒã€å¤šé¡¹å¼åˆ†å¸ƒã€æ³Šæ¾åˆ†å¸ƒã€gammaåˆ†å¸ƒã€betaåˆ†å¸ƒç­‰ P(y,\\eta)=b(y)*exp(\\eta^TT(y)-a(\\eta))\\\\ è¿™é‡Œçš„\\eta ä¸ºè‡ªç„¶å‚æ•°\\\\ T(y)æ˜¯å……åˆ†ç»Ÿè®¡é‡\\\\ a(\\eta)æ˜¯å¯¹æ•°åˆ†å‰²å‡½æ•°ï¼Œæ¥å¸®åŠ©\\int p(y,\\eta)dy=1 å¸¸è§çš„æŒ‡æ•°æ—å’Œå¯¹åº”åˆ†ç±»ç®—æ³•çš„ï¼š å®æ•°ï½é«˜æ–¯åˆ†å¸ƒ 0-1åˆ†å¸ƒï½ä¼¯åŠªåˆ©åˆ†å¸ƒ è®¡æ•°åˆ†å¸ƒï½æ³Šæ¾åˆ†å¸ƒ éé›¶å®æ•°ï½Gammaæ­£å‚æ•°åˆ†å¸ƒ ç”±GLMæ„å»ºçº¿æ€§æ¨¡å‹çš„è¿‡ç¨‹ linear regression hÎ¸(X)=E(y)=u=Î·=Î¸TXh_\\theta(X)=E(y)=u=\\eta=\\theta^TX hâ€‹Î¸â€‹â€‹(X)=E(y)=u=Î·=Î¸â€‹Tâ€‹â€‹X logistic regression h_\\theta(x)=E(y)=\\phi\\\\ =\\frac{1}{1+e^{-\\eta}}\\\\ =\\frac{1}{1+e^{-\\theta^Tx}} 0x05 é«˜æ–¯åˆ¤åˆ«å¼ç®—æ³• Gauss discriminant analysis åˆ¤åˆ«å¼ç®—æ³•ï¼šå¸Œæœ›æ‰¾åˆ°ä¸€ä¸ªåˆ†åˆ«çš„ç®—æ³• ç”Ÿæˆå¼ç®—æ³•ï¼šå¸Œæœ›é’ˆå¯¹æ•°æ®æœ¬èº«å»ºæ¨¡ ï¼ˆåˆ¤åˆ«å¼ç®—æ³•æ„å‘³ç€ä¸€ä¸ªæ‰¾åˆ°ä¸€ä¸ªçº¿æ¥åŒºåˆ†ä¸¤è€…ï¼Œç”Ÿæˆç®—æ³•æ„å‘³ç€æ‰¾åˆ°æ•°æ®æœ¬èº«çš„æ€§è´¨ï¼‰ æˆ–è®¸ä¸€ä¸ªæ˜¯é¢‘ç‡å­¦æ´¾ã€ä¸€ä¸ªæ˜¯è´å¶æ–¯å­¦æ´¾â€¦","categories":[{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"}],"tags":[{"name":"AndrewWu","slug":"AndrewWu","permalink":"https://blog.tjdata.site/tags/AndrewWu/"}]},{"title":"HELLO WORLD","slug":"HELLO-WORLD","date":"2022-01-28T01:02:58.000Z","updated":"2023-05-13T13:49:40.299Z","comments":true,"path":"posts/87e5865b.html","link":"","permalink":"https://blog.tjdata.site/posts/87e5865b.html","excerpt":"å…³äºä¸ºä»€ä¹ˆæˆ‘å¸Œæœ›æ‹¥æœ‰ä¸€ä¸ªè‡ªå·±çš„åšå®¢ï¼Ÿå¹¶æ‰¿è¯ºä¼šå°†è¿™ä»½åšå®¢å†™ä¸‹å»","text":"å…³äºä¸ºä»€ä¹ˆæˆ‘å¸Œæœ›æ‹¥æœ‰ä¸€ä¸ªè‡ªå·±çš„åšå®¢ï¼Ÿå¹¶æ‰¿è¯ºä¼šå°†è¿™ä»½åšå®¢å†™ä¸‹å» 0x01 å…³äºblog åšå®¢æœ¬èº«ä¾¿æœ‰ç€å…¶è‡ªèº«ä½œä¸ºäº’è”ç½‘çš„æµªæ¼«ï¼ï¼ˆè¿™é‡Œä¸è°ˆweb3ï¼‰äº’è”ç½‘ä½œä¸ºå…¶è¯ç”Ÿä¹‹åˆä¾¿æ˜¯è®©æ¯ä¸ªäººéƒ½å¹³ç­‰çš„é“¾æ¥èµ·æ¥å¹¶å¯ä»¥åˆ†äº«å’Œå‘è¡¨è‡ªå·±çš„è§‚ç‚¹ï¼Œä½†æ˜¯éšç€å•†ä¸šå’Œæ”¿åºœçš„èå…¥ï¼Œäº’è”ç½‘é€æ¸æ˜¾ç¤ºå‡ºå…¶å·¥å…·æ€§çš„ç‰¹ç‚¹ï¼Œä¸ªäººåœ¨å…¶ä¸­çš„ä½œç”¨é€æ¸è¢«å„æ–­æ€§çš„äº’è”ç½‘å…¬å¸æ‰€æŠ¹é™¤ï¼Œä»¿ä½›äº’è”ç½‘å…¬å¸ä¾¿æ˜¯äº’è”ç½‘ä¸­çš„å®é™…æ‰§æ³•è€…ã€‚ä½†å›é¡¾åœ¨äº’è”ç½‘æœ€å¼€å§‹çš„æ„¿æ™¯ä¸­ï¼Œæ˜¯å¸Œæœ›æ¯ä¸ªäººå¯ä»¥é€šè¿‡äº’è”ç½‘è¿æ¥åœ¨ä¸€èµ·ï¼Œåšå®¢æœ‰ç€ä¸€å°æœåŠ¡å™¨ã€ä¸€ä¸ªåŸŸåä¾¿å¯ä»¥å‘ä¸å‡ºè‡ªå·±çš„ç”Ÿæ´»ç‚¹æ»´ã€è‡ªç”±æ€æƒ³ç­‰ï¼Œå¯ä»¥è®©è‡ªå·±çš„å£°éŸ³åœ¨äº’è”ç½‘çš„ä¸€è§’ä¸­çš„ç•™æœ‰å›å“ 0x02 å…³äºè‡ªå·± æœ¬äººçš„ä¸“ä¸šæ˜¯äº¤é€šè¿è¾“è¡Œä¸šä¸­çš„äº¤é€šä¿¡æ¯æ–¹å‘çš„å¤§å››å­¦ç”Ÿï¼ˆ2022å¹´ï¼‰ï¼Œä½œä¸ºä¸€åç»¼åˆæ€§çš„åº”ç”¨å­¦ç§‘ï¼Œäº¤é€šæœ¬ç§‘ä¸­å­¦ä¹ çš„æ–¹å‘å¾ˆå¤šï¼Œä½†æ˜¯åŒæ ·ä¹Ÿæœ‰å­¦çš„ä¸ç²¾ç»†çš„ç‰¹ç‚¹ ï¼ˆåŸºç¡€ç±»ï¼‰é«˜ç­‰æ•°å­¦ã€çº¿æ€§ä»£æ•°ã€æ¦‚ç‡è®ºã€å¤å˜å‡½æ•°ã€ç†è®ºåŠ›å­¦ã€C++ ï¼ˆä¸“ä¸šåŸºç¡€ç±»ï¼‰æ¨¡ç”µæ•°ç”µã€ç”µè·¯åˆ†æã€äº¤é€šä¿¡å·åŸºç¡€ã€è‡ªåŠ¨æ§åˆ¶åŸç†ã€ä¿¡å·ä¸ç³»ç»Ÿã€ä¿¡æ¯ä¼ è¾“åŸç† ï¼ˆä¸“ä¸šè¿›é˜¶ï¼‰åµŒå…¥å¼ç³»ç»Ÿã€äº¤é€šä¿¡æ¯æ£€æµ‹ä¸å¤„ç†ã€äº¤é€šæ•°æ®åˆ†æã€è½¦ç«™ä¸åŒºé—´ä¿¡å·æ§åˆ¶ã€åˆ—è½¦è¿è¡Œæ§åˆ¶ç³»ç»Ÿ åœ¨è®¡ç®—æœºæŠ€æœ¯åŠ æŒåœ¨ä¼ ç»Ÿè¡Œä¸šä¸­ï¼Œä»¥æ•°æ®æ¥è¯´è¯çš„æ€æƒ³æ¨åŠ¨ç€æ•°æ®åŒ–ã€ä¿¡æ¯åŒ–ã€æ™ºèƒ½åŒ–ã€è‡ªåŠ¨åŒ–çš„å‘å±•ï¼Œè¿™å¯èƒ½ä¹Ÿæ˜¯æœ¬äººç ”ç©¶ç”Ÿä¹‹åçš„æ–¹å‘ã€‚æ‰€ä»¥ä½œä¸ºä¸€ä¸ªéè®¡ç®—æœºç§‘å­¦ã€éæ•°å­¦ç§‘å­¦å‡ºç”Ÿçš„äººæ¥è¯´ï¼Œäº¤é€šè¡Œä¸šå¯¹äºæ•°æ®å¤„ç†çš„æ–¹å¼å¯èƒ½æœ€å¤šæ˜¯åœ¨äºæ¨¡å‹åº”ç”¨åœºæ™¯çš„äººä¸ºåŒºåˆ†ï¼Œä½†æ˜¯æœ¬äººè¿˜æ˜¯å¸Œæœ›å¯ä»¥å­¦ä¹ ä¸€äº›è®¡ç®—æœºã€æ•°å­¦ã€ç¼–ç¨‹ç­‰æ¯”è¾ƒæœ‰è¶£çš„çŸ¥è¯†æ¥æ­¦è£…è‡ªå·±ï¼Œå¹¶åœ¨æ¥è§¦æ–°é²œäº‹ç‰©ä¸­ä¿æŒç€è‡ªå·±çš„å‰è¿›çš„åŠ¨åŠ›ã€‚ æ­£å¦‚Jobsæ‰€è¿°ï¼šstay hungryï¼Œstay foolishï¼ 0x03 å…³äºè‡ªå·±çš„blog å¯¹äºä¸€ä¸ªç³»ç»Ÿçš„è®¾è®¡è‡ªç„¶è¦ä»éœ€æ±‚çš„è§’åº¦å‡ºå‘ï¼Œè‡ªå·±çš„blogä½“ç³»ä¹Ÿä¸æ„å¤–ï¼Œå› æ­¤å»ºç«‹è‡ªå·±åšå®¢çš„ç›®çš„æ˜¯æˆ‘å¸Œæœ›å°†è‡ªå·±çš„å­¦ä¹ çŸ¥è¯†ç”¨æ¯”è¾ƒä¸ªæ€§åŒ–çš„è¯­è¨€æ€»ç»“å‡ºæ¥å‘å¸ƒåˆ°ç½‘ä¸Š è®°å½•ï¼šå¹¶æ€»ç»“è‡ªå·±çš„æ‰€å­¦ï¼Œå¯èƒ½ä¼šèµ°å¼¯è·¯ï¼Œä½†æ˜¯è¦å°è¯•å»åš ç£ä¿ƒï¼šè‡ªå·±å­¦ä¹ ï¼ŒåŒæ ·æ˜¯ä¸ºäº†è‡ªå·±åç»­çš„è¿›æ­¥ å› æ­¤å¸Œæœ›ä»å¤§å››å¼€å§‹ï¼Œä»ä»Šå¤©å¼€å§‹ï¼Œè‡³å°‘ä¿è¯ä¸€ä¸ªæœˆä¸€ç¯‡ï¼Œæ­£å¸¸å°½å¯èƒ½çš„ä¿æŒä¸€ä¸ªæ˜ŸæœŸä¸€ç¯‡æ¥è®¤çœŸå†™å‡ºä¸€ä»½æ–‡ç« ã€‚ åŒæ—¶postçš„åˆ†ç±»å¯èƒ½ä¼šæœ‰ï¼š baseï¼Œæ¯”å¦‚Linuxçš„ç®€å•ä½¿ç”¨ã€pythonç¯å¢ƒçš„é…ç½®ç­‰ livesï¼Œè‡ªå·±æ‚è°ˆçš„æ‰€æ€æ‰€æƒ³ CSï¼Œæ¯”å¦‚webå¼€å‘ã€æ•°æ®ç»“æ„ä¹‹ç±»çš„çŸ¥è¯† DSï¼Œæ¯”å¦‚ä¸€äº›æ•°æ®çš„ç¬”è®°ã€ç®—æ³•çš„æ¨å¯¼ 0x04 æ­å»ºè¿‡ç¨‹ åˆ©ç”¨GitHub pages+ Hexoï¼Œé€‰å–ä¸€ä¸ªå¥½çœ‹çš„ä¸»é¢˜ ä¹‹åè´­ä¹°åŸŸåæ¥è§£æåˆ°å¯¹åº”ä½ç½®ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦åœ¨GitHubä¸­é…ç½® åˆ©ç”¨typoraç®¡ç†postæ–‡ä»¶å¤¹ã€åˆ©ç”¨giteeæ¥ç®¡ç†å›¾åºŠ ä¸€äº›å¸¸è§çš„å‘½ä»¤ï¼š 1234hexo clean ç”¨äºæ¸…é™¤æ··å­˜ä¸é™æ€æ–‡ä»¶hexo new post [æ–‡ç« æ ‡é¢˜] å¯ä»¥æ–°å»ºæ–‡ç« hexo generate ç”¨äºç”Ÿæˆé™æ€æ–‡ä»¶hexo deploy ç”¨äºéƒ¨ç½²ç½‘ç«™ åœ¨ç¼–å†™æ–‡ç« çš„æ—¶å€™ï¼Œå¯ä»¥é€‰æ‹©ä¸€ä¸ª 1234ä½¿ç”¨coverï¼š[å›¾ç‰‡url]æ¥ä¸ºæ·»åŠ å°é¢&lt;!--more--&gt;ä¹‹å‰çš„æ˜¯æ‘˜è¦çš„éƒ¨åˆ† ç¥çœ‹åˆ°çš„äººç”Ÿæ´»å­¦ä¹ æ„‰å¿«ï¼","categories":[{"name":"Memo","slug":"Memo","permalink":"https://blog.tjdata.site/categories/Memo/"}],"tags":[{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://blog.tjdata.site/tags/%E6%9D%82%E8%B0%88/"}]},{"title":"ç®—æ³•è®¾è®¡","slug":"ç®—æ³•è®¾è®¡","date":"2021-08-08T06:17:05.000Z","updated":"2023-05-13T13:53:11.612Z","comments":true,"path":"posts/95085cd8.html","link":"","permalink":"https://blog.tjdata.site/posts/95085cd8.html","excerpt":"divide and conquer In section 2.3.1 we can saw how merge sort serves as an example of the divide-and conquer paradigm. Recalling that in divide-and-conquer, we solve a problem recursively, applying three step at each level of the recursion:","text":"divide and conquer In section 2.3.1 we can saw how merge sort serves as an example of the divide-and conquer paradigm. Recalling that in divide-and-conquer, we solve a problem recursively, applying three step at each level of the recursion: Divide the problem into a number of subproblems that are smaller instances of the same problem Conquer the subproblems by solving them recurisvely. If the problem sizes are small enough, however,just solve the subproblems in a straightforward manner. Combine the solutions to the subpoblems into the solution for the original problem (1)å¯¹äºä¸€ä¸ªè§„æ¨¡ä¸ºN çš„é—®é¢˜ï¼Œè‹¥è¯¥é—®é¢˜å¯ä»¥å®¹æ˜“åœ°è§£å†³ï¼Œåˆ™ç›´æ¥è§£å†³,å¦åˆ™æ‰§è¡Œä¸‹é¢çš„æ­¥éª¤ã€‚ (2)å°†è¯¥é—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªè§„æ¨¡è¾ƒå°çš„å­é—®é¢˜ï¼Œè¿™äº›å­é—®é¢˜äº’ç›¸ç‹¬ç«‹ï¼Œå¹¶ä¸”åŸé—®é¢˜å½¢å¼ç›¸åŒã€‚ (3)é€’å½’recursivelyåœ°è§£å­é—®é¢˜ã€‚ (4)ç„¶åï¼Œå°†å„å­é—®é¢˜çš„è§£åˆå¹¶å¾—åˆ°åŸé—®é¢˜çš„è§£ exampleï¼š merge sort å¯¹äºä¸€ä¸ªé•¿æ•°ç»„çš„æ’åºé—®é¢˜ï¼Œå…¶æ’åºå¯ä»¥åˆ†ä¸ºå·¦åŠè¾¹ã€å³åŠè¾¹çš„æ’åºæ‰‹æ®µ è¿™æ ·ç‹¬ç«‹åˆ†é…çš„å­ä»»åŠ¡æœ€ç»ˆæ’åºä¸ºå¯ä»¥åˆ†ä¸ºæœ€å°çš„ä¸¤ä¸ªå…ƒç´  æ’åºä¹‹åå†åˆå¹¶ 12345678910111213141516171819202122232425262728293031323334353637from math import floordef merge_sort(A, p, r): if p &lt; r: q = floor((p + r) / 2) merge_sort(A, p, q) merge_sort(A, q + 1, r) merge(A, p, q, r) return Adef merge(A, p, q, r): n1 = q - p + 1 n2 = r - q L = [] R = [] ceiling = 10000 for i in range(0, n1): L.append(A[p + i - 1]) for j in range(0, n2): R.append(A[q + j]) L.append(ceiling) R.append(ceiling) i = 0 j = 0 for k in range(p - 1, r): if L[i] &lt;= R[j]: A[k] = L[i] i = i + 1 else: A[k] = R[j] j = j + 1 return Aprint(merge_sort([1, 3, 4, 2, 3, 1], 1, 6)) Dymanic programming dynamic programming, like the divide-and-conquer method ï¼Œsolves problems by combineing the solutions to subproblems.(â€œprogramming in this context refers to a tabular method,not ato wirting computer codeâ€). As we saw in cahpter 2 and 4, divide -and -conquer algorithm partition the problem into disjoint subproblems, solve the subproblems recursively, and then combine their solutions to solve the orignal problem. In contrast, ddynamic programming applies when the subproblems overlapâ€”that is, when subproblems share subsubproblems. In this context, a divide-and-conquer algotirhm does more work than necessary , reaped solving the common subsubproblems. A dynamic-programming algorithm solves each subsubproblems juest once and then saves its answei in the table, thereby avoiding the work of recomputing the answer every time it solves each subsubproblem. We typically apply dynamic programming to optimization problems. Such problems can have many possible solutions. Each solution has a value, and we wish to find a solution with optimal value. characterizethe structure of an optimal solution Recursively defin ethe value of an opitmal solution Compute the value of an optimal solution, typically in a bottom-up fashion. Construst an optimal solution from computed information ç¡®å®šdynamic programmingçš„æ•°ç»„ä»¥åŠå…·ä½“çš„ä¸‹æ ‡å®šä¹‰ ç¡®å®šé€’æ¨å…¬å¼ dynamic programmingæ•°ç»„çš„åˆå§‹åŒ– å…·ä½“ä¸¾ä¾‹æ¥ä½¿å¾—è®¡ç®—è¿›è¡Œä¸‹å» Example: ä¸‰è§’å½¢æœ€å°å’Œ 123456789101112131415triangle=[[2], [3, 4], [6, 5, 7], [4, 1, 8, 3]]DP=[]DP.append(triangle[0])if len(triangle)&gt;=1: for story in range(1, len(triangle)): temp=[] for i in range(0, len(triangle[story])): if i==0: temp.append(DP[story-1][0] + triangle[story][0]) elif i==(len(triangle[story]) - 1): temp.append(DP[story-1][i-1] + triangle[story][i]) else: temp.append(min(triangle[story][i] + DP[story - 1][i - 1], triangle[story][i] + DP[story - 1][i])) DP.append(temp)min(DP[-1]) Greedy programming â€“remain to studyingâ€“ back tracking â€“remain to studyingâ€“ branch and bound â€“remain to studyingâ€“","categories":[{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"}],"tags":[{"name":"study","slug":"study","permalink":"https://blog.tjdata.site/tags/study/"}]},{"title":"","slug":"ã€Šmatrixã€‹å½±è¯„","date":"2021-08-07T14:56:28.000Z","updated":"2023-04-29T09:30:29.299Z","comments":true,"path":"posts/0.html","link":"","permalink":"https://blog.tjdata.site/posts/0.html","excerpt":"1999-ã€Šé»‘å®¢å¸å›½ã€‹ å°±ä¸ªäººæœ€è¿‘çœ‹åˆ°çš„èµ„æ–™ï¼Œä¸»è¦ä»20ä¸–çºªè®¡ç®—æœºçš„å‘å±•ã€ä»¥åŠä»å“²å­¦æ„ä¹‰ä¸Šçš„å­˜åœ¨æ¥è§‚çœ‹è¿™ä¸ªç”µå½±ï¼ˆå½“ç„¶neoçš„the oneæ€æƒ³ä¹Ÿå¾ˆè´´åˆåœ£ç»ï¼Œæœ€åæ„Ÿæ‚Ÿçš„æ€æƒ³ä¹Ÿå¾ˆæƒ³äº‹äººå§‹ç»ˆå¾—ä¸åˆ°çš„åœ£æ¯ï¼Œå½“ç„¶å¾—æœ‰ä¸€ä¸ªå¥³æ€§è§’è‰²å†å±æœºå…³å¤´åˆ©ç”¨â€œloveâ€œæ¥æ‹¯æ•‘ä¸»è§’ï¼Œè¿™éƒ½ä¸æ˜¯ä¸é‡è¦çš„ç»†èŠ‚ï¼‰","text":"1999-ã€Šé»‘å®¢å¸å›½ã€‹ å°±ä¸ªäººæœ€è¿‘çœ‹åˆ°çš„èµ„æ–™ï¼Œä¸»è¦ä»20ä¸–çºªè®¡ç®—æœºçš„å‘å±•ã€ä»¥åŠä»å“²å­¦æ„ä¹‰ä¸Šçš„å­˜åœ¨æ¥è§‚çœ‹è¿™ä¸ªç”µå½±ï¼ˆå½“ç„¶neoçš„the oneæ€æƒ³ä¹Ÿå¾ˆè´´åˆåœ£ç»ï¼Œæœ€åæ„Ÿæ‚Ÿçš„æ€æƒ³ä¹Ÿå¾ˆæƒ³äº‹äººå§‹ç»ˆå¾—ä¸åˆ°çš„åœ£æ¯ï¼Œå½“ç„¶å¾—æœ‰ä¸€ä¸ªå¥³æ€§è§’è‰²å†å±æœºå…³å¤´åˆ©ç”¨â€œloveâ€œæ¥æ‹¯æ•‘ä¸»è§’ï¼Œè¿™éƒ½ä¸æ˜¯ä¸é‡è¦çš„ç»†èŠ‚ï¼‰ â€” å“²å­¦çš„è§’åº¦philosophy å°±åƒæ˜¯æœ€åŸºæœ¬çš„é—®é¢˜ï¼Œmatrixä¸»è¦å¸¦ç»™æˆ‘ä»¬çš„é—®é¢˜æ˜¯ï¼š Matrixå¡‘é€ çš„ä¸–ç•Œå’ŒçœŸå®ä¸–ç•Œä¹‹é—´çš„å·®åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ é¢ä¸´matrixçš„æ—¶é—´ï¼Œä½œä¸ºhumançš„æˆ‘ä»¬å’Œthe oneæœ‰ä»€ä¹ˆåŒºåˆ« ä¾æ—§æ¯ä¸ªäººä¿¡ä»°çš„ä½œç”¨ å…³äºä¸–ç•Œçš„æ„æˆå¯ä»¥åœ¨ç¬¬äºŒéƒ¨åˆ†ä¸­è¯¦ç»†é˜è¿°ï¼Œå…¶æœ€æ ¸å¿ƒçš„æ€æƒ³ä¾¿æ˜¯ï¼šmatrixçš„ä¸–ç•Œæ˜¯æ¨¡æ‹Ÿçš„ï¼Œâ€˜There is no spoonï¼ˆè¿™é‡Œæ²¡æœ‰æ±¤å‹ºï¼‰â€™ ä¸ºä»€ä¹ˆneoå¯ä»¥ç§°ä¸ºthe oneï¼Œæˆ‘æƒ³æ˜¯ç”±äºä»–å…·æœ‰knowç”Ÿæ´»åœ¨ä¸€ä¸ªæ¨¡æ‹Ÿçš„ä¸–ç•Œï¼Œç„¶åbelieveç”Ÿæ´»åœ¨æ¨¡æ‹Ÿçš„ä¸–ç•Œä¸­è‡ªå·±å¯ä»¥åšå‡ºä¸€äº›è¶…ä¹å¯»å¸¸è§„å¾‹çš„è¡Œä¸ºï¼Œæœ€åæ‰èƒ½realåœ°å°†è¿™ä¸ªè¿ç”¨åœ¨matrixè¿™ä¸ªä¸–ç•Œä¸­ï¼Œä¹‹årealçš„è¿ç”¨ä¸­åˆå›åå“ºbackupåœ°é‡æ–°å·©å›ºè‡ªå·±çš„believeè¿™ä¸ªè¡Œä¸ºï¼Œâš ï¸ä»…ä»…believeæ˜¯æ²¡æœ‰å¯¹å¯èƒ½owè¡Œä¸ºçš„åé¦ˆçš„ã€‚ å¤´å¤´æŸè²å°”æ€è¾¾åˆ°äº†believeçš„ä¿¡å¿µï¼Œæ‰€ä»¥ä»–å¯ä»¥å°†è¿™äº›äººï¼ˆreal manï¼‰èšé›†èµ·æ¥ï¼Œæ‰èƒ½äº†è§£åˆ°matrixæ˜¯è™šä¼ªçš„ä¸–ç•Œï¼Œæ‰å¯ä»¥åœ¨å±‚æ¬¡ä¸Šæ¿€å‘è¿™äº›äººï¼Œæ‰ä¼šç›¸ä¿¡æœ‰neoè¿™æ ·çš„the oneï¼Œä½†æ˜¯ä»–è‡ªå·±æœ¬èº«ä¸æ˜¯the oneï¼Œå› ä¸ºâ•â•ä»–ç›¸ä¿¡ä¸ä»£è¡¨ä»–èƒ½å»åšå‡ºæ¥è¿™ä»¶äº‹â•â•ï¼Œæ‰€ä»¥ä»–æ— æ³•æ›´è¿‘ä¸€æ­¥çš„äº†è§£åˆ°è¿™ä¸ªä¸–ç•Œæ˜¯è™šæ‹Ÿçš„æœ¬è´¨ Neoåœ¨believeè¿™ä¸ªäº‹å®ä¹‹åï¼Œåœ¨å’Œé»‘è¡£äººçš„å†³æ–—ä¸­ä¹Ÿåšåˆ°äº†è¿™ä¸€ç‚¹ï¼Œå¹¶æ›´æ¸…æ™°çš„è®¤è¯†åˆ°æ‰€è°“çš„æ¨¡æ‹Ÿä¸–ç•Œæ— éæ˜¯ä»£ç çš„æœ¬è´¨ï¼Œè¿™æ ·åˆç»™ä»–æœ¬èº«çš„believeå¸¦æ¥åé¦ˆï¼Œè¿™æ ·å˜æˆåšå¼ºçš„the oneï¼ï¼ äºŒ è®¡ç®—æœºå†å²å‘å±•çš„è§’åº¦ è®¡ç®—ä¸€ç›´æ˜¯äººç±»å¸Œæœ›åšåˆ°çš„ï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªé¥­åº—ä¸­çš„å¯¹è´¦ï¼Œé“¶è¡Œä¸­çš„æµæ°´çš„è®¡ç®—ï¼Œè¿™äº›å¯èƒ½ç”¨ç®—ç›˜å°±èƒ½è§£å†³ï¼Œä½†æ˜¯åˆ°å·¥ä¸šé©å‘½ï¼Œå„ç§ä¼ä¸šè“¬å‹ƒå‘å±•ï¼Œä½“é‡ä¸æ–­å¢å¤§ï¼Œä»¥åŠå†›äº‹ã€ç§‘å­¦æ–¹é¢å¯¹äºè®¡ç®—çš„éœ€æ±‚ä¸æ–­å¢å¤§ï¼Œé€æ¸å‡ºç°äº†æœºæ¢°ç”µåŠ¨è£…ç½®çš„è®¡ç®—æœºå™¨ï¼Œè¿™äº›æœºå™¨ä¸€èˆ¬è¾ƒä¸ºå¤æ‚ï¼Œéš¾ä»¥ç»´ä¿®ï¼Œæœºæ¢°è£…ç½®ä¸€èˆ¬ä¸å¯é ï¼Œåœ¨é€æ¸çš„å‘å±•ä¸­ï¼Œè®¡æ•°è£…ç½®ä»ç»§ç”µå™¨ã€åˆ°çœŸç©ºç®¡ã€åˆ°ç”µå­ç®¡ã€å†åˆ°åŠå¯¼ä½“ï¼Œå­˜å‚¨è£…ç½®ä»æœ€åˆçš„çº¸æ¡åˆ°å£°å‹ã€åˆ°ç£å¸¦ã€åˆ°ç£ç›˜ã€å†åˆ°ç°åœ¨çš„ç¡¬ç›˜ã€‚ è®¡ç®—èƒ½åŠ›ä¸æ–­å¢åŠ ï¼Œæœ€åˆçš„äºŒæˆ˜æ—¶æœŸçš„è®¡ç®—å¯èƒ½ç”¨äºå¯¼å¼¹è®¡ç®—ã€å¯†ç ç ´è§£ï¼Œç­‰ä»…ä»…ç”¨äºè®¡ç®—çš„åœºæ™¯ï¼Œä½†åœ¨50å¹´ä»£ï½70å¹´ä»£ï¼Œåœ¨è¿™ä¸ªè¾‰ç…Œçš„æ—¶ä»£ï¼Œè®¡ç®—æœºå™¨å¼€å§‹è¿›å…¥æ°‘ç”¨ç¯èŠ‚ï¼Œè®¡ç®—æœºå¯ç”¨äºç®€å•çš„è®¡ç®—ï¼Œä½†æ˜¯æ›´æœ‰è¶£çš„åŠ ä¸Šæ˜¾ç¤ºå±å’Œæ‰“å°æœºä¹‹åï¼Œä»¥åŠäº’è”ç½‘ï¼Œäººä»¬å¯ä»¥æƒŠè®¶çš„å‘ç°è®¡ç®—æœºå¯ä»¥åšè®¸å¤šä¹‹å‰éš¾ä»¥æƒ³è±¡çš„äº‹æƒ…ï¼šæ¯”å¦‚ä¸‹è±¡æ£‹ã€åˆ©ç”¨å›¾å½¢ç•Œé¢æ¥å®ç°CADï¼ˆcomputer aided designï¼‰ã€åˆ©ç”¨äº’è”ç½‘æ¥å®ç°å›¾ä¹¦éŸ³ä¹è§†é¢‘ç­‰ä¿¡æ¯çš„ä¼ è¾“ã€‚ è¿™ä¸ªæ—¶å€™è®¡ç®—æœºä¸å†ä»…ä»…æ˜¯ä¸ªâ€˜computeâ€™è®¡ç®—çš„è®¾å¤‡ï¼Œè€Œå˜æˆä¸€ä¸ªå¤šåŠŸèƒ½çš„â€˜ç”µè„‘â€™ï¼Œåˆ°80å¹´ä»£ï½2000å¹´ï¼Œè®¡ç®—æœºç¡¬ä»¶åœ¨æ‘©å°”å®šå¾‹ä¸‹ä¸€ç›´è“¬å‹ƒå‘å±•ï¼Œä»¥åŠå„ç§æ“ä½œç³»ç»Ÿçš„ä¸ä½†å‘å±•ï¼ŒåŠ ä¸ŠäºŒæˆ˜ä¹‹åäººä»¬æ–‡åŒ–çš„å‘å±•ï¼Œè¿™ä¸ªæ—¶ä»£çš„ç§‘å¹»å¼€å§‹å‘å±•ï¼Œä¸‰ä¸ªç†å¿µï¼šæœºå™¨äººã€äººå·¥æ™ºèƒ½ã€è®¡ç®—æœºå¯¹äºäººç±»çš„å¨èƒå§‹ç»ˆæ˜¯ä¸»é¢˜ã€‚ ã€Šå¤ªç©ºæ¼«æ¸¸2001ã€‹ç”µå½±ä¸­çš„ç»å…¸ ã€Šç¥ç»æ¼«æ¸¸è€…ã€‹ä¹¦ç±ä¸­çš„ç»å…¸ é»‘å®¢å¸å›½ã€Šmatrixã€‹ä¾¿æ˜¯æå‡ºä¸€ä¸ªç–‘é—®ï¼šâ€œå¦‚æœæˆ‘ä»¬çš„ä¸–ç•Œæ˜¯ç”±ç¨‹åºç¼–åˆ¶å¥½çš„ï¼Ÿå¦‚ä½•â€ å„ç§ç‰©ç†è§„å¾‹ä¸è¿‡æ˜¯ä¸€è¡Œä»£ç ï¼Œäººç±»æœ¬èº«çš„å„ç§å†²åŠ¨ä¸è¿‡æ˜¯æ¨¡æ‹Ÿçš„ç”µè„‰å†²ï¼Œä¸–ç•Œä¸­çš„å„ç§ç¾å¥½äº‹ç‰©ä¸è¿‡æ˜¯æ¨¡æ‹Ÿçš„ï¼Œå…¶ä¸­æœ€å¥½å¥‡çš„ä¸€ç‚¹ä¾¿æ˜¯ï¼Œäººä»¬åˆ©ç”¨ç²¾ç¥è¿›å…¥ä¸€ä¸ªè™šæ‹Ÿçš„ä¸–ç•Œï¼Œåœ¨è™šæ‹Ÿçš„ä¸–ç•Œå—åˆ°å†²å‡»ï¼Œè™šæ‹Ÿä¸–ç•Œä¸­è‡ªå·±ä»¥ä¸ºè‡ªå·±è¢«æ”»å‡»ï¼Œå¤§è„‘åšå‡ºååº”ï¼Œé‚£ä¹ˆç‰©ç†ä¸–ç•Œä¸­çš„å¤§è„‘ä¼šåšå‡ºå¯¹åº”çš„ååº”å—ï¼ŸåŒæ ·è™šæ‹Ÿä¸–ç•Œä¸­çš„ç²¾ç¥ä½“æ­»äº¡äº†ï¼Œæœ¬äººçš„è‚‰ä½“è¿˜ä¼šæˆ–è€…å—ï¼Œå¯ä»¥ğŸ”—yale universityä¸­ Can my body survive f my deaths of spirit é‚£ä¹ˆè¿™æ ·çš„ä¸–ç•Œçš„â€˜çœŸrealâ€™åœ¨å“ªé‡Œå‘¢ï¼Ÿ æ‰€ä»¥know yourself","categories":[],"tags":[]},{"title":"chenxia,hello world","slug":"chenxia-hello-world","date":"2021-08-07T13:28:33.000Z","updated":"2022-10-17T08:18:08.947Z","comments":true,"path":"posts/3f0d2081.html","link":"","permalink":"https://blog.tjdata.site/posts/3f0d2081.html","excerpt":"Welcome to chenxiaâ€˜s site ! This is my very first post.","text":"Welcome to chenxiaâ€˜s site ! This is my very first post. ç»ˆäºæå¥½äº†åšå®¢ GitHubä¸­ä»¥.github.ioå»ºç«‹è‡ªå·±çš„ä»“åº“æ¥å½“ä½œç½‘ç«™çš„ä»“åº“ ä¹‹ååˆ©ç”¨hexoæ¥æ­å»ºè‡ªå·±æœ¬åœ°çš„ç½‘ç«™ åˆ©ç”¨sshå’Œgitæ¥å°†æœ¬åœ°çš„ç½‘ç«™å’ŒGitHubçš„ä»“åº“è¿æ¥ ä¸»é¢˜å¤ªéš¾é€‰äº†ï¼ï¼ ç›¸å…³åŸºæœ¬çš„æ“ä½œ 12345hexo generatehexo newhexo deployhexo severhexo publish","categories":[],"tags":[{"name":"lives","slug":"lives","permalink":"https://blog.tjdata.site/tags/lives/"}]}],"categories":[{"name":"Memo","slug":"Memo","permalink":"https://blog.tjdata.site/categories/Memo/"},{"name":"Baseline","slug":"Baseline","permalink":"https://blog.tjdata.site/categories/Baseline/"},{"name":"CS","slug":"CS","permalink":"https://blog.tjdata.site/categories/CS/"},{"name":"ML&DL","slug":"ML-DL","permalink":"https://blog.tjdata.site/categories/ML-DL/"},{"name":"RL","slug":"RL","permalink":"https://blog.tjdata.site/categories/RL/"},{"name":"homework","slug":"homework","permalink":"https://blog.tjdata.site/categories/homework/"},{"name":"Trans","slug":"Trans","permalink":"https://blog.tjdata.site/categories/Trans/"}],"tags":[{"name":"çŸ¥è¯†ç®¡ç†","slug":"çŸ¥è¯†ç®¡ç†","permalink":"https://blog.tjdata.site/tags/%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/"},{"name":"chart","slug":"chart","permalink":"https://blog.tjdata.site/tags/chart/"},{"name":"git","slug":"git","permalink":"https://blog.tjdata.site/tags/git/"},{"name":"pandas","slug":"pandas","permalink":"https://blog.tjdata.site/tags/pandas/"},{"name":"ä½¿ç”¨æŠ€å·§","slug":"ä½¿ç”¨æŠ€å·§","permalink":"https://blog.tjdata.site/tags/%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"name":"CS229","slug":"CS229","permalink":"https://blog.tjdata.site/tags/CS229/"},{"name":"paper","slug":"paper","permalink":"https://blog.tjdata.site/tags/paper/"},{"name":"CS285","slug":"CS285","permalink":"https://blog.tjdata.site/tags/CS285/"},{"name":"D2L","slug":"D2L","permalink":"https://blog.tjdata.site/tags/D2L/"},{"name":"è˜‘è‡ä¹¦","slug":"è˜‘è‡ä¹¦","permalink":"https://blog.tjdata.site/tags/%E8%98%91%E8%8F%87%E4%B9%A6/"},{"name":"Review","slug":"Review","permalink":"https://blog.tjdata.site/tags/Review/"},{"name":"paper_reading","slug":"paper-reading","permalink":"https://blog.tjdata.site/tags/paper-reading/"},{"name":"nothing","slug":"nothing","permalink":"https://blog.tjdata.site/tags/nothing/"},{"name":"Translation","slug":"Translation","permalink":"https://blog.tjdata.site/tags/Translation/"},{"name":"Leetcode","slug":"Leetcode","permalink":"https://blog.tjdata.site/tags/Leetcode/"},{"name":"network","slug":"network","permalink":"https://blog.tjdata.site/tags/network/"},{"name":"PersonPost","slug":"PersonPost","permalink":"https://blog.tjdata.site/tags/PersonPost/"},{"name":"netowrk","slug":"netowrk","permalink":"https://blog.tjdata.site/tags/netowrk/"},{"name":"Single","slug":"Single","permalink":"https://blog.tjdata.site/tags/Single/"},{"name":"LeetCode","slug":"LeetCode","permalink":"https://blog.tjdata.site/tags/LeetCode/"},{"name":"TsinghuaBook","slug":"TsinghuaBook","permalink":"https://blog.tjdata.site/tags/TsinghuaBook/"},{"name":"Pyomo","slug":"Pyomo","permalink":"https://blog.tjdata.site/tags/Pyomo/"},{"name":"Django","slug":"Django","permalink":"https://blog.tjdata.site/tags/Django/"},{"name":"Experiment","slug":"Experiment","permalink":"https://blog.tjdata.site/tags/Experiment/"},{"name":"AndrewWu","slug":"AndrewWu","permalink":"https://blog.tjdata.site/tags/AndrewWu/"},{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://blog.tjdata.site/tags/%E6%9D%82%E8%B0%88/"},{"name":"study","slug":"study","permalink":"https://blog.tjdata.site/tags/study/"},{"name":"lives","slug":"lives","permalink":"https://blog.tjdata.site/tags/lives/"}]}